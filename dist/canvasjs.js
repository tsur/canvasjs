(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.CanvasJS = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

/**
 * Module dependencies.
 */

var now = require('date-now');

/**
 * Returns a function, that, as long as it continues to be invoked, will not
 * be triggered. The function will be called after it stops being called for
 * N milliseconds. If `immediate` is passed, trigger the function on the
 * leading edge, instead of the trailing.
 *
 * @source underscore.js
 * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/
 * @param {Function} function to wrap
 * @param {Number} timeout in ms (`100`)
 * @param {Boolean} whether to execute at the beginning (`false`)
 * @api public
 */

module.exports = function debounce(func, wait, immediate){
  var timeout, args, context, timestamp, result;
  if (null == wait) wait = 100;

  function later() {
    var last = now() - timestamp;

    if (last < wait && last > 0) {
      timeout = setTimeout(later, wait - last);
    } else {
      timeout = null;
      if (!immediate) {
        result = func.apply(context, args);
        if (!timeout) context = args = null;
      }
    }
  };

  return function debounced() {
    context = this;
    args = arguments;
    timestamp = now();
    var callNow = immediate && !timeout;
    if (!timeout) timeout = setTimeout(later, wait);
    if (callNow) {
      result = func.apply(context, args);
      context = args = null;
    }

    return result;
  };
};

},{"date-now":2}],2:[function(require,module,exports){
module.exports = Date.now || now

function now() {
    return new Date().getTime()
}

},{}],3:[function(require,module,exports){
//  Ramda v0.18.0
//  https://github.com/ramda/ramda
//  (c) 2013-2015 Scott Sauyet, Michael Hurley, and David Chambers
//  Ramda may be freely distributed under the MIT license.

;(function() {

  'use strict';

  /**
     * A special placeholder value used to specify "gaps" within curried functions,
     * allowing partial application of any combination of arguments,
     * regardless of their positions.
     *
     * If `g` is a curried ternary function and `_` is `R.__`, the following are equivalent:
     *
     *   - `g(1, 2, 3)`
     *   - `g(_, 2, 3)(1)`
     *   - `g(_, _, 3)(1)(2)`
     *   - `g(_, _, 3)(1, 2)`
     *   - `g(_, 2, _)(1, 3)`
     *   - `g(_, 2)(1)(3)`
     *   - `g(_, 2)(1, 3)`
     *   - `g(_, 2)(_, 3)(1)`
     *
     * @constant
     * @memberOf R
     * @since v0.6.0
     * @category Function
     * @example
     *
     *      var greet = R.replace('{name}', R.__, 'Hello, {name}!');
     *      greet('Alice'); //=> 'Hello, Alice!'
     */
    var __ = { '@@functional/placeholder': true };

    // jshint unused:vars
    var _arity = function _arity(n, fn) {
        // jshint unused:vars
        switch (n) {
        case 0:
            return function () {
                return fn.apply(this, arguments);
            };
        case 1:
            return function (a0) {
                return fn.apply(this, arguments);
            };
        case 2:
            return function (a0, a1) {
                return fn.apply(this, arguments);
            };
        case 3:
            return function (a0, a1, a2) {
                return fn.apply(this, arguments);
            };
        case 4:
            return function (a0, a1, a2, a3) {
                return fn.apply(this, arguments);
            };
        case 5:
            return function (a0, a1, a2, a3, a4) {
                return fn.apply(this, arguments);
            };
        case 6:
            return function (a0, a1, a2, a3, a4, a5) {
                return fn.apply(this, arguments);
            };
        case 7:
            return function (a0, a1, a2, a3, a4, a5, a6) {
                return fn.apply(this, arguments);
            };
        case 8:
            return function (a0, a1, a2, a3, a4, a5, a6, a7) {
                return fn.apply(this, arguments);
            };
        case 9:
            return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {
                return fn.apply(this, arguments);
            };
        case 10:
            return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {
                return fn.apply(this, arguments);
            };
        default:
            throw new Error('First argument to _arity must be a non-negative integer no greater than ten');
        }
    };

    var _arrayFromIterator = function _arrayFromIterator(iter) {
        var list = [];
        var next;
        while (!(next = iter.next()).done) {
            list.push(next.value);
        }
        return list;
    };

    var _cloneRegExp = function _cloneRegExp(pattern) {
        return new RegExp(pattern.source, (pattern.global ? 'g' : '') + (pattern.ignoreCase ? 'i' : '') + (pattern.multiline ? 'm' : '') + (pattern.sticky ? 'y' : '') + (pattern.unicode ? 'u' : ''));
    };

    var _complement = function _complement(f) {
        return function () {
            return !f.apply(this, arguments);
        };
    };

    /**
     * Private `concat` function to merge two array-like objects.
     *
     * @private
     * @param {Array|Arguments} [set1=[]] An array-like object.
     * @param {Array|Arguments} [set2=[]] An array-like object.
     * @return {Array} A new, merged array.
     * @example
     *
     *      _concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]
     */
    var _concat = function _concat(set1, set2) {
        set1 = set1 || [];
        set2 = set2 || [];
        var idx;
        var len1 = set1.length;
        var len2 = set2.length;
        var result = [];
        idx = 0;
        while (idx < len1) {
            result[result.length] = set1[idx];
            idx += 1;
        }
        idx = 0;
        while (idx < len2) {
            result[result.length] = set2[idx];
            idx += 1;
        }
        return result;
    };

    var _containsWith = function _containsWith(pred, x, list) {
        var idx = 0, len = list.length;
        while (idx < len) {
            if (pred(x, list[idx])) {
                return true;
            }
            idx += 1;
        }
        return false;
    };

    /**
     * Optimized internal one-arity curry function.
     *
     * @private
     * @category Function
     * @param {Function} fn The function to curry.
     * @return {Function} The curried function.
     */
    var _curry1 = function _curry1(fn) {
        return function f1(a) {
            if (arguments.length === 0) {
                return f1;
            } else if (a != null && a['@@functional/placeholder'] === true) {
                return f1;
            } else {
                return fn.apply(this, arguments);
            }
        };
    };

    /**
     * Optimized internal two-arity curry function.
     *
     * @private
     * @category Function
     * @param {Function} fn The function to curry.
     * @return {Function} The curried function.
     */
    var _curry2 = function _curry2(fn) {
        return function f2(a, b) {
            var n = arguments.length;
            if (n === 0) {
                return f2;
            } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {
                return f2;
            } else if (n === 1) {
                return _curry1(function (b) {
                    return fn(a, b);
                });
            } else if (n === 2 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true) {
                return f2;
            } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {
                return _curry1(function (a) {
                    return fn(a, b);
                });
            } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {
                return _curry1(function (b) {
                    return fn(a, b);
                });
            } else {
                return fn(a, b);
            }
        };
    };

    /**
     * Optimized internal three-arity curry function.
     *
     * @private
     * @category Function
     * @param {Function} fn The function to curry.
     * @return {Function} The curried function.
     */
    var _curry3 = function _curry3(fn) {
        return function f3(a, b, c) {
            var n = arguments.length;
            if (n === 0) {
                return f3;
            } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {
                return f3;
            } else if (n === 1) {
                return _curry2(function (b, c) {
                    return fn(a, b, c);
                });
            } else if (n === 2 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true) {
                return f3;
            } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {
                return _curry2(function (a, c) {
                    return fn(a, b, c);
                });
            } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {
                return _curry2(function (b, c) {
                    return fn(a, b, c);
                });
            } else if (n === 2) {
                return _curry1(function (c) {
                    return fn(a, b, c);
                });
            } else if (n === 3 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true && c != null && c['@@functional/placeholder'] === true) {
                return f3;
            } else if (n === 3 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true) {
                return _curry2(function (a, b) {
                    return fn(a, b, c);
                });
            } else if (n === 3 && a != null && a['@@functional/placeholder'] === true && c != null && c['@@functional/placeholder'] === true) {
                return _curry2(function (a, c) {
                    return fn(a, b, c);
                });
            } else if (n === 3 && b != null && b['@@functional/placeholder'] === true && c != null && c['@@functional/placeholder'] === true) {
                return _curry2(function (b, c) {
                    return fn(a, b, c);
                });
            } else if (n === 3 && a != null && a['@@functional/placeholder'] === true) {
                return _curry1(function (a) {
                    return fn(a, b, c);
                });
            } else if (n === 3 && b != null && b['@@functional/placeholder'] === true) {
                return _curry1(function (b) {
                    return fn(a, b, c);
                });
            } else if (n === 3 && c != null && c['@@functional/placeholder'] === true) {
                return _curry1(function (c) {
                    return fn(a, b, c);
                });
            } else {
                return fn(a, b, c);
            }
        };
    };

    /**
     * Internal curryN function.
     *
     * @private
     * @category Function
     * @param {Number} length The arity of the curried function.
     * @return {array} An array of arguments received thus far.
     * @param {Function} fn The function to curry.
     */
    var _curryN = function _curryN(length, received, fn) {
        return function () {
            var combined = [];
            var argsIdx = 0;
            var left = length;
            var combinedIdx = 0;
            while (combinedIdx < received.length || argsIdx < arguments.length) {
                var result;
                if (combinedIdx < received.length && (received[combinedIdx] == null || received[combinedIdx]['@@functional/placeholder'] !== true || argsIdx >= arguments.length)) {
                    result = received[combinedIdx];
                } else {
                    result = arguments[argsIdx];
                    argsIdx += 1;
                }
                combined[combinedIdx] = result;
                if (result == null || result['@@functional/placeholder'] !== true) {
                    left -= 1;
                }
                combinedIdx += 1;
            }
            return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));
        };
    };

    var _filter = function _filter(fn, list) {
        var idx = 0, len = list.length, result = [];
        while (idx < len) {
            if (fn(list[idx])) {
                result[result.length] = list[idx];
            }
            idx += 1;
        }
        return result;
    };

    var _forceReduced = function _forceReduced(x) {
        return {
            '@@transducer/value': x,
            '@@transducer/reduced': true
        };
    };

    /**
     * @private
     * @param {Function} fn The strategy for extracting function names from an object
     * @return {Function} A function that takes an object and returns an array of function names.
     */
    var _functionsWith = function _functionsWith(fn) {
        return function (obj) {
            return _filter(function (key) {
                return typeof obj[key] === 'function';
            }, fn(obj));
        };
    };

    var _has = function _has(prop, obj) {
        return Object.prototype.hasOwnProperty.call(obj, prop);
    };

    var _identity = function _identity(x) {
        return x;
    };

    var _isArguments = function () {
        var toString = Object.prototype.toString;
        return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {
            return toString.call(x) === '[object Arguments]';
        } : function _isArguments(x) {
            return _has('callee', x);
        };
    }();

    /**
     * Tests whether or not an object is an array.
     *
     * @private
     * @param {*} val The object to test.
     * @return {Boolean} `true` if `val` is an array, `false` otherwise.
     * @example
     *
     *      _isArray([]); //=> true
     *      _isArray(null); //=> false
     *      _isArray({}); //=> false
     */
    var _isArray = Array.isArray || function _isArray(val) {
        return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';
    };

    /**
     * Determine if the passed argument is an integer.
     *
     * @private
     * @param {*} n
     * @category Type
     * @return {Boolean}
     */
    var _isInteger = Number.isInteger || function _isInteger(n) {
        return n << 0 === n;
    };

    var _isNumber = function _isNumber(x) {
        return Object.prototype.toString.call(x) === '[object Number]';
    };

    var _isObject = function _isObject(x) {
        return Object.prototype.toString.call(x) === '[object Object]';
    };

    var _isRegExp = function _isRegExp(x) {
        return Object.prototype.toString.call(x) === '[object RegExp]';
    };

    var _isString = function _isString(x) {
        return Object.prototype.toString.call(x) === '[object String]';
    };

    var _isTransformer = function _isTransformer(obj) {
        return typeof obj['@@transducer/step'] === 'function';
    };

    var _map = function _map(fn, functor) {
        var idx = 0;
        var len = functor.length;
        var result = Array(len);
        while (idx < len) {
            result[idx] = fn(functor[idx]);
            idx += 1;
        }
        return result;
    };

    var _of = function _of(x) {
        return [x];
    };

    var _pipe = function _pipe(f, g) {
        return function () {
            return g.call(this, f.apply(this, arguments));
        };
    };

    var _pipeP = function _pipeP(f, g) {
        return function () {
            var ctx = this;
            return f.apply(ctx, arguments).then(function (x) {
                return g.call(ctx, x);
            });
        };
    };

    // \b matches word boundary; [\b] matches backspace
    var _quote = function _quote(s) {
        var escaped = s.replace(/\\/g, '\\\\').replace(/[\b]/g, '\\b')    // \b matches word boundary; [\b] matches backspace
    .replace(/\f/g, '\\f').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/\t/g, '\\t').replace(/\v/g, '\\v').replace(/\0/g, '\\0');
        return '"' + escaped.replace(/"/g, '\\"') + '"';
    };

    var _reduced = function _reduced(x) {
        return x && x['@@transducer/reduced'] ? x : {
            '@@transducer/value': x,
            '@@transducer/reduced': true
        };
    };

    /**
     * An optimized, private array `slice` implementation.
     *
     * @private
     * @param {Arguments|Array} args The array or arguments object to consider.
     * @param {Number} [from=0] The array index to slice from, inclusive.
     * @param {Number} [to=args.length] The array index to slice to, exclusive.
     * @return {Array} A new, sliced array.
     * @example
     *
     *      _slice([1, 2, 3, 4, 5], 1, 3); //=> [2, 3]
     *
     *      var firstThreeArgs = function(a, b, c, d) {
     *        return _slice(arguments, 0, 3);
     *      };
     *      firstThreeArgs(1, 2, 3, 4); //=> [1, 2, 3]
     */
    var _slice = function _slice(args, from, to) {
        switch (arguments.length) {
        case 1:
            return _slice(args, 0, args.length);
        case 2:
            return _slice(args, from, args.length);
        default:
            var list = [];
            var idx = 0;
            var len = Math.max(0, Math.min(args.length, to) - from);
            while (idx < len) {
                list[idx] = args[from + idx];
                idx += 1;
            }
            return list;
        }
    };

    /**
     * Polyfill from <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString>.
     */
    var _toISOString = function () {
        var pad = function pad(n) {
            return (n < 10 ? '0' : '') + n;
        };
        return typeof Date.prototype.toISOString === 'function' ? function _toISOString(d) {
            return d.toISOString();
        } : function _toISOString(d) {
            return d.getUTCFullYear() + '-' + pad(d.getUTCMonth() + 1) + '-' + pad(d.getUTCDate()) + 'T' + pad(d.getUTCHours()) + ':' + pad(d.getUTCMinutes()) + ':' + pad(d.getUTCSeconds()) + '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) + 'Z';
        };
    }();

    var _xdropRepeatsWith = function () {
        function XDropRepeatsWith(pred, xf) {
            this.xf = xf;
            this.pred = pred;
            this.lastValue = undefined;
            this.seenFirstValue = false;
        }
        XDropRepeatsWith.prototype['@@transducer/init'] = function () {
            return this.xf['@@transducer/init']();
        };
        XDropRepeatsWith.prototype['@@transducer/result'] = function (result) {
            return this.xf['@@transducer/result'](result);
        };
        XDropRepeatsWith.prototype['@@transducer/step'] = function (result, input) {
            var sameAsLast = false;
            if (!this.seenFirstValue) {
                this.seenFirstValue = true;
            } else if (this.pred(this.lastValue, input)) {
                sameAsLast = true;
            }
            this.lastValue = input;
            return sameAsLast ? result : this.xf['@@transducer/step'](result, input);
        };
        return _curry2(function _xdropRepeatsWith(pred, xf) {
            return new XDropRepeatsWith(pred, xf);
        });
    }();

    var _xfBase = {
        init: function () {
            return this.xf['@@transducer/init']();
        },
        result: function (result) {
            return this.xf['@@transducer/result'](result);
        }
    };

    var _xfilter = function () {
        function XFilter(f, xf) {
            this.xf = xf;
            this.f = f;
        }
        XFilter.prototype['@@transducer/init'] = _xfBase.init;
        XFilter.prototype['@@transducer/result'] = _xfBase.result;
        XFilter.prototype['@@transducer/step'] = function (result, input) {
            return this.f(input) ? this.xf['@@transducer/step'](result, input) : result;
        };
        return _curry2(function _xfilter(f, xf) {
            return new XFilter(f, xf);
        });
    }();

    var _xfind = function () {
        function XFind(f, xf) {
            this.xf = xf;
            this.f = f;
            this.found = false;
        }
        XFind.prototype['@@transducer/init'] = _xfBase.init;
        XFind.prototype['@@transducer/result'] = function (result) {
            if (!this.found) {
                result = this.xf['@@transducer/step'](result, void 0);
            }
            return this.xf['@@transducer/result'](result);
        };
        XFind.prototype['@@transducer/step'] = function (result, input) {
            if (this.f(input)) {
                this.found = true;
                result = _reduced(this.xf['@@transducer/step'](result, input));
            }
            return result;
        };
        return _curry2(function _xfind(f, xf) {
            return new XFind(f, xf);
        });
    }();

    var _xfindIndex = function () {
        function XFindIndex(f, xf) {
            this.xf = xf;
            this.f = f;
            this.idx = -1;
            this.found = false;
        }
        XFindIndex.prototype['@@transducer/init'] = _xfBase.init;
        XFindIndex.prototype['@@transducer/result'] = function (result) {
            if (!this.found) {
                result = this.xf['@@transducer/step'](result, -1);
            }
            return this.xf['@@transducer/result'](result);
        };
        XFindIndex.prototype['@@transducer/step'] = function (result, input) {
            this.idx += 1;
            if (this.f(input)) {
                this.found = true;
                result = _reduced(this.xf['@@transducer/step'](result, this.idx));
            }
            return result;
        };
        return _curry2(function _xfindIndex(f, xf) {
            return new XFindIndex(f, xf);
        });
    }();

    var _xfindLast = function () {
        function XFindLast(f, xf) {
            this.xf = xf;
            this.f = f;
        }
        XFindLast.prototype['@@transducer/init'] = _xfBase.init;
        XFindLast.prototype['@@transducer/result'] = function (result) {
            return this.xf['@@transducer/result'](this.xf['@@transducer/step'](result, this.last));
        };
        XFindLast.prototype['@@transducer/step'] = function (result, input) {
            if (this.f(input)) {
                this.last = input;
            }
            return result;
        };
        return _curry2(function _xfindLast(f, xf) {
            return new XFindLast(f, xf);
        });
    }();

    var _xfindLastIndex = function () {
        function XFindLastIndex(f, xf) {
            this.xf = xf;
            this.f = f;
            this.idx = -1;
            this.lastIdx = -1;
        }
        XFindLastIndex.prototype['@@transducer/init'] = _xfBase.init;
        XFindLastIndex.prototype['@@transducer/result'] = function (result) {
            return this.xf['@@transducer/result'](this.xf['@@transducer/step'](result, this.lastIdx));
        };
        XFindLastIndex.prototype['@@transducer/step'] = function (result, input) {
            this.idx += 1;
            if (this.f(input)) {
                this.lastIdx = this.idx;
            }
            return result;
        };
        return _curry2(function _xfindLastIndex(f, xf) {
            return new XFindLastIndex(f, xf);
        });
    }();

    var _xmap = function () {
        function XMap(f, xf) {
            this.xf = xf;
            this.f = f;
        }
        XMap.prototype['@@transducer/init'] = _xfBase.init;
        XMap.prototype['@@transducer/result'] = _xfBase.result;
        XMap.prototype['@@transducer/step'] = function (result, input) {
            return this.xf['@@transducer/step'](result, this.f(input));
        };
        return _curry2(function _xmap(f, xf) {
            return new XMap(f, xf);
        });
    }();

    var _xtake = function () {
        function XTake(n, xf) {
            this.xf = xf;
            this.n = n;
        }
        XTake.prototype['@@transducer/init'] = _xfBase.init;
        XTake.prototype['@@transducer/result'] = _xfBase.result;
        XTake.prototype['@@transducer/step'] = function (result, input) {
            if (this.n === 0) {
                return _reduced(result);
            } else {
                this.n -= 1;
                return this.xf['@@transducer/step'](result, input);
            }
        };
        return _curry2(function _xtake(n, xf) {
            return new XTake(n, xf);
        });
    }();

    var _xtakeWhile = function () {
        function XTakeWhile(f, xf) {
            this.xf = xf;
            this.f = f;
        }
        XTakeWhile.prototype['@@transducer/init'] = _xfBase.init;
        XTakeWhile.prototype['@@transducer/result'] = _xfBase.result;
        XTakeWhile.prototype['@@transducer/step'] = function (result, input) {
            return this.f(input) ? this.xf['@@transducer/step'](result, input) : _reduced(result);
        };
        return _curry2(function _xtakeWhile(f, xf) {
            return new XTakeWhile(f, xf);
        });
    }();

    var _xwrap = function () {
        function XWrap(fn) {
            this.f = fn;
        }
        XWrap.prototype['@@transducer/init'] = function () {
            throw new Error('init not implemented on XWrap');
        };
        XWrap.prototype['@@transducer/result'] = function (acc) {
            return acc;
        };
        XWrap.prototype['@@transducer/step'] = function (acc, x) {
            return this.f(acc, x);
        };
        return function _xwrap(fn) {
            return new XWrap(fn);
        };
    }();

    /**
     * Adds two numbers. Equivalent to `a + b` but curried.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Math
     * @sig Number -> Number -> Number
     * @param {Number} a
     * @param {Number} b
     * @return {Number}
     * @see R.subtract
     * @example
     *
     *      R.add(2, 3);       //=>  5
     *      R.add(7)(10);      //=> 17
     */
    var add = _curry2(function add(a, b) {
        return a + b;
    });

    /**
     * Applies a function to the value at the given index of an array,
     * returning a new copy of the array with the element at the given
     * index replaced with the result of the function application.
     * @see R.update
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category List
     * @sig (a -> a) -> Number -> [a] -> [a]
     * @param {Function} fn The function to apply.
     * @param {Number} idx The index.
     * @param {Array|Arguments} list An array-like object whose value
     *        at the supplied index will be replaced.
     * @return {Array} A copy of the supplied array-like object with
     *         the element at index `idx` replaced with the value
     *         returned by applying `fn` to the existing element.
     * @example
     *
     *      R.adjust(R.add(10), 1, [0, 1, 2]);     //=> [0, 11, 2]
     *      R.adjust(R.add(10))(1)([0, 1, 2]);     //=> [0, 11, 2]
     */
    var adjust = _curry3(function adjust(fn, idx, list) {
        if (idx >= list.length || idx < -list.length) {
            return list;
        }
        var start = idx < 0 ? list.length : 0;
        var _idx = start + idx;
        var _list = _concat(list);
        _list[_idx] = fn(list[_idx]);
        return _list;
    });

    /**
     * Returns a function that always returns the given value. Note that for
     * non-primitives the value returned is a reference to the original value.
     *
     * This function is known as `const`, `constant`, or `K` (for K combinator)
     * in other languages and libraries.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig a -> (* -> a)
     * @param {*} val The value to wrap in a function
     * @return {Function} A Function :: * -> val.
     * @example
     *
     *      var t = R.always('Tee');
     *      t(); //=> 'Tee'
     */
    var always = _curry1(function always(val) {
        return function () {
            return val;
        };
    });

    /**
     * Returns `true` if both arguments are `true`; `false` otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Logic
     * @sig * -> * -> *
     * @param {Boolean} a A boolean value
     * @param {Boolean} b A boolean value
     * @return {Boolean} `true` if both arguments are `true`, `false` otherwise
     * @see R.both
     * @example
     *
     *      R.and(true, true); //=> true
     *      R.and(true, false); //=> false
     *      R.and(false, true); //=> false
     *      R.and(false, false); //=> false
     */
    var and = _curry2(function and(a, b) {
        return a && b;
    });

    /**
     * Returns a new list containing the contents of the given list, followed by the given
     * element.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig a -> [a] -> [a]
     * @param {*} el The element to add to the end of the new list.
     * @param {Array} list The list whose contents will be added to the beginning of the output
     *        list.
     * @return {Array} A new list containing the contents of the old list followed by `el`.
     * @see R.prepend
     * @example
     *
     *      R.append('tests', ['write', 'more']); //=> ['write', 'more', 'tests']
     *      R.append('tests', []); //=> ['tests']
     *      R.append(['tests'], ['write', 'more']); //=> ['write', 'more', ['tests']]
     */
    var append = _curry2(function append(el, list) {
        return _concat(list, [el]);
    });

    /**
     * Applies function `fn` to the argument list `args`. This is useful for
     * creating a fixed-arity function from a variadic function. `fn` should
     * be a bound function if context is significant.
     *
     * @func
     * @memberOf R
     * @since v0.7.0
     * @category Function
     * @sig (*... -> a) -> [*] -> a
     * @param {Function} fn
     * @param {Array} args
     * @return {*}
     * @see R.call, R.unapply
     * @example
     *
     *      var nums = [1, 2, 3, -99, 42, 6, 7];
     *      R.apply(Math.max, nums); //=> 42
     */
    var apply = _curry2(function apply(fn, args) {
        return fn.apply(this, args);
    });

    /**
     * Makes a shallow clone of an object, setting or overriding the specified
     * property with the given value.  Note that this copies and flattens
     * prototype properties onto the new object as well.  All non-primitive
     * properties are copied by reference.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category Object
     * @sig String -> a -> {k: v} -> {k: v}
     * @param {String} prop the property name to set
     * @param {*} val the new value
     * @param {Object} obj the object to clone
     * @return {Object} a new object similar to the original except for the specified property.
     * @see R.dissoc
     * @example
     *
     *      R.assoc('c', 3, {a: 1, b: 2}); //=> {a: 1, b: 2, c: 3}
     */
    var assoc = _curry3(function assoc(prop, val, obj) {
        var result = {};
        for (var p in obj) {
            result[p] = obj[p];
        }
        result[prop] = val;
        return result;
    });

    /**
     * Makes a shallow clone of an object, setting or overriding the nodes
     * required to create the given path, and placing the specific value at the
     * tail end of that path.  Note that this copies and flattens prototype
     * properties onto the new object as well.  All non-primitive properties
     * are copied by reference.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category Object
     * @sig [String] -> a -> {k: v} -> {k: v}
     * @param {Array} path the path to set
     * @param {*} val the new value
     * @param {Object} obj the object to clone
     * @return {Object} a new object similar to the original except along the specified path.
     * @see R.dissocPath
     * @example
     *
     *      R.assocPath(['a', 'b', 'c'], 42, {a: {b: {c: 0}}}); //=> {a: {b: {c: 42}}}
     */
    var assocPath = _curry3(function assocPath(path, val, obj) {
        switch (path.length) {
        case 0:
            return obj;
        case 1:
            return assoc(path[0], val, obj);
        default:
            return assoc(path[0], assocPath(_slice(path, 1), val, Object(obj[path[0]])), obj);
        }
    });

    /**
     * Creates a function that is bound to a context.
     * Note: `R.bind` does not provide the additional argument-binding capabilities of
     * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).
     *
     * @func
     * @memberOf R
     * @since v0.6.0
     * @category Function
     * @category Object
     * @see R.partial
     * @sig (* -> *) -> {*} -> (* -> *)
     * @param {Function} fn The function to bind to context
     * @param {Object} thisObj The context to bind `fn` to
     * @return {Function} A function that will execute in the context of `thisObj`.
     */
    var bind = _curry2(function bind(fn, thisObj) {
        return _arity(fn.length, function () {
            return fn.apply(thisObj, arguments);
        });
    });

    /**
     * Makes a comparator function out of a function that reports whether the first element is less than the second.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig (a, b -> Boolean) -> (a, b -> Number)
     * @param {Function} pred A predicate function of arity two.
     * @return {Function} A Function :: a -> b -> Int that returns `-1` if a < b, `1` if b < a, otherwise `0`.
     * @example
     *
     *      var cmp = R.comparator((a, b) => a.age < b.age);
     *      var people = [
     *        // ...
     *      ];
     *      R.sort(cmp, people);
     */
    var comparator = _curry1(function comparator(pred) {
        return function (a, b) {
            return pred(a, b) ? -1 : pred(b, a) ? 1 : 0;
        };
    });

    /**
     * Returns a function, `fn`, which encapsulates if/else-if/else logic.
     * `R.cond` takes a list of [predicate, transform] pairs. All of the
     * arguments to `fn` are applied to each of the predicates in turn
     * until one returns a "truthy" value, at which point `fn` returns the
     * result of applying its arguments to the corresponding transformer.
     * If none of the predicates matches, `fn` returns undefined.
     *
     * @func
     * @memberOf R
     * @since v0.6.0
     * @category Logic
     * @sig [[(*... -> Boolean),(*... -> *)]] -> (*... -> *)
     * @param {Array} pairs
     * @return {Function}
     * @example
     *
     *      var fn = R.cond([
     *        [R.equals(0),   R.always('water freezes at 0°C')],
     *        [R.equals(100), R.always('water boils at 100°C')],
     *        [R.T,           temp => 'nothing special happens at ' + temp + '°C']
     *      ]);
     *      fn(0); //=> 'water freezes at 0°C'
     *      fn(50); //=> 'nothing special happens at 50°C'
     *      fn(100); //=> 'water boils at 100°C'
     */
    var cond = _curry1(function cond(pairs) {
        return function () {
            var idx = 0;
            while (idx < pairs.length) {
                if (pairs[idx][0].apply(this, arguments)) {
                    return pairs[idx][1].apply(this, arguments);
                }
                idx += 1;
            }
        };
    });

    /**
     * Returns `true` if the `x` is found in the `list`, using `pred` as an
     * equality predicate for `x`.
     *
     * @func
     * @memberOf R
     * @since v0.1.5
     * @category List
     * @sig (a, a -> Boolean) -> a -> [a] -> Boolean
     * @param {Function} pred A predicate used to test whether two items are equal.
     * @param {*} x The item to find
     * @param {Array} list The list to iterate over
     * @return {Boolean} `true` if `x` is in `list`, else `false`.
     * @deprecated since v0.18.0
     * @example
     *
     *      var absEq = (a, b) => Math.abs(a) === Math.abs(b);
     *      R.containsWith(absEq, 5, [1, 2, 3]); //=> false
     *      R.containsWith(absEq, 5, [4, 5, 6]); //=> true
     *      R.containsWith(absEq, 5, [-1, -2, -3]); //=> false
     *      R.containsWith(absEq, 5, [-4, -5, -6]); //=> true
     */
    var containsWith = _curry3(_containsWith);

    /**
     * Counts the elements of a list according to how many match each value
     * of a key generated by the supplied function. Returns an object
     * mapping the keys produced by `fn` to the number of occurrences in
     * the list. Note that all keys are coerced to strings because of how
     * JavaScript objects work.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig (a -> String) -> [a] -> {*}
     * @param {Function} fn The function used to map values to keys.
     * @param {Array} list The list to count elements from.
     * @return {Object} An object mapping keys to number of occurrences in the list.
     * @example
     *
     *      var numbers = [1.0, 1.1, 1.2, 2.0, 3.0, 2.2];
     *      var letters = R.split('', 'abcABCaaaBBc');
     *      R.countBy(Math.floor)(numbers);    //=> {'1': 3, '2': 2, '3': 1}
     *      R.countBy(R.toLower)(letters);   //=> {'a': 5, 'b': 4, 'c': 3}
     */
    var countBy = _curry2(function countBy(fn, list) {
        var counts = {};
        var len = list.length;
        var idx = 0;
        while (idx < len) {
            var key = fn(list[idx]);
            counts[key] = (_has(key, counts) ? counts[key] : 0) + 1;
            idx += 1;
        }
        return counts;
    });

    /**
     * Returns a curried equivalent of the provided function, with the
     * specified arity. The curried function has two unusual capabilities.
     * First, its arguments needn't be provided one at a time. If `g` is
     * `R.curryN(3, f)`, the following are equivalent:
     *
     *   - `g(1)(2)(3)`
     *   - `g(1)(2, 3)`
     *   - `g(1, 2)(3)`
     *   - `g(1, 2, 3)`
     *
     * Secondly, the special placeholder value `R.__` may be used to specify
     * "gaps", allowing partial application of any combination of arguments,
     * regardless of their positions. If `g` is as above and `_` is `R.__`,
     * the following are equivalent:
     *
     *   - `g(1, 2, 3)`
     *   - `g(_, 2, 3)(1)`
     *   - `g(_, _, 3)(1)(2)`
     *   - `g(_, _, 3)(1, 2)`
     *   - `g(_, 2)(1)(3)`
     *   - `g(_, 2)(1, 3)`
     *   - `g(_, 2)(_, 3)(1)`
     *
     * @func
     * @memberOf R
     * @since v0.5.0
     * @category Function
     * @sig Number -> (* -> a) -> (* -> a)
     * @param {Number} length The arity for the returned function.
     * @param {Function} fn The function to curry.
     * @return {Function} A new, curried function.
     * @see R.curry
     * @example
     *
     *      var sumArgs = (...args) => R.sum(args);
     *
     *      var curriedAddFourNumbers = R.curryN(4, sumArgs);
     *      var f = curriedAddFourNumbers(1, 2);
     *      var g = f(3);
     *      g(4); //=> 10
     */
    var curryN = _curry2(function curryN(length, fn) {
        if (length === 1) {
            return _curry1(fn);
        }
        return _arity(length, _curryN(length, [], fn));
    });

    /**
     * Decrements its argument.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Math
     * @sig Number -> Number
     * @param {Number} n
     * @return {Number}
     * @see R.inc
     * @example
     *
     *      R.dec(42); //=> 41
     */
    var dec = add(-1);

    /**
     * Returns the second argument if it is not `null`, `undefined` or `NaN`
     * otherwise the first argument is returned.
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category Logic
     * @sig a -> b -> a | b
     * @param {a} val The default value.
     * @param {b} val The value to return if it is not null or undefined
     * @return {*} The the second value or the default value
     * @example
     *
     *      var defaultTo42 = R.defaultTo(42);
     *
     *      defaultTo42(null);  //=> 42
     *      defaultTo42(undefined);  //=> 42
     *      defaultTo42('Ramda');  //=> 'Ramda'
     *      defaultTo42(parseInt('string')); //=> 42
     */
    var defaultTo = _curry2(function defaultTo(d, v) {
        return v == null || v !== v ? d : v;
    });

    /**
     * Finds the set (i.e. no duplicates) of all elements in the first list not contained in the second list.
     * Duplication is determined according to the value returned by applying the supplied predicate to two list
     * elements.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig (a,a -> Boolean) -> [a] -> [a] -> [a]
     * @param {Function} pred A predicate used to test whether two items are equal.
     * @param {Array} list1 The first list.
     * @param {Array} list2 The second list.
     * @see R.difference
     * @return {Array} The elements in `list1` that are not in `list2`.
     * @example
     *
     *      function cmp(x, y) => x.a === y.a;
     *      var l1 = [{a: 1}, {a: 2}, {a: 3}];
     *      var l2 = [{a: 3}, {a: 4}];
     *      R.differenceWith(cmp, l1, l2); //=> [{a: 1}, {a: 2}]
     */
    var differenceWith = _curry3(function differenceWith(pred, first, second) {
        var out = [];
        var idx = 0;
        var firstLen = first.length;
        var containsPred = containsWith(pred);
        while (idx < firstLen) {
            if (!containsPred(first[idx], second) && !containsPred(first[idx], out)) {
                out[out.length] = first[idx];
            }
            idx += 1;
        }
        return out;
    });

    /**
     * Returns a new object that does not contain a `prop` property.
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category Object
     * @sig String -> {k: v} -> {k: v}
     * @param {String} prop the name of the property to dissociate
     * @param {Object} obj the object to clone
     * @return {Object} a new object similar to the original but without the specified property
     * @see R.assoc
     * @example
     *
     *      R.dissoc('b', {a: 1, b: 2, c: 3}); //=> {a: 1, c: 3}
     */
    var dissoc = _curry2(function dissoc(prop, obj) {
        var result = {};
        for (var p in obj) {
            if (p !== prop) {
                result[p] = obj[p];
            }
        }
        return result;
    });

    /**
     * Makes a shallow clone of an object, omitting the property at the
     * given path. Note that this copies and flattens prototype properties
     * onto the new object as well.  All non-primitive properties are copied
     * by reference.
     *
     * @func
     * @memberOf R
     * @since v0.11.0
     * @category Object
     * @sig [String] -> {k: v} -> {k: v}
     * @param {Array} path the path to set
     * @param {Object} obj the object to clone
     * @return {Object} a new object without the property at path
     * @see R.assocPath
     * @example
     *
     *      R.dissocPath(['a', 'b', 'c'], {a: {b: {c: 42}}}); //=> {a: {b: {}}}
     */
    var dissocPath = _curry2(function dissocPath(path, obj) {
        switch (path.length) {
        case 0:
            return obj;
        case 1:
            return dissoc(path[0], obj);
        default:
            var head = path[0];
            var tail = _slice(path, 1);
            return obj[head] == null ? obj : assoc(head, dissocPath(tail, obj[head]), obj);
        }
    });

    /**
     * Divides two numbers. Equivalent to `a / b`.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Math
     * @sig Number -> Number -> Number
     * @param {Number} a The first value.
     * @param {Number} b The second value.
     * @return {Number} The result of `a / b`.
     * @see R.multiply
     * @example
     *
     *      R.divide(71, 100); //=> 0.71
     *
     *      var half = R.divide(R.__, 2);
     *      half(42); //=> 21
     *
     *      var reciprocal = R.divide(1);
     *      reciprocal(4);   //=> 0.25
     */
    var divide = _curry2(function divide(a, b) {
        return a / b;
    });

    /**
     * Returns a new list containing all but last the`n` elements of a given list,
     * passing each value from the right to the supplied predicate function, skipping
     * elements while the predicate function returns `true`. The predicate function
     * is passed one argument: (value)*.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category List
     * @sig (a -> Boolean) -> [a] -> [a]
     * @param {Function} fn The function called per iteration.
     * @param {Array} list The collection to iterate over.
     * @return {Array} A new array.
     * @see R.takeLastWhile
     * @example
     *
     *      var lteThree = x => x <= 3;
     *
     *      R.dropLastWhile(lteThree, [1, 2, 3, 4, 3, 2, 1]); //=> [1, 2, 3, 4]
     */
    var dropLastWhile = _curry2(function dropLastWhile(pred, list) {
        var idx = list.length - 1;
        while (idx >= 0 && pred(list[idx])) {
            idx -= 1;
        }
        return _slice(list, 0, idx + 1);
    });

    /**
     * Returns the empty value of its argument's type. Ramda defines the empty
     * value of Array (`[]`), Object (`{}`), String (`''`), and Arguments.
     * Other types are supported if they define `<Type>.empty` and/or
     * `<Type>.prototype.empty`.
     *
     * Dispatches to the `empty` method of the first argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.3.0
     * @category Function
     * @sig a -> a
     * @param {*} x
     * @return {*}
     * @example
     *
     *      R.empty(Just(42));      //=> Nothing()
     *      R.empty([1, 2, 3]);     //=> []
     *      R.empty('unicorns');    //=> ''
     *      R.empty({x: 1, y: 2});  //=> {}
     */
    // else
    var empty = _curry1(function empty(x) {
        return x != null && typeof x.empty === 'function' ? x.empty() : x != null && x.constructor != null && typeof x.constructor.empty === 'function' ? x.constructor.empty() : _isArray(x) ? [] : _isString(x) ? '' : _isObject(x) ? {} : _isArguments(x) ? function () {
            return arguments;
        }() : // else
        void 0;
    });

    /**
     * Creates a new object by recursively evolving a shallow copy of `object`, according to the
     * `transformation` functions. All non-primitive properties are copied by reference.
     *
     * A `transformation` function will not be invoked if its corresponding key does not exist in
     * the evolved object.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Object
     * @sig {k: (v -> v)} -> {k: v} -> {k: v}
     * @param {Object} transformations The object specifying transformation functions to apply
     *        to the object.
     * @param {Object} object The object to be transformed.
     * @return {Object} The transformed object.
     * @example
     *
     *      var tomato  = {firstName: '  Tomato ', data: {elapsed: 100, remaining: 1400}, id:123};
     *      var transformations = {
     *        firstName: R.trim,
     *        lastName: R.trim, // Will not get invoked.
     *        data: {elapsed: R.add(1), remaining: R.add(-1)}
     *      };
     *      R.evolve(transformations, tomato); //=> {firstName: 'Tomato', data: {elapsed: 101, remaining: 1399}, id:123}
     */
    var evolve = _curry2(function evolve(transformations, object) {
        var transformation, key, type, result = {};
        for (key in object) {
            transformation = transformations[key];
            type = typeof transformation;
            result[key] = type === 'function' ? transformation(object[key]) : type === 'object' ? evolve(transformations[key], object[key]) : object[key];
        }
        return result;
    });

    /**
     * Creates a new object out of a list key-value pairs.
     *
     * @func
     * @memberOf R
     * @since v0.3.0
     * @category List
     * @sig [[k,v]] -> {k: v}
     * @param {Array} pairs An array of two-element arrays that will be the keys and values of the output object.
     * @return {Object} The object made by pairing up `keys` and `values`.
     * @see R.toPairs, R.pair
     * @example
     *
     *      R.fromPairs([['a', 1], ['b', 2],  ['c', 3]]); //=> {a: 1, b: 2, c: 3}
     */
    var fromPairs = _curry1(function fromPairs(pairs) {
        var idx = 0, len = pairs.length, out = {};
        while (idx < len) {
            if (_isArray(pairs[idx]) && pairs[idx].length) {
                out[pairs[idx][0]] = pairs[idx][1];
            }
            idx += 1;
        }
        return out;
    });

    /**
     * Returns `true` if the first argument is greater than the second;
     * `false` otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig Ord a => a -> a -> Boolean
     * @param {*} a
     * @param {*} b
     * @return {Boolean}
     * @see R.lt
     * @example
     *
     *      R.gt(2, 1); //=> true
     *      R.gt(2, 2); //=> false
     *      R.gt(2, 3); //=> false
     *      R.gt('a', 'z'); //=> false
     *      R.gt('z', 'a'); //=> true
     */
    var gt = _curry2(function gt(a, b) {
        return a > b;
    });

    /**
     * Returns `true` if the first argument is greater than or equal to the second;
     * `false` otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig Ord a => a -> a -> Boolean
     * @param {Number} a
     * @param {Number} b
     * @return {Boolean}
     * @see R.lte
     * @example
     *
     *      R.gte(2, 1); //=> true
     *      R.gte(2, 2); //=> true
     *      R.gte(2, 3); //=> false
     *      R.gte('a', 'z'); //=> false
     *      R.gte('z', 'a'); //=> true
     */
    var gte = _curry2(function gte(a, b) {
        return a >= b;
    });

    /**
     * Returns whether or not an object has an own property with
     * the specified name
     *
     * @func
     * @memberOf R
     * @since v0.7.0
     * @category Object
     * @sig s -> {s: x} -> Boolean
     * @param {String} prop The name of the property to check for.
     * @param {Object} obj The object to query.
     * @return {Boolean} Whether the property exists.
     * @example
     *
     *      var hasName = R.has('name');
     *      hasName({name: 'alice'});   //=> true
     *      hasName({name: 'bob'});     //=> true
     *      hasName({});                //=> false
     *
     *      var point = {x: 0, y: 0};
     *      var pointHas = R.has(R.__, point);
     *      pointHas('x');  //=> true
     *      pointHas('y');  //=> true
     *      pointHas('z');  //=> false
     */
    var has = _curry2(_has);

    /**
     * Returns whether or not an object or its prototype chain has
     * a property with the specified name
     *
     * @func
     * @memberOf R
     * @since v0.7.0
     * @category Object
     * @sig s -> {s: x} -> Boolean
     * @param {String} prop The name of the property to check for.
     * @param {Object} obj The object to query.
     * @return {Boolean} Whether the property exists.
     * @example
     *
     *      function Rectangle(width, height) {
     *        this.width = width;
     *        this.height = height;
     *      }
     *      Rectangle.prototype.area = function() {
     *        return this.width * this.height;
     *      };
     *
     *      var square = new Rectangle(2, 2);
     *      R.hasIn('width', square);  //=> true
     *      R.hasIn('area', square);  //=> true
     */
    var hasIn = _curry2(function hasIn(prop, obj) {
        return prop in obj;
    });

    /**
     * Returns true if its arguments are identical, false otherwise. Values are
     * identical if they reference the same memory. `NaN` is identical to `NaN`;
     * `0` and `-0` are not identical.
     *
     * @func
     * @memberOf R
     * @since v0.15.0
     * @category Relation
     * @sig a -> a -> Boolean
     * @param {*} a
     * @param {*} b
     * @return {Boolean}
     * @example
     *
     *      var o = {};
     *      R.identical(o, o); //=> true
     *      R.identical(1, 1); //=> true
     *      R.identical(1, '1'); //=> false
     *      R.identical([], []); //=> false
     *      R.identical(0, -0); //=> false
     *      R.identical(NaN, NaN); //=> true
     */
    // SameValue algorithm
    // Steps 1-5, 7-10
    // Steps 6.b-6.e: +0 != -0
    // Step 6.a: NaN == NaN
    var identical = _curry2(function identical(a, b) {
        // SameValue algorithm
        if (a === b) {
            // Steps 1-5, 7-10
            // Steps 6.b-6.e: +0 != -0
            return a !== 0 || 1 / a === 1 / b;
        } else {
            // Step 6.a: NaN == NaN
            return a !== a && b !== b;
        }
    });

    /**
     * A function that does nothing but return the parameter supplied to it. Good as a default
     * or placeholder function.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig a -> a
     * @param {*} x The value to return.
     * @return {*} The input value, `x`.
     * @example
     *
     *      R.identity(1); //=> 1
     *
     *      var obj = {};
     *      R.identity(obj) === obj; //=> true
     */
    var identity = _curry1(_identity);

    /**
     * Creates a function that will process either the `onTrue` or the `onFalse` function depending
     * upon the result of the `condition` predicate.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category Logic
     * @see R.unless, R.when
     * @sig (*... -> Boolean) -> (*... -> *) -> (*... -> *) -> (*... -> *)
     * @param {Function} condition A predicate function
     * @param {Function} onTrue A function to invoke when the `condition` evaluates to a truthy value.
     * @param {Function} onFalse A function to invoke when the `condition` evaluates to a falsy value.
     * @return {Function} A new unary function that will process either the `onTrue` or the `onFalse`
     *                    function depending upon the result of the `condition` predicate.
     * @example
     *
     *      var incCount = R.ifElse(
     *        R.has('count'),
     *        R.over(R.lensProp('count'), R.inc),
     *        R.assoc('count', 1)
     *      );
     *      incCount({});           //=> { count: 1 }
     *      incCount({ count: 1 }); //=> { count: 2 }
     */
    var ifElse = _curry3(function ifElse(condition, onTrue, onFalse) {
        return curryN(Math.max(condition.length, onTrue.length, onFalse.length), function _ifElse() {
            return condition.apply(this, arguments) ? onTrue.apply(this, arguments) : onFalse.apply(this, arguments);
        });
    });

    /**
     * Increments its argument.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Math
     * @sig Number -> Number
     * @param {Number} n
     * @return {Number}
     * @see R.dec
     * @example
     *
     *      R.inc(42); //=> 43
     */
    var inc = add(1);

    /**
     * Inserts the supplied element into the list, at index `index`.  _Note
     * that this is not destructive_: it returns a copy of the list with the changes.
     * <small>No lists have been harmed in the application of this function.</small>
     *
     * @func
     * @memberOf R
     * @since v0.2.2
     * @category List
     * @sig Number -> a -> [a] -> [a]
     * @param {Number} index The position to insert the element
     * @param {*} elt The element to insert into the Array
     * @param {Array} list The list to insert into
     * @return {Array} A new Array with `elt` inserted at `index`.
     * @example
     *
     *      R.insert(2, 'x', [1,2,3,4]); //=> [1,2,'x',3,4]
     */
    var insert = _curry3(function insert(idx, elt, list) {
        idx = idx < list.length && idx >= 0 ? idx : list.length;
        var result = _slice(list);
        result.splice(idx, 0, elt);
        return result;
    });

    /**
     * Inserts the sub-list into the list, at index `index`.  _Note  that this
     * is not destructive_: it returns a copy of the list with the changes.
     * <small>No lists have been harmed in the application of this function.</small>
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category List
     * @sig Number -> [a] -> [a] -> [a]
     * @param {Number} index The position to insert the sub-list
     * @param {Array} elts The sub-list to insert into the Array
     * @param {Array} list The list to insert the sub-list into
     * @return {Array} A new Array with `elts` inserted starting at `index`.
     * @example
     *
     *      R.insertAll(2, ['x','y','z'], [1,2,3,4]); //=> [1,2,'x','y','z',3,4]
     */
    var insertAll = _curry3(function insertAll(idx, elts, list) {
        idx = idx < list.length && idx >= 0 ? idx : list.length;
        return _concat(_concat(_slice(list, 0, idx), elts), _slice(list, idx));
    });

    /**
     * See if an object (`val`) is an instance of the supplied constructor.
     * This function will check up the inheritance chain, if any.
     *
     * @func
     * @memberOf R
     * @since v0.3.0
     * @category Type
     * @sig (* -> {*}) -> a -> Boolean
     * @param {Object} ctor A constructor
     * @param {*} val The value to test
     * @return {Boolean}
     * @example
     *
     *      R.is(Object, {}); //=> true
     *      R.is(Number, 1); //=> true
     *      R.is(Object, 1); //=> false
     *      R.is(String, 's'); //=> true
     *      R.is(String, new String('')); //=> true
     *      R.is(Object, new String('')); //=> true
     *      R.is(Object, 's'); //=> false
     *      R.is(Number, {}); //=> false
     */
    var is = _curry2(function is(Ctor, val) {
        return val != null && val.constructor === Ctor || val instanceof Ctor;
    });

    /**
     * Tests whether or not an object is similar to an array.
     *
     * @func
     * @memberOf R
     * @since v0.5.0
     * @category Type
     * @category List
     * @sig * -> Boolean
     * @param {*} x The object to test.
     * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.
     * @example
     *
     *      R.isArrayLike([]); //=> true
     *      R.isArrayLike(true); //=> false
     *      R.isArrayLike({}); //=> false
     *      R.isArrayLike({length: 10}); //=> false
     *      R.isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true
     */
    var isArrayLike = _curry1(function isArrayLike(x) {
        if (_isArray(x)) {
            return true;
        }
        if (!x) {
            return false;
        }
        if (typeof x !== 'object') {
            return false;
        }
        if (x instanceof String) {
            return false;
        }
        if (x.nodeType === 1) {
            return !!x.length;
        }
        if (x.length === 0) {
            return true;
        }
        if (x.length > 0) {
            return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);
        }
        return false;
    });

    /**
     * Checks if the input value is `null` or `undefined`.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Type
     * @sig * -> Boolean
     * @param {*} x The value to test.
     * @return {Boolean} `true` if `x` is `undefined` or `null`, otherwise `false`.
     * @example
     *
     *      R.isNil(null); //=> true
     *      R.isNil(undefined); //=> true
     *      R.isNil(0); //=> false
     *      R.isNil([]); //=> false
     */
    var isNil = _curry1(function isNil(x) {
        return x == null;
    });

    /**
     * Returns a list containing the names of all the enumerable own
     * properties of the supplied object.
     * Note that the order of the output array is not guaranteed to be
     * consistent across different JS platforms.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @sig {k: v} -> [k]
     * @param {Object} obj The object to extract properties from
     * @return {Array} An array of the object's own properties.
     * @example
     *
     *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']
     */
    // cover IE < 9 keys issues
    var keys = function () {
        // cover IE < 9 keys issues
        var hasEnumBug = !{ toString: null }.propertyIsEnumerable('toString');
        var nonEnumerableProps = [
            'constructor',
            'valueOf',
            'isPrototypeOf',
            'toString',
            'propertyIsEnumerable',
            'hasOwnProperty',
            'toLocaleString'
        ];
        var contains = function contains(list, item) {
            var idx = 0;
            while (idx < list.length) {
                if (list[idx] === item) {
                    return true;
                }
                idx += 1;
            }
            return false;
        };
        return typeof Object.keys === 'function' ? _curry1(function keys(obj) {
            return Object(obj) !== obj ? [] : Object.keys(obj);
        }) : _curry1(function keys(obj) {
            if (Object(obj) !== obj) {
                return [];
            }
            var prop, ks = [], nIdx;
            for (prop in obj) {
                if (_has(prop, obj)) {
                    ks[ks.length] = prop;
                }
            }
            if (hasEnumBug) {
                nIdx = nonEnumerableProps.length - 1;
                while (nIdx >= 0) {
                    prop = nonEnumerableProps[nIdx];
                    if (_has(prop, obj) && !contains(ks, prop)) {
                        ks[ks.length] = prop;
                    }
                    nIdx -= 1;
                }
            }
            return ks;
        });
    }();

    /**
     * Returns a list containing the names of all the
     * properties of the supplied object, including prototype properties.
     * Note that the order of the output array is not guaranteed to be
     * consistent across different JS platforms.
     *
     * @func
     * @memberOf R
     * @since v0.2.0
     * @category Object
     * @sig {k: v} -> [k]
     * @param {Object} obj The object to extract properties from
     * @return {Array} An array of the object's own and prototype properties.
     * @example
     *
     *      var F = function() { this.x = 'X'; };
     *      F.prototype.y = 'Y';
     *      var f = new F();
     *      R.keysIn(f); //=> ['x', 'y']
     */
    var keysIn = _curry1(function keysIn(obj) {
        var prop, ks = [];
        for (prop in obj) {
            ks[ks.length] = prop;
        }
        return ks;
    });

    /**
     * Returns the number of elements in the array by returning `list.length`.
     *
     * @func
     * @memberOf R
     * @since v0.3.0
     * @category List
     * @sig [a] -> Number
     * @param {Array} list The array to inspect.
     * @return {Number} The length of the array.
     * @example
     *
     *      R.length([]); //=> 0
     *      R.length([1, 2, 3]); //=> 3
     */
    var length = _curry1(function length(list) {
        return list != null && is(Number, list.length) ? list.length : NaN;
    });

    /**
     * Returns `true` if the first argument is less than the second;
     * `false` otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig Ord a => a -> a -> Boolean
     * @param {*} a
     * @param {*} b
     * @return {Boolean}
     * @see R.gt
     * @example
     *
     *      R.lt(2, 1); //=> false
     *      R.lt(2, 2); //=> false
     *      R.lt(2, 3); //=> true
     *      R.lt('a', 'z'); //=> true
     *      R.lt('z', 'a'); //=> false
     */
    var lt = _curry2(function lt(a, b) {
        return a < b;
    });

    /**
     * Returns `true` if the first argument is less than or equal to the second;
     * `false` otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig Ord a => a -> a -> Boolean
     * @param {Number} a
     * @param {Number} b
     * @return {Boolean}
     * @see R.gte
     * @example
     *
     *      R.lte(2, 1); //=> false
     *      R.lte(2, 2); //=> true
     *      R.lte(2, 3); //=> true
     *      R.lte('a', 'z'); //=> true
     *      R.lte('z', 'a'); //=> false
     */
    var lte = _curry2(function lte(a, b) {
        return a <= b;
    });

    /**
     * The mapAccum function behaves like a combination of map and reduce; it applies a
     * function to each element of a list, passing an accumulating parameter from left to
     * right, and returning a final value of this accumulator together with the new list.
     *
     * The iterator function receives two arguments, *acc* and *value*, and should return
     * a tuple *[acc, value]*.
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category List
     * @sig (acc -> x -> (acc, y)) -> acc -> [x] -> (acc, [y])
     * @param {Function} fn The function to be called on every element of the input `list`.
     * @param {*} acc The accumulator value.
     * @param {Array} list The list to iterate over.
     * @return {*} The final, accumulated value.
     * @example
     *
     *      var digits = ['1', '2', '3', '4'];
     *      var append = (a, b) => [a + b, a + b];
     *
     *      R.mapAccum(append, 0, digits); //=> ['01234', ['01', '012', '0123', '01234']]
     */
    var mapAccum = _curry3(function mapAccum(fn, acc, list) {
        var idx = 0, len = list.length, result = [], tuple = [acc];
        while (idx < len) {
            tuple = fn(tuple[0], list[idx]);
            result[idx] = tuple[1];
            idx += 1;
        }
        return [
            tuple[0],
            result
        ];
    });

    /**
     * The mapAccumRight function behaves like a combination of map and reduce; it applies a
     * function to each element of a list, passing an accumulating parameter from right
     * to left, and returning a final value of this accumulator together with the new list.
     *
     * Similar to `mapAccum`, except moves through the input list from the right to the
     * left.
     *
     * The iterator function receives two arguments, *acc* and *value*, and should return
     * a tuple *[acc, value]*.
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category List
     * @sig (acc -> x -> (acc, y)) -> acc -> [x] -> (acc, [y])
     * @param {Function} fn The function to be called on every element of the input `list`.
     * @param {*} acc The accumulator value.
     * @param {Array} list The list to iterate over.
     * @return {*} The final, accumulated value.
     * @example
     *
     *      var digits = ['1', '2', '3', '4'];
     *      var append = (a, b) => [a + b, a + b];
     *
     *      R.mapAccumRight(append, 0, digits); //=> ['04321', ['04321', '0432', '043', '04']]
     */
    var mapAccumRight = _curry3(function mapAccumRight(fn, acc, list) {
        var idx = list.length - 1, result = [], tuple = [acc];
        while (idx >= 0) {
            tuple = fn(tuple[0], list[idx]);
            result[idx] = tuple[1];
            idx -= 1;
        }
        return [
            tuple[0],
            result
        ];
    });

    /**
     * Tests a regular expression against a String. Note that this function
     * will return an empty array when there are no matches. This differs
     * from [`String.prototype.match`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match)
     * which returns `null` when there are no matches.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @see R.test
     * @category String
     * @sig RegExp -> String -> [String | Undefined]
     * @param {RegExp} rx A regular expression.
     * @param {String} str The string to match against
     * @return {Array} The list of matches or empty array.
     * @example
     *
     *      R.match(/([a-z]a)/g, 'bananas'); //=> ['ba', 'na', 'na']
     *      R.match(/a/, 'b'); //=> []
     *      R.match(/a/, null); //=> TypeError: null does not have a method named "match"
     */
    var match = _curry2(function match(rx, str) {
        return str.match(rx) || [];
    });

    /**
     * mathMod behaves like the modulo operator should mathematically, unlike the `%`
     * operator (and by extension, R.modulo). So while "-17 % 5" is -2,
     * mathMod(-17, 5) is 3. mathMod requires Integer arguments, and returns NaN
     * when the modulus is zero or negative.
     *
     * @func
     * @memberOf R
     * @since v0.3.0
     * @category Math
     * @sig Number -> Number -> Number
     * @param {Number} m The dividend.
     * @param {Number} p the modulus.
     * @return {Number} The result of `b mod a`.
     * @example
     *
     *      R.mathMod(-17, 5);  //=> 3
     *      R.mathMod(17, 5);   //=> 2
     *      R.mathMod(17, -5);  //=> NaN
     *      R.mathMod(17, 0);   //=> NaN
     *      R.mathMod(17.2, 5); //=> NaN
     *      R.mathMod(17, 5.3); //=> NaN
     *
     *      var clock = R.mathMod(R.__, 12);
     *      clock(15); //=> 3
     *      clock(24); //=> 0
     *
     *      var seventeenMod = R.mathMod(17);
     *      seventeenMod(3);  //=> 2
     *      seventeenMod(4);  //=> 1
     *      seventeenMod(10); //=> 7
     */
    var mathMod = _curry2(function mathMod(m, p) {
        if (!_isInteger(m)) {
            return NaN;
        }
        if (!_isInteger(p) || p < 1) {
            return NaN;
        }
        return (m % p + p) % p;
    });

    /**
     * Returns the larger of its two arguments.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig Ord a => a -> a -> a
     * @param {*} a
     * @param {*} b
     * @return {*}
     * @see R.maxBy, R.min
     * @example
     *
     *      R.max(789, 123); //=> 789
     *      R.max('a', 'b'); //=> 'b'
     */
    var max = _curry2(function max(a, b) {
        return b > a ? b : a;
    });

    /**
     * Takes a function and two values, and returns whichever value produces
     * the larger result when passed to the provided function.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category Relation
     * @sig Ord b => (a -> b) -> a -> a -> a
     * @param {Function} f
     * @param {*} a
     * @param {*} b
     * @return {*}
     * @see R.max, R.minBy
     * @example
     *
     *      //  square :: Number -> Number
     *      var square = n => n * n;
     *
     *      R.maxBy(square, -3, 2); //=> -3
     *
     *      R.reduce(R.maxBy(square), 0, [3, -5, 4, 1, -2]); //=> -5
     *      R.reduce(R.maxBy(square), 0, []); //=> 0
     */
    var maxBy = _curry3(function maxBy(f, a, b) {
        return f(b) > f(a) ? b : a;
    });

    /**
     * Create a new object with the own properties of `a`
     * merged with the own properties of object `b`.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @sig {k: v} -> {k: v} -> {k: v}
     * @param {Object} a
     * @param {Object} b
     * @return {Object}
     * @example
     *
     *      R.merge({ 'name': 'fred', 'age': 10 }, { 'age': 40 });
     *      //=> { 'name': 'fred', 'age': 40 }
     *
     *      var resetToDefault = R.merge(R.__, {x: 0});
     *      resetToDefault({x: 5, y: 2}); //=> {x: 0, y: 2}
     */
    var merge = _curry2(function merge(a, b) {
        var result = {};
        var ks = keys(a);
        var idx = 0;
        while (idx < ks.length) {
            result[ks[idx]] = a[ks[idx]];
            idx += 1;
        }
        ks = keys(b);
        idx = 0;
        while (idx < ks.length) {
            result[ks[idx]] = b[ks[idx]];
            idx += 1;
        }
        return result;
    });

    /**
     * Returns the smaller of its two arguments.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig Ord a => a -> a -> a
     * @param {*} a
     * @param {*} b
     * @return {*}
     * @see R.minBy, R.max
     * @example
     *
     *      R.min(789, 123); //=> 123
     *      R.min('a', 'b'); //=> 'a'
     */
    var min = _curry2(function min(a, b) {
        return b < a ? b : a;
    });

    /**
     * Takes a function and two values, and returns whichever value produces
     * the smaller result when passed to the provided function.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category Relation
     * @sig Ord b => (a -> b) -> a -> a -> a
     * @param {Function} f
     * @param {*} a
     * @param {*} b
     * @return {*}
     * @see R.min, R.maxBy
     * @example
     *
     *      //  square :: Number -> Number
     *      var square = n => n * n;
     *
     *      R.minBy(square, -3, 2); //=> 2
     *
     *      R.reduce(R.minBy(square), Infinity, [3, -5, 4, 1, -2]); //=> 1
     *      R.reduce(R.minBy(square), Infinity, []); //=> Infinity
     */
    var minBy = _curry3(function minBy(f, a, b) {
        return f(b) < f(a) ? b : a;
    });

    /**
     * Divides the second parameter by the first and returns the remainder.
     * Note that this function preserves the JavaScript-style behavior for
     * modulo. For mathematical modulo see `mathMod`.
     *
     * @func
     * @memberOf R
     * @since v0.1.1
     * @category Math
     * @sig Number -> Number -> Number
     * @param {Number} a The value to the divide.
     * @param {Number} b The pseudo-modulus
     * @return {Number} The result of `b % a`.
     * @see R.mathMod
     * @example
     *
     *      R.modulo(17, 3); //=> 2
     *      // JS behavior:
     *      R.modulo(-17, 3); //=> -2
     *      R.modulo(17, -3); //=> 2
     *
     *      var isOdd = R.modulo(R.__, 2);
     *      isOdd(42); //=> 0
     *      isOdd(21); //=> 1
     */
    var modulo = _curry2(function modulo(a, b) {
        return a % b;
    });

    /**
     * Multiplies two numbers. Equivalent to `a * b` but curried.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Math
     * @sig Number -> Number -> Number
     * @param {Number} a The first value.
     * @param {Number} b The second value.
     * @return {Number} The result of `a * b`.
     * @see R.divide
     * @example
     *
     *      var double = R.multiply(2);
     *      var triple = R.multiply(3);
     *      double(3);       //=>  6
     *      triple(4);       //=> 12
     *      R.multiply(2, 5);  //=> 10
     */
    var multiply = _curry2(function multiply(a, b) {
        return a * b;
    });

    /**
     * Wraps a function of any arity (including nullary) in a function that accepts exactly `n`
     * parameters. Any extraneous parameters will not be passed to the supplied function.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig Number -> (* -> a) -> (* -> a)
     * @param {Number} n The desired arity of the new function.
     * @param {Function} fn The function to wrap.
     * @return {Function} A new function wrapping `fn`. The new function is guaranteed to be of
     *         arity `n`.
     * @example
     *
     *      var takesTwoArgs = (a, b) => [a, b];
     *
     *      takesTwoArgs.length; //=> 2
     *      takesTwoArgs(1, 2); //=> [1, 2]
     *
     *      var takesOneArg = R.nAry(1, takesTwoArgs);
     *      takesOneArg.length; //=> 1
     *      // Only `n` arguments are passed to the wrapped function
     *      takesOneArg(1, 2); //=> [1, undefined]
     */
    var nAry = _curry2(function nAry(n, fn) {
        switch (n) {
        case 0:
            return function () {
                return fn.call(this);
            };
        case 1:
            return function (a0) {
                return fn.call(this, a0);
            };
        case 2:
            return function (a0, a1) {
                return fn.call(this, a0, a1);
            };
        case 3:
            return function (a0, a1, a2) {
                return fn.call(this, a0, a1, a2);
            };
        case 4:
            return function (a0, a1, a2, a3) {
                return fn.call(this, a0, a1, a2, a3);
            };
        case 5:
            return function (a0, a1, a2, a3, a4) {
                return fn.call(this, a0, a1, a2, a3, a4);
            };
        case 6:
            return function (a0, a1, a2, a3, a4, a5) {
                return fn.call(this, a0, a1, a2, a3, a4, a5);
            };
        case 7:
            return function (a0, a1, a2, a3, a4, a5, a6) {
                return fn.call(this, a0, a1, a2, a3, a4, a5, a6);
            };
        case 8:
            return function (a0, a1, a2, a3, a4, a5, a6, a7) {
                return fn.call(this, a0, a1, a2, a3, a4, a5, a6, a7);
            };
        case 9:
            return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {
                return fn.call(this, a0, a1, a2, a3, a4, a5, a6, a7, a8);
            };
        case 10:
            return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {
                return fn.call(this, a0, a1, a2, a3, a4, a5, a6, a7, a8, a9);
            };
        default:
            throw new Error('First argument to nAry must be a non-negative integer no greater than ten');
        }
    });

    /**
     * Negates its argument.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Math
     * @sig Number -> Number
     * @param {Number} n
     * @return {Number}
     * @example
     *
     *      R.negate(42); //=> -42
     */
    var negate = _curry1(function negate(n) {
        return -n;
    });

    /**
     * A function that returns the `!` of its argument. It will return `true` when
     * passed false-y value, and `false` when passed a truth-y one.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Logic
     * @sig * -> Boolean
     * @param {*} a any value
     * @return {Boolean} the logical inverse of passed argument.
     * @see R.complement
     * @example
     *
     *      R.not(true); //=> false
     *      R.not(false); //=> true
     *      R.not(0); => true
     *      R.not(1); => false
     */
    var not = _curry1(function not(a) {
        return !a;
    });

    /**
     * Returns the nth element of the given list or string.
     * If n is negative the element at index length + n is returned.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig Number -> [a] -> a | Undefined
     * @sig Number -> String -> String
     * @param {Number} offset
     * @param {*} list
     * @return {*}
     * @example
     *
     *      var list = ['foo', 'bar', 'baz', 'quux'];
     *      R.nth(1, list); //=> 'bar'
     *      R.nth(-1, list); //=> 'quux'
     *      R.nth(-99, list); //=> undefined
     *
     *      R.nth('abc', 2); //=> 'c'
     *      R.nth('abc', 3); //=> ''
     */
    var nth = _curry2(function nth(offset, list) {
        var idx = offset < 0 ? list.length + offset : offset;
        return _isString(list) ? list.charAt(idx) : list[idx];
    });

    /**
     * Returns a function which returns its nth argument.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Function
     * @sig Number -> *... -> *
     * @param {Number} n
     * @return {Function}
     * @example
     *
     *      R.nthArg(1)('a', 'b', 'c'); //=> 'b'
     *      R.nthArg(-1)('a', 'b', 'c'); //=> 'c'
     */
    var nthArg = _curry1(function nthArg(n) {
        return function () {
            return nth(n, arguments);
        };
    });

    /**
     * Creates an object containing a single key:value pair.
     *
     * @func
     * @memberOf R
     * @since v0.18.0
     * @category Object
     * @sig String -> a -> {String:a}
     * @param {String} key
     * @param {*} val
     * @return {Object}
     * @see R.pair
     * @example
     *
     *      var matchPhrases = R.compose(
     *        R.objOf('must'),
     *        R.map(R.objOf('match_phrase'))
     *      );
     *      matchPhrases(['foo', 'bar', 'baz']); //=> {must: [{match_phrase: 'foo'}, {match_phrase: 'bar'}, {match_phrase: 'baz'}]}
     */
    var objOf = _curry2(function objOf(key, val) {
        var obj = {};
        obj[key] = val;
        return obj;
    });

    /**
     * Returns a singleton array containing the value provided.
     *
     * Note this `of` is different from the ES6 `of`; See
     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/of
     *
     * @func
     * @memberOf R
     * @since v0.3.0
     * @category Function
     * @sig a -> [a]
     * @param {*} x any value
     * @return {Array} An array wrapping `x`.
     * @example
     *
     *      R.of(null); //=> [null]
     *      R.of([42]); //=> [[42]]
     */
    var of = _curry1(_of);

    /**
     * Accepts a function `fn` and returns a function that guards invocation of `fn` such that
     * `fn` can only ever be called once, no matter how many times the returned function is
     * invoked. The first value calculated is returned in subsequent invocations.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig (a... -> b) -> (a... -> b)
     * @param {Function} fn The function to wrap in a call-only-once wrapper.
     * @return {Function} The wrapped function.
     * @example
     *
     *      var addOneOnce = R.once(x => x + 1);
     *      addOneOnce(10); //=> 11
     *      addOneOnce(addOneOnce(50)); //=> 11
     */
    var once = _curry1(function once(fn) {
        var called = false, result;
        return function () {
            if (called) {
                return result;
            }
            called = true;
            result = fn.apply(this, arguments);
            return result;
        };
    });

    /**
     * Returns `true` if one or both of its arguments are `true`. Returns `false`
     * if both arguments are `false`.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Logic
     * @sig * -> * -> *
     * @param {Boolean} a A boolean value
     * @param {Boolean} b A boolean value
     * @return {Boolean} `true` if one or both arguments are `true`, `false` otherwise
     * @see R.either
     * @example
     *
     *      R.or(true, true); //=> true
     *      R.or(true, false); //=> true
     *      R.or(false, true); //=> true
     *      R.or(false, false); //=> false
     */
    var or = _curry2(function or(a, b) {
        return a || b;
    });

    /**
     * Returns the result of "setting" the portion of the given data structure
     * focused by the given lens to the result of applying the given function to
     * the focused value.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category Object
     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s
     * @sig Lens s a -> (a -> a) -> s -> s
     * @param {Lens} lens
     * @param {*} v
     * @param {*} x
     * @return {*}
     * @see R.prop, R.lensIndex, R.lensProp
     * @example
     *
     *      var headLens = R.lensIndex(0);
     *
     *      R.over(headLens, R.toUpper, ['foo', 'bar', 'baz']); //=> ['FOO', 'bar', 'baz']
     */
    var over = function () {
        var Identity = function (x) {
            return {
                value: x,
                map: function (f) {
                    return Identity(f(x));
                }
            };
        };
        return _curry3(function over(lens, f, x) {
            return lens(function (y) {
                return Identity(f(y));
            })(x).value;
        });
    }();

    /**
     * Takes two arguments, `fst` and `snd`, and returns `[fst, snd]`.
     *
     * @func
     * @memberOf R
     * @since v0.18.0
     * @category List
     * @sig a -> b -> (a,b)
     * @param {*} fst
     * @param {*} snd
     * @return {Array}
     * @see R.createMapEntry, R.of
     * @example
     *
     *      pair('foo', 'bar'); //=> ['foo', 'bar']
     */
    var pair = _curry2(function pair(fst, snd) {
        return [
            fst,
            snd
        ];
    });

    /**
     * Retrieve the value at a given path.
     *
     * @func
     * @memberOf R
     * @since v0.2.0
     * @category Object
     * @sig [String] -> {k: v} -> v | Undefined
     * @param {Array} path The path to use.
     * @return {*} The data at `path`.
     * @example
     *
     *      R.path(['a', 'b'], {a: {b: 2}}); //=> 2
     *      R.path(['a', 'b'], {c: {b: 2}}); //=> undefined
     */
    var path = _curry2(function path(paths, obj) {
        if (obj == null) {
            return;
        } else {
            var val = obj;
            var idx = 0;
            while (val != null && idx < paths.length) {
                val = val[paths[idx]];
                idx += 1;
            }
            return val;
        }
    });

    /**
     * If the given, non-null object has a value at the given path, returns
     * the value at that path. Otherwise returns the provided default value.
     *
     * @func
     * @memberOf R
     * @since v0.18.0
     * @category Object
     * @sig a -> [String] -> Object -> a
     * @param {*} d The default value.
     * @param {Array} p The path to use.
     * @return {*} The data at `path` of the supplied object or the default value.
     * @example
     *
     *      R.pathOr('N/A', ['a', 'b'], {a: {b: 2}}); //=> 2
     *      R.pathOr('N/A', ['a', 'b'], {c: {b: 2}}); //=> "N/A"
     */
    var pathOr = _curry3(function pathOr(d, p, obj) {
        return defaultTo(d, path(p, obj));
    });

    /**
     * Returns a partial copy of an object containing only the keys specified.  If the key does not exist, the
     * property is ignored.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @sig [k] -> {k: v} -> {k: v}
     * @param {Array} names an array of String property names to copy onto a new object
     * @param {Object} obj The object to copy from
     * @return {Object} A new object with only properties from `names` on it.
     * @see R.omit, R.props
     * @example
     *
     *      R.pick(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, d: 4}
     *      R.pick(['a', 'e', 'f'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1}
     */
    var pick = _curry2(function pick(names, obj) {
        var result = {};
        var idx = 0;
        while (idx < names.length) {
            if (names[idx] in obj) {
                result[names[idx]] = obj[names[idx]];
            }
            idx += 1;
        }
        return result;
    });

    /**
     * Similar to `pick` except that this one includes a `key: undefined` pair for properties that don't exist.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @sig [k] -> {k: v} -> {k: v}
     * @param {Array} names an array of String property names to copy onto a new object
     * @param {Object} obj The object to copy from
     * @return {Object} A new object with only properties from `names` on it.
     * @see R.pick
     * @example
     *
     *      R.pickAll(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, d: 4}
     *      R.pickAll(['a', 'e', 'f'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, e: undefined, f: undefined}
     */
    var pickAll = _curry2(function pickAll(names, obj) {
        var result = {};
        var idx = 0;
        var len = names.length;
        while (idx < len) {
            var name = names[idx];
            result[name] = obj[name];
            idx += 1;
        }
        return result;
    });

    /**
     * Returns a partial copy of an object containing only the keys that
     * satisfy the supplied predicate.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category Object
     * @sig (v, k -> Boolean) -> {k: v} -> {k: v}
     * @param {Function} pred A predicate to determine whether or not a key
     *        should be included on the output object.
     * @param {Object} obj The object to copy from
     * @return {Object} A new object with only properties that satisfy `pred`
     *         on it.
     * @see R.pick
     * @example
     *
     *      var isUpperCase = (val, key) => key.toUpperCase() === key;
     *      R.pickBy(isUpperCase, {a: 1, b: 2, A: 3, B: 4}); //=> {A: 3, B: 4}
     */
    var pickBy = _curry2(function pickBy(test, obj) {
        var result = {};
        for (var prop in obj) {
            if (test(obj[prop], prop, obj)) {
                result[prop] = obj[prop];
            }
        }
        return result;
    });

    /**
     * Returns a new list with the given element at the front, followed by the contents of the
     * list.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig a -> [a] -> [a]
     * @param {*} el The item to add to the head of the output list.
     * @param {Array} list The array to add to the tail of the output list.
     * @return {Array} A new array.
     * @see R.append
     * @example
     *
     *      R.prepend('fee', ['fi', 'fo', 'fum']); //=> ['fee', 'fi', 'fo', 'fum']
     */
    var prepend = _curry2(function prepend(el, list) {
        return _concat([el], list);
    });

    /**
     * Returns a function that when supplied an object returns the indicated property of that object, if it exists.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @sig s -> {s: a} -> a | Undefined
     * @param {String} p The property name
     * @param {Object} obj The object to query
     * @return {*} The value at `obj.p`.
     * @example
     *
     *      R.prop('x', {x: 100}); //=> 100
     *      R.prop('x', {}); //=> undefined
     */
    var prop = _curry2(function prop(p, obj) {
        return obj[p];
    });

    /**
     * If the given, non-null object has an own property with the specified name,
     * returns the value of that property.
     * Otherwise returns the provided default value.
     *
     * @func
     * @memberOf R
     * @since v0.6.0
     * @category Object
     * @sig a -> String -> Object -> a
     * @param {*} val The default value.
     * @param {String} p The name of the property to return.
     * @param {Object} obj The object to query.
     * @return {*} The value of given property of the supplied object or the default value.
     * @example
     *
     *      var alice = {
     *        name: 'ALICE',
     *        age: 101
     *      };
     *      var favorite = R.prop('favoriteLibrary');
     *      var favoriteWithDefault = R.propOr('Ramda', 'favoriteLibrary');
     *
     *      favorite(alice);  //=> undefined
     *      favoriteWithDefault(alice);  //=> 'Ramda'
     */
    var propOr = _curry3(function propOr(val, p, obj) {
        return obj != null && _has(p, obj) ? obj[p] : val;
    });

    /**
     * Returns `true` if the specified object property satisfies the given
     * predicate; `false` otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category Logic
     * @sig (a -> Boolean) -> String -> {String: a} -> Boolean
     * @param {Function} pred
     * @param {String} name
     * @param {*} obj
     * @return {Boolean}
     * @see R.propEq
     * @see R.propIs
     * @example
     *
     *      R.propSatisfies(x => x > 0, 'x', {x: 1, y: 2}); //=> true
     */
    var propSatisfies = _curry3(function propSatisfies(pred, name, obj) {
        return pred(obj[name]);
    });

    /**
     * Acts as multiple `prop`: array of keys in, array of values out. Preserves order.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @sig [k] -> {k: v} -> [v]
     * @param {Array} ps The property names to fetch
     * @param {Object} obj The object to query
     * @return {Array} The corresponding values or partially applied function.
     * @example
     *
     *      R.props(['x', 'y'], {x: 1, y: 2}); //=> [1, 2]
     *      R.props(['c', 'a', 'b'], {b: 2, a: 1}); //=> [undefined, 1, 2]
     *
     *      var fullName = R.compose(R.join(' '), R.props(['first', 'last']));
     *      fullName({last: 'Bullet-Tooth', age: 33, first: 'Tony'}); //=> 'Tony Bullet-Tooth'
     */
    var props = _curry2(function props(ps, obj) {
        var len = ps.length;
        var out = [];
        var idx = 0;
        while (idx < len) {
            out[idx] = obj[ps[idx]];
            idx += 1;
        }
        return out;
    });

    /**
     * Returns a list of numbers from `from` (inclusive) to `to`
     * (exclusive).
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig Number -> Number -> [Number]
     * @param {Number} from The first number in the list.
     * @param {Number} to One more than the last number in the list.
     * @return {Array} The list of numbers in tthe set `[a, b)`.
     * @example
     *
     *      R.range(1, 5);    //=> [1, 2, 3, 4]
     *      R.range(50, 53);  //=> [50, 51, 52]
     */
    var range = _curry2(function range(from, to) {
        if (!(_isNumber(from) && _isNumber(to))) {
            throw new TypeError('Both arguments to range must be numbers');
        }
        var result = [];
        var n = from;
        while (n < to) {
            result.push(n);
            n += 1;
        }
        return result;
    });

    /**
     * Returns a single item by iterating through the list, successively calling the iterator
     * function and passing it an accumulator value and the current value from the array, and
     * then passing the result to the next call.
     *
     * Similar to `reduce`, except moves through the input list from the right to the left.
     *
     * The iterator function receives two values: *(acc, value)*
     *
     * Note: `R.reduceRight` does not skip deleted or unassigned indices (sparse arrays), unlike
     * the native `Array.prototype.reduce` method. For more details on this behavior, see:
     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight#Description
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a,b -> a) -> a -> [b] -> a
     * @param {Function} fn The iterator function. Receives two values, the accumulator and the
     *        current element from the array.
     * @param {*} acc The accumulator value.
     * @param {Array} list The list to iterate over.
     * @return {*} The final, accumulated value.
     * @example
     *
     *      var pairs = [ ['a', 1], ['b', 2], ['c', 3] ];
     *      var flattenPairs = (acc, pair) => acc.concat(pair);
     *
     *      R.reduceRight(flattenPairs, [], pairs); //=> [ 'c', 3, 'b', 2, 'a', 1 ]
     */
    var reduceRight = _curry3(function reduceRight(fn, acc, list) {
        var idx = list.length - 1;
        while (idx >= 0) {
            acc = fn(acc, list[idx]);
            idx -= 1;
        }
        return acc;
    });

    /**
     * Returns a value wrapped to indicate that it is the final value of the
     * reduce and transduce functions.  The returned value
     * should be considered a black box: the internal structure is not
     * guaranteed to be stable.
     *
     * Note: this optimization is unavailable to functions not explicitly listed
     * above.  For instance, it is not currently supported by reduceIndexed,
     * reduceRight, or reduceRightIndexed.
     *
     * @func
     * @memberOf R
     * @since v0.15.0
     * @category List
     * @see R.reduce, R.transduce
     * @sig a -> *
     * @param {*} x The final value of the reduce.
     * @return {*} The wrapped value.
     * @example
     *
     *      R.reduce(
     *        R.pipe(R.add, R.when(R.gte(R.__, 10), R.reduced)),
     *        0,
     *        [1, 2, 3, 4, 5]) // 10
     */
    var reduced = _curry1(_reduced);

    /**
     * Removes the sub-list of `list` starting at index `start` and containing
     * `count` elements.  _Note that this is not destructive_: it returns a
     * copy of the list with the changes.
     * <small>No lists have been harmed in the application of this function.</small>
     *
     * @func
     * @memberOf R
     * @since v0.2.2
     * @category List
     * @sig Number -> Number -> [a] -> [a]
     * @param {Number} start The position to start removing elements
     * @param {Number} count The number of elements to remove
     * @param {Array} list The list to remove from
     * @return {Array} A new Array with `count` elements from `start` removed.
     * @example
     *
     *      R.remove(2, 3, [1,2,3,4,5,6,7,8]); //=> [1,2,6,7,8]
     */
    var remove = _curry3(function remove(start, count, list) {
        return _concat(_slice(list, 0, Math.min(start, list.length)), _slice(list, Math.min(list.length, start + count)));
    });

    /**
     * Replace a substring or regex match in a string with a replacement.
     *
     * @func
     * @memberOf R
     * @since v0.7.0
     * @category String
     * @sig RegExp|String -> String -> String -> String
     * @param {RegExp|String} pattern A regular expression or a substring to match.
     * @param {String} replacement The string to replace the matches with.
     * @param {String} str The String to do the search and replacement in.
     * @return {String} The result.
     * @example
     *
     *      R.replace('foo', 'bar', 'foo foo foo'); //=> 'bar foo foo'
     *      R.replace(/foo/, 'bar', 'foo foo foo'); //=> 'bar foo foo'
     *
     *      // Use the "g" (global) flag to replace all occurrences:
     *      R.replace(/foo/g, 'bar', 'foo foo foo'); //=> 'bar bar bar'
     */
    var replace = _curry3(function replace(regex, replacement, str) {
        return str.replace(regex, replacement);
    });

    /**
     * Returns a new list or string with the elements or characters in reverse
     * order.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig [a] -> [a]
     * @sig String -> String
     * @param {Array|String} list
     * @return {Array|String}
     * @example
     *
     *      R.reverse([1, 2, 3]);  //=> [3, 2, 1]
     *      R.reverse([1, 2]);     //=> [2, 1]
     *      R.reverse([1]);        //=> [1]
     *      R.reverse([]);         //=> []
     *
     *      R.reverse('abc');      //=> 'cba'
     *      R.reverse('ab');       //=> 'ba'
     *      R.reverse('a');        //=> 'a'
     *      R.reverse('');         //=> ''
     */
    var reverse = _curry1(function reverse(list) {
        return _isString(list) ? list.split('').reverse().join('') : _slice(list).reverse();
    });

    /**
     * Scan is similar to reduce, but returns a list of successively reduced values from the left
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category List
     * @sig (a,b -> a) -> a -> [b] -> [a]
     * @param {Function} fn The iterator function. Receives two values, the accumulator and the
     *        current element from the array
     * @param {*} acc The accumulator value.
     * @param {Array} list The list to iterate over.
     * @return {Array} A list of all intermediately reduced values.
     * @example
     *
     *      var numbers = [1, 2, 3, 4];
     *      var factorials = R.scan(R.multiply, 1, numbers); //=> [1, 1, 2, 6, 24]
     */
    var scan = _curry3(function scan(fn, acc, list) {
        var idx = 0, len = list.length, result = [acc];
        while (idx < len) {
            acc = fn(acc, list[idx]);
            result[idx + 1] = acc;
            idx += 1;
        }
        return result;
    });

    /**
     * Returns the result of "setting" the portion of the given data structure
     * focused by the given lens to the given value.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category Object
     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s
     * @sig Lens s a -> a -> s -> s
     * @param {Lens} lens
     * @param {*} v
     * @param {*} x
     * @return {*}
     * @see R.prop, R.lensIndex, R.lensProp
     * @example
     *
     *      var xLens = R.lensProp('x');
     *
     *      R.set(xLens, 4, {x: 1, y: 2});  //=> {x: 4, y: 2}
     *      R.set(xLens, 8, {x: 1, y: 2});  //=> {x: 8, y: 2}
     */
    var set = _curry3(function set(lens, v, x) {
        return over(lens, always(v), x);
    });

    /**
     * Returns a copy of the list, sorted according to the comparator function, which should accept two values at a
     * time and return a negative number if the first value is smaller, a positive number if it's larger, and zero
     * if they are equal.  Please note that this is a **copy** of the list.  It does not modify the original.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a,a -> Number) -> [a] -> [a]
     * @param {Function} comparator A sorting function :: a -> b -> Int
     * @param {Array} list The list to sort
     * @return {Array} a new array with its elements sorted by the comparator function.
     * @example
     *
     *      var diff = function(a, b) { return a - b; };
     *      R.sort(diff, [4,2,7,5]); //=> [2, 4, 5, 7]
     */
    var sort = _curry2(function sort(comparator, list) {
        return _slice(list).sort(comparator);
    });

    /**
     * Sorts the list according to the supplied function.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig Ord b => (a -> b) -> [a] -> [a]
     * @param {Function} fn
     * @param {Array} list The list to sort.
     * @return {Array} A new list sorted by the keys generated by `fn`.
     * @example
     *
     *      var sortByFirstItem = R.sortBy(R.prop(0));
     *      var sortByNameCaseInsensitive = R.sortBy(R.compose(R.toLower, R.prop('name')));
     *      var pairs = [[-1, 1], [-2, 2], [-3, 3]];
     *      sortByFirstItem(pairs); //=> [[-3, 3], [-2, 2], [-1, 1]]
     *      var alice = {
     *        name: 'ALICE',
     *        age: 101
     *      };
     *      var bob = {
     *        name: 'Bob',
     *        age: -10
     *      };
     *      var clara = {
     *        name: 'clara',
     *        age: 314.159
     *      };
     *      var people = [clara, bob, alice];
     *      sortByNameCaseInsensitive(people); //=> [alice, bob, clara]
     */
    var sortBy = _curry2(function sortBy(fn, list) {
        return _slice(list).sort(function (a, b) {
            var aa = fn(a);
            var bb = fn(b);
            return aa < bb ? -1 : aa > bb ? 1 : 0;
        });
    });

    /**
     * Subtracts two numbers. Equivalent to `a - b` but curried.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Math
     * @sig Number -> Number -> Number
     * @param {Number} a The first value.
     * @param {Number} b The second value.
     * @return {Number} The result of `a - b`.
     * @see R.add
     * @example
     *
     *      R.subtract(10, 8); //=> 2
     *
     *      var minus5 = R.subtract(R.__, 5);
     *      minus5(17); //=> 12
     *
     *      var complementaryAngle = R.subtract(90);
     *      complementaryAngle(30); //=> 60
     *      complementaryAngle(72); //=> 18
     */
    var subtract = _curry2(function subtract(a, b) {
        return a - b;
    });

    /**
     * Returns a new list containing the last `n` elements of a given list, passing each value
     * to the supplied predicate function, and terminating when the predicate function returns
     * `false`. Excludes the element that caused the predicate function to fail. The predicate
     * function is passed one argument: *(value)*.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category List
     * @sig (a -> Boolean) -> [a] -> [a]
     * @param {Function} fn The function called per iteration.
     * @param {Array} list The collection to iterate over.
     * @return {Array} A new array.
     * @see R.dropLastWhile
     * @example
     *
     *      var isNotOne = x => x !== 1;
     *
     *      R.takeLastWhile(isNotOne, [1, 2, 3, 4]); //=> [2, 3, 4]
     */
    var takeLastWhile = _curry2(function takeLastWhile(fn, list) {
        var idx = list.length - 1;
        while (idx >= 0 && fn(list[idx])) {
            idx -= 1;
        }
        return _slice(list, idx + 1, Infinity);
    });

    /**
     * Runs the given function with the supplied object, then returns the object.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig (a -> *) -> a -> a
     * @param {Function} fn The function to call with `x`. The return value of `fn` will be thrown away.
     * @param {*} x
     * @return {*} `x`.
     * @example
     *
     *      var sayX = x => console.log('x is ' + x);
     *      R.tap(sayX, 100); //=> 100
     *      //-> 'x is 100'
     */
    var tap = _curry2(function tap(fn, x) {
        fn(x);
        return x;
    });

    /**
     * Calls an input function `n` times, returning an array containing the results of those
     * function calls.
     *
     * `fn` is passed one argument: The current value of `n`, which begins at `0` and is
     * gradually incremented to `n - 1`.
     *
     * @func
     * @memberOf R
     * @since v0.2.3
     * @category List
     * @sig (i -> a) -> i -> [a]
     * @param {Function} fn The function to invoke. Passed one argument, the current value of `n`.
     * @param {Number} n A value between `0` and `n - 1`. Increments after each function call.
     * @return {Array} An array containing the return values of all calls to `fn`.
     * @example
     *
     *      R.times(R.identity, 5); //=> [0, 1, 2, 3, 4]
     */
    var times = _curry2(function times(fn, n) {
        var len = Number(n);
        var list = new Array(len);
        var idx = 0;
        while (idx < len) {
            list[idx] = fn(idx);
            idx += 1;
        }
        return list;
    });

    /**
     * Converts an object into an array of key, value arrays.
     * Only the object's own properties are used.
     * Note that the order of the output array is not guaranteed to be
     * consistent across different JS platforms.
     *
     * @func
     * @memberOf R
     * @since v0.4.0
     * @category Object
     * @sig {String: *} -> [[String,*]]
     * @param {Object} obj The object to extract from
     * @return {Array} An array of key, value arrays from the object's own properties.
     * @see R.fromPairs
     * @example
     *
     *      R.toPairs({a: 1, b: 2, c: 3}); //=> [['a', 1], ['b', 2], ['c', 3]]
     */
    var toPairs = _curry1(function toPairs(obj) {
        var pairs = [];
        for (var prop in obj) {
            if (_has(prop, obj)) {
                pairs[pairs.length] = [
                    prop,
                    obj[prop]
                ];
            }
        }
        return pairs;
    });

    /**
     * Converts an object into an array of key, value arrays.
     * The object's own properties and prototype properties are used.
     * Note that the order of the output array is not guaranteed to be
     * consistent across different JS platforms.
     *
     * @func
     * @memberOf R
     * @since v0.4.0
     * @category Object
     * @sig {String: *} -> [[String,*]]
     * @param {Object} obj The object to extract from
     * @return {Array} An array of key, value arrays from the object's own
     *         and prototype properties.
     * @example
     *
     *      var F = function() { this.x = 'X'; };
     *      F.prototype.y = 'Y';
     *      var f = new F();
     *      R.toPairsIn(f); //=> [['x','X'], ['y','Y']]
     */
    var toPairsIn = _curry1(function toPairsIn(obj) {
        var pairs = [];
        for (var prop in obj) {
            pairs[pairs.length] = [
                prop,
                obj[prop]
            ];
        }
        return pairs;
    });

    /**
     * Removes (strips) whitespace from both ends of the string.
     *
     * @func
     * @memberOf R
     * @since v0.6.0
     * @category String
     * @sig String -> String
     * @param {String} str The string to trim.
     * @return {String} Trimmed version of `str`.
     * @example
     *
     *      R.trim('   xyz  '); //=> 'xyz'
     *      R.map(R.trim, R.split(',', 'x, y, z')); //=> ['x', 'y', 'z']
     */
    var trim = function () {
        var ws = '\t\n\x0B\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003' + '\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028' + '\u2029\uFEFF';
        var zeroWidth = '\u200B';
        var hasProtoTrim = typeof String.prototype.trim === 'function';
        if (!hasProtoTrim || (ws.trim() || !zeroWidth.trim())) {
            return _curry1(function trim(str) {
                var beginRx = new RegExp('^[' + ws + '][' + ws + ']*');
                var endRx = new RegExp('[' + ws + '][' + ws + ']*$');
                return str.replace(beginRx, '').replace(endRx, '');
            });
        } else {
            return _curry1(function trim(str) {
                return str.trim();
            });
        }
    }();

    /**
     * Gives a single-word string description of the (native) type of a value, returning such
     * answers as 'Object', 'Number', 'Array', or 'Null'.  Does not attempt to distinguish user
     * Object types any further, reporting them all as 'Object'.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category Type
     * @sig (* -> {*}) -> String
     * @param {*} val The value to test
     * @return {String}
     * @example
     *
     *      R.type({}); //=> "Object"
     *      R.type(1); //=> "Number"
     *      R.type(false); //=> "Boolean"
     *      R.type('s'); //=> "String"
     *      R.type(null); //=> "Null"
     *      R.type([]); //=> "Array"
     *      R.type(/[A-z]/); //=> "RegExp"
     */
    var type = _curry1(function type(val) {
        return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);
    });

    /**
     * Takes a function `fn`, which takes a single array argument, and returns
     * a function which:
     *
     *   - takes any number of positional arguments;
     *   - passes these arguments to `fn` as an array; and
     *   - returns the result.
     *
     * In other words, R.unapply derives a variadic function from a function
     * which takes an array. R.unapply is the inverse of R.apply.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category Function
     * @sig ([*...] -> a) -> (*... -> a)
     * @param {Function} fn
     * @return {Function}
     * @see R.apply
     * @example
     *
     *      R.unapply(JSON.stringify)(1, 2, 3); //=> '[1,2,3]'
     */
    var unapply = _curry1(function unapply(fn) {
        return function () {
            return fn(_slice(arguments));
        };
    });

    /**
     * Wraps a function of any arity (including nullary) in a function that accepts exactly 1
     * parameter. Any extraneous parameters will not be passed to the supplied function.
     *
     * @func
     * @memberOf R
     * @since v0.2.0
     * @category Function
     * @sig (* -> b) -> (a -> b)
     * @param {Function} fn The function to wrap.
     * @return {Function} A new function wrapping `fn`. The new function is guaranteed to be of
     *         arity 1.
     * @example
     *
     *      var takesTwoArgs = function(a, b) {
     *        return [a, b];
     *      };
     *      takesTwoArgs.length; //=> 2
     *      takesTwoArgs(1, 2); //=> [1, 2]
     *
     *      var takesOneArg = R.unary(takesTwoArgs);
     *      takesOneArg.length; //=> 1
     *      // Only 1 argument is passed to the wrapped function
     *      takesOneArg(1, 2); //=> [1, undefined]
     */
    var unary = _curry1(function unary(fn) {
        return nAry(1, fn);
    });

    /**
     * Returns a function of arity `n` from a (manually) curried function.
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category Function
     * @sig Number -> (a -> b) -> (a -> c)
     * @param {Number} length The arity for the returned function.
     * @param {Function} fn The function to uncurry.
     * @return {Function} A new function.
     * @see R.curry
     * @example
     *
     *      var addFour = a => b => c => d => a + b + c + d;
     *
     *      var uncurriedAddFour = R.uncurryN(4, addFour);
     *      uncurriedAddFour(1, 2, 3, 4); //=> 10
     */
    var uncurryN = _curry2(function uncurryN(depth, fn) {
        return curryN(depth, function () {
            var currentDepth = 1;
            var value = fn;
            var idx = 0;
            var endIdx;
            while (currentDepth <= depth && typeof value === 'function') {
                endIdx = currentDepth === depth ? arguments.length : idx + value.length;
                value = value.apply(this, _slice(arguments, idx, endIdx));
                currentDepth += 1;
                idx = endIdx;
            }
            return value;
        });
    });

    /**
     * Builds a list from a seed value. Accepts an iterator function, which returns either false
     * to stop iteration or an array of length 2 containing the value to add to the resulting
     * list and the seed to be used in the next call to the iterator function.
     *
     * The iterator function receives one argument: *(seed)*.
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category List
     * @sig (a -> [b]) -> * -> [b]
     * @param {Function} fn The iterator function. receives one argument, `seed`, and returns
     *        either false to quit iteration or an array of length two to proceed. The element
     *        at index 0 of this array will be added to the resulting array, and the element
     *        at index 1 will be passed to the next call to `fn`.
     * @param {*} seed The seed value.
     * @return {Array} The final list.
     * @example
     *
     *      var f = n => n > 50 ? false : [-n, n + 10];
     *      R.unfold(f, 10); //=> [-10, -20, -30, -40, -50]
     */
    var unfold = _curry2(function unfold(fn, seed) {
        var pair = fn(seed);
        var result = [];
        while (pair && pair.length) {
            result[result.length] = pair[0];
            pair = fn(pair[1]);
        }
        return result;
    });

    /**
     * Returns a new list containing only one copy of each element in the original list, based
     * upon the value returned by applying the supplied predicate to two list elements. Prefers
     * the first item if two items compare equal based on the predicate.
     *
     * @func
     * @memberOf R
     * @since v0.2.0
     * @category List
     * @sig (a, a -> Boolean) -> [a] -> [a]
     * @param {Function} pred A predicate used to test whether two items are equal.
     * @param {Array} list The array to consider.
     * @return {Array} The list of unique items.
     * @example
     *
     *      var strEq = R.eqBy(String);
     *      R.uniqWith(strEq)([1, '1', 2, 1]); //=> [1, 2]
     *      R.uniqWith(strEq)([{}, {}]);       //=> [{}]
     *      R.uniqWith(strEq)([1, '1', 1]);    //=> [1]
     *      R.uniqWith(strEq)(['1', 1, 1]);    //=> ['1']
     */
    var uniqWith = _curry2(function uniqWith(pred, list) {
        var idx = 0, len = list.length;
        var result = [], item;
        while (idx < len) {
            item = list[idx];
            if (!_containsWith(pred, item, result)) {
                result[result.length] = item;
            }
            idx += 1;
        }
        return result;
    });

    /**
     * Tests the final argument by passing it to the given predicate function.
     * If the predicate is not satisfied, the function will return the
     * result of calling the `whenFalseFn` function with the same argument. If the
     * predicate is satisfied, the argument is returned as is.
     *
     * @func
     * @memberOf R
     * @since v0.18.0
     * @category Logic
     * @see R.ifElse, R.when
     * @sig (a -> Boolean) -> (a -> a) -> a -> a
     * @param {Function} pred        A predicate function
     * @param {Function} whenFalseFn A function to invoke when the `pred` evaluates
     *                               to a falsy value.
     * @param {*}        x           An object to test with the `pred` function and
     *                               pass to `whenFalseFn` if necessary.
     * @return {*} Either `x` or the result of applying `x` to `whenFalseFn`.
     * @example
     *
     *      // coerceArray :: (a|[a]) -> [a]
     *      var coerceArray = R.unless(R.isArrayLike, R.of);
     *      coerceArray([1, 2, 3]); //=> [1, 2, 3]
     *      coerceArray(1);         //=> [1]
     */
    var unless = _curry3(function unless(pred, whenFalseFn, x) {
        return pred(x) ? x : whenFalseFn(x);
    });

    /**
     * Returns a new copy of the array with the element at the
     * provided index replaced with the given value.
     * @see R.adjust
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category List
     * @sig Number -> a -> [a] -> [a]
     * @param {Number} idx The index to update.
     * @param {*} x The value to exist at the given index of the returned array.
     * @param {Array|Arguments} list The source array-like object to be updated.
     * @return {Array} A copy of `list` with the value at index `idx` replaced with `x`.
     * @example
     *
     *      R.update(1, 11, [0, 1, 2]);     //=> [0, 11, 2]
     *      R.update(1)(11)([0, 1, 2]);     //=> [0, 11, 2]
     */
    var update = _curry3(function update(idx, x, list) {
        return adjust(always(x), idx, list);
    });

    /**
     * Returns a list of all the enumerable own properties of the supplied object.
     * Note that the order of the output array is not guaranteed across
     * different JS platforms.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @sig {k: v} -> [v]
     * @param {Object} obj The object to extract values from
     * @return {Array} An array of the values of the object's own properties.
     * @example
     *
     *      R.values({a: 1, b: 2, c: 3}); //=> [1, 2, 3]
     */
    var values = _curry1(function values(obj) {
        var props = keys(obj);
        var len = props.length;
        var vals = [];
        var idx = 0;
        while (idx < len) {
            vals[idx] = obj[props[idx]];
            idx += 1;
        }
        return vals;
    });

    /**
     * Returns a list of all the properties, including prototype properties,
     * of the supplied object.
     * Note that the order of the output array is not guaranteed to be
     * consistent across different JS platforms.
     *
     * @func
     * @memberOf R
     * @since v0.2.0
     * @category Object
     * @sig {k: v} -> [v]
     * @param {Object} obj The object to extract values from
     * @return {Array} An array of the values of the object's own and prototype properties.
     * @example
     *
     *      var F = function() { this.x = 'X'; };
     *      F.prototype.y = 'Y';
     *      var f = new F();
     *      R.valuesIn(f); //=> ['X', 'Y']
     */
    var valuesIn = _curry1(function valuesIn(obj) {
        var prop, vs = [];
        for (prop in obj) {
            vs[vs.length] = obj[prop];
        }
        return vs;
    });

    /**
     * Returns a "view" of the given data structure, determined by the given lens.
     * The lens's focus determines which portion of the data structure is visible.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category Object
     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s
     * @sig Lens s a -> s -> a
     * @param {Lens} lens
     * @param {*} x
     * @return {*}
     * @see R.prop, R.lensIndex, R.lensProp
     * @example
     *
     *      var xLens = R.lensProp('x');
     *
     *      R.view(xLens, {x: 1, y: 2});  //=> 1
     *      R.view(xLens, {x: 4, y: 2});  //=> 4
     */
    var view = function () {
        var Const = function (x) {
            return {
                value: x,
                map: function () {
                    return this;
                }
            };
        };
        return _curry2(function view(lens, x) {
            return lens(Const)(x).value;
        });
    }();

    /**
     * Tests the final argument by passing it to the given predicate function.
     * If the predicate is satisfied, the function will return the result
     * of calling the `whenTrueFn` function with the same argument. If the predicate
     * is not satisfied, the argument is returned as is.
     *
     * @func
     * @memberOf R
     * @since v0.18.0
     * @category Logic
     * @see R.ifElse, R.unless
     * @sig (a -> Boolean) -> (a -> a) -> a -> a
     * @param {Function} pred       A predicate function
     * @param {Function} whenTrueFn A function to invoke when the `condition`
     *                              evaluates to a truthy value.
     * @param {*}        x          An object to test with the `pred` function and
     *                              pass to `whenTrueFn` if necessary.
     * @return {*} Either `x` or the result of applying `x` to `whenTrueFn`.
     * @example
     *
     *      // truncate :: String -> String
     *      var truncate = R.when(
     *        R.propSatisfies(R.gt(R.__, 10), 'length'),
     *        R.pipe(R.take(10), R.append('…'), R.join(''))
     *      );
     *      truncate('12345');         //=> '12345'
     *      truncate('0123456789ABC'); //=> '0123456789…'
     */
    var when = _curry3(function when(pred, whenTrueFn, x) {
        return pred(x) ? whenTrueFn(x) : x;
    });

    /**
     * Takes a spec object and a test object; returns true if the test satisfies
     * the spec. Each of the spec's own properties must be a predicate function.
     * Each predicate is applied to the value of the corresponding property of
     * the test object. `where` returns true if all the predicates return true,
     * false otherwise.
     *
     * `where` is well suited to declaratively expressing constraints for other
     * functions such as `filter` and `find`.
     *
     * @func
     * @memberOf R
     * @since v0.1.1
     * @category Object
     * @sig {String: (* -> Boolean)} -> {String: *} -> Boolean
     * @param {Object} spec
     * @param {Object} testObj
     * @return {Boolean}
     * @example
     *
     *      // pred :: Object -> Boolean
     *      var pred = R.where({
     *        a: R.equals('foo'),
     *        b: R.complement(R.equals('bar')),
     *        x: R.gt(_, 10),
     *        y: R.lt(_, 20)
     *      });
     *
     *      pred({a: 'foo', b: 'xxx', x: 11, y: 19}); //=> true
     *      pred({a: 'xxx', b: 'xxx', x: 11, y: 19}); //=> false
     *      pred({a: 'foo', b: 'bar', x: 11, y: 19}); //=> false
     *      pred({a: 'foo', b: 'xxx', x: 10, y: 19}); //=> false
     *      pred({a: 'foo', b: 'xxx', x: 11, y: 20}); //=> false
     */
    var where = _curry2(function where(spec, testObj) {
        for (var prop in spec) {
            if (_has(prop, spec) && !spec[prop](testObj[prop])) {
                return false;
            }
        }
        return true;
    });

    /**
     * Wrap a function inside another to allow you to make adjustments to the parameters, or do
     * other processing either before the internal function is called or with its results.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig (a... -> b) -> ((a... -> b) -> a... -> c) -> (a... -> c)
     * @param {Function} fn The function to wrap.
     * @param {Function} wrapper The wrapper function.
     * @return {Function} The wrapped function.
     * @example
     *
     *      var greet = name => 'Hello ' + name;
     *
     *      var shoutedGreet = R.wrap(greet, (gr, name) => gr(name).toUpperCase());
     *
     *      shoutedGreet("Kathy"); //=> "HELLO KATHY"
     *
     *      var shortenedGreet = R.wrap(greet, function(gr, name) {
     *        return gr(name.substring(0, 3));
     *      });
     *      shortenedGreet("Robert"); //=> "Hello Rob"
     */
    var wrap = _curry2(function wrap(fn, wrapper) {
        return curryN(fn.length, function () {
            return wrapper.apply(this, _concat([fn], arguments));
        });
    });

    /**
     * Creates a new list out of the two supplied by creating each possible
     * pair from the lists.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig [a] -> [b] -> [[a,b]]
     * @param {Array} as The first list.
     * @param {Array} bs The second list.
     * @return {Array} The list made by combining each possible pair from
     *         `as` and `bs` into pairs (`[a, b]`).
     * @example
     *
     *      R.xprod([1, 2], ['a', 'b']); //=> [[1, 'a'], [1, 'b'], [2, 'a'], [2, 'b']]
     */
    // = xprodWith(prepend); (takes about 3 times as long...)
    var xprod = _curry2(function xprod(a, b) {
        // = xprodWith(prepend); (takes about 3 times as long...)
        var idx = 0;
        var ilen = a.length;
        var j;
        var jlen = b.length;
        var result = [];
        while (idx < ilen) {
            j = 0;
            while (j < jlen) {
                result[result.length] = [
                    a[idx],
                    b[j]
                ];
                j += 1;
            }
            idx += 1;
        }
        return result;
    });

    /**
     * Creates a new list out of the two supplied by pairing up
     * equally-positioned items from both lists.  The returned list is
     * truncated to the length of the shorter of the two input lists.
     * Note: `zip` is equivalent to `zipWith(function(a, b) { return [a, b] })`.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig [a] -> [b] -> [[a,b]]
     * @param {Array} list1 The first array to consider.
     * @param {Array} list2 The second array to consider.
     * @return {Array} The list made by pairing up same-indexed elements of `list1` and `list2`.
     * @example
     *
     *      R.zip([1, 2, 3], ['a', 'b', 'c']); //=> [[1, 'a'], [2, 'b'], [3, 'c']]
     */
    var zip = _curry2(function zip(a, b) {
        var rv = [];
        var idx = 0;
        var len = Math.min(a.length, b.length);
        while (idx < len) {
            rv[idx] = [
                a[idx],
                b[idx]
            ];
            idx += 1;
        }
        return rv;
    });

    /**
     * Creates a new object out of a list of keys and a list of values.
     *
     * @func
     * @memberOf R
     * @since v0.3.0
     * @category List
     * @sig [String] -> [*] -> {String: *}
     * @param {Array} keys The array that will be properties on the output object.
     * @param {Array} values The list of values on the output object.
     * @return {Object} The object made by pairing up same-indexed elements of `keys` and `values`.
     * @example
     *
     *      R.zipObj(['a', 'b', 'c'], [1, 2, 3]); //=> {a: 1, b: 2, c: 3}
     */
    var zipObj = _curry2(function zipObj(keys, values) {
        var idx = 0, len = keys.length, out = {};
        while (idx < len) {
            out[keys[idx]] = values[idx];
            idx += 1;
        }
        return out;
    });

    /**
     * Creates a new list out of the two supplied by applying the function to
     * each equally-positioned pair in the lists. The returned list is
     * truncated to the length of the shorter of the two input lists.
     *
     * @function
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a,b -> c) -> [a] -> [b] -> [c]
     * @param {Function} fn The function used to combine the two elements into one value.
     * @param {Array} list1 The first array to consider.
     * @param {Array} list2 The second array to consider.
     * @return {Array} The list made by combining same-indexed elements of `list1` and `list2`
     *         using `fn`.
     * @example
     *
     *      var f = (x, y) => {
     *        // ...
     *      };
     *      R.zipWith(f, [1, 2, 3], ['a', 'b', 'c']);
     *      //=> [f(1, 'a'), f(2, 'b'), f(3, 'c')]
     */
    var zipWith = _curry3(function zipWith(fn, a, b) {
        var rv = [], idx = 0, len = Math.min(a.length, b.length);
        while (idx < len) {
            rv[idx] = fn(a[idx], b[idx]);
            idx += 1;
        }
        return rv;
    });

    /**
     * A function that always returns `false`. Any passed in parameters are ignored.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Function
     * @sig * -> Boolean
     * @param {*}
     * @return {Boolean}
     * @see R.always, R.T
     * @example
     *
     *      R.F(); //=> false
     */
    var F = always(false);

    /**
     * A function that always returns `true`. Any passed in parameters are ignored.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Function
     * @sig * -> Boolean
     * @param {*}
     * @return {Boolean}
     * @see R.always, R.F
     * @example
     *
     *      R.T(); //=> true
     */
    var T = always(true);

    var _aperture = function _aperture(n, list) {
        var idx = 0;
        var limit = list.length - (n - 1);
        var acc = new Array(limit >= 0 ? limit : 0);
        while (idx < limit) {
            acc[idx] = _slice(list, idx, idx + n);
            idx += 1;
        }
        return acc;
    };

    /**
     * Similar to hasMethod, this checks whether a function has a [methodname]
     * function. If it isn't an array it will execute that function otherwise it will
     * default to the ramda implementation.
     *
     * @private
     * @param {Function} fn ramda implemtation
     * @param {String} methodname property to check for a custom implementation
     * @return {Object} Whatever the return value of the method is.
     */
    var _checkForMethod = function _checkForMethod(methodname, fn) {
        return function () {
            var length = arguments.length;
            if (length === 0) {
                return fn();
            }
            var obj = arguments[length - 1];
            return _isArray(obj) || typeof obj[methodname] !== 'function' ? fn.apply(this, arguments) : obj[methodname].apply(obj, _slice(arguments, 0, length - 1));
        };
    };

    /**
     * Copies an object.
     *
     * @private
     * @param {*} value The value to be copied
     * @param {Array} refFrom Array containing the source references
     * @param {Array} refTo Array containing the copied source references
     * @return {*} The copied value.
     */
    var _clone = function _clone(value, refFrom, refTo) {
        var copy = function copy(copiedValue) {
            var len = refFrom.length;
            var idx = 0;
            while (idx < len) {
                if (value === refFrom[idx]) {
                    return refTo[idx];
                }
                idx += 1;
            }
            refFrom[idx + 1] = value;
            refTo[idx + 1] = copiedValue;
            for (var key in value) {
                copiedValue[key] = _clone(value[key], refFrom, refTo);
            }
            return copiedValue;
        };
        switch (type(value)) {
        case 'Object':
            return copy({});
        case 'Array':
            return copy([]);
        case 'Date':
            return new Date(value);
        case 'RegExp':
            return _cloneRegExp(value);
        default:
            return value;
        }
    };

    var _createPartialApplicator = function _createPartialApplicator(concat) {
        return _curry2(function (fn, args) {
            return _arity(Math.max(0, fn.length - args.length), function () {
                return fn.apply(this, concat(args, arguments));
            });
        });
    };

    /**
     * Returns a function that dispatches with different strategies based on the
     * object in list position (last argument). If it is an array, executes [fn].
     * Otherwise, if it has a  function with [methodname], it will execute that
     * function (functor case). Otherwise, if it is a transformer, uses transducer
     * [xf] to return a new transformer (transducer case). Otherwise, it will
     * default to executing [fn].
     *
     * @private
     * @param {String} methodname property to check for a custom implementation
     * @param {Function} xf transducer to initialize if object is transformer
     * @param {Function} fn default ramda implementation
     * @return {Function} A function that dispatches on object in list position
     */
    var _dispatchable = function _dispatchable(methodname, xf, fn) {
        return function () {
            var length = arguments.length;
            if (length === 0) {
                return fn();
            }
            var obj = arguments[length - 1];
            if (!_isArray(obj)) {
                var args = _slice(arguments, 0, length - 1);
                if (typeof obj[methodname] === 'function') {
                    return obj[methodname].apply(obj, args);
                }
                if (_isTransformer(obj)) {
                    var transducer = xf.apply(null, args);
                    return transducer(obj);
                }
            }
            return fn.apply(this, arguments);
        };
    };

    // Values of other types are only equal if identical.
    var _equals = function _equals(a, b, stackA, stackB) {
        if (identical(a, b)) {
            return true;
        }
        if (type(a) !== type(b)) {
            return false;
        }
        if (a == null || b == null) {
            return false;
        }
        if (typeof a.equals === 'function' || typeof b.equals === 'function') {
            return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);
        }
        switch (type(a)) {
        case 'Arguments':
        case 'Array':
        case 'Object':
            break;
        case 'Boolean':
        case 'Number':
        case 'String':
            if (!(typeof a === typeof b && identical(a.valueOf(), b.valueOf()))) {
                return false;
            }
            break;
        case 'Date':
            if (!identical(a.valueOf(), b.valueOf())) {
                return false;
            }
            break;
        case 'RegExp':
            if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {
                return false;
            }
            break;
        case 'Map':
        case 'Set':
            if (!_equals(_arrayFromIterator(a.entries()), _arrayFromIterator(b.entries()), stackA, stackB)) {
                return false;
            }
            break;
        case 'Int8Array':
        case 'Uint8Array':
        case 'Uint8ClampedArray':
        case 'Int16Array':
        case 'Uint16Array':
        case 'Int32Array':
        case 'Uint32Array':
        case 'Float32Array':
        case 'Float64Array':
            break;
        case 'ArrayBuffer':
            break;
        default:
            // Values of other types are only equal if identical.
            return false;
        }
        var keysA = keys(a);
        if (keysA.length !== keys(b).length) {
            return false;
        }
        var idx = stackA.length - 1;
        while (idx >= 0) {
            if (stackA[idx] === a) {
                return stackB[idx] === b;
            }
            idx -= 1;
        }
        stackA.push(a);
        stackB.push(b);
        idx = keysA.length - 1;
        while (idx >= 0) {
            var key = keysA[idx];
            if (!(_has(key, b) && _equals(b[key], a[key], stackA, stackB))) {
                return false;
            }
            idx -= 1;
        }
        stackA.pop();
        stackB.pop();
        return true;
    };

    /**
     * `_makeFlat` is a helper function that returns a one-level or fully recursive function
     * based on the flag passed in.
     *
     * @private
     */
    var _makeFlat = function _makeFlat(recursive) {
        return function flatt(list) {
            var value, result = [], idx = 0, j, ilen = list.length, jlen;
            while (idx < ilen) {
                if (isArrayLike(list[idx])) {
                    value = recursive ? flatt(list[idx]) : list[idx];
                    j = 0;
                    jlen = value.length;
                    while (j < jlen) {
                        result[result.length] = value[j];
                        j += 1;
                    }
                } else {
                    result[result.length] = list[idx];
                }
                idx += 1;
            }
            return result;
        };
    };

    var _reduce = function () {
        function _arrayReduce(xf, acc, list) {
            var idx = 0, len = list.length;
            while (idx < len) {
                acc = xf['@@transducer/step'](acc, list[idx]);
                if (acc && acc['@@transducer/reduced']) {
                    acc = acc['@@transducer/value'];
                    break;
                }
                idx += 1;
            }
            return xf['@@transducer/result'](acc);
        }
        function _iterableReduce(xf, acc, iter) {
            var step = iter.next();
            while (!step.done) {
                acc = xf['@@transducer/step'](acc, step.value);
                if (acc && acc['@@transducer/reduced']) {
                    acc = acc['@@transducer/value'];
                    break;
                }
                step = iter.next();
            }
            return xf['@@transducer/result'](acc);
        }
        function _methodReduce(xf, acc, obj) {
            return xf['@@transducer/result'](obj.reduce(bind(xf['@@transducer/step'], xf), acc));
        }
        var symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';
        return function _reduce(fn, acc, list) {
            if (typeof fn === 'function') {
                fn = _xwrap(fn);
            }
            if (isArrayLike(list)) {
                return _arrayReduce(fn, acc, list);
            }
            if (typeof list.reduce === 'function') {
                return _methodReduce(fn, acc, list);
            }
            if (list[symIterator] != null) {
                return _iterableReduce(fn, acc, list[symIterator]());
            }
            if (typeof list.next === 'function') {
                return _iterableReduce(fn, acc, list);
            }
            throw new TypeError('reduce: list must be array or iterable');
        };
    }();

    var _xall = function () {
        function XAll(f, xf) {
            this.xf = xf;
            this.f = f;
            this.all = true;
        }
        XAll.prototype['@@transducer/init'] = _xfBase.init;
        XAll.prototype['@@transducer/result'] = function (result) {
            if (this.all) {
                result = this.xf['@@transducer/step'](result, true);
            }
            return this.xf['@@transducer/result'](result);
        };
        XAll.prototype['@@transducer/step'] = function (result, input) {
            if (!this.f(input)) {
                this.all = false;
                result = _reduced(this.xf['@@transducer/step'](result, false));
            }
            return result;
        };
        return _curry2(function _xall(f, xf) {
            return new XAll(f, xf);
        });
    }();

    var _xany = function () {
        function XAny(f, xf) {
            this.xf = xf;
            this.f = f;
            this.any = false;
        }
        XAny.prototype['@@transducer/init'] = _xfBase.init;
        XAny.prototype['@@transducer/result'] = function (result) {
            if (!this.any) {
                result = this.xf['@@transducer/step'](result, false);
            }
            return this.xf['@@transducer/result'](result);
        };
        XAny.prototype['@@transducer/step'] = function (result, input) {
            if (this.f(input)) {
                this.any = true;
                result = _reduced(this.xf['@@transducer/step'](result, true));
            }
            return result;
        };
        return _curry2(function _xany(f, xf) {
            return new XAny(f, xf);
        });
    }();

    var _xaperture = function () {
        function XAperture(n, xf) {
            this.xf = xf;
            this.pos = 0;
            this.full = false;
            this.acc = new Array(n);
        }
        XAperture.prototype['@@transducer/init'] = _xfBase.init;
        XAperture.prototype['@@transducer/result'] = _xfBase.result;
        XAperture.prototype['@@transducer/step'] = function (result, input) {
            this.store(input);
            return this.full ? this.xf['@@transducer/step'](result, this.getCopy()) : result;
        };
        XAperture.prototype.store = function (input) {
            this.acc[this.pos] = input;
            this.pos += 1;
            if (this.pos === this.acc.length) {
                this.pos = 0;
                this.full = true;
            }
        };
        XAperture.prototype.getCopy = function () {
            return _concat(_slice(this.acc, this.pos), _slice(this.acc, 0, this.pos));
        };
        return _curry2(function _xaperture(n, xf) {
            return new XAperture(n, xf);
        });
    }();

    var _xdrop = function () {
        function XDrop(n, xf) {
            this.xf = xf;
            this.n = n;
        }
        XDrop.prototype['@@transducer/init'] = _xfBase.init;
        XDrop.prototype['@@transducer/result'] = _xfBase.result;
        XDrop.prototype['@@transducer/step'] = function (result, input) {
            if (this.n > 0) {
                this.n -= 1;
                return result;
            }
            return this.xf['@@transducer/step'](result, input);
        };
        return _curry2(function _xdrop(n, xf) {
            return new XDrop(n, xf);
        });
    }();

    var _xdropWhile = function () {
        function XDropWhile(f, xf) {
            this.xf = xf;
            this.f = f;
        }
        XDropWhile.prototype['@@transducer/init'] = _xfBase.init;
        XDropWhile.prototype['@@transducer/result'] = _xfBase.result;
        XDropWhile.prototype['@@transducer/step'] = function (result, input) {
            if (this.f) {
                if (this.f(input)) {
                    return result;
                }
                this.f = null;
            }
            return this.xf['@@transducer/step'](result, input);
        };
        return _curry2(function _xdropWhile(f, xf) {
            return new XDropWhile(f, xf);
        });
    }();

    var _xgroupBy = function () {
        function XGroupBy(f, xf) {
            this.xf = xf;
            this.f = f;
            this.inputs = {};
        }
        XGroupBy.prototype['@@transducer/init'] = _xfBase.init;
        XGroupBy.prototype['@@transducer/result'] = function (result) {
            var key;
            for (key in this.inputs) {
                if (_has(key, this.inputs)) {
                    result = this.xf['@@transducer/step'](result, this.inputs[key]);
                    if (result['@@transducer/reduced']) {
                        result = result['@@transducer/value'];
                        break;
                    }
                }
            }
            return this.xf['@@transducer/result'](result);
        };
        XGroupBy.prototype['@@transducer/step'] = function (result, input) {
            var key = this.f(input);
            this.inputs[key] = this.inputs[key] || [
                key,
                []
            ];
            this.inputs[key][1] = append(input, this.inputs[key][1]);
            return result;
        };
        return _curry2(function _xgroupBy(f, xf) {
            return new XGroupBy(f, xf);
        });
    }();

    /**
     * Creates a new list iteration function from an existing one by adding two new parameters
     * to its callback function: the current index, and the entire list.
     *
     * This would turn, for instance, Ramda's simple `map` function into one that more closely
     * resembles `Array.prototype.map`.  Note that this will only work for functions in which
     * the iteration callback function is the first parameter, and where the list is the last
     * parameter.  (This latter might be unimportant if the list parameter is not used.)
     *
     * @func
     * @memberOf R
     * @since v0.15.0
     * @category Function
     * @category List
     * @sig ((a ... -> b) ... -> [a] -> *) -> (a ..., Int, [a] -> b) ... -> [a] -> *)
     * @param {Function} fn A list iteration function that does not pass index or list to its callback
     * @return {Function} An altered list iteration function that passes (item, index, list) to its callback
     * @example
     *
     *      var mapIndexed = R.addIndex(R.map);
     *      mapIndexed((val, idx) => idx + '-' + val, ['f', 'o', 'o', 'b', 'a', 'r']);
     *      //=> ['0-f', '1-o', '2-o', '3-b', '4-a', '5-r']
     */
    var addIndex = _curry1(function addIndex(fn) {
        return curryN(fn.length, function () {
            var idx = 0;
            var origFn = arguments[0];
            var list = arguments[arguments.length - 1];
            var args = _slice(arguments);
            args[0] = function () {
                var result = origFn.apply(this, _concat(arguments, [
                    idx,
                    list
                ]));
                idx += 1;
                return result;
            };
            return fn.apply(this, args);
        });
    });

    /**
     * Returns `true` if all elements of the list match the predicate, `false` if there are any
     * that don't.
     *
     * Dispatches to the `all` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a -> Boolean) -> [a] -> Boolean
     * @param {Function} fn The predicate function.
     * @param {Array} list The array to consider.
     * @return {Boolean} `true` if the predicate is satisfied by every element, `false`
     *         otherwise.
     * @see R.any, R.none
     * @example
     *
     *      var lessThan2 = R.flip(R.lt)(2);
     *      var lessThan3 = R.flip(R.lt)(3);
     *      R.all(lessThan2)([1, 2]); //=> false
     *      R.all(lessThan3)([1, 2]); //=> true
     */
    var all = _curry2(_dispatchable('all', _xall, function all(fn, list) {
        var idx = 0;
        while (idx < list.length) {
            if (!fn(list[idx])) {
                return false;
            }
            idx += 1;
        }
        return true;
    }));

    /**
     * Returns `true` if at least one of elements of the list match the predicate, `false`
     * otherwise.
     *
     * Dispatches to the `any` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a -> Boolean) -> [a] -> Boolean
     * @param {Function} fn The predicate function.
     * @param {Array} list The array to consider.
     * @return {Boolean} `true` if the predicate is satisfied by at least one element, `false`
     *         otherwise.
     * @see R.all, R.none
     * @example
     *
     *      var lessThan0 = R.flip(R.lt)(0);
     *      var lessThan2 = R.flip(R.lt)(2);
     *      R.any(lessThan0)([1, 2]); //=> false
     *      R.any(lessThan2)([1, 2]); //=> true
     */
    var any = _curry2(_dispatchable('any', _xany, function any(fn, list) {
        var idx = 0;
        while (idx < list.length) {
            if (fn(list[idx])) {
                return true;
            }
            idx += 1;
        }
        return false;
    }));

    /**
     * Returns a new list, composed of n-tuples of consecutive elements
     * If `n` is greater than the length of the list, an empty list is returned.
     *
     * Dispatches to the `aperture` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.12.0
     * @category List
     * @sig Number -> [a] -> [[a]]
     * @param {Number} n The size of the tuples to create
     * @param {Array} list The list to split into `n`-tuples
     * @return {Array} The new list.
     * @example
     *
     *      R.aperture(2, [1, 2, 3, 4, 5]); //=> [[1, 2], [2, 3], [3, 4], [4, 5]]
     *      R.aperture(3, [1, 2, 3, 4, 5]); //=> [[1, 2, 3], [2, 3, 4], [3, 4, 5]]
     *      R.aperture(7, [1, 2, 3, 4, 5]); //=> []
     */
    var aperture = _curry2(_dispatchable('aperture', _xaperture, _aperture));

    /**
     * Wraps a function of any arity (including nullary) in a function that accepts exactly 2
     * parameters. Any extraneous parameters will not be passed to the supplied function.
     *
     * @func
     * @memberOf R
     * @since v0.2.0
     * @category Function
     * @sig (* -> c) -> (a, b -> c)
     * @param {Function} fn The function to wrap.
     * @return {Function} A new function wrapping `fn`. The new function is guaranteed to be of
     *         arity 2.
     * @example
     *
     *      var takesThreeArgs = function(a, b, c) {
     *        return [a, b, c];
     *      };
     *      takesThreeArgs.length; //=> 3
     *      takesThreeArgs(1, 2, 3); //=> [1, 2, 3]
     *
     *      var takesTwoArgs = R.binary(takesThreeArgs);
     *      takesTwoArgs.length; //=> 2
     *      // Only 2 arguments are passed to the wrapped function
     *      takesTwoArgs(1, 2, 3); //=> [1, 2, undefined]
     */
    var binary = _curry1(function binary(fn) {
        return nAry(2, fn);
    });

    /**
     * Creates a deep copy of the value which may contain (nested) `Array`s and `Object`s, `Number`s,
     * `String`s, `Boolean`s and `Date`s. `Function`s are not copied, but assigned by their
     * reference. Dispatches to a `clone` method if present.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @sig {*} -> {*}
     * @param {*} value The object or array to clone
     * @return {*} A new object or array.
     * @example
     *
     *      var objects = [{}, {}, {}];
     *      var objectsClone = R.clone(objects);
     *      objects[0] === objectsClone[0]; //=> false
     */
    var clone = _curry1(function clone(value) {
        return value != null && typeof value.clone === 'function' ? value.clone() : _clone(value, [], []);
    });

    /**
     * Creates an object containing a single key:value pair.
     *
     * @func
     * @memberOf R
     * @since v0.7.0
     * @category Object
     * @sig String -> a -> {String:a}
     * @param {String} key
     * @param {*} val
     * @return {Object}
     * @see R.pair, R.objOf
     * @deprecated since v0.18.0
     * @example
     *
     *      var matchPhrases = R.compose(
     *        R.createMapEntry('must'),
     *        R.map(R.createMapEntry('match_phrase'))
     *      );
     *      matchPhrases(['foo', 'bar', 'baz']); //=> {must: [{match_phrase: 'foo'}, {match_phrase: 'bar'}, {match_phrase: 'baz'}]}
     */
    var createMapEntry = objOf;

    /**
     * Returns a curried equivalent of the provided function. The curried
     * function has two unusual capabilities. First, its arguments needn't
     * be provided one at a time. If `f` is a ternary function and `g` is
     * `R.curry(f)`, the following are equivalent:
     *
     *   - `g(1)(2)(3)`
     *   - `g(1)(2, 3)`
     *   - `g(1, 2)(3)`
     *   - `g(1, 2, 3)`
     *
     * Secondly, the special placeholder value `R.__` may be used to specify
     * "gaps", allowing partial application of any combination of arguments,
     * regardless of their positions. If `g` is as above and `_` is `R.__`,
     * the following are equivalent:
     *
     *   - `g(1, 2, 3)`
     *   - `g(_, 2, 3)(1)`
     *   - `g(_, _, 3)(1)(2)`
     *   - `g(_, _, 3)(1, 2)`
     *   - `g(_, 2)(1)(3)`
     *   - `g(_, 2)(1, 3)`
     *   - `g(_, 2)(_, 3)(1)`
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig (* -> a) -> (* -> a)
     * @param {Function} fn The function to curry.
     * @return {Function} A new, curried function.
     * @see R.curryN
     * @example
     *
     *      var addFourNumbers = (a, b, c, d) => a + b + c + d;
     *
     *      var curriedAddFourNumbers = R.curry(addFourNumbers);
     *      var f = curriedAddFourNumbers(1, 2);
     *      var g = f(3);
     *      g(4); //=> 10
     */
    var curry = _curry1(function curry(fn) {
        return curryN(fn.length, fn);
    });

    /**
     * Returns a new list containing the last `n` elements of a given list, passing each value
     * to the supplied predicate function, skipping elements while the predicate function returns
     * `true`. The predicate function is passed one argument: *(value)*.
     *
     * Dispatches to the `dropWhile` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category List
     * @sig (a -> Boolean) -> [a] -> [a]
     * @param {Function} fn The function called per iteration.
     * @param {Array} list The collection to iterate over.
     * @return {Array} A new array.
     * @see R.takeWhile
     * @example
     *
     *      var lteTwo = x => x <= 2;
     *
     *      R.dropWhile(lteTwo, [1, 2, 3, 4, 3, 2, 1]); //=> [3, 4, 3, 2, 1]
     */
    var dropWhile = _curry2(_dispatchable('dropWhile', _xdropWhile, function dropWhile(pred, list) {
        var idx = 0, len = list.length;
        while (idx < len && pred(list[idx])) {
            idx += 1;
        }
        return _slice(list, idx);
    }));

    /**
     * Returns `true` if its arguments are equivalent, `false` otherwise.
     * Dispatches to an `equals` method if present. Handles cyclical data
     * structures.
     *
     * Dispatches to the `equals` method of both arguments, if present.
     *
     * @func
     * @memberOf R
     * @since v0.15.0
     * @category Relation
     * @sig a -> b -> Boolean
     * @param {*} a
     * @param {*} b
     * @return {Boolean}
     * @example
     *
     *      R.equals(1, 1); //=> true
     *      R.equals(1, '1'); //=> false
     *      R.equals([1, 2, 3], [1, 2, 3]); //=> true
     *
     *      var a = {}; a.v = a;
     *      var b = {}; b.v = b;
     *      R.equals(a, b); //=> true
     */
    var equals = _curry2(function equals(a, b) {
        return _equals(a, b, [], []);
    });

    /**
     * Returns a new list containing only those items that match a given predicate function.
     * The predicate function is passed one argument: *(value)*.
     *
     * Note that `R.filter` does not skip deleted or unassigned indices, unlike the native
     * `Array.prototype.filter` method. For more details on this behavior, see:
     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter#Description
     *
     * Dispatches to the `filter` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a -> Boolean) -> [a] -> [a]
     * @param {Function} fn The function called per iteration.
     * @param {Array} list The collection to iterate over.
     * @return {Array} The new filtered array.
     * @see R.reject
     * @example
     *
     *      var isEven = n => n % 2 === 0;
     *
     *      R.filter(isEven, [1, 2, 3, 4]); //=> [2, 4]
     */
    var filter = _curry2(_dispatchable('filter', _xfilter, _filter));

    /**
     * Returns the first element of the list which matches the predicate, or `undefined` if no
     * element matches.
     *
     * Dispatches to the `find` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a -> Boolean) -> [a] -> a | undefined
     * @param {Function} fn The predicate function used to determine if the element is the
     *        desired one.
     * @param {Array} list The array to consider.
     * @return {Object} The element found, or `undefined`.
     * @example
     *
     *      var xs = [{a: 1}, {a: 2}, {a: 3}];
     *      R.find(R.propEq('a', 2))(xs); //=> {a: 2}
     *      R.find(R.propEq('a', 4))(xs); //=> undefined
     */
    var find = _curry2(_dispatchable('find', _xfind, function find(fn, list) {
        var idx = 0;
        var len = list.length;
        while (idx < len) {
            if (fn(list[idx])) {
                return list[idx];
            }
            idx += 1;
        }
    }));

    /**
     * Returns the index of the first element of the list which matches the predicate, or `-1`
     * if no element matches.
     *
     * Dispatches to the `findIndex` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.1.1
     * @category List
     * @sig (a -> Boolean) -> [a] -> Number
     * @param {Function} fn The predicate function used to determine if the element is the
     * desired one.
     * @param {Array} list The array to consider.
     * @return {Number} The index of the element found, or `-1`.
     * @example
     *
     *      var xs = [{a: 1}, {a: 2}, {a: 3}];
     *      R.findIndex(R.propEq('a', 2))(xs); //=> 1
     *      R.findIndex(R.propEq('a', 4))(xs); //=> -1
     */
    var findIndex = _curry2(_dispatchable('findIndex', _xfindIndex, function findIndex(fn, list) {
        var idx = 0;
        var len = list.length;
        while (idx < len) {
            if (fn(list[idx])) {
                return idx;
            }
            idx += 1;
        }
        return -1;
    }));

    /**
     * Returns the last element of the list which matches the predicate, or `undefined` if no
     * element matches.
     *
     * Dispatches to the `findLast` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.1.1
     * @category List
     * @sig (a -> Boolean) -> [a] -> a | undefined
     * @param {Function} fn The predicate function used to determine if the element is the
     * desired one.
     * @param {Array} list The array to consider.
     * @return {Object} The element found, or `undefined`.
     * @example
     *
     *      var xs = [{a: 1, b: 0}, {a:1, b: 1}];
     *      R.findLast(R.propEq('a', 1))(xs); //=> {a: 1, b: 1}
     *      R.findLast(R.propEq('a', 4))(xs); //=> undefined
     */
    var findLast = _curry2(_dispatchable('findLast', _xfindLast, function findLast(fn, list) {
        var idx = list.length - 1;
        while (idx >= 0) {
            if (fn(list[idx])) {
                return list[idx];
            }
            idx -= 1;
        }
    }));

    /**
     * Returns the index of the last element of the list which matches the predicate, or
     * `-1` if no element matches.
     *
     * Dispatches to the `findLastIndex` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.1.1
     * @category List
     * @sig (a -> Boolean) -> [a] -> Number
     * @param {Function} fn The predicate function used to determine if the element is the
     * desired one.
     * @param {Array} list The array to consider.
     * @return {Number} The index of the element found, or `-1`.
     * @example
     *
     *      var xs = [{a: 1, b: 0}, {a:1, b: 1}];
     *      R.findLastIndex(R.propEq('a', 1))(xs); //=> 1
     *      R.findLastIndex(R.propEq('a', 4))(xs); //=> -1
     */
    var findLastIndex = _curry2(_dispatchable('findLastIndex', _xfindLastIndex, function findLastIndex(fn, list) {
        var idx = list.length - 1;
        while (idx >= 0) {
            if (fn(list[idx])) {
                return idx;
            }
            idx -= 1;
        }
        return -1;
    }));

    /**
     * Returns a new list by pulling every item out of it (and all its sub-arrays) and putting
     * them in a new array, depth-first.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig [a] -> [b]
     * @param {Array} list The array to consider.
     * @return {Array} The flattened list.
     * @see R.unnest
     * @example
     *
     *      R.flatten([1, 2, [3, 4], 5, [6, [7, 8, [9, [10, 11], 12]]]]);
     *      //=> [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]
     */
    var flatten = _curry1(_makeFlat(true));

    /**
     * Returns a new function much like the supplied one, except that the first two arguments'
     * order is reversed.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig (a -> b -> c -> ... -> z) -> (b -> a -> c -> ... -> z)
     * @param {Function} fn The function to invoke with its first two parameters reversed.
     * @return {*} The result of invoking `fn` with its first two parameters' order reversed.
     * @example
     *
     *      var mergeThree = (a, b, c) => [].concat(a, b, c);
     *
     *      mergeThree(1, 2, 3); //=> [1, 2, 3]
     *
     *      R.flip(mergeThree)(1, 2, 3); //=> [2, 1, 3]
     */
    var flip = _curry1(function flip(fn) {
        return curry(function (a, b) {
            var args = _slice(arguments);
            args[0] = b;
            args[1] = a;
            return fn.apply(this, args);
        });
    });

    /**
     * Iterate over an input `list`, calling a provided function `fn` for each element in the
     * list.
     *
     * `fn` receives one argument: *(value)*.
     *
     * Note: `R.forEach` does not skip deleted or unassigned indices (sparse arrays), unlike
     * the native `Array.prototype.forEach` method. For more details on this behavior, see:
     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#Description
     *
     * Also note that, unlike `Array.prototype.forEach`, Ramda's `forEach` returns the original
     * array. In some libraries this function is named `each`.
     *
     * Dispatches to the `forEach` method of the second argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.1.1
     * @category List
     * @sig (a -> *) -> [a] -> [a]
     * @param {Function} fn The function to invoke. Receives one argument, `value`.
     * @param {Array} list The list to iterate over.
     * @return {Array} The original list.
     * @example
     *
     *      var printXPlusFive = x => console.log(x + 5);
     *      R.forEach(printXPlusFive, [1, 2, 3]); //=> [1, 2, 3]
     *      //-> 6
     *      //-> 7
     *      //-> 8
     */
    var forEach = _curry2(_checkForMethod('forEach', function forEach(fn, list) {
        var len = list.length;
        var idx = 0;
        while (idx < len) {
            fn(list[idx]);
            idx += 1;
        }
        return list;
    }));

    /**
     * Returns a list of function names of object's own functions
     *
     * @func
     * @memberOf R
     * @since v0.4.0
     * @category Object
     * @sig {*} -> [String]
     * @param {Object} obj The objects with functions in it
     * @return {Array} A list of the object's own properties that map to functions.
     * @deprecated since v0.18.0
     * @example
     *
     *      R.functions(R); // returns list of ramda's own function names
     *
     *      var F = function() { this.x = function(){}; this.y = 1; }
     *      F.prototype.z = function() {};
     *      F.prototype.a = 100;
     *      R.functions(new F()); //=> ["x"]
     */
    var functions = _curry1(_functionsWith(keys));

    /**
     * Returns a list of function names of object's own and prototype functions
     *
     * @func
     * @memberOf R
     * @since v0.4.0
     * @category Object
     * @sig {*} -> [String]
     * @param {Object} obj The objects with functions in it
     * @return {Array} A list of the object's own properties and prototype
     *         properties that map to functions.
     * @deprecated since v0.18.0
     * @example
     *
     *      R.functionsIn(R); // returns list of ramda's own and prototype function names
     *
     *      var F = function() { this.x = function(){}; this.y = 1; }
     *      F.prototype.z = function() {};
     *      F.prototype.a = 100;
     *      R.functionsIn(new F()); //=> ["x", "z"]
     */
    var functionsIn = _curry1(_functionsWith(keysIn));

    /**
     * Splits a list into sub-lists stored in an object, based on the result of calling a String-returning function
     * on each element, and grouping the results according to values returned.
     *
     * Dispatches to the `groupBy` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a -> String) -> [a] -> {String: [a]}
     * @param {Function} fn Function :: a -> String
     * @param {Array} list The array to group
     * @return {Object} An object with the output of `fn` for keys, mapped to arrays of elements
     *         that produced that key when passed to `fn`.
     * @example
     *
     *      var byGrade = R.groupBy(function(student) {
     *        var score = student.score;
     *        return score < 65 ? 'F' :
     *               score < 70 ? 'D' :
     *               score < 80 ? 'C' :
     *               score < 90 ? 'B' : 'A';
     *      });
     *      var students = [{name: 'Abby', score: 84},
     *                      {name: 'Eddy', score: 58},
     *                      // ...
     *                      {name: 'Jack', score: 69}];
     *      byGrade(students);
     *      // {
     *      //   'A': [{name: 'Dianne', score: 99}],
     *      //   'B': [{name: 'Abby', score: 84}]
     *      //   // ...,
     *      //   'F': [{name: 'Eddy', score: 58}]
     *      // }
     */
    var groupBy = _curry2(_dispatchable('groupBy', _xgroupBy, function groupBy(fn, list) {
        return _reduce(function (acc, elt) {
            var key = fn(elt);
            acc[key] = append(elt, acc[key] || (acc[key] = []));
            return acc;
        }, {}, list);
    }));

    /**
     * Returns the first element of the given list or string. In some libraries
     * this function is named `first`.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @see R.tail, R.init, R.last
     * @sig [a] -> a | Undefined
     * @sig String -> String
     * @param {*} list
     * @return {*}
     * @example
     *
     *      R.head(['fi', 'fo', 'fum']); //=> 'fi'
     *      R.head([]); //=> undefined
     *
     *      R.head('abc'); //=> 'a'
     *      R.head(''); //=> ''
     */
    var head = nth(0);

    /**
     * Combines two lists into a set (i.e. no duplicates) composed of those
     * elements common to both lists.  Duplication is determined according
     * to the value returned by applying the supplied predicate to two list
     * elements.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig (a,a -> Boolean) -> [a] -> [a] -> [a]
     * @param {Function} pred A predicate function that determines whether
     *        the two supplied elements are equal.
     * @param {Array} list1 One list of items to compare
     * @param {Array} list2 A second list of items to compare
     * @see R.intersection
     * @return {Array} A new list containing those elements common to both lists.
     * @example
     *
     *      var buffaloSpringfield = [
     *        {id: 824, name: 'Richie Furay'},
     *        {id: 956, name: 'Dewey Martin'},
     *        {id: 313, name: 'Bruce Palmer'},
     *        {id: 456, name: 'Stephen Stills'},
     *        {id: 177, name: 'Neil Young'}
     *      ];
     *      var csny = [
     *        {id: 204, name: 'David Crosby'},
     *        {id: 456, name: 'Stephen Stills'},
     *        {id: 539, name: 'Graham Nash'},
     *        {id: 177, name: 'Neil Young'}
     *      ];
     *
     *      R.intersectionWith(R.eqBy(R.prop('id')), buffaloSpringfield, csny);
     *      //=> [{id: 456, name: 'Stephen Stills'}, {id: 177, name: 'Neil Young'}]
     */
    var intersectionWith = _curry3(function intersectionWith(pred, list1, list2) {
        var results = [], idx = 0;
        while (idx < list1.length) {
            if (_containsWith(pred, list1[idx], list2)) {
                results[results.length] = list1[idx];
            }
            idx += 1;
        }
        return uniqWith(pred, results);
    });

    /**
     * Creates a new list with the separator interposed between elements.
     *
     * Dispatches to the `intersperse` method of the second argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category List
     * @sig a -> [a] -> [a]
     * @param {*} separator The element to add to the list.
     * @param {Array} list The list to be interposed.
     * @return {Array} The new list.
     * @example
     *
     *      R.intersperse('n', ['ba', 'a', 'a']); //=> ['ba', 'n', 'a', 'n', 'a']
     */
    var intersperse = _curry2(_checkForMethod('intersperse', function intersperse(separator, list) {
        var out = [];
        var idx = 0;
        var length = list.length;
        while (idx < length) {
            if (idx === length - 1) {
                out.push(list[idx]);
            } else {
                out.push(list[idx], separator);
            }
            idx += 1;
        }
        return out;
    }));

    /**
     * Same as R.invertObj, however this accounts for objects
     * with duplicate values by putting the values into an
     * array.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Object
     * @sig {s: x} -> {x: [ s, ... ]}
     * @param {Object} obj The object or array to invert
     * @return {Object} out A new object with keys
     * in an array.
     * @example
     *
     *      var raceResultsByFirstName = {
     *        first: 'alice',
     *        second: 'jake',
     *        third: 'alice',
     *      };
     *      R.invert(raceResultsByFirstName);
     *      //=> { 'alice': ['first', 'third'], 'jake':['second'] }
     */
    var invert = _curry1(function invert(obj) {
        var props = keys(obj);
        var len = props.length;
        var idx = 0;
        var out = {};
        while (idx < len) {
            var key = props[idx];
            var val = obj[key];
            var list = _has(val, out) ? out[val] : out[val] = [];
            list[list.length] = key;
            idx += 1;
        }
        return out;
    });

    /**
     * Returns a new object with the keys of the given object
     * as values, and the values of the given object, which are
     * coerced to strings, as keys.
     * Note that the last key found is preferred when handling
     * the same value.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Object
     * @sig {s: x} -> {x: s}
     * @param {Object} obj The object or array to invert
     * @return {Object} out A new object
     * @example
     *
     *      var raceResults = {
     *        first: 'alice',
     *        second: 'jake'
     *      };
     *      R.invertObj(raceResults);
     *      //=> { 'alice': 'first', 'jake':'second' }
     *
     *      // Alternatively:
     *      var raceResults = ['alice', 'jake'];
     *      R.invertObj(raceResults);
     *      //=> { 'alice': '0', 'jake':'1' }
     */
    var invertObj = _curry1(function invertObj(obj) {
        var props = keys(obj);
        var len = props.length;
        var idx = 0;
        var out = {};
        while (idx < len) {
            var key = props[idx];
            out[obj[key]] = key;
            idx += 1;
        }
        return out;
    });

    /**
     * Returns `true` if the given value is its type's empty value; `false`
     * otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Logic
     * @sig a -> Boolean
     * @param {*} x
     * @return {Boolean}
     * @see R.empty
     * @example
     *
     *      R.isEmpty([1, 2, 3]);   //=> false
     *      R.isEmpty([]);          //=> true
     *      R.isEmpty('');          //=> true
     *      R.isEmpty(null);        //=> false
     *      R.isEmpty({});          //=> true
     *      R.isEmpty({length: 0}); //=> false
     */
    var isEmpty = _curry1(function isEmpty(x) {
        return x != null && equals(x, empty(x));
    });

    /**
     * Returns the last element of the given list or string.
     *
     * @func
     * @memberOf R
     * @since v0.1.4
     * @category List
     * @see R.init, R.head, R.tail
     * @sig [a] -> a | Undefined
     * @sig String -> String
     * @param {*} list
     * @return {*}
     * @example
     *
     *      R.last(['fi', 'fo', 'fum']); //=> 'fum'
     *      R.last([]); //=> undefined
     *
     *      R.last('abc'); //=> 'c'
     *      R.last(''); //=> ''
     */
    var last = nth(-1);

    /**
     * Returns the position of the last occurrence of an item in
     * an array, or -1 if the item is not included in the array.
     * `R.equals` is used to determine equality.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig a -> [a] -> Number
     * @param {*} target The item to find.
     * @param {Array} xs The array to search in.
     * @return {Number} the index of the target, or -1 if the target is not found.
     * @see R.indexOf
     * @example
     *
     *      R.lastIndexOf(3, [-1,3,3,0,1,2,3,4]); //=> 6
     *      R.lastIndexOf(10, [1,2,3,4]); //=> -1
     */
    var lastIndexOf = _curry2(function lastIndexOf(target, xs) {
        if (typeof xs.lastIndexOf === 'function' && !_isArray(xs)) {
            return xs.lastIndexOf(target);
        } else {
            var idx = xs.length - 1;
            while (idx >= 0) {
                if (equals(xs[idx], target)) {
                    return idx;
                }
                idx -= 1;
            }
            return -1;
        }
    });

    /**
     * Returns a new list, constructed by applying the supplied function to every element of the
     * supplied list.
     *
     * Note: `R.map` does not skip deleted or unassigned indices (sparse arrays), unlike the
     * native `Array.prototype.map` method. For more details on this behavior, see:
     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map#Description
     *
     * Dispatches to the `map` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * Map treats also treats functions as functors and will compose them together.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig Functor f => (a -> b) -> f a -> f b
     * @param {Function} fn The function to be called on every element of the input `list`.
     * @param {Array} list The list to be iterated over.
     * @return {Array} The new list.
     * @example
     *
     *      var double = x => x * 2;
     *
     *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]
     *
     *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}
     */
    var map = _curry2(_dispatchable('map', _xmap, function map(fn, functor) {
        switch (Object.prototype.toString.call(functor)) {
        case '[object Function]':
            return curryN(functor.length, function () {
                return fn.call(this, functor.apply(this, arguments));
            });
        case '[object Object]':
            return _reduce(function (acc, key) {
                acc[key] = fn(functor[key]);
                return acc;
            }, {}, keys(functor));
        default:
            return _map(fn, functor);
        }
    }));

    /**
     * Map, but for objects. Creates an object with the same keys as `obj` and values
     * generated by running each property of `obj` through `fn`. `fn` is passed one argument:
     * *(value)*.
     *
     * @func
     * @memberOf R
     * @since v0.1.4
     * @category Object
     * @sig (v -> v) -> {k: v} -> {k: v}
     * @param {Function} fn A function called for each property in `obj`. Its return value will
     * become a new property on the return object.
     * @param {Object} obj The object to iterate over.
     * @return {Object} A new object with the same keys as `obj` and values that are the result
     *         of running each property through `fn`.
     * @deprecated since v0.18.0
     * @example
     *
     *      var values = { x: 1, y: 2, z: 3 };
     *      var double = num => num * 2;
     *
     *      R.mapObj(double, values); //=> { x: 2, y: 4, z: 6 }
     */
    var mapObj = _curry2(function mapObj(fn, obj) {
        return _reduce(function (acc, key) {
            acc[key] = fn(obj[key]);
            return acc;
        }, {}, keys(obj));
    });

    /**
     * Like `mapObj`, but passes additional arguments to the predicate function. The
     * predicate function is passed three arguments: *(value, key, obj)*.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Object
     * @sig (v, k, {k: v} -> v) -> {k: v} -> {k: v}
     * @param {Function} fn A function called for each property in `obj`. Its return value will
     *        become a new property on the return object.
     * @param {Object} obj The object to iterate over.
     * @return {Object} A new object with the same keys as `obj` and values that are the result
     *         of running each property through `fn`.
     * @example
     *
     *      var values = { x: 1, y: 2, z: 3 };
     *      var prependKeyAndDouble = (num, key, obj) => key + (num * 2);
     *
     *      R.mapObjIndexed(prependKeyAndDouble, values); //=> { x: 'x2', y: 'y4', z: 'z6' }
     */
    var mapObjIndexed = _curry2(function mapObjIndexed(fn, obj) {
        return _reduce(function (acc, key) {
            acc[key] = fn(obj[key], key, obj);
            return acc;
        }, {}, keys(obj));
    });

    /**
     * Returns `true` if no elements of the list match the predicate,
     * `false` otherwise.
     *
     * Dispatches to the `any` method of the second argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.12.0
     * @category List
     * @sig (a -> Boolean) -> [a] -> Boolean
     * @param {Function} fn The predicate function.
     * @param {Array} list The array to consider.
     * @return {Boolean} `true` if the predicate is not satisfied by every element, `false` otherwise.
     * @see R.all, R.any
     * @example
     *
     *      R.none(R.isNaN, [1, 2, 3]); //=> true
     *      R.none(R.isNaN, [1, 2, 3, NaN]); //=> false
     */
    var none = _curry2(_complement(_dispatchable('any', _xany, any)));

    /**
     * Takes a function `f` and a list of arguments, and returns a function `g`.
     * When applied, `g` returns the result of applying `f` to the arguments
     * provided initially followed by the arguments provided to `g`.
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category Function
     * @sig ((a, b, c, ..., n) -> x) -> [a, b, c, ...] -> ((d, e, f, ..., n) -> x)
     * @param {Function} f
     * @param {Array} args
     * @return {Function}
     * @see R.partialRight
     * @example
     *
     *      var multiply = (a, b) => a * b;
     *      var double = R.partial(multiply, [2]);
     *      double(2); //=> 4
     *
     *      var greet = (salutation, title, firstName, lastName) =>
     *        salutation + ', ' + title + ' ' + firstName + ' ' + lastName + '!';
     *
     *      var sayHello = R.partial(greet, ['Hello']);
     *      var sayHelloToMs = R.partial(sayHello, ['Ms.']);
     *      sayHelloToMs('Jane', 'Jones'); //=> 'Hello, Ms. Jane Jones!'
     */
    var partial = _createPartialApplicator(_concat);

    /**
     * Takes a function `f` and a list of arguments, and returns a function `g`.
     * When applied, `g` returns the result of applying `f` to the arguments
     * provided to `g` followed by the arguments provided initially.
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category Function
     * @sig ((a, b, c, ..., n) -> x) -> [d, e, f, ..., n] -> ((a, b, c, ...) -> x)
     * @param {Function} f
     * @param {Array} args
     * @return {Function}
     * @see R.partial
     * @example
     *
     *      var greet = (salutation, title, firstName, lastName) =>
     *        salutation + ', ' + title + ' ' + firstName + ' ' + lastName + '!';
     *
     *      var greetMsJaneJones = R.partialRight(greet, ['Ms.', 'Jane', 'Jones']);
     *
     *      greetMsJaneJones('Hello'); //=> 'Hello, Ms. Jane Jones!'
     */
    var partialRight = _createPartialApplicator(flip(_concat));

    /**
     * Takes a predicate and a list and returns the pair of lists of
     * elements which do and do not satisfy the predicate, respectively.
     *
     * @func
     * @memberOf R
     * @since v0.1.4
     * @category List
     * @sig (a -> Boolean) -> [a] -> [[a],[a]]
     * @param {Function} pred A predicate to determine which array the element belongs to.
     * @param {Array} list The array to partition.
     * @return {Array} A nested array, containing first an array of elements that satisfied the predicate,
     *         and second an array of elements that did not satisfy.
     * @example
     *
     *      R.partition(R.contains('s'), ['sss', 'ttt', 'foo', 'bars']);
     *      //=> [ [ 'sss', 'bars' ],  [ 'ttt', 'foo' ] ]
     */
    var partition = _curry2(function partition(pred, list) {
        return _reduce(function (acc, elt) {
            var xs = acc[pred(elt) ? 0 : 1];
            xs[xs.length] = elt;
            return acc;
        }, [
            [],
            []
        ], list);
    });

    /**
     * Determines whether a nested path on an object has a specific value,
     * in `R.equals` terms. Most likely used to filter a list.
     *
     * @func
     * @memberOf R
     * @since v0.7.0
     * @category Relation
     * @sig [String] -> * -> {String: *} -> Boolean
     * @param {Array} path The path of the nested property to use
     * @param {*} val The value to compare the nested property with
     * @param {Object} obj The object to check the nested property in
     * @return {Boolean} `true` if the value equals the nested object property,
     *         `false` otherwise.
     * @example
     *
     *      var user1 = { address: { zipCode: 90210 } };
     *      var user2 = { address: { zipCode: 55555 } };
     *      var user3 = { name: 'Bob' };
     *      var users = [ user1, user2, user3 ];
     *      var isFamous = R.pathEq(['address', 'zipCode'], 90210);
     *      R.filter(isFamous, users); //=> [ user1 ]
     */
    var pathEq = _curry3(function pathEq(_path, val, obj) {
        return equals(path(_path, obj), val);
    });

    /**
     * Returns a new list by plucking the same named property off all objects in the list supplied.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig k -> [{k: v}] -> [v]
     * @param {Number|String} key The key name to pluck off of each object.
     * @param {Array} list The array to consider.
     * @return {Array} The list of values for the given key.
     * @see R.props
     * @example
     *
     *      R.pluck('a')([{a: 1}, {a: 2}]); //=> [1, 2]
     *      R.pluck(0)([[1, 2], [3, 4]]);   //=> [1, 3]
     */
    var pluck = _curry2(function pluck(p, list) {
        return map(prop(p), list);
    });

    /**
     * Returns `true` if the specified object property is equal, in `R.equals`
     * terms, to the given value; `false` otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig String -> a -> Object -> Boolean
     * @param {String} name
     * @param {*} val
     * @param {*} obj
     * @return {Boolean}
     * @see R.equals, R.propSatisfies
     * @example
     *
     *      var abby = {name: 'Abby', age: 7, hair: 'blond'};
     *      var fred = {name: 'Fred', age: 12, hair: 'brown'};
     *      var rusty = {name: 'Rusty', age: 10, hair: 'brown'};
     *      var alois = {name: 'Alois', age: 15, disposition: 'surly'};
     *      var kids = [abby, fred, rusty, alois];
     *      var hasBrownHair = R.propEq('hair', 'brown');
     *      R.filter(hasBrownHair, kids); //=> [fred, rusty]
     */
    var propEq = _curry3(function propEq(name, val, obj) {
        return propSatisfies(equals(val), name, obj);
    });

    /**
     * Returns `true` if the specified object property is of the given type;
     * `false` otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category Type
     * @sig Type -> String -> Object -> Boolean
     * @param {Function} type
     * @param {String} name
     * @param {*} obj
     * @return {Boolean}
     * @see R.is
     * @see R.propSatisfies
     * @example
     *
     *      R.propIs(Number, 'x', {x: 1, y: 2});  //=> true
     *      R.propIs(Number, 'x', {x: 'foo'});    //=> false
     *      R.propIs(Number, 'x', {});            //=> false
     */
    var propIs = _curry3(function propIs(type, name, obj) {
        return propSatisfies(is(type), name, obj);
    });

    /**
     * Returns a single item by iterating through the list, successively calling the iterator
     * function and passing it an accumulator value and the current value from the array, and
     * then passing the result to the next call.
     *
     * The iterator function receives two values: *(acc, value)*.  It may use `R.reduced` to
     * shortcut the iteration.
     *
     * Note: `R.reduce` does not skip deleted or unassigned indices (sparse arrays), unlike
     * the native `Array.prototype.reduce` method. For more details on this behavior, see:
     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description
     * @see R.reduced
     *
     * Dispatches to the `reduce` method of the third argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a,b -> a) -> a -> [b] -> a
     * @param {Function} fn The iterator function. Receives two values, the accumulator and the
     *        current element from the array.
     * @param {*} acc The accumulator value.
     * @param {Array} list The list to iterate over.
     * @return {*} The final, accumulated value.
     * @example
     *
     *      var numbers = [1, 2, 3];
     *      var add = (a, b) => a + b;
     *
     *      R.reduce(add, 10, numbers); //=> 16
     */
    var reduce = _curry3(_reduce);

    /**
     * Similar to `filter`, except that it keeps only values for which the given predicate
     * function returns falsy. The predicate function is passed one argument: *(value)*.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a -> Boolean) -> [a] -> [a]
     * @param {Function} fn The function called per iteration.
     * @param {Array} list The collection to iterate over.
     * @return {Array} The new filtered array.
     * @see R.filter
     * @example
     *
     *      var isOdd = (n) => n % 2 === 1;
     *
     *      R.reject(isOdd, [1, 2, 3, 4]); //=> [2, 4]
     */
    var reject = _curry2(function reject(fn, list) {
        return filter(_complement(fn), list);
    });

    /**
     * Returns a fixed list of size `n` containing a specified identical value.
     *
     * @func
     * @memberOf R
     * @since v0.1.1
     * @category List
     * @sig a -> n -> [a]
     * @param {*} value The value to repeat.
     * @param {Number} n The desired size of the output list.
     * @return {Array} A new array containing `n` `value`s.
     * @example
     *
     *      R.repeat('hi', 5); //=> ['hi', 'hi', 'hi', 'hi', 'hi']
     *
     *      var obj = {};
     *      var repeatedObjs = R.repeat(obj, 5); //=> [{}, {}, {}, {}, {}]
     *      repeatedObjs[0] === repeatedObjs[1]; //=> true
     */
    var repeat = _curry2(function repeat(value, n) {
        return times(always(value), n);
    });

    /**
     * Returns the elements of the given list or string (or object with a `slice`
     * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).
     *
     * Dispatches to the `slice` method of the third argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.1.4
     * @category List
     * @sig Number -> Number -> [a] -> [a]
     * @sig Number -> Number -> String -> String
     * @param {Number} fromIndex The start index (inclusive).
     * @param {Number} toIndex The end index (exclusive).
     * @param {*} list
     * @return {*}
     * @example
     *
     *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']
     *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']
     *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']
     *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']
     *      R.slice(0, 3, 'ramda');                     //=> 'ram'
     */
    var slice = _curry3(_checkForMethod('slice', function slice(fromIndex, toIndex, list) {
        return Array.prototype.slice.call(list, fromIndex, toIndex);
    }));

    /**
     * Splits a collection into slices of the specified length.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category List
     * @sig Number -> [a] -> [[a]]
     * @sig Number -> String -> [String]
     * @param {Number} n
     * @param {Array} list
     * @return {Array}
     * @example
     *
     *      R.splitEvery(3, [1, 2, 3, 4, 5, 6, 7]); //=> [[1, 2, 3], [4, 5, 6], [7]]
     *      R.splitEvery(3, 'foobarbaz'); //=> ['foo', 'bar', 'baz']
     */
    var splitEvery = _curry2(function splitEvery(n, list) {
        if (n <= 0) {
            throw new Error('First argument to splitEvery must be a positive integer');
        }
        var result = [];
        var idx = 0;
        while (idx < list.length) {
            result.push(slice(idx, idx += n, list));
        }
        return result;
    });

    /**
     * Adds together all the elements of a list.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Math
     * @sig [Number] -> Number
     * @param {Array} list An array of numbers
     * @return {Number} The sum of all the numbers in the list.
     * @see R.reduce
     * @example
     *
     *      R.sum([2,4,6,8,100,1]); //=> 121
     */
    var sum = reduce(add, 0);

    /**
     * Returns all but the first element of the given list or string (or object
     * with a `tail` method).
     *
     * Dispatches to the `slice` method of the first argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @see R.head, R.init, R.last
     * @sig [a] -> [a]
     * @sig String -> String
     * @param {*} list
     * @return {*}
     * @example
     *
     *      R.tail([1, 2, 3]);  //=> [2, 3]
     *      R.tail([1, 2]);     //=> [2]
     *      R.tail([1]);        //=> []
     *      R.tail([]);         //=> []
     *
     *      R.tail('abc');  //=> 'bc'
     *      R.tail('ab');   //=> 'b'
     *      R.tail('a');    //=> ''
     *      R.tail('');     //=> ''
     */
    var tail = _checkForMethod('tail', slice(1, Infinity));

    /**
     * Returns the first `n` elements of the given list, string, or
     * transducer/transformer (or object with a `take` method).
     *
     * Dispatches to the `take` method of the second argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig Number -> [a] -> [a]
     * @sig Number -> String -> String
     * @param {Number} n
     * @param {*} list
     * @return {*}
     * @see R.drop
     * @example
     *
     *      R.take(1, ['foo', 'bar', 'baz']); //=> ['foo']
     *      R.take(2, ['foo', 'bar', 'baz']); //=> ['foo', 'bar']
     *      R.take(3, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']
     *      R.take(4, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']
     *      R.take(3, 'ramda');               //=> 'ram'
     *
     *      var personnel = [
     *        'Dave Brubeck',
     *        'Paul Desmond',
     *        'Eugene Wright',
     *        'Joe Morello',
     *        'Gerry Mulligan',
     *        'Bob Bates',
     *        'Joe Dodge',
     *        'Ron Crotty'
     *      ];
     *
     *      var takeFive = R.take(5);
     *      takeFive(personnel);
     *      //=> ['Dave Brubeck', 'Paul Desmond', 'Eugene Wright', 'Joe Morello', 'Gerry Mulligan']
     */
    var take = _curry2(_dispatchable('take', _xtake, function take(n, xs) {
        return slice(0, n < 0 ? Infinity : n, xs);
    }));

    /**
     * Returns a new list containing the first `n` elements of a given list, passing each value
     * to the supplied predicate function, and terminating when the predicate function returns
     * `false`. Excludes the element that caused the predicate function to fail. The predicate
     * function is passed one argument: *(value)*.
     *
     * Dispatches to the `takeWhile` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig (a -> Boolean) -> [a] -> [a]
     * @param {Function} fn The function called per iteration.
     * @param {Array} list The collection to iterate over.
     * @return {Array} A new array.
     * @see R.dropWhile
     * @example
     *
     *      var isNotFour = x => x !== 4;
     *
     *      R.takeWhile(isNotFour, [1, 2, 3, 4]); //=> [1, 2, 3]
     */
    var takeWhile = _curry2(_dispatchable('takeWhile', _xtakeWhile, function takeWhile(fn, list) {
        var idx = 0, len = list.length;
        while (idx < len && fn(list[idx])) {
            idx += 1;
        }
        return _slice(list, 0, idx);
    }));

    /**
     * Initializes a transducer using supplied iterator function. Returns a single item by
     * iterating through the list, successively calling the transformed iterator function and
     * passing it an accumulator value and the current value from the array, and then passing
     * the result to the next call.
     *
     * The iterator function receives two values: *(acc, value)*. It will be wrapped as a
     * transformer to initialize the transducer. A transformer can be passed directly in place
     * of an iterator function.  In both cases, iteration may be stopped early with the
     * `R.reduced` function.
     *
     * A transducer is a function that accepts a transformer and returns a transformer and can
     * be composed directly.
     *
     * A transformer is an an object that provides a 2-arity reducing iterator function, step,
     * 0-arity initial value function, init, and 1-arity result extraction function, result.
     * The step function is used as the iterator function in reduce. The result function is used
     * to convert the final accumulator into the return type and in most cases is R.identity.
     * The init function can be used to provide an initial accumulator, but is ignored by transduce.
     *
     * The iteration is performed with R.reduce after initializing the transducer.
     *
     * @func
     * @memberOf R
     * @since v0.12.0
     * @category List
     * @see R.reduce, R.reduced, R.into
     * @sig (c -> c) -> (a,b -> a) -> a -> [b] -> a
     * @param {Function} xf The transducer function. Receives a transformer and returns a transformer.
     * @param {Function} fn The iterator function. Receives two values, the accumulator and the
     *        current element from the array. Wrapped as transformer, if necessary, and used to
     *        initialize the transducer
     * @param {*} acc The initial accumulator value.
     * @param {Array} list The list to iterate over.
     * @return {*} The final, accumulated value.
     * @example
     *
     *      var numbers = [1, 2, 3, 4];
     *      var transducer = R.compose(R.map(R.add(1)), R.take(2));
     *
     *      R.transduce(transducer, R.flip(R.append), [], numbers); //=> [2, 3]
     */
    var transduce = curryN(4, function transduce(xf, fn, acc, list) {
        return _reduce(xf(typeof fn === 'function' ? _xwrap(fn) : fn), acc, list);
    });

    /**
     * Combines two lists into a set (i.e. no duplicates) composed of the elements of each list.  Duplication is
     * determined according to the value returned by applying the supplied predicate to two list elements.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig (a,a -> Boolean) -> [a] -> [a] -> [a]
     * @param {Function} pred A predicate used to test whether two items are equal.
     * @param {Array} list1 The first list.
     * @param {Array} list2 The second list.
     * @return {Array} The first and second lists concatenated, with
     *         duplicates removed.
     * @see R.union
     * @example
     *
     *      var l1 = [{a: 1}, {a: 2}];
     *      var l2 = [{a: 1}, {a: 4}];
     *      R.unionWith(R.eqBy(R.prop('a')), l1, l2); //=> [{a: 1}, {a: 2}, {a: 4}]
     */
    var unionWith = _curry3(function unionWith(pred, list1, list2) {
        return uniqWith(pred, _concat(list1, list2));
    });

    /**
     * Returns a new list containing only one copy of each element in the original list.
     * `R.equals` is used to determine equality.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig [a] -> [a]
     * @param {Array} list The array to consider.
     * @return {Array} The list of unique items.
     * @example
     *
     *      R.uniq([1, 1, 2, 1]); //=> [1, 2]
     *      R.uniq([1, '1']);     //=> [1, '1']
     *      R.uniq([[42], [42]]); //=> [[42]]
     */
    var uniq = uniqWith(equals);

    /**
     * Accepts a function `fn` and a list of transformer functions and returns a new curried
     * function. When the new function is invoked, it calls the function `fn` with parameters
     * consisting of the result of calling each supplied handler on successive arguments to the
     * new function.
     *
     * If more arguments are passed to the returned function than transformer functions, those
     * arguments are passed directly to `fn` as additional parameters. If you expect additional
     * arguments that don't need to be transformed, although you can ignore them, it's best to
     * pass an identity function so that the new function reports the correct arity.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig (x1 -> x2 -> ... -> z) -> [(a -> x1), (b -> x2), ...] -> (a -> b -> ... -> z)
     * @param {Function} fn The function to wrap.
     * @param {Array} transformers A list of transformer functions
     * @return {Function} The wrapped function.
     * @example
     *
     *      R.useWith(Math.pow, [R.identity, R.identity])(3, 4); //=> 81
     *      R.useWith(Math.pow, [R.identity, R.identity])(3)(4); //=> 81
     *      R.useWith(Math.pow, [R.dec, R.inc])(3, 4); //=> 32
     *      R.useWith(Math.pow, [R.dec, R.inc])(3)(4); //=> 32
     */
    var useWith = _curry2(function useWith(fn, transformers) {
        return curry(_arity(transformers.length, function () {
            var args = [], idx = 0;
            while (idx < transformers.length) {
                args.push(transformers[idx].call(this, arguments[idx]));
                idx += 1;
            }
            return fn.apply(this, args.concat(_slice(arguments, transformers.length)));
        }));
    });

    /**
     * Takes a spec object and a test object; returns true if the test satisfies
     * the spec, false otherwise. An object satisfies the spec if, for each of the
     * spec's own properties, accessing that property of the object gives the same
     * value (in `R.equals` terms) as accessing that property of the spec.
     *
     * `whereEq` is a specialization of [`where`](#where).
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category Object
     * @sig {String: *} -> {String: *} -> Boolean
     * @param {Object} spec
     * @param {Object} testObj
     * @return {Boolean}
     * @see R.where
     * @example
     *
     *      // pred :: Object -> Boolean
     *      var pred = R.whereEq({a: 1, b: 2});
     *
     *      pred({a: 1});              //=> false
     *      pred({a: 1, b: 2});        //=> true
     *      pred({a: 1, b: 2, c: 3});  //=> true
     *      pred({a: 1, b: 1});        //=> false
     */
    var whereEq = _curry2(function whereEq(spec, testObj) {
        return where(mapObj(equals, spec), testObj);
    });

    var _flatCat = function () {
        var preservingReduced = function (xf) {
            return {
                '@@transducer/init': _xfBase.init,
                '@@transducer/result': function (result) {
                    return xf['@@transducer/result'](result);
                },
                '@@transducer/step': function (result, input) {
                    var ret = xf['@@transducer/step'](result, input);
                    return ret['@@transducer/reduced'] ? _forceReduced(ret) : ret;
                }
            };
        };
        return function _xcat(xf) {
            var rxf = preservingReduced(xf);
            return {
                '@@transducer/init': _xfBase.init,
                '@@transducer/result': function (result) {
                    return rxf['@@transducer/result'](result);
                },
                '@@transducer/step': function (result, input) {
                    return !isArrayLike(input) ? _reduce(rxf, result, [input]) : _reduce(rxf, result, input);
                }
            };
        };
    }();

    var _indexOf = function _indexOf(list, item, from) {
        var idx = from;
        while (idx < list.length) {
            if (equals(list[idx], item)) {
                return idx;
            }
            idx += 1;
        }
        return -1;
    };

    var _stepCat = function () {
        var _stepCatArray = {
            '@@transducer/init': Array,
            '@@transducer/step': function (xs, x) {
                return _concat(xs, [x]);
            },
            '@@transducer/result': _identity
        };
        var _stepCatString = {
            '@@transducer/init': String,
            '@@transducer/step': function (a, b) {
                return a + b;
            },
            '@@transducer/result': _identity
        };
        var _stepCatObject = {
            '@@transducer/init': Object,
            '@@transducer/step': function (result, input) {
                return merge(result, isArrayLike(input) ? createMapEntry(input[0], input[1]) : input);
            },
            '@@transducer/result': _identity
        };
        return function _stepCat(obj) {
            if (_isTransformer(obj)) {
                return obj;
            }
            if (isArrayLike(obj)) {
                return _stepCatArray;
            }
            if (typeof obj === 'string') {
                return _stepCatString;
            }
            if (typeof obj === 'object') {
                return _stepCatObject;
            }
            throw new Error('Cannot create transformer for ' + obj);
        };
    }();

    var _xchain = _curry2(function _xchain(f, xf) {
        return map(f, _flatCat(xf));
    });

    /**
     * Takes a list of predicates and returns a predicate that returns true
     * for a given list of arguments if every one of the provided predicates
     * is satisfied by those arguments.
     *
     * The function returned is a curried function whose arity matches that of
     * the highest-arity predicate.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Logic
     * @sig [(*... -> Boolean)] -> (*... -> Boolean)
     * @param {Array} preds
     * @return {Function}
     * @see R.anyPass
     * @example
     *
     *      var isQueen = R.propEq('rank', 'Q');
     *      var isSpade = R.propEq('suit', '♠︎');
     *      var isQueenOfSpades = R.allPass([isQueen, isSpade]);
     *
     *      isQueenOfSpades({rank: 'Q', suit: '♣︎'}); //=> false
     *      isQueenOfSpades({rank: 'Q', suit: '♠︎'}); //=> true
     */
    var allPass = _curry1(function allPass(preds) {
        return curryN(reduce(max, 0, pluck('length', preds)), function () {
            var idx = 0;
            var len = preds.length;
            while (idx < len) {
                if (!preds[idx].apply(this, arguments)) {
                    return false;
                }
                idx += 1;
            }
            return true;
        });
    });

    /**
     * Returns `true` if all elements are unique, in `R.equals` terms,
     * otherwise `false`.
     *
     * @func
     * @memberOf R
     * @since v0.18.0
     * @category List
     * @sig [a] -> Boolean
     * @param {Array} list The array to consider.
     * @return {Boolean} `true` if all elements are unique, else `false`.
     * @example
     *
     *      R.allUniq(['1', 1]); //=> true
     *      R.allUniq([1, 1]);   //=> false
     *      R.allUniq([[42], [42]]); //=> false
     */
    var allUniq = _curry1(function allUniq(list) {
        var len = list.length;
        var idx = 0;
        while (idx < len) {
            if (_indexOf(list, list[idx], idx + 1) >= 0) {
                return false;
            }
            idx += 1;
        }
        return true;
    });

    /**
     * Takes a list of predicates and returns a predicate that returns true for
     * a given list of arguments if at least one of the provided predicates is
     * satisfied by those arguments.
     *
     * The function returned is a curried function whose arity matches that of
     * the highest-arity predicate.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Logic
     * @sig [(*... -> Boolean)] -> (*... -> Boolean)
     * @param {Array} preds
     * @return {Function}
     * @see R.allPass
     * @example
     *
     *      var gte = R.anyPass([R.gt, R.equals]);
     *
     *      gte(3, 2); //=> true
     *      gte(2, 2); //=> true
     *      gte(2, 3); //=> false
     */
    var anyPass = _curry1(function anyPass(preds) {
        return curryN(reduce(max, 0, pluck('length', preds)), function () {
            var idx = 0;
            var len = preds.length;
            while (idx < len) {
                if (preds[idx].apply(this, arguments)) {
                    return true;
                }
                idx += 1;
            }
            return false;
        });
    });

    /**
     * ap applies a list of functions to a list of values.
     *
     * Dispatches to the `ap` method of the second argument, if present. Also treats
     * functions as applicatives.
     *
     * @func
     * @memberOf R
     * @since v0.3.0
     * @category Function
     * @sig [f] -> [a] -> [f a]
     * @param {Array} fns An array of functions
     * @param {Array} vs An array of values
     * @return {Array} An array of results of applying each of `fns` to all of `vs` in turn.
     * @example
     *
     *      R.ap([R.multiply(2), R.add(3)], [1,2,3]); //=> [2, 4, 6, 4, 5, 6]
     */
    // else
    var ap = _curry2(function ap(applicative, fn) {
        return typeof applicative.ap === 'function' ? applicative.ap(fn) : typeof applicative === 'function' ? curryN(Math.max(applicative.length, fn.length), function () {
            return applicative.apply(this, arguments)(fn.apply(this, arguments));
        }) : // else
        _reduce(function (acc, f) {
            return _concat(acc, map(f, fn));
        }, [], applicative);
    });

    /**
     * Returns the result of calling its first argument with the remaining
     * arguments. This is occasionally useful as a converging function for
     * `R.converge`: the left branch can produce a function while the right
     * branch produces a value to be passed to that function as an argument.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category Function
     * @sig (*... -> a),*... -> a
     * @param {Function} fn The function to apply to the remaining arguments.
     * @param {...*} args Any number of positional arguments.
     * @return {*}
     * @see R.apply
     * @example
     *
     *      var indentN = R.pipe(R.times(R.always(' ')),
     *                           R.join(''),
     *                           R.replace(/^(?!$)/gm));
     *
     *      var format = R.converge(R.call,
     *                              R.pipe(R.prop('indent'), indentN),
     *                              R.prop('value'));
     *
     *      format({indent: 2, value: 'foo\nbar\nbaz\n'}); //=> '  foo\n  bar\n  baz\n'
     */
    var call = curry(function call(fn) {
        return fn.apply(this, _slice(arguments, 1));
    });

    /**
     * `chain` maps a function over a list and concatenates the results.
     * `chain` is also known as `flatMap` in some libraries
     *
     * Dispatches to the `chain` method of the second argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.3.0
     * @category List
     * @sig (a -> [b]) -> [a] -> [b]
     * @param {Function} fn
     * @param {Array} list
     * @return {Array}
     * @example
     *
     *      var duplicate = n => [n, n];
     *      R.chain(duplicate, [1, 2, 3]); //=> [1, 1, 2, 2, 3, 3]
     */
    var chain = _curry2(_dispatchable('chain', _xchain, function chain(fn, monad) {
        if (typeof monad === 'function') {
            return function () {
                return monad.call(this, fn.apply(this, arguments)).apply(this, arguments);
            };
        }
        return _makeFlat(false)(map(fn, monad));
    }));

    /**
     * Turns a list of Functors into a Functor of a list, applying
     * a mapping function to the elements of the list along the way.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category List
     * @see R.commute
     * @sig Functor f => (a -> f b) -> (x -> f x) -> [a] -> f [b]
     * @param {Function} fn The transformation function
     * @param {Function} of A function that returns the data type to return
     * @param {Array} list An array of functors of the same type
     * @return {*}
     * @example
     *
     *      var add10 = R.map(R.add(10));
     *      R.commuteMap(add10, R.of, [[1], [2, 3]]);   //=> [[11, 12], [11, 13]]
     *      R.commuteMap(add10, R.of, [[1, 2], [3]]);   //=> [[11, 13], [12, 13]]
     *      R.commuteMap(add10, R.of, [[1], [2], [3]]); //=> [[11, 12, 13]]
     *      R.commuteMap(add10, Maybe.of, [Just(1), Just(2), Just(3)]);   //=> Just([11, 12, 13])
     *      R.commuteMap(add10, Maybe.of, [Just(1), Just(2), Nothing()]); //=> Nothing()
     *
     *      var fetch = url => Future((rej, res) => http.get(url, res).on('error', rej));
     *      R.commuteMap(fetch, Future.of, [
     *        'http://ramdajs.com',
     *        'http://github.com/ramda'
     *      ]); //=> Future([IncomingMessage, IncomingMessage])
     */
    var commuteMap = _curry3(function commuteMap(fn, of, list) {
        function consF(acc, x) {
            return ap(map(prepend, fn(x)), acc);
        }
        return reduceRight(consF, of([]), list);
    });

    /**
     * Wraps a constructor function inside a curried function that can be called with the same
     * arguments and returns the same type. The arity of the function returned is specified
     * to allow using variadic constructor functions.
     *
     * @func
     * @memberOf R
     * @since v0.4.0
     * @category Function
     * @sig Number -> (* -> {*}) -> (* -> {*})
     * @param {Number} n The arity of the constructor function.
     * @param {Function} Fn The constructor function to wrap.
     * @return {Function} A wrapped, curried constructor function.
     * @example
     *
     *      // Variadic constructor function
     *      var Widget = () => {
     *        this.children = Array.prototype.slice.call(arguments);
     *        // ...
     *      };
     *      Widget.prototype = {
     *        // ...
     *      };
     *      var allConfigs = [
     *        // ...
     *      ];
     *      R.map(R.constructN(1, Widget), allConfigs); // a list of Widgets
     */
    var constructN = _curry2(function constructN(n, Fn) {
        if (n > 10) {
            throw new Error('Constructor with greater than ten arguments');
        }
        if (n === 0) {
            return function () {
                return new Fn();
            };
        }
        return curry(nAry(n, function ($0, $1, $2, $3, $4, $5, $6, $7, $8, $9) {
            switch (arguments.length) {
            case 1:
                return new Fn($0);
            case 2:
                return new Fn($0, $1);
            case 3:
                return new Fn($0, $1, $2);
            case 4:
                return new Fn($0, $1, $2, $3);
            case 5:
                return new Fn($0, $1, $2, $3, $4);
            case 6:
                return new Fn($0, $1, $2, $3, $4, $5);
            case 7:
                return new Fn($0, $1, $2, $3, $4, $5, $6);
            case 8:
                return new Fn($0, $1, $2, $3, $4, $5, $6, $7);
            case 9:
                return new Fn($0, $1, $2, $3, $4, $5, $6, $7, $8);
            case 10:
                return new Fn($0, $1, $2, $3, $4, $5, $6, $7, $8, $9);
            }
        }));
    });

    /**
     * Accepts a converging function and a list of branching functions and returns a new function.
     * When invoked, this new function is applied to some arguments, each branching
     * function is applied to those same arguments. The results of each branching
     * function are passed as arguments to the converging function to produce the return value.
     *
     * @func
     * @memberOf R
     * @since v0.4.2
     * @category Function
     * @sig (x1 -> x2 -> ... -> z) -> [(a -> b -> ... -> x1), (a -> b -> ... -> x2), ...] -> (a -> b -> ... -> z)
     * @param {Function} after A function. `after` will be invoked with the return values of
     *        `fn1` and `fn2` as its arguments.
     * @param {Array} functions A list of functions.
     * @return {Function} A new function.
     * @example
     *
     *      var add = (a, b) => a + b;
     *      var multiply = (a, b) => a * b;
     *      var subtract = (a, b) => a - b;
     *
     *      //≅ multiply( add(1, 2), subtract(1, 2) );
     *      R.converge(multiply, [add, subtract])(1, 2); //=> -3
     *
     *      var add3 = (a, b, c) => a + b + c;
     *      R.converge(add3, [multiply, add, subtract])(1, 2); //=> 4
     */
    var converge = _curry2(function converge(after, fns) {
        return curryN(Math.max.apply(Math, pluck('length', fns)), function () {
            var args = arguments;
            var context = this;
            return after.apply(context, _map(function (fn) {
                return fn.apply(context, args);
            }, fns));
        });
    });

    /**
     * Returns all but the first `n` elements of the given list, string, or
     * transducer/transformer (or object with a `drop` method).
     *
     * Dispatches to the `drop` method of the second argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @see R.transduce
     * @sig Number -> [a] -> [a]
     * @sig Number -> String -> String
     * @param {Number} n
     * @param {*} list
     * @return {*}
     * @see R.take
     * @example
     *
     *      R.drop(1, ['foo', 'bar', 'baz']); //=> ['bar', 'baz']
     *      R.drop(2, ['foo', 'bar', 'baz']); //=> ['baz']
     *      R.drop(3, ['foo', 'bar', 'baz']); //=> []
     *      R.drop(4, ['foo', 'bar', 'baz']); //=> []
     *      R.drop(3, 'ramda');               //=> 'da'
     */
    var drop = _curry2(_dispatchable('drop', _xdrop, function drop(n, xs) {
        return slice(Math.max(0, n), Infinity, xs);
    }));

    /**
     * Returns a list containing all but the last `n` elements of the given `list`.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category List
     * @sig Number -> [a] -> [a]
     * @sig Number -> String -> String
     * @param {Number} n The number of elements of `xs` to skip.
     * @param {Array} xs The collection to consider.
     * @return {Array}
     * @see R.takeLast
     * @example
     *
     *      R.dropLast(1, ['foo', 'bar', 'baz']); //=> ['foo', 'bar']
     *      R.dropLast(2, ['foo', 'bar', 'baz']); //=> ['foo']
     *      R.dropLast(3, ['foo', 'bar', 'baz']); //=> []
     *      R.dropLast(4, ['foo', 'bar', 'baz']); //=> []
     *      R.dropLast(3, 'ramda');               //=> 'ra'
     */
    var dropLast = _curry2(function dropLast(n, xs) {
        return take(n < xs.length ? xs.length - n : 0, xs);
    });

    /**
     * Returns a new list without any consecutively repeating elements. Equality is
     * determined by applying the supplied predicate two consecutive elements.
     * The first element in a series of equal element is the one being preserved.
     *
     * Dispatches to the `dropRepeatsWith` method of the second argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category List
     * @sig (a, a -> Boolean) -> [a] -> [a]
     * @param {Function} pred A predicate used to test whether two items are equal.
     * @param {Array} list The array to consider.
     * @return {Array} `list` without repeating elements.
     * @example
     *
     *      var lengthEq = (x, y) => Math.abs(x) === Math.abs(y);
     *      var l = [1, -1, 1, 3, 4, -4, -4, -5, 5, 3, 3];
     *      R.dropRepeatsWith(R.eqBy(Math.abs), l); //=> [1, 3, 4, -5, 3]
     */
    var dropRepeatsWith = _curry2(_dispatchable('dropRepeatsWith', _xdropRepeatsWith, function dropRepeatsWith(pred, list) {
        var result = [];
        var idx = 1;
        var len = list.length;
        if (len !== 0) {
            result[0] = list[0];
            while (idx < len) {
                if (!pred(last(result), list[idx])) {
                    result[result.length] = list[idx];
                }
                idx += 1;
            }
        }
        return result;
    }));

    /**
     * Takes a function and two values in its domain and returns `true` if
     * the values map to the same value in the codomain; `false` otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.18.0
     * @category Relation
     * @sig (a -> b) -> a -> a -> Boolean
     * @param {Function} f
     * @param {*} x
     * @param {*} y
     * @return {Boolean}
     * @example
     *
     *      R.eqBy(Math.abs, 5, -5); //=> true
     */
    var eqBy = _curry3(function eqBy(f, x, y) {
        return equals(f(x), f(y));
    });

    /**
     * Reports whether two objects have the same value, in `R.equals` terms,
     * for the specified property. Useful as a curried predicate.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @sig k -> {k: v} -> {k: v} -> Boolean
     * @param {String} prop The name of the property to compare
     * @param {Object} obj1
     * @param {Object} obj2
     * @return {Boolean}
     *
     * @example
     *
     *      var o1 = { a: 1, b: 2, c: 3, d: 4 };
     *      var o2 = { a: 10, b: 20, c: 3, d: 40 };
     *      R.eqProps('a', o1, o2); //=> false
     *      R.eqProps('c', o1, o2); //=> true
     */
    var eqProps = _curry3(function eqProps(prop, obj1, obj2) {
        return equals(obj1[prop], obj2[prop]);
    });

    /**
     * Returns the position of the first occurrence of an item in an array,
     * or -1 if the item is not included in the array. `R.equals` is used to
     * determine equality.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig a -> [a] -> Number
     * @param {*} target The item to find.
     * @param {Array} xs The array to search in.
     * @return {Number} the index of the target, or -1 if the target is not found.
     * @see R.lastIndexOf
     * @example
     *
     *      R.indexOf(3, [1,2,3,4]); //=> 2
     *      R.indexOf(10, [1,2,3,4]); //=> -1
     */
    var indexOf = _curry2(function indexOf(target, xs) {
        return typeof xs.indexOf === 'function' && !_isArray(xs) ? xs.indexOf(target) : _indexOf(xs, target, 0);
    });

    /**
     * Returns all but the last element of the given list or string.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category List
     * @see R.last, R.head, R.tail
     * @sig [a] -> [a]
     * @sig String -> String
     * @param {*} list
     * @return {*}
     * @example
     *
     *      R.init([1, 2, 3]);  //=> [1, 2]
     *      R.init([1, 2]);     //=> [1]
     *      R.init([1]);        //=> []
     *      R.init([]);         //=> []
     *
     *      R.init('abc');  //=> 'ab'
     *      R.init('ab');   //=> 'a'
     *      R.init('a');    //=> ''
     *      R.init('');     //=> ''
     */
    var init = slice(0, -1);

    /**
     * Transforms the items of the list with the transducer and appends the transformed items to
     * the accumulator using an appropriate iterator function based on the accumulator type.
     *
     * The accumulator can be an array, string, object or a transformer. Iterated items will
     * be appended to arrays and concatenated to strings. Objects will be merged directly or 2-item
     * arrays will be merged as key, value pairs.
     *
     * The accumulator can also be a transformer object that provides a 2-arity reducing iterator
     * function, step, 0-arity initial value function, init, and 1-arity result extraction function
     * result. The step function is used as the iterator function in reduce. The result function is
     * used to convert the final accumulator into the return type and in most cases is R.identity.
     * The init function is used to provide the initial accumulator.
     *
     * The iteration is performed with R.reduce after initializing the transducer.
     *
     * @func
     * @memberOf R
     * @since v0.12.0
     * @category List
     * @sig a -> (b -> b) -> [c] -> a
     * @param {*} acc The initial accumulator value.
     * @param {Function} xf The transducer function. Receives a transformer and returns a transformer.
     * @param {Array} list The list to iterate over.
     * @return {*} The final, accumulated value.
     * @example
     *
     *      var numbers = [1, 2, 3, 4];
     *      var transducer = R.compose(R.map(R.add(1)), R.take(2));
     *
     *      R.into([], transducer, numbers); //=> [2, 3]
     *
     *      var intoArray = R.into([]);
     *      intoArray(transducer, numbers); //=> [2, 3]
     */
    var into = _curry3(function into(acc, xf, list) {
        return _isTransformer(acc) ? _reduce(xf(acc), acc['@@transducer/init'](), list) : _reduce(xf(_stepCat(acc)), acc, list);
    });

    /**
     * Returns `true` if all elements are unique, in `R.equals` terms,
     * otherwise `false`.
     *
     * @func
     * @memberOf R
     * @since v0.1.1
     * @category List
     * @sig [a] -> Boolean
     * @param {Array} list The array to consider.
     * @return {Boolean} `true` if all elements are unique, else `false`.
     * @see R.allUniq
     * @deprecated since v0.18.0
     * @example
     *
     *      R.isSet(['1', 1]); //=> true
     *      R.isSet([1, 1]);   //=> false
     *      R.isSet([[42], [42]]); //=> false
     */
    var isSet = allUniq;

    /**
     * Returns a lens for the given getter and setter functions. The getter "gets"
     * the value of the focus; the setter "sets" the value of the focus. The setter
     * should not mutate the data structure.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category Object
     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s
     * @sig (s -> a) -> ((a, s) -> s) -> Lens s a
     * @param {Function} getter
     * @param {Function} setter
     * @return {Lens}
     * @see R.view, R.set, R.over, R.lensIndex, R.lensProp
     * @example
     *
     *      var xLens = R.lens(R.prop('x'), R.assoc('x'));
     *
     *      R.view(xLens, {x: 1, y: 2});            //=> 1
     *      R.set(xLens, 4, {x: 1, y: 2});          //=> {x: 4, y: 2}
     *      R.over(xLens, R.negate, {x: 1, y: 2});  //=> {x: -1, y: 2}
     */
    var lens = _curry2(function lens(getter, setter) {
        return function (f) {
            return function (s) {
                return map(function (v) {
                    return setter(v, s);
                }, f(getter(s)));
            };
        };
    });

    /**
     * Returns a lens whose focus is the specified index.
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category Object
     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s
     * @sig Number -> Lens s a
     * @param {Number} n
     * @return {Lens}
     * @see R.view, R.set, R.over
     * @example
     *
     *      var headLens = R.lensIndex(0);
     *
     *      R.view(headLens, ['a', 'b', 'c']);            //=> 'a'
     *      R.set(headLens, 'x', ['a', 'b', 'c']);        //=> ['x', 'b', 'c']
     *      R.over(headLens, R.toUpper, ['a', 'b', 'c']); //=> ['A', 'b', 'c']
     */
    var lensIndex = _curry1(function lensIndex(n) {
        return lens(nth(n), update(n));
    });

    /**
     * Returns a lens whose focus is the specified property.
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category Object
     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s
     * @sig String -> Lens s a
     * @param {String} k
     * @return {Lens}
     * @see R.view, R.set, R.over
     * @example
     *
     *      var xLens = R.lensProp('x');
     *
     *      R.view(xLens, {x: 1, y: 2});            //=> 1
     *      R.set(xLens, 4, {x: 1, y: 2});          //=> {x: 4, y: 2}
     *      R.over(xLens, R.negate, {x: 1, y: 2});  //=> {x: -1, y: 2}
     */
    var lensProp = _curry1(function lensProp(k) {
        return lens(prop(k), assoc(k));
    });

    /**
     * "lifts" a function to be the specified arity, so that it may "map over" that many
     * lists (or other Functors).
     *
     * @func
     * @memberOf R
     * @since v0.7.0
     * @see R.lift
     * @category Function
     * @sig Number -> (*... -> *) -> ([*]... -> [*])
     * @param {Function} fn The function to lift into higher context
     * @return {Function} The function `fn` applicable to mappable objects.
     * @example
     *
     *      var madd3 = R.liftN(3, R.curryN(3, () => R.reduce(R.add, 0, arguments)));
     *      madd3([1,2,3], [1,2,3], [1]); //=> [3, 4, 5, 4, 5, 6, 5, 6, 7]
     */
    var liftN = _curry2(function liftN(arity, fn) {
        var lifted = curryN(arity, fn);
        return curryN(arity, function () {
            return _reduce(ap, map(lifted, arguments[0]), _slice(arguments, 1));
        });
    });

    /**
     * Returns the mean of the given list of numbers.
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category Math
     * @sig [Number] -> Number
     * @param {Array} list
     * @return {Number}
     * @example
     *
     *      R.mean([2, 7, 9]); //=> 6
     *      R.mean([]); //=> NaN
     */
    var mean = _curry1(function mean(list) {
        return sum(list) / list.length;
    });

    /**
     * Returns the median of the given list of numbers.
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category Math
     * @sig [Number] -> Number
     * @param {Array} list
     * @return {Number}
     * @example
     *
     *      R.median([2, 9, 7]); //=> 7
     *      R.median([7, 2, 10, 9]); //=> 8
     *      R.median([]); //=> NaN
     */
    var median = _curry1(function median(list) {
        var len = list.length;
        if (len === 0) {
            return NaN;
        }
        var width = 2 - len % 2;
        var idx = (len - width) / 2;
        return mean(_slice(list).sort(function (a, b) {
            return a < b ? -1 : a > b ? 1 : 0;
        }).slice(idx, idx + width));
    });

    /**
     * Merges a list of objects together into one object.
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category List
     * @sig [{k: v}] -> {k: v}
     * @param {Array} list An array of objects
     * @return {Object} A merged object.
     * @see R.reduce
     * @example
     *
     *      R.mergeAll([{foo:1},{bar:2},{baz:3}]); //=> {foo:1,bar:2,baz:3}
     *      R.mergeAll([{foo:1},{foo:2},{bar:2}]); //=> {foo:2,bar:2}
     */
    var mergeAll = _curry1(function mergeAll(list) {
        return reduce(merge, {}, list);
    });

    /**
     * Performs left-to-right function composition. The leftmost function may have
     * any arity; the remaining functions must be unary.
     *
     * In some libraries this function is named `sequence`.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)
     * @param {...Function} functions
     * @return {Function}
     * @see R.compose
     * @example
     *
     *      var f = R.pipe(Math.pow, R.negate, R.inc);
     *
     *      f(3, 4); // -(3^4) + 1
     */
    var pipe = function pipe() {
        if (arguments.length === 0) {
            throw new Error('pipe requires at least one argument');
        }
        return _arity(arguments[0].length, reduce(_pipe, arguments[0], tail(arguments)));
    };

    /**
     * Performs left-to-right composition of one or more Promise-returning
     * functions. The leftmost function may have any arity; the remaining
     * functions must be unary.
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category Function
     * @sig ((a -> Promise b), (b -> Promise c), ..., (y -> Promise z)) -> (a -> Promise z)
     * @param {...Function} functions
     * @return {Function}
     * @see R.composeP
     * @example
     *
     *      //  followersForUser :: String -> Promise [User]
     *      var followersForUser = R.pipeP(db.getUserById, db.getFollowers);
     */
    var pipeP = function pipeP() {
        if (arguments.length === 0) {
            throw new Error('pipeP requires at least one argument');
        }
        return _arity(arguments[0].length, reduce(_pipeP, arguments[0], tail(arguments)));
    };

    /**
     * Multiplies together all the elements of a list.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Math
     * @sig [Number] -> Number
     * @param {Array} list An array of numbers
     * @return {Number} The product of all the numbers in the list.
     * @see R.reduce
     * @example
     *
     *      R.product([2,4,6,8,100,1]); //=> 38400
     */
    var product = reduce(multiply, 1);

    /**
     * Reasonable analog to SQL `select` statement.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @category Relation
     * @sig [k] -> [{k: v}] -> [{k: v}]
     * @param {Array} props The property names to project
     * @param {Array} objs The objects to query
     * @return {Array} An array of objects with just the `props` properties.
     * @example
     *
     *      var abby = {name: 'Abby', age: 7, hair: 'blond', grade: 2};
     *      var fred = {name: 'Fred', age: 12, hair: 'brown', grade: 7};
     *      var kids = [abby, fred];
     *      R.project(['name', 'grade'], kids); //=> [{name: 'Abby', grade: 2}, {name: 'Fred', grade: 7}]
     */
    // passing `identity` gives correct arity
    var project = useWith(_map, [
        pickAll,
        identity
    ]);

    /**
     * Returns a new list containing the last `n` elements of the given list.
     * If `n > list.length`, returns a list of `list.length` elements.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category List
     * @sig Number -> [a] -> [a]
     * @sig Number -> String -> String
     * @param {Number} n The number of elements to return.
     * @param {Array} xs The collection to consider.
     * @return {Array}
     * @see R.dropLast
     * @example
     *
     *      R.takeLast(1, ['foo', 'bar', 'baz']); //=> ['baz']
     *      R.takeLast(2, ['foo', 'bar', 'baz']); //=> ['bar', 'baz']
     *      R.takeLast(3, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']
     *      R.takeLast(4, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']
     *      R.takeLast(3, 'ramda');               //=> 'mda'
     */
    var takeLast = _curry2(function takeLast(n, xs) {
        return drop(n >= 0 ? xs.length - n : 0, xs);
    });

    /**
     * Shorthand for `R.chain(R.identity)`, which removes one level of nesting
     * from any [Chain](https://github.com/fantasyland/fantasy-land#chain).
     *
     * @func
     * @memberOf R
     * @since v0.3.0
     * @category List
     * @sig Chain c => c (c a) -> c a
     * @param {*} list
     * @return {*}
     * @see R.flatten, R.chain
     * @example
     *
     *      R.unnest([1, [2], [[3]]]); //=> [1, 2, [3]]
     *      R.unnest([[1, 2], [3, 4], [5, 6]]); //=> [1, 2, 3, 4, 5, 6]
     */
    var unnest = chain(_identity);

    var _contains = function _contains(a, list) {
        return _indexOf(list, a, 0) >= 0;
    };

    //  mapPairs :: (Object, [String]) -> [String]
    // Function, RegExp, user-defined types
    var _toString = function _toString(x, seen) {
        var recur = function recur(y) {
            var xs = seen.concat([x]);
            return _contains(y, xs) ? '<Circular>' : _toString(y, xs);
        };
        //  mapPairs :: (Object, [String]) -> [String]
        var mapPairs = function (obj, keys) {
            return _map(function (k) {
                return _quote(k) + ': ' + recur(obj[k]);
            }, keys.slice().sort());
        };
        switch (Object.prototype.toString.call(x)) {
        case '[object Arguments]':
            return '(function() { return arguments; }(' + _map(recur, x).join(', ') + '))';
        case '[object Array]':
            return '[' + _map(recur, x).concat(mapPairs(x, reject(function (k) {
                return /^\d+$/.test(k);
            }, keys(x)))).join(', ') + ']';
        case '[object Boolean]':
            return typeof x === 'object' ? 'new Boolean(' + recur(x.valueOf()) + ')' : x.toString();
        case '[object Date]':
            return 'new Date(' + _quote(_toISOString(x)) + ')';
        case '[object Null]':
            return 'null';
        case '[object Number]':
            return typeof x === 'object' ? 'new Number(' + recur(x.valueOf()) + ')' : 1 / x === -Infinity ? '-0' : x.toString(10);
        case '[object String]':
            return typeof x === 'object' ? 'new String(' + recur(x.valueOf()) + ')' : _quote(x);
        case '[object Undefined]':
            return 'undefined';
        default:
            return typeof x.constructor === 'function' && x.constructor.name !== 'Object' && typeof x.toString === 'function' && x.toString() !== '[object Object]' ? x.toString() : // Function, RegExp, user-defined types
            '{' + mapPairs(x, keys(x)).join(', ') + '}';
        }
    };

    /**
     * Turns a list of Functors into a Functor of a list.
     *
     * @func
     * @memberOf R
     * @since v0.8.0
     * @category List
     * @see R.commuteMap
     * @sig Functor f => (x -> f x) -> [f a] -> f [a]
     * @param {Function} of A function that returns the data type to return
     * @param {Array} list An array of functors of the same type
     * @return {*}
     * @example
     *
     *      R.commute(R.of, [[1], [2, 3]]);   //=> [[1, 2], [1, 3]]
     *      R.commute(R.of, [[1, 2], [3]]);   //=> [[1, 3], [2, 3]]
     *      R.commute(R.of, [[1], [2], [3]]); //=> [[1, 2, 3]]
     *      R.commute(Maybe.of, [Just(1), Just(2), Just(3)]);   //=> Just([1, 2, 3])
     *      R.commute(Maybe.of, [Just(1), Just(2), Nothing()]); //=> Nothing()
     */
    var commute = commuteMap(identity);

    /**
     * Performs right-to-left function composition. The rightmost function may have
     * any arity; the remaining functions must be unary.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig ((y -> z), (x -> y), ..., (o -> p), ((a, b, ..., n) -> o)) -> ((a, b, ..., n) -> z)
     * @param {...Function} functions
     * @return {Function}
     * @see R.pipe
     * @example
     *
     *      var f = R.compose(R.inc, R.negate, Math.pow);
     *
     *      f(3, 4); // -(3^4) + 1
     */
    var compose = function compose() {
        if (arguments.length === 0) {
            throw new Error('compose requires at least one argument');
        }
        return pipe.apply(this, reverse(arguments));
    };

    /**
     * Returns the right-to-left Kleisli composition of the provided functions,
     * each of which must return a value of a type supported by [`chain`](#chain).
     *
     * `R.composeK(h, g, f)` is equivalent to `R.compose(R.chain(h), R.chain(g), R.chain(f))`.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category Function
     * @see R.pipeK
     * @sig Chain m => ((y -> m z), (x -> m y), ..., (a -> m b)) -> (m a -> m z)
     * @param {...Function}
     * @return {Function}
     * @example
     *
     *      //  parseJson :: String -> Maybe *
     *      //  get :: String -> Object -> Maybe *
     *
     *      //  getStateCode :: Maybe String -> Maybe String
     *      var getStateCode = R.composeK(
     *        R.compose(Maybe.of, R.toUpper),
     *        get('state'),
     *        get('address'),
     *        get('user'),
     *        parseJson
     *      );
     *
     *      getStateCode(Maybe.of('{"user":{"address":{"state":"ny"}}}'));
     *      //=> Just('NY')
     *      getStateCode(Maybe.of('[Invalid JSON]'));
     *      //=> Nothing()
     */
    var composeK = function composeK() {
        return compose.apply(this, prepend(identity, map(chain, arguments)));
    };

    /**
     * Performs right-to-left composition of one or more Promise-returning
     * functions. The rightmost function may have any arity; the remaining
     * functions must be unary.
     *
     * @func
     * @memberOf R
     * @since v0.10.0
     * @category Function
     * @sig ((y -> Promise z), (x -> Promise y), ..., (a -> Promise b)) -> (a -> Promise z)
     * @param {...Function} functions
     * @return {Function}
     * @see R.pipeP
     * @example
     *
     *      //  followersForUser :: String -> Promise [User]
     *      var followersForUser = R.composeP(db.getFollowers, db.getUserById);
     */
    var composeP = function composeP() {
        if (arguments.length === 0) {
            throw new Error('composeP requires at least one argument');
        }
        return pipeP.apply(this, reverse(arguments));
    };

    /**
     * Wraps a constructor function inside a curried function that can be called with the same
     * arguments and returns the same type.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig (* -> {*}) -> (* -> {*})
     * @param {Function} Fn The constructor function to wrap.
     * @return {Function} A wrapped, curried constructor function.
     * @example
     *
     *      // Constructor function
     *      var Widget = config => {
     *        // ...
     *      };
     *      Widget.prototype = {
     *        // ...
     *      };
     *      var allConfigs = [
     *        // ...
     *      ];
     *      R.map(R.construct(Widget), allConfigs); // a list of Widgets
     */
    var construct = _curry1(function construct(Fn) {
        return constructN(Fn.length, Fn);
    });

    /**
     * Returns `true` if the specified value is equal, in `R.equals` terms,
     * to at least one element of the given list; `false` otherwise.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig a -> [a] -> Boolean
     * @param {Object} a The item to compare against.
     * @param {Array} list The array to consider.
     * @return {Boolean} `true` if the item is in the list, `false` otherwise.
     * @see R.any
     * @example
     *
     *      R.contains(3, [1, 2, 3]); //=> true
     *      R.contains(4, [1, 2, 3]); //=> false
     *      R.contains([42], [[42]]); //=> true
     */
    var contains = _curry2(_contains);

    /**
     * Finds the set (i.e. no duplicates) of all elements in the first list not contained in the second list.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig [a] -> [a] -> [a]
     * @param {Array} list1 The first list.
     * @param {Array} list2 The second list.
     * @return {Array} The elements in `list1` that are not in `list2`.
     * @see R.differenceWith
     * @example
     *
     *      R.difference([1,2,3,4], [7,6,5,4,3]); //=> [1,2]
     *      R.difference([7,6,5,4,3], [1,2,3,4]); //=> [7,6,5]
     */
    var difference = _curry2(function difference(first, second) {
        var out = [];
        var idx = 0;
        var firstLen = first.length;
        while (idx < firstLen) {
            if (!_contains(first[idx], second) && !_contains(first[idx], out)) {
                out[out.length] = first[idx];
            }
            idx += 1;
        }
        return out;
    });

    /**
     * Returns a new list without any consecutively repeating elements.
     * `R.equals` is used to determine equality.
     *
     * Dispatches to the `dropRepeats` method of the first argument, if present.
     *
     * Acts as a transducer if a transformer is given in list position.
     * @see R.transduce
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category List
     * @sig [a] -> [a]
     * @param {Array} list The array to consider.
     * @return {Array} `list` without repeating elements.
     * @example
     *
     *     R.dropRepeats([1, 1, 1, 2, 3, 4, 4, 2, 2]); //=> [1, 2, 3, 4, 2]
     */
    var dropRepeats = _curry1(_dispatchable('dropRepeats', _xdropRepeatsWith(equals), dropRepeatsWith(equals)));

    /**
     * Combines two lists into a set (i.e. no duplicates) composed of those elements common to both lists.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig [a] -> [a] -> [a]
     * @param {Array} list1 The first list.
     * @param {Array} list2 The second list.
     * @see R.intersectionWith
     * @return {Array} The list of elements found in both `list1` and `list2`.
     * @example
     *
     *      R.intersection([1,2,3,4], [7,6,5,4,3]); //=> [4, 3]
     */
    var intersection = _curry2(function intersection(list1, list2) {
        return uniq(_filter(flip(_contains)(list1), list2));
    });

    /**
     * "lifts" a function of arity > 1 so that it may "map over" an Array or
     * other Functor.
     *
     * @func
     * @memberOf R
     * @since v0.7.0
     * @see R.liftN
     * @category Function
     * @sig (*... -> *) -> ([*]... -> [*])
     * @param {Function} fn The function to lift into higher context
     * @return {Function} The function `fn` applicable to mappable objects.
     * @example
     *
     *      var madd3 = R.lift(R.curry((a, b, c) => a + b + c));
     *
     *      madd3([1,2,3], [1,2,3], [1]); //=> [3, 4, 5, 4, 5, 6, 5, 6, 7]
     *
     *      var madd5 = R.lift(R.curry((a, b, c, d, e) => a + b + c + d + e));
     *
     *      madd5([1,2], [3], [4, 5], [6], [7, 8]); //=> [21, 22, 22, 23, 22, 23, 23, 24]
     */
    var lift = _curry1(function lift(fn) {
        return liftN(fn.length, fn);
    });

    /**
     * Returns a partial copy of an object omitting the keys specified.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Object
     * @sig [String] -> {String: *} -> {String: *}
     * @param {Array} names an array of String property names to omit from the new object
     * @param {Object} obj The object to copy from
     * @return {Object} A new object with properties from `names` not on it.
     * @see R.pick
     * @example
     *
     *      R.omit(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, c: 3}
     */
    var omit = _curry2(function omit(names, obj) {
        var result = {};
        for (var prop in obj) {
            if (!_contains(prop, names)) {
                result[prop] = obj[prop];
            }
        }
        return result;
    });

    /**
     * Returns the left-to-right Kleisli composition of the provided functions,
     * each of which must return a value of a type supported by [`chain`](#chain).
     *
     * `R.pipeK(f, g, h)` is equivalent to `R.pipe(R.chain(f), R.chain(g), R.chain(h))`.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category Function
     * @see R.composeK
     * @sig Chain m => ((a -> m b), (b -> m c), ..., (y -> m z)) -> (m a -> m z)
     * @param {...Function}
     * @return {Function}
     * @example
     *
     *      //  parseJson :: String -> Maybe *
     *      //  get :: String -> Object -> Maybe *
     *
     *      //  getStateCode :: Maybe String -> Maybe String
     *      var getStateCode = R.pipeK(
     *        parseJson,
     *        get('user'),
     *        get('address'),
     *        get('state'),
     *        R.compose(Maybe.of, R.toUpper)
     *      );
     *
     *      getStateCode(Maybe.of('{"user":{"address":{"state":"ny"}}}'));
     *      //=> Just('NY')
     *      getStateCode(Maybe.of('[Invalid JSON]'));
     *      //=> Nothing()
     */
    var pipeK = function pipeK() {
        return composeK.apply(this, reverse(arguments));
    };

    /**
     * Returns the string representation of the given value. `eval`'ing the output
     * should result in a value equivalent to the input value. Many of the built-in
     * `toString` methods do not satisfy this requirement.
     *
     * If the given value is an `[object Object]` with a `toString` method other
     * than `Object.prototype.toString`, this method is invoked with no arguments
     * to produce the return value. This means user-defined constructor functions
     * can provide a suitable `toString` method. For example:
     *
     *     function Point(x, y) {
     *       this.x = x;
     *       this.y = y;
     *     }
     *
     *     Point.prototype.toString = function() {
     *       return 'new Point(' + this.x + ', ' + this.y + ')';
     *     };
     *
     *     R.toString(new Point(1, 2)); //=> 'new Point(1, 2)'
     *
     * @func
     * @memberOf R
     * @since v0.14.0
     * @category String
     * @sig * -> String
     * @param {*} val
     * @return {String}
     * @example
     *
     *      R.toString(42); //=> '42'
     *      R.toString('abc'); //=> '"abc"'
     *      R.toString([1, 2, 3]); //=> '[1, 2, 3]'
     *      R.toString({foo: 1, bar: 2, baz: 3}); //=> '{"bar": 2, "baz": 3, "foo": 1}'
     *      R.toString(new Date('2001-02-03T04:05:06Z')); //=> 'new Date("2001-02-03T04:05:06.000Z")'
     */
    var toString = _curry1(function toString(val) {
        return _toString(val, []);
    });

    /**
     * Combines two lists into a set (i.e. no duplicates) composed of the
     * elements of each list.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Relation
     * @sig [a] -> [a] -> [a]
     * @param {Array} as The first list.
     * @param {Array} bs The second list.
     * @return {Array} The first and second lists concatenated, with
     *         duplicates removed.
     * @example
     *
     *      R.union([1, 2, 3], [2, 3, 4]); //=> [1, 2, 3, 4]
     */
    var union = _curry2(compose(uniq, _concat));

    /**
     * Returns a new list containing only one copy of each element in the
     * original list, based upon the value returned by applying the supplied
     * function to each list element. Prefers the first item if the supplied
     * function produces the same value on two items. `R.equals` is used for
     * comparison.
     *
     * @func
     * @memberOf R
     * @since v0.16.0
     * @category List
     * @sig (a -> b) -> [a] -> [a]
     * @param {Function} fn A function used to produce a value to use during comparisons.
     * @param {Array} list The array to consider.
     * @return {Array} The list of unique items.
     * @example
     *
     *      R.uniqBy(Math.abs, [-1, -5, 2, 10, 1, 2]); //=> [-1, -5, 2, 10]
     */
    var uniqBy = _curry2(function uniqBy(fn, list) {
        var idx = 0, applied = [], result = [], appliedItem, item;
        while (idx < list.length) {
            item = list[idx];
            appliedItem = fn(item);
            if (!_contains(appliedItem, applied)) {
                result.push(item);
                applied.push(appliedItem);
            }
            idx += 1;
        }
        return result;
    });

    /**
     * A function wrapping calls to the two functions in an `&&` operation, returning the result of the first
     * function if it is false-y and the result of the second function otherwise.
     *
     * `R.both` will work on all other applicatives as well.
     *
     * @func
     * @memberOf R
     * @since v0.12.0
     * @category Logic
     * @sig (*... -> Boolean) -> (*... -> Boolean) -> (*... -> Boolean)
     * @param {Function} f a predicate
     * @param {Function} g another predicate
     * @return {Function} a function that applies its arguments to `f` and `g` and `&&`s their outputs together.
     * @see R.and
     * @example
     *
     *      var gt10 = x => x > 10;
     *      var even = x => x % 2 === 0;
     *      var f = R.both(gt10, even);
     *      f(100); //=> true
     *      f(101); //=> false
     */
    var both = lift(and);

    /**
     * Takes a function `f` and returns a function `g` such that:
     *
     *   - applying `g` to zero or more arguments will give __true__ if applying
     *     the same arguments to `f` gives a logical __false__ value; and
     *
     *   - applying `g` to zero or more arguments will give __false__ if applying
     *     the same arguments to `f` gives a logical __true__ value.
     *
     * `R.complement` will work on all other functors as well.
     *
     * @func
     * @memberOf R
     * @since v0.12.0
     * @category Logic
     * @sig (*... -> *) -> (*... -> Boolean)
     * @param {Function} f
     * @return {Function}
     * @see R.not
     * @example
     *
     *      var isEven = n => n % 2 === 0;
     *      var isOdd = R.complement(isEven);
     *      isOdd(21); //=> true
     *      isOdd(42); //=> false
     */
    var complement = lift(not);

    /**
     * A function wrapping calls to the two functions in an `||` operation, returning the result of the first
     * function if it is truth-y and the result of the second function otherwise.
     *
     * `R.either` will work on all other applicatives as well.
     *
     * @func
     * @memberOf R
     * @since v0.12.0
     * @category Logic
     * @sig (*... -> Boolean) -> (*... -> Boolean) -> (*... -> Boolean)
     * @param {Function} f a predicate
     * @param {Function} g another predicate
     * @return {Function} a function that applies its arguments to `f` and `g` and `||`s their outputs together.
     * @see R.or
     * @example
     *
     *      var gt10 = x => x > 10;
     *      var even = x => x % 2 === 0;
     *      var f = R.either(gt10, even);
     *      f(101); //=> true
     *      f(8); //=> true
     */
    var either = lift(or);

    /**
     * Turns a named method with a specified arity into a function
     * that can be called directly supplied with arguments and a target object.
     *
     * The returned function is curried and accepts `arity + 1` parameters where
     * the final parameter is the target object.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig Number -> String -> (a -> b -> ... -> n -> Object -> *)
     * @param {Number} arity Number of arguments the returned function should take
     *        before the target object.
     * @param {Function} method Name of the method to call.
     * @return {Function} A new curried function.
     * @example
     *
     *      var sliceFrom = R.invoker(1, 'slice');
     *      sliceFrom(6, 'abcdefghijklm'); //=> 'ghijklm'
     *      var sliceFrom6 = R.invoker(2, 'slice')(6);
     *      sliceFrom6(8, 'abcdefghijklm'); //=> 'gh'
     */
    var invoker = _curry2(function invoker(arity, method) {
        return curryN(arity + 1, function () {
            var target = arguments[arity];
            if (target != null && is(Function, target[method])) {
                return target[method].apply(target, _slice(arguments, 0, arity));
            }
            throw new TypeError(toString(target) + ' does not have a method named "' + method + '"');
        });
    });

    /**
     * Returns a string made by inserting the `separator` between each
     * element and concatenating all the elements into a single string.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig String -> [a] -> String
     * @param {Number|String} separator The string used to separate the elements.
     * @param {Array} xs The elements to join into a string.
     * @return {String} str The string made by concatenating `xs` with `separator`.
     * @see R.split
     * @example
     *
     *      var spacer = R.join(' ');
     *      spacer(['a', 2, 3.4]);   //=> 'a 2 3.4'
     *      R.join('|', [1, 2, 3]);    //=> '1|2|3'
     */
    var join = invoker(1, 'join');

    /**
     * Creates a new function that, when invoked, caches the result of calling `fn` for a given
     * argument set and returns the result. Subsequent calls to the memoized `fn` with the same
     * argument set will not result in an additional call to `fn`; instead, the cached result
     * for that set of arguments will be returned.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category Function
     * @sig (*... -> a) -> (*... -> a)
     * @param {Function} fn The function to memoize.
     * @return {Function} Memoized version of `fn`.
     * @example
     *
     *      var count = 0;
     *      var factorial = R.memoize(n => {
     *        count += 1;
     *        return R.product(R.range(1, n + 1));
     *      });
     *      factorial(5); //=> 120
     *      factorial(5); //=> 120
     *      factorial(5); //=> 120
     *      count; //=> 1
     */
    var memoize = _curry1(function memoize(fn) {
        var cache = {};
        return function () {
            var key = toString(arguments);
            if (!_has(key, cache)) {
                cache[key] = fn.apply(this, arguments);
            }
            return cache[key];
        };
    });

    /**
     * Splits a string into an array of strings based on the given
     * separator.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category String
     * @sig (String | RegExp) -> String -> [String]
     * @param {String|RegExp} sep The pattern.
     * @param {String} str The string to separate into an array.
     * @return {Array} The array of strings from `str` separated by `str`.
     * @see R.join
     * @example
     *
     *      var pathComponents = R.split('/');
     *      R.tail(pathComponents('/usr/local/bin/node')); //=> ['usr', 'local', 'bin', 'node']
     *
     *      R.split('.', 'a.b.c.xyz.d'); //=> ['a', 'b', 'c', 'xyz', 'd']
     */
    var split = invoker(1, 'split');

    /**
     * Determines whether a given string matches a given regular expression.
     *
     * @func
     * @memberOf R
     * @since v0.12.0
     * @see R.match
     * @category String
     * @sig RegExp -> String -> Boolean
     * @param {RegExp} pattern
     * @param {String} str
     * @return {Boolean}
     * @example
     *
     *      R.test(/^x/, 'xyz'); //=> true
     *      R.test(/^y/, 'xyz'); //=> false
     */
    var test = _curry2(function test(pattern, str) {
        if (!_isRegExp(pattern)) {
            throw new TypeError('\u2018test\u2019 requires a value of type RegExp as its first argument; received ' + toString(pattern));
        }
        return _cloneRegExp(pattern).test(str);
    });

    /**
     * The lower case version of a string.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category String
     * @sig String -> String
     * @param {String} str The string to lower case.
     * @return {String} The lower case version of `str`.
     * @see R.toUpper
     * @example
     *
     *      R.toLower('XYZ'); //=> 'xyz'
     */
    var toLower = invoker(0, 'toLowerCase');

    /**
     * The upper case version of a string.
     *
     * @func
     * @memberOf R
     * @since v0.9.0
     * @category String
     * @sig String -> String
     * @param {String} str The string to upper case.
     * @return {String} The upper case version of `str`.
     * @see R.toLower
     * @example
     *
     *      R.toUpper('abc'); //=> 'ABC'
     */
    var toUpper = invoker(0, 'toUpperCase');

    /**
     * Returns the result of concatenating the given lists or strings.
     *
     * Dispatches to the `concat` method of the second argument, if present.
     *
     * @func
     * @memberOf R
     * @since v0.1.0
     * @category List
     * @sig [a] -> [a] -> [a]
     * @sig String -> String -> String
     * @param {Array|String} a
     * @param {Array|String} b
     * @return {Array|String}
     *
     * @example
     *
     *      R.concat([], []); //=> []
     *      R.concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]
     *      R.concat('ABC', 'DEF'); // 'ABCDEF'
     */
    var concat = flip(invoker(1, 'concat'));

    var R = {
        F: F,
        T: T,
        __: __,
        add: add,
        addIndex: addIndex,
        adjust: adjust,
        all: all,
        allPass: allPass,
        allUniq: allUniq,
        always: always,
        and: and,
        any: any,
        anyPass: anyPass,
        ap: ap,
        aperture: aperture,
        append: append,
        apply: apply,
        assoc: assoc,
        assocPath: assocPath,
        binary: binary,
        bind: bind,
        both: both,
        call: call,
        chain: chain,
        clone: clone,
        commute: commute,
        commuteMap: commuteMap,
        comparator: comparator,
        complement: complement,
        compose: compose,
        composeK: composeK,
        composeP: composeP,
        concat: concat,
        cond: cond,
        construct: construct,
        constructN: constructN,
        contains: contains,
        containsWith: containsWith,
        converge: converge,
        countBy: countBy,
        createMapEntry: createMapEntry,
        curry: curry,
        curryN: curryN,
        dec: dec,
        defaultTo: defaultTo,
        difference: difference,
        differenceWith: differenceWith,
        dissoc: dissoc,
        dissocPath: dissocPath,
        divide: divide,
        drop: drop,
        dropLast: dropLast,
        dropLastWhile: dropLastWhile,
        dropRepeats: dropRepeats,
        dropRepeatsWith: dropRepeatsWith,
        dropWhile: dropWhile,
        either: either,
        empty: empty,
        eqBy: eqBy,
        eqProps: eqProps,
        equals: equals,
        evolve: evolve,
        filter: filter,
        find: find,
        findIndex: findIndex,
        findLast: findLast,
        findLastIndex: findLastIndex,
        flatten: flatten,
        flip: flip,
        forEach: forEach,
        fromPairs: fromPairs,
        functions: functions,
        functionsIn: functionsIn,
        groupBy: groupBy,
        gt: gt,
        gte: gte,
        has: has,
        hasIn: hasIn,
        head: head,
        identical: identical,
        identity: identity,
        ifElse: ifElse,
        inc: inc,
        indexOf: indexOf,
        init: init,
        insert: insert,
        insertAll: insertAll,
        intersection: intersection,
        intersectionWith: intersectionWith,
        intersperse: intersperse,
        into: into,
        invert: invert,
        invertObj: invertObj,
        invoker: invoker,
        is: is,
        isArrayLike: isArrayLike,
        isEmpty: isEmpty,
        isNil: isNil,
        isSet: isSet,
        join: join,
        keys: keys,
        keysIn: keysIn,
        last: last,
        lastIndexOf: lastIndexOf,
        length: length,
        lens: lens,
        lensIndex: lensIndex,
        lensProp: lensProp,
        lift: lift,
        liftN: liftN,
        lt: lt,
        lte: lte,
        map: map,
        mapAccum: mapAccum,
        mapAccumRight: mapAccumRight,
        mapObj: mapObj,
        mapObjIndexed: mapObjIndexed,
        match: match,
        mathMod: mathMod,
        max: max,
        maxBy: maxBy,
        mean: mean,
        median: median,
        memoize: memoize,
        merge: merge,
        mergeAll: mergeAll,
        min: min,
        minBy: minBy,
        modulo: modulo,
        multiply: multiply,
        nAry: nAry,
        negate: negate,
        none: none,
        not: not,
        nth: nth,
        nthArg: nthArg,
        objOf: objOf,
        of: of,
        omit: omit,
        once: once,
        or: or,
        over: over,
        pair: pair,
        partial: partial,
        partialRight: partialRight,
        partition: partition,
        path: path,
        pathEq: pathEq,
        pathOr: pathOr,
        pick: pick,
        pickAll: pickAll,
        pickBy: pickBy,
        pipe: pipe,
        pipeK: pipeK,
        pipeP: pipeP,
        pluck: pluck,
        prepend: prepend,
        product: product,
        project: project,
        prop: prop,
        propEq: propEq,
        propIs: propIs,
        propOr: propOr,
        propSatisfies: propSatisfies,
        props: props,
        range: range,
        reduce: reduce,
        reduceRight: reduceRight,
        reduced: reduced,
        reject: reject,
        remove: remove,
        repeat: repeat,
        replace: replace,
        reverse: reverse,
        scan: scan,
        set: set,
        slice: slice,
        sort: sort,
        sortBy: sortBy,
        split: split,
        splitEvery: splitEvery,
        subtract: subtract,
        sum: sum,
        tail: tail,
        take: take,
        takeLast: takeLast,
        takeLastWhile: takeLastWhile,
        takeWhile: takeWhile,
        tap: tap,
        test: test,
        times: times,
        toLower: toLower,
        toPairs: toPairs,
        toPairsIn: toPairsIn,
        toString: toString,
        toUpper: toUpper,
        transduce: transduce,
        trim: trim,
        type: type,
        unapply: unapply,
        unary: unary,
        uncurryN: uncurryN,
        unfold: unfold,
        union: union,
        unionWith: unionWith,
        uniq: uniq,
        uniqBy: uniqBy,
        uniqWith: uniqWith,
        unless: unless,
        unnest: unnest,
        update: update,
        useWith: useWith,
        values: values,
        valuesIn: valuesIn,
        view: view,
        when: when,
        where: where,
        whereEq: whereEq,
        wrap: wrap,
        xprod: xprod,
        zip: zip,
        zipObj: zipObj,
        zipWith: zipWith
    };

  /* TEST_ENTRY_POINT */

  if (typeof exports === 'object') {
    module.exports = R;
  } else if (typeof define === 'function' && define.amd) {
    define(function() { return R; });
  } else {
    this.R = R;
  }

}.call(this));

},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	var axisXProps = plotUnit.axisX.lineCoordinates;
	var axisYProps = plotUnit.axisY.lineCoordinates;
	var markers = [];

	var plotArea = this.plotArea;
	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];

		var dataPoints = dataSeries.dataPoints;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};

		var hexColor = (0, _utils.intToHexColorString)(seriesId);
		ghostCtx.fillStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		//ghostCtx.lineWidth = 20;

		markers = [];

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
		var baseY;

		var startPoint = null;

		if (dataPoints.length > 0) {
			//ctx.strokeStyle = "#4572A7 ";
			var color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash((0, _utils.getLineDashArray)(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			var prevDataNull = true;
			for (; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") {
					closeArea();

					prevDataNull = true;
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				if (isFirstDataPointInPlotArea || prevDataNull) {
					ctx.beginPath();
					ctx.moveTo(x, y);
					startPoint = {
						x: x, y: y
					};

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y);
					}

					isFirstDataPointInPlotArea = false;
					prevDataNull = false;
				} else {

					ctx.lineTo(x, y);

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y);

					if (i % 250 == 0) {
						closeArea();
					}
				}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};

				//Render Marker
				if (dataPoints[i].markerSize !== 0) {
					if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = (0, _utils.intToHexColorString)(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "area",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			closeArea();

			//startPoint = { x: x, y: y };
			_render2.default.drawMarkers(markers);
		}
	}

	ctx.restore();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	function closeArea() {

		if (!startPoint) return;

		if (dataSeries.lineThickness > 0) ctx.stroke();

		if (plotUnit.axisY.viewportMinimum <= 0 && plotUnit.axisY.viewportMaximum >= 0) {
			baseY = yZeroToPixel;
		} else if (plotUnit.axisY.viewportMaximum < 0) baseY = axisYProps.y1;else if (plotUnit.axisY.viewportMinimum > 0) baseY = axisXProps.y2;

		ctx.lineTo(x, baseY);
		ctx.lineTo(startPoint.x, baseY);
		ctx.closePath();

		ctx.globalAlpha = dataSeries.fillOpacity;
		ctx.fill();
		ctx.globalAlpha = 1;

		if (_utils.isCanvasSupported) {
			ghostCtx.lineTo(x, baseY);
			ghostCtx.lineTo(startPoint.x, baseY);
			ghostCtx.closePath();
			ghostCtx.fill();
		}

		ctx.beginPath();
		ctx.moveTo(x, y);
		ghostCtx.beginPath();
		ghostCtx.moveTo(x, y);

		startPoint = {
			x: x, y: y
		};
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.xClipAnimation, easingFunction: _animator2.default.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":41,"../helpers/render":42,"../helpers/utils":43}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	//In case of Bar Chart, yZeroToPixel is x co-ordinate!
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : Math.min(this.height * .15, this.plotArea.height / plotUnit.plotType.totalDataSeries * .9) << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	//var barWidth = (((plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum)) * Math.abs(xMinDiff)) / totalDataSeries * .9) << 0;

	var barWidth = plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.totalDataSeries * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth / plotUnit.plotType.totalDataSeries * .9;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				//x and y are pixel co-ordinates of point and should not be confused with X and Y values
				y = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				x = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var y1 = y - plotUnit.plotType.totalDataSeries * barWidth / 2 + (plotUnit.previousDataSeriesCount + j) * barWidth << 0;
				var y2 = y1 + barWidth << 0;
				var x1;
				var x2;

				if (dataPoints[i].y >= 0) {
					x1 = yZeroToPixel;
					x2 = x;
				} else {
					x1 = x;
					x2 = yZeroToPixel;
				}

				//drawRect(ctx, x1, y1, plotArea.x2, y2, "#EEEEEE", 0, null, false, false, false, false);
				//drawRect(ctx, x1, y1, plotArea.x2, y2, "#BDCED3", 0, null, false, false, false, false);

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				//color = "#1B4962";
				(0, _utils.drawRect)(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled, false, false, false, dataSeries.fillOpacity);

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = (0, _utils.intToHexColorString)(id);

				if (_utils.isCanvasSupported) (0, _utils.drawRect)(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) this._indexLabels.push({
					chartType: "bar",
					dataPoint: dataPoints[i],
					dataSeries: dataSeries,
					point: {
						x: dataPoints[i].y >= 0 ? x2 : x1, y: y1 + (y2 - y1) / 2
					},
					direction: dataPoints[i].y >= 0 ? 1 : -1,
					bounds: {
						x1: Math.min(x1, x2), y1: y1, x2: Math.max(x1, x2), y2: y2
					},
					color: color
				});
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.max(yZeroToPixel, plotUnit.axisX.boundingRect.x2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.xScaleAnimation, easingFunction: _animator2.default.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":41,"../helpers/utils":43}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {

	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / totalDataSeries * .9 << 0;

	ctx.save();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	var maxZ = -Infinity;
	var minZ = Infinity;

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];
		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var z = 0;

		for (var i = 0; i < dataPoints.length; i++) {

			dataPointX = dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

			if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
				continue;
			}

			if (typeof dataPoints[i].z !== "undefined") {

				z = dataPoints[i].z;

				if (z > maxZ) maxZ = z;

				if (z < minZ) minZ = z;
			}
		}
	}

	var minArea = Math.PI * 5 * 5;
	var maxArea = Math.max(Math.pow(Math.min(plotArea.height, plotArea.width) * .25 / 2, 2) * Math.PI, minArea);

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		if (dataPoints.length == 1) barWidth = maxBarWidth;

		if (barWidth < 1) barWidth = 1;else if (barWidth > maxBarWidth) barWidth = maxBarWidth;

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);
			//var bevelEnabled = (barWidth > 5) ? false : false;

			ctx.strokeStyle = "#4572A7 ";

			for (var i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var z = dataPoints[i].z;

				var area = maxZ === minZ ? maxArea / 2 : minArea + (maxArea - minArea) / (maxZ - minZ) * (z - minZ);
				var radius = Math.max(Math.sqrt(area / Math.PI) << 0, 1);

				var markerSize = radius * 2;
				var markerProps = dataSeries.getMarkerProperties(i, ctx);
				markerProps.size = markerSize;

				ctx.globalAlpha = dataSeries.fillOpacity;
				_render2.default.drawMarker(x, y, ctx, markerProps.type, markerProps.size, markerProps.color, markerProps.borderColor, markerProps.borderThickness);
				ctx.globalAlpha = 1;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y, size: markerSize
				};
				var markerColor = (0, _utils.intToHexColorString)(id);
				//RenderHelper.drawMarker(x, y, this._eventManager.ghostCtx, markerType, markerSize, markerColor, markerColor, dataSeries.markerBorderThickness);
				if (_utils.isCanvasSupported) _render2.default.drawMarker(x, y, this._eventManager.ghostCtx, markerProps.type, markerProps.size, markerColor, markerColor, markerProps.borderThickness);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "bubble",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: 1,
						bounds: {
							x1: x - markerProps.size / 2, y1: y - markerProps.size / 2, x2: x + markerProps.size / 2, y2: y + markerProps.size / 2
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.fadeInAnimation, easingFunction: _animator2.default.easing.easeInQuad, animationBase: 0
	};
	return animationInfo;
};

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":41,"../helpers/render":42,"../helpers/utils":43}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var ghostCtx = this._eventManager.ghostCtx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;
	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y1,
	    y2,
	    y3,
	    y4;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .015;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) * .7 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();
	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}
	//ctx.beginPath();

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		// Reducing pixelPerUnit by 1 just to overcome any problems due to rounding off of pixels.
		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		//var offsetX = barWidth * plotUnit.index << 0;

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			for (i = 0; i < dataPoints.length; i++) {

				dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (dataPoints[i].y === null || !dataPoints[i].y.length || typeof dataPoints[i].y[0] !== "number" || typeof dataPoints[i].y[1] !== "number" || typeof dataPoints[i].y[2] !== "number" || typeof dataPoints[i].y[3] !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y1 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[0] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				y2 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[1] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				y3 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[2] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				y4 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[3] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var x1 = x - barWidth / 2 << 0;
				var x2 = x1 + barWidth << 0;

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[0];

				//var borderThickness = Math.max(2, ((barWidth * .1) / 2 << 0) * 2); // Set only even numbers for border
				var borderThickness = Math.round(Math.max(1, barWidth * .15));
				//borderThickness = (borderThickness / 2 << 0) * 2;
				//borderThickness = 2;
				var offset = borderThickness % 2 === 0 ? 0 : .5;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2,
					x3: x, y3: y3, x4: x, y4: y4, borderThickness: borderThickness, color: color
				};

				ctx.strokeStyle = color;
				ctx.beginPath();
				ctx.lineWidth = borderThickness;
				ghostCtx.lineWidth = Math.max(borderThickness, 4);

				if (dataSeries.type === "candlestick") {

					ctx.moveTo(x - offset, y2);
					ctx.lineTo(x - offset, Math.min(y1, y4));
					ctx.stroke();
					ctx.moveTo(x - offset, Math.max(y1, y4));
					ctx.lineTo(x - offset, y3);
					ctx.stroke();

					drawRect(ctx, x1, Math.min(y1, y4), x2, Math.max(y1, y4), dataPoints[i].y[0] <= dataPoints[i].y[3] ? dataSeries.risingColor : color, borderThickness, color, bevelEnabled, bevelEnabled, false, false, dataSeries.fillOpacity);

					if (_utils.isCanvasSupported) {
						color = intToHexColorString(id);
						ghostCtx.strokeStyle = color;

						ghostCtx.moveTo(x - offset, y2);
						ghostCtx.lineTo(x - offset, Math.min(y1, y4));
						ghostCtx.stroke();
						ghostCtx.moveTo(x - offset, Math.max(y1, y4));
						ghostCtx.lineTo(x - offset, y3);
						ghostCtx.stroke();
						drawRect(ghostCtx, x1, Math.min(y1, y4), x2, Math.max(y1, y4), color, 0, null, false, false, false, false);
					}
				} else if (dataSeries.type === "ohlc") {

					ctx.moveTo(x - offset, y2);
					ctx.lineTo(x - offset, y3);
					ctx.stroke();

					ctx.beginPath();
					ctx.moveTo(x, y1);
					ctx.lineTo(x1, y1);
					ctx.stroke();

					ctx.beginPath();
					ctx.moveTo(x, y4);
					ctx.lineTo(x2, y4);
					ctx.stroke();

					if (_utils.isCanvasSupported) {

						color = intToHexColorString(id);
						ghostCtx.strokeStyle = color;

						ghostCtx.moveTo(x - offset, y2);
						ghostCtx.lineTo(x - offset, y3);
						ghostCtx.stroke();

						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y1);
						ghostCtx.lineTo(x1, y1);
						ghostCtx.stroke();

						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y4);
						ghostCtx.lineTo(x2, y4);
						ghostCtx.stroke();
					}
				}

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: dataSeries.type,
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x1 + (x2 - x1) / 2, y: y2
						},
						direction: 1,
						bounds: {
							x1: x1, y1: Math.min(y2, y3), x2: x2, y2: Math.max(y2, y3)
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.fadeInAnimation, easingFunction: AnimationHelper.easing.easeInQuad, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":43}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {

	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : Math.min(this.width * .15, this.plotArea.width / plotUnit.plotType.totalDataSeries * .9) << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.totalDataSeries * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth / plotUnit.plotType.totalDataSeries * .9;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}
	//ctx.beginPath();

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		// Reducing pixelPerUnit by 1 just to overcome any problems due to rounding off of pixels.
		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		//var offsetX = barWidth * plotUnit.index << 0;

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			for (i = 0; i < dataPoints.length; i++) {

				dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var x1 = x - plotUnit.plotType.totalDataSeries * barWidth / 2 + (plotUnit.previousDataSeriesCount + j) * barWidth << 0;
				var x2 = x1 + barWidth << 0;
				var y1;
				var y2;

				if (dataPoints[i].y >= 0) {
					y1 = y;

					y2 = yZeroToPixel;

					if (y1 > y2) {
						var temp = y1;
						y1 = y2;
						y2 = y1;
					}
				} else {
					y2 = y;

					y1 = yZeroToPixel;

					if (y1 > y2) {
						var temp = y1;
						y1 = y2;
						y2 = y1;
					}
				}

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				(0, _utils.drawRect)(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled && dataPoints[i].y >= 0, dataPoints[i].y < 0 && bevelEnabled, false, false, dataSeries.fillOpacity);

				//if (dataSeries.markerType && dataSeries.markerSize > 0) {
				//    RenderHelper.drawMarker(x1 + (x2 - x1) / 2, y, ctx, dataSeries.markerType, dataSeries.markerSize, color, dataSeries.markerBorderColor, dataSeries.markerBorderThickness ? dataSeries.markerBorderThickness : 1);
				//}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};

				color = (0, _utils.intToHexColorString)(id);
				if (_utils.isCanvasSupported) (0, _utils.drawRect)(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "column",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x1 + (x2 - x1) / 2, y: dataPoints[i].y >= 0 ? y1 : y2
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						bounds: {
							x1: x1, y1: Math.min(y1, y2), x2: x2, y2: Math.max(y1, y2)
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.min(yZeroToPixel, plotUnit.axisY.boundingRect.y2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.yScaleAnimation, easingFunction: _animator2.default.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":41,"../helpers/utils":43}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PieChart = exports.RangeSplineAreaChart = exports.RangeAreaChart = exports.RangeBarChart = exports.RangeColumnChart = exports.CandlestickChart = exports.ScatterChart = exports.BubbleChart = exports.StackedArea100Chart = exports.StackedAreaChart = exports.StepAreaChart = exports.SplineAreaChart = exports.AreaChart = exports.StackedBar100Chart = exports.StackedBarChart = exports.BarChart = exports.StackedColumn100Chart = exports.StackedColumnChart = exports.ColumnChart = exports.SplineChart = undefined;

var _spline = require('../charts/spline');

var _spline2 = _interopRequireDefault(_spline);

var _column = require('../charts/column');

var _column2 = _interopRequireDefault(_column);

var _stacked_column = require('../charts/stacked_column');

var _stacked_column2 = _interopRequireDefault(_stacked_column);

var _stacked_column_ = require('../charts/stacked_column_100');

var _stacked_column_2 = _interopRequireDefault(_stacked_column_);

var _bar = require('../charts/bar');

var _bar2 = _interopRequireDefault(_bar);

var _stacked_bar = require('../charts/stacked_bar');

var _stacked_bar2 = _interopRequireDefault(_stacked_bar);

var _stacked_bar_ = require('../charts/stacked_bar_100');

var _stacked_bar_2 = _interopRequireDefault(_stacked_bar_);

var _area = require('../charts/area');

var _area2 = _interopRequireDefault(_area);

var _spline_area = require('../charts/spline_area');

var _spline_area2 = _interopRequireDefault(_spline_area);

var _step_area = require('../charts/step_area');

var _step_area2 = _interopRequireDefault(_step_area);

var _stacked_area = require('../charts/stacked_area');

var _stacked_area2 = _interopRequireDefault(_stacked_area);

var _stacked_area_ = require('../charts/stacked_area_100');

var _stacked_area_2 = _interopRequireDefault(_stacked_area_);

var _bubble = require('../charts/bubble');

var _bubble2 = _interopRequireDefault(_bubble);

var _scatter = require('../charts/scatter');

var _scatter2 = _interopRequireDefault(_scatter);

var _candlestick = require('../charts/candlestick');

var _candlestick2 = _interopRequireDefault(_candlestick);

var _range_column = require('../charts/range_column');

var _range_column2 = _interopRequireDefault(_range_column);

var _range_bar = require('../charts/range_bar');

var _range_bar2 = _interopRequireDefault(_range_bar);

var _range_area = require('../charts/range_area');

var _range_area2 = _interopRequireDefault(_range_area);

var _range_spline_area = require('../charts/range_spline_area');

var _range_spline_area2 = _interopRequireDefault(_range_spline_area);

var _pie = require('../charts/pie');

var _pie2 = _interopRequireDefault(_pie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.SplineChart = _spline2.default;
exports.ColumnChart = _column2.default;
exports.StackedColumnChart = _stacked_column2.default;
exports.StackedColumn100Chart = _stacked_column_2.default;
exports.BarChart = _bar2.default;
exports.StackedBarChart = _stacked_bar2.default;
exports.StackedBar100Chart = _stacked_bar_2.default;
exports.AreaChart = _area2.default;
exports.SplineAreaChart = _spline_area2.default;
exports.StepAreaChart = _step_area2.default;
exports.StackedAreaChart = _stacked_area2.default;
exports.StackedArea100Chart = _stacked_area_2.default;
exports.BubbleChart = _bubble2.default;
exports.ScatterChart = _scatter2.default;
exports.CandlestickChart = _candlestick2.default;
exports.RangeColumnChart = _range_column2.default;
exports.RangeBarChart = _range_bar2.default;
exports.RangeAreaChart = _range_area2.default;
exports.RangeSplineAreaChart = _range_spline_area2.default;
exports.PieChart = _pie2.default;

},{"../charts/area":4,"../charts/bar":5,"../charts/bubble":6,"../charts/candlestick":7,"../charts/column":8,"../charts/pie":10,"../charts/range_area":11,"../charts/range_bar":12,"../charts/range_column":13,"../charts/range_spline_area":14,"../charts/scatter":15,"../charts/spline":16,"../charts/spline_area":17,"../charts/stacked_area":18,"../charts/stacked_area_100":19,"../charts/stacked_bar":20,"../charts/stacked_bar_100":21,"../charts/stacked_column":22,"../charts/stacked_column_100":23,"../charts/step_area":24}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {

	var _this = this;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var dataSeriesIndex = plotUnit.dataSeriesIndexes[0];
	var dataSeries = this.data[dataSeriesIndex];
	var dataPoints = dataSeries.dataPoints;
	var indexLabelLineEdgeLength = 10;
	var explodeDuration = 500;

	var plotArea = this.plotArea;

	//var maxFrame = isCanvasSupported ? 300 : 4;
	//var totalRecursions = 0;
	var dataPointEOs = []; //dataPoint Extension Objects Behaves like a storage place for all additional data relating to dataPoints. Requred because actual dataPoints should not be modified.

	var minDistanceBetweenLabels = 2;
	var indexLabelRadiusToRadiusRatio = 1.3;
	var poleAnglularDistance = 20 / 180 * Math.PI; //Anglular Distance from 90 & 270 to be considered pole
	var precision = 6;

	var center = {
		x: (plotArea.x2 + plotArea.x1) / 2, y: (plotArea.y2 + plotArea.y1) / 2
	};

	var sum = 0;
	var isIndexLabelPresent = false;
	for (var j = 0; j < dataPoints.length; j++) {
		sum += Math.abs(dataPoints[j].y);

		if (!isIndexLabelPresent && typeof dataPoints[j].indexLabel !== "undefined" && dataPoints[j].indexLabel !== null && dataPoints[j].indexLabel.toString().length > 0) isIndexLabelPresent = true;

		if (!isIndexLabelPresent && typeof dataPoints[j].label !== "undefined" && dataPoints[j].label !== null && dataPoints[j].label.toString().length > 0) isIndexLabelPresent = true;
	}

	if (sum === 0) return;

	isIndexLabelPresent = isIndexLabelPresent || typeof dataSeries.indexLabel !== "undefined" && dataSeries.indexLabel !== null && dataSeries.indexLabel.toString().length > 0;

	var outerRadius = dataSeries.indexLabelPlacement !== "inside" && isIndexLabelPresent ? Math.min(plotArea.width, plotArea.height) * 0.75 / 2 : Math.min(plotArea.width, plotArea.height) * .92 / 2;

	if (dataSeries.radius) outerRadius = (0, _utils.convertPercentToValue)(dataSeries.radius, outerRadius);

	var innerRadius = typeof dataSeries.innerRadius !== 'undefined' && dataSeries.innerRadius !== null ? (0, _utils.convertPercentToValue)(dataSeries.innerRadius, outerRadius) : 0.7 * outerRadius;

	var percentInnerRadius = Math.min(innerRadius / outerRadius, (outerRadius - 1) / outerRadius);

	function initLabels() {

		if (!dataSeries || !dataPoints) return;

		var noDPNearSouthPole = 0;
		var noDPNearNorthPole = 0;
		var firstDPCloseToSouth = 0;
		var firstDPCloseToNorth = 0;

		for (j = 0; j < dataPoints.length; j++) {

			var dataPoint = dataPoints[j];
			var id = dataSeries.dataPointIds[j];

			var dataPointEO = {
				id: id, objectType: "dataPoint", dataPointIndex: j, dataSeriesIndex: 0
			};
			dataPointEOs.push(dataPointEO);

			var percentAndTotal = {
				percent: null, total: null
			};
			var formatterParameter = null;

			percentAndTotal = _this.getPercentAndTotal(dataSeries, dataPoint);

			if (dataSeries.indexLabelFormatter || dataPoint.indexLabelFormatter) formatterParameter = {
				chart: _this._options, dataSeries: dataSeries, dataPoint: dataPoint, total: percentAndTotal.total, percent: percentAndTotal.percent
			};

			var indexLabelText = dataPoint.indexLabelFormatter ? dataPoint.indexLabelFormatter(formatterParameter) : dataPoint.indexLabel ? _this.replaceKeywordsWithValue(dataPoint.indexLabel, dataPoint, dataSeries, j) : dataSeries.indexLabelFormatter ? dataSeries.indexLabelFormatter(formatterParameter) : dataSeries.indexLabel ? _this.replaceKeywordsWithValue(dataSeries.indexLabel, dataPoint, dataSeries, j) : dataPoint.label ? dataPoint.label : '';

			_this._eventManager.objectMap[id] = dataPointEO;

			//dataPointEO.indexLabelText = j.toString() + " " + "kingfisher: " + dataPoint.y.toString();;
			dataPointEO.center = {
				x: center.x, y: center.y
			};
			dataPointEO.y = dataPoint.y;
			dataPointEO.radius = outerRadius;
			dataPointEO.percentInnerRadius = percentInnerRadius;
			dataPointEO.indexLabelText = indexLabelText;
			dataPointEO.indexLabelPlacement = dataSeries.indexLabelPlacement;
			dataPointEO.indexLabelLineColor = dataPoint.indexLabelLineColor ? dataPoint.indexLabelLineColor : dataSeries.indexLabelLineColor ? dataSeries.indexLabelLineColor : dataPoint.color ? dataPoint.color : dataSeries._colorSet[j % dataSeries._colorSet.length];
			dataPointEO.indexLabelLineThickness = dataPoint.indexLabelLineThickness ? dataPoint.indexLabelLineThickness : dataSeries.indexLabelLineThickness;
			dataPointEO.indexLabelLineDashType = dataPoint.indexLabelLineDashType ? dataPoint.indexLabelLineDashType : dataSeries.indexLabelLineDashType;
			dataPointEO.indexLabelFontColor = dataPoint.indexLabelFontColor ? dataPoint.indexLabelFontColor : dataSeries.indexLabelFontColor;
			dataPointEO.indexLabelFontStyle = dataPoint.indexLabelFontStyle ? dataPoint.indexLabelFontStyle : dataSeries.indexLabelFontStyle;
			dataPointEO.indexLabelFontWeight = dataPoint.indexLabelFontWeight ? dataPoint.indexLabelFontWeight : dataSeries.indexLabelFontWeight;
			dataPointEO.indexLabelFontSize = dataPoint.indexLabelFontSize ? dataPoint.indexLabelFontSize : dataSeries.indexLabelFontSize;
			dataPointEO.indexLabelFontFamily = dataPoint.indexLabelFontFamily ? dataPoint.indexLabelFontFamily : dataSeries.indexLabelFontFamily;
			dataPointEO.indexLabelBackgroundColor = dataPoint.indexLabelBackgroundColor ? dataPoint.indexLabelBackgroundColor : dataSeries.indexLabelBackgroundColor ? dataSeries.indexLabelBackgroundColor : null;
			dataPointEO.indexLabelMaxWidth = dataPoint.indexLabelMaxWidth ? dataPoint.indexLabelMaxWidth : dataSeries.indexLabelMaxWidth ? dataSeries.indexLabelMaxWidth : plotArea.width * .33;
			dataPointEO.indexLabelWrap = typeof dataPoint.indexLabelWrap !== "undefined" ? dataPoint.indexLabelWrap : dataSeries.indexLabelWrap;

			dataPointEO.startAngle = j === 0 ? dataSeries.startAngle ? dataSeries.startAngle / 180 * Math.PI : 0 : dataPointEOs[j - 1].endAngle;

			dataPointEO.startAngle = (dataPointEO.startAngle + 2 * Math.PI) % (2 * Math.PI);

			dataPointEO.endAngle = dataPointEO.startAngle + 2 * Math.PI / sum * Math.abs(dataPoint.y);

			//var midAngle = dataPointEO.startAngle + Math.abs(dataPointEO.endAngle - dataPointEO.startAngle) / 2;
			var midAngle = (dataPointEO.endAngle + dataPointEO.startAngle) / 2;

			//var midAngle = (180 / Math.PI * midAngle);

			midAngle = (midAngle + 2 * Math.PI) % (2 * Math.PI);

			dataPointEO.midAngle = midAngle;

			if (dataPointEO.midAngle > Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < Math.PI / 2 + poleAnglularDistance) {
				if (noDPNearSouthPole === 0 || dataPointEOs[firstDPCloseToSouth].midAngle > dataPointEO.midAngle) firstDPCloseToSouth = j;

				noDPNearSouthPole++;
			} else if (dataPointEO.midAngle > 3 * Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < 3 * Math.PI / 2 + poleAnglularDistance) {
				if (noDPNearNorthPole === 0 || dataPointEOs[firstDPCloseToNorth].midAngle > dataPointEO.midAngle) firstDPCloseToNorth = j;

				noDPNearNorthPole++;
			}

			if (midAngle > Math.PI / 2 && midAngle <= 3 * Math.PI / 2) dataPointEO.hemisphere = "left";else dataPointEO.hemisphere = "right";

			//dataPointEO.indexLabelText = j.toString() + "; " + dataPoint.y.toString() + "; " + midAngle.toString() + "; junk";
			dataPointEO.indexLabelTextBlock = new _text_block2.default(_this.plotArea.ctx, {
				fontSize: dataPointEO.indexLabelFontSize, fontFamily: dataPointEO.indexLabelFontFamily, fontColor: dataPointEO.indexLabelFontColor,
				fontStyle: dataPointEO.indexLabelFontStyle, fontWeight: dataPointEO.indexLabelFontWeight,
				horizontalAlign: "left",
				backgroundColor: dataPointEO.indexLabelBackgroundColor,
				maxWidth: dataPointEO.indexLabelMaxWidth, maxHeight: dataPointEO.indexLabelWrap ? dataPointEO.indexLabelFontSize * 5 : dataPointEO.indexLabelFontSize * 1.5,
				text: dataPointEO.indexLabelText,
				padding: 0,
				//textBaseline: dataPointEO.indexLabelBackgroundColor ? "middle" : "top"
				textBaseline: "top"
			});

			dataPointEO.indexLabelTextBlock.measureText();

			//dataPoint.labelWidth = ctx.measureText(j.toString() + "; " + dataPoint.label).width;

			//console.log(dataPoint.label);
		}

		var noOfDPToRightOfSouthPole = 0;
		var noOfDPToLeftOfNorthPole = 0;
		var keepSameDirection = false; // once a dataPoint's hemisphere is changed, others should follow the same so that there are no labes near pole pointing in opposite direction.

		for (j = 0; j < dataPoints.length; j++) {

			var dataPointEO = dataPointEOs[(firstDPCloseToSouth + j) % dataPoints.length];

			if (noDPNearSouthPole > 1 && dataPointEO.midAngle > Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < Math.PI / 2 + poleAnglularDistance) {

				if (noOfDPToRightOfSouthPole <= noDPNearSouthPole / 2 && !keepSameDirection) {
					dataPointEO.hemisphere = "right";
					noOfDPToRightOfSouthPole++;
				} else {
					dataPointEO.hemisphere = "left";
					keepSameDirection = true;
				}
			}
		}

		keepSameDirection = false;
		for (j = 0; j < dataPoints.length; j++) {

			var dataPointEO = dataPointEOs[(firstDPCloseToNorth + j) % dataPoints.length];

			//if (dataPoint.hemisphere = "right")
			//	break;

			if (noDPNearNorthPole > 1 && dataPointEO.midAngle > 3 * Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < 3 * Math.PI / 2 + poleAnglularDistance) {

				if (noOfDPToLeftOfNorthPole <= noDPNearNorthPole / 2 && !keepSameDirection) {
					dataPointEO.hemisphere = "left";
					noOfDPToLeftOfNorthPole++;
				} else {
					dataPointEO.hemisphere = "right";
					keepSameDirection = true;
				}
			}
		}
	} //End of initLabels()

	function renderLabels() {

		var ctx = _this.plotArea.ctx;
		ctx.fillStyle = "black";
		ctx.strokeStyle = "grey";
		var fontSize = 16;
		//ctx.font = fontSize + "px Arial";
		ctx.textBaseline = "middle";
		ctx.lineJoin = "round";
		var i = 0,
		    j = 0;

		for (i = 0; i < dataPoints.length; i++) {
			var dataPointEO = dataPointEOs[i];

			if (!dataPointEO.indexLabelText) continue;

			dataPointEO.indexLabelTextBlock.y -= dataPointEO.indexLabelTextBlock.height / 2;

			var xOffset = 0;

			if (dataPointEO.hemisphere === "left") {
				var xOffset = dataSeries.indexLabelPlacement !== "inside" ? -(dataPointEO.indexLabelTextBlock.width + indexLabelLineEdgeLength) : -dataPointEO.indexLabelTextBlock.width / 2;
			} else {
				var xOffset = dataSeries.indexLabelPlacement !== "inside" ? indexLabelLineEdgeLength : -dataPointEO.indexLabelTextBlock.width / 2;
			}

			dataPointEO.indexLabelTextBlock.x += xOffset;
			dataPointEO.indexLabelTextBlock.render(true);
			dataPointEO.indexLabelTextBlock.x -= xOffset;

			//if (i < 4)
			//	customPrompt(i + "; " + center.y + "; " + dataPointEO.indexLabelTextBlock.y.toFixed(2));

			dataPointEO.indexLabelTextBlock.y += dataPointEO.indexLabelTextBlock.height / 2;

			if (dataPointEO.indexLabelPlacement !== "inside") {
				var indexLabelLineStartX = dataPointEO.center.x + outerRadius * Math.cos(dataPointEO.midAngle);
				var indexLabelLineStartY = dataPointEO.center.y + outerRadius * Math.sin(dataPointEO.midAngle);

				//ctx.strokeStyle = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				ctx.strokeStyle = dataPointEO.indexLabelLineColor;
				ctx.lineWidth = dataPointEO.indexLabelLineThickness;

				if (ctx.setLineDash) {
					ctx.setLineDash((0, _utils.getLineDashArray)(dataPointEO.indexLabelLineDashType, dataPointEO.indexLabelLineThickness));
				}

				//ctx.lineWidth = 4;
				ctx.beginPath();
				ctx.moveTo(indexLabelLineStartX, indexLabelLineStartY);
				ctx.lineTo(dataPointEO.indexLabelTextBlock.x, dataPointEO.indexLabelTextBlock.y);
				ctx.lineTo(dataPointEO.indexLabelTextBlock.x + (dataPointEO.hemisphere === "left" ? -indexLabelLineEdgeLength : indexLabelLineEdgeLength), dataPointEO.indexLabelTextBlock.y);
				ctx.stroke();
				//ctx.closePath();
				//window.alert("contine??");
				//animate();
			}

			ctx.lineJoin = "miter";
		}
	}

	function animate(fractionComplete) {

		var ctx = _this.plotArea.ctx;

		ctx.clearRect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ctx.fillStyle = _this.backgroundColor;
		ctx.fillRect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);

		var maxAngle = dataPointEOs[0].startAngle + 2 * Math.PI * fractionComplete;

		for (var i = 0; i < dataPoints.length; i++) {

			var startAngle = i === 0 ? dataPointEOs[i].startAngle : endAngle;
			var endAngle = startAngle + (dataPointEOs[i].endAngle - dataPointEOs[i].startAngle);

			var shouldBreak = false;

			if (endAngle > maxAngle) {
				endAngle = maxAngle;
				shouldBreak = true;
			}

			var color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];

			if (endAngle > startAngle) (0, _utils.drawSegment)(_this.plotArea.ctx, dataPointEOs[i].center, dataPointEOs[i].radius, color, dataSeries.type, startAngle, endAngle, dataSeries.fillOpacity, dataPointEOs[i].percentInnerRadius);

			if (shouldBreak) break;
		}
	}

	function explodeToggle(fractionComplete) {

		var ctx = _this.plotArea.ctx;

		ctx.clearRect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ctx.fillStyle = _this.backgroundColor;
		ctx.fillRect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);

		for (var i = 0; i < dataPoints.length; i++) {

			var startAngle = dataPointEOs[i].startAngle;
			var endAngle = dataPointEOs[i].endAngle;

			if (endAngle > startAngle) {

				var offsetX = outerRadius * .07 * Math.cos(dataPointEOs[i].midAngle);
				var offsetY = outerRadius * .07 * Math.sin(dataPointEOs[i].midAngle);
				var isInTransition = false;

				if (dataPoints[i].exploded) {
					if (Math.abs(dataPointEOs[i].center.x - (center.x + offsetX)) > 0.000000001 || Math.abs(dataPointEOs[i].center.y - (center.y + offsetY)) > 0.000000001) {

						dataPointEOs[i].center.x = center.x + offsetX * fractionComplete;
						dataPointEOs[i].center.y = center.y + offsetY * fractionComplete;

						isInTransition = true;
					}
				} else if (Math.abs(dataPointEOs[i].center.x - center.x) > 0 || Math.abs(dataPointEOs[i].center.y - center.y) > 0) {
					dataPointEOs[i].center.x = center.x + offsetX * (1 - fractionComplete);
					dataPointEOs[i].center.y = center.y + offsetY * (1 - fractionComplete);

					isInTransition = true;
				}

				if (isInTransition) {
					var entry = {};
					entry.dataSeries = dataSeries;
					entry.dataPoint = dataSeries.dataPoints[i];
					entry.index = i;
					_this._toolTip.highlightObjects([entry]);
				}

				var color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];

				(0, _utils.drawSegment)(_this.plotArea.ctx, dataPointEOs[i].center, dataPointEOs[i].radius, color, dataSeries.type, startAngle, endAngle, dataSeries.fillOpacity, dataPointEOs[i].percentInnerRadius);
			}
		}

		//window.alert("next??");
		renderLabels();
	}

	function areDataPointsTooClose(first, second) {

		var label1 = {
			x1: first.indexLabelTextBlock.x, y1: first.indexLabelTextBlock.y - first.indexLabelTextBlock.height / 2, x2: first.indexLabelTextBlock.x + first.indexLabelTextBlock.width, y2: first.indexLabelTextBlock.y + first.indexLabelTextBlock.height / 2
		};
		var label2 = {
			x1: second.indexLabelTextBlock.x, y1: second.indexLabelTextBlock.y - second.indexLabelTextBlock.height / 2, x2: second.indexLabelTextBlock.x + second.indexLabelTextBlock.width, y2: second.indexLabelTextBlock.y + second.indexLabelTextBlock.height / 2
		};

		if (label1.x2 < label2.x1 - indexLabelLineEdgeLength || label1.x1 > label2.x2 + indexLabelLineEdgeLength || label1.y1 > label2.y2 + indexLabelLineEdgeLength || label1.y2 < label2.y1 - indexLabelLineEdgeLength) return false;

		return true;
	}

	function getVerticalDistanceBetweenLabels(first, second) {

		var distance = 0;
		var label1 = {
			y: first.indexLabelTextBlock.y, y1: first.indexLabelTextBlock.y - first.indexLabelTextBlock.height / 2, y2: first.indexLabelTextBlock.y + first.indexLabelTextBlock.height / 2
		};
		var label2 = {
			y: second.indexLabelTextBlock.y, y1: second.indexLabelTextBlock.y - second.indexLabelTextBlock.height / 2, y2: second.indexLabelTextBlock.y + second.indexLabelTextBlock.height / 2
		};

		if (label2.y > label1.y) {
			distance = label2.y1 - label1.y2;
		} else {
			distance = label1.y1 - label2.y2;
		}

		return distance;
	}

	function getNextLabelIndex(currentLabelIndex) {
		var nextLabelIndex = null;

		for (var i = 1; i < dataPoints.length; i++) {

			nextLabelIndex = (currentLabelIndex + i + dataPointEOs.length) % dataPointEOs.length;

			if (dataPointEOs[nextLabelIndex].hemisphere !== dataPointEOs[currentLabelIndex].hemisphere) {
				nextLabelIndex = null;
				break;
			} else if (dataPointEOs[nextLabelIndex].indexLabelText && nextLabelIndex !== currentLabelIndex && (getVerticalDistanceBetweenLabels(dataPointEOs[nextLabelIndex], dataPointEOs[currentLabelIndex]) < 0 || (dataPointEOs[currentLabelIndex].hemisphere === "right" ? dataPointEOs[nextLabelIndex].indexLabelTextBlock.y >= dataPointEOs[currentLabelIndex].indexLabelTextBlock.y : dataPointEOs[nextLabelIndex].indexLabelTextBlock.y <= dataPointEOs[currentLabelIndex].indexLabelTextBlock.y))) break;else {
				nextLabelIndex = null;
			}
		}

		return nextLabelIndex;
	}

	function getPreviousLabelIndex(currentLabelIndex) {
		var prevLabelIndex = null;

		for (var i = 1; i < dataPoints.length; i++) {

			prevLabelIndex = (currentLabelIndex - i + dataPointEOs.length) % dataPointEOs.length;

			if (dataPointEOs[prevLabelIndex].hemisphere !== dataPointEOs[currentLabelIndex].hemisphere) {
				prevLabelIndex = null;
				break;
			} else if (dataPointEOs[prevLabelIndex].indexLabelText && dataPointEOs[prevLabelIndex].hemisphere === dataPointEOs[currentLabelIndex].hemisphere && prevLabelIndex !== currentLabelIndex && (getVerticalDistanceBetweenLabels(dataPointEOs[prevLabelIndex], dataPointEOs[currentLabelIndex]) < 0 || (dataPointEOs[currentLabelIndex].hemisphere === "right" ? dataPointEOs[prevLabelIndex].indexLabelTextBlock.y <= dataPointEOs[currentLabelIndex].indexLabelTextBlock.y : dataPointEOs[prevLabelIndex].indexLabelTextBlock.y >= dataPointEOs[currentLabelIndex].indexLabelTextBlock.y))) break;else {
				prevLabelIndex = null;
			}
		}

		return prevLabelIndex;
	}

	function rePositionLabels(dataPointIndex, offset) {
		offset = offset || 0;

		var actualOffset = 0;

		//var labelYMin = 2;
		//var labelYMax = ctx.canvas.height - 2;
		//var labelYMin = _this.plotArea.ctx.canvas.height / 2 - indexLabelRadius * 1;
		//var labelYMax = _this.plotArea.ctx.canvas.height / 2 + indexLabelRadius * 1;

		var labelYMin = center.y - indexLabelRadius * 1;
		var labelYMax = center.y + indexLabelRadius * 1;

		//console.log(totalRecursions);

		if (dataPointIndex >= 0 && dataPointIndex < dataPoints.length) {

			var dataPointEO = dataPointEOs[dataPointIndex];
			//if (dataPointIndex === 0)
			//	customPrompt(labelYMin.toFixed(2) + "; " + labelYMax.toFixed(2) + "; " + dataPointEO.indexLabelTextBlock.y.toFixed(2));

			// If label is already outside the bounds, return
			if (offset < 0 && dataPointEO.indexLabelTextBlock.y < labelYMin || offset > 0 && dataPointEO.indexLabelTextBlock.y > labelYMax) return 0;

			var validOffset = offset;

			//Check if the offset falls within the bounds (labelYMin, labelYMax, tangential bounds) without considering overlap. Else use the closest offset that is possible - validOffset.
			{
				var distFromIndexLineStart = 0;
				var indexLabelLineStartX = 0;
				var indexLabelLineStartY = 0;
				var indexLabelAngle = 0;
				var indexLabelAngleWhenTangent = 0;

				if (validOffset < 0) {
					if (dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 > labelYMin && dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 + validOffset < labelYMin) validOffset = -(labelYMin - (dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 + validOffset));
				} else {
					if (dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 < labelYMin && dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 + validOffset > labelYMax) validOffset = dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 + validOffset - labelYMax;
				}

				var newlabelY = dataPointEO.indexLabelTextBlock.y + validOffset;
				var newlabelX = 0;

				if (dataPointEO.hemisphere === "right") {
					newlabelX = center.x + Math.sqrt(Math.pow(indexLabelRadius, 2) - Math.pow(newlabelY - center.y, 2));
				} else newlabelX = center.x - Math.sqrt(Math.pow(indexLabelRadius, 2) - Math.pow(newlabelY - center.y, 2));

				indexLabelLineStartX = center.x + outerRadius * Math.cos(dataPointEO.midAngle);
				indexLabelLineStartY = center.y + outerRadius * Math.sin(dataPointEO.midAngle);

				distFromIndexLineStart = Math.sqrt(Math.pow(newlabelX - indexLabelLineStartX, 2) + Math.pow(newlabelY - indexLabelLineStartY, 2));

				indexLabelAngleWhenTangent = Math.acos(outerRadius / indexLabelRadius);

				//indexLabelAngle = Math.acos((outerRadius * outerRadius + distFromIndexLineStart * distFromIndexLineStart - indexLabelRadius * indexLabelRadius) / (2 * outerRadius * distFromIndexLineStart));
				indexLabelAngle = Math.acos((indexLabelRadius * indexLabelRadius + outerRadius * outerRadius - distFromIndexLineStart * distFromIndexLineStart) / (2 * outerRadius * indexLabelRadius));

				if (indexLabelAngle < indexLabelAngleWhenTangent) {
					validOffset = newlabelY - dataPointEO.indexLabelTextBlock.y;
					//dataPointEO.indexLabelTextBlock.x = newlabelX;
				} else {

						validOffset = 0;

						//dataPointEO.indexLabelTextBlock.x = newlabelX;

						//Index Line is overlapping the pie. So lets find out the point where indexline becomes a tangent.

						//distFromIndexLineStart = Math.sqrt(indexLabelRadius * indexLabelRadius - outerRadius * outerRadius);
						////distFromIndexLineStart *= offset < 0 ? -1 : 1;
						////indexLabelAngle = Math.acos((indexLabelRadius * indexLabelRadius + outerRadius * outerRadius - distFromIndexLineStart * distFromIndexLineStart) / (2 * outerRadius * indexLabelRadius));
						//indexLabelAngle = Math.atan2(distFromIndexLineStart, outerRadius);

						//newlabelX = center.x + indexLabelRadius * Math.cos(indexLabelAngle);
						//newlabelY = center.y + indexLabelRadius * Math.sin(indexLabelAngle);

						//actualOffset = newlabelY - dataPointEO.indexLabelTextBlock.y;

						//dataPointEO.indexLabelTextBlock.y = newlabelY;
						//dataPointEO.indexLabelTextBlock.x = newlabelX;
					}
			}

			//var tempIndex = (dataPointIndex + dataPointEOs.length - 1) % dataPointEOs.length;

			//var prevDataPointIndex = dataPointEOs[tempIndex].hemisphere === dataPointEO.hemisphere ? tempIndex : null;

			var prevDataPointIndex = getPreviousLabelIndex(dataPointIndex);

			//tempIndex = (dataPointIndex + dataPointEOs.length + 1) % dataPointEOs.length;

			//var nextDataPointIndex = dataPointEOs[tempIndex].hemisphere === dataPointEO.hemisphere ? tempIndex : null;

			var nextDataPointIndex = getNextLabelIndex(dataPointIndex);

			var otherdataPointEO, otherDataPointIndex, distanceFromOtherLabel;
			var otherDataPointOffset = 0;
			var otherDataPointActualOffset = 0;

			if (validOffset < 0) {

				otherDataPointIndex = dataPointEO.hemisphere === "right" ? prevDataPointIndex : nextDataPointIndex;

				actualOffset = validOffset;

				if (otherDataPointIndex !== null) {

					//if (dataPointIndex < 4)
					//	customPrompt("valid: " + validOffset);

					var tempOffset = -validOffset;

					var distanceFromOtherLabel = dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 - (dataPointEOs[otherDataPointIndex].indexLabelTextBlock.y + dataPointEOs[otherDataPointIndex].indexLabelTextBlock.height / 2);

					if (distanceFromOtherLabel - tempOffset < minDistanceBetweenLabels) {
						otherDataPointOffset = -tempOffset;
						//totalRecursions++;
						otherDataPointActualOffset = rePositionLabels(otherDataPointIndex, otherDataPointOffset, recursionCount + 1);

						//if (dataPointIndex < 4)
						//	customPrompt(dataPointIndex + "; " + "offset: " + otherDataPointOffset);

						if (+otherDataPointActualOffset.toFixed(precision) > +otherDataPointOffset.toFixed(precision)) {

							if (distanceFromOtherLabel > minDistanceBetweenLabels) actualOffset = -(distanceFromOtherLabel - minDistanceBetweenLabels);
							//else
							//	actualOffset = 0;
							else actualOffset = -(tempOffset - (otherDataPointActualOffset - otherDataPointOffset));
						}

						//if (dataPointIndex < 4)
						//	customPrompt("actual: " + actualOffset);
					}
				}
			} else if (validOffset > 0) {

					otherDataPointIndex = dataPointEO.hemisphere === "right" ? nextDataPointIndex : prevDataPointIndex;

					actualOffset = validOffset;

					if (otherDataPointIndex !== null) {

						var tempOffset = validOffset;

						var distanceFromOtherLabel = dataPointEOs[otherDataPointIndex].indexLabelTextBlock.y - dataPointEOs[otherDataPointIndex].indexLabelTextBlock.height / 2 - (dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2);

						if (distanceFromOtherLabel - tempOffset < minDistanceBetweenLabels) {
							otherDataPointOffset = tempOffset;
							//totalRecursions++;
							otherDataPointActualOffset = rePositionLabels(otherDataPointIndex, otherDataPointOffset, recursionCount + 1);

							if (+otherDataPointActualOffset.toFixed(precision) < +otherDataPointOffset.toFixed(precision)) {

								if (distanceFromOtherLabel > minDistanceBetweenLabels) actualOffset = distanceFromOtherLabel - minDistanceBetweenLabels;
								//else
								//	actualOffset = 0;
								else actualOffset = tempOffset - (otherDataPointOffset - otherDataPointActualOffset);
							}
						}
					}

					//if (!(dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 + actualOffset < labelYMax)) {
					//	if (dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 < labelYMax) {
					//		actualOffset = labelYMax - (dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2);
					//	}
					//	else {
					//		actualOffset = 0;
					//	}
					//}
				}

			if (actualOffset) {

				var newLabelY = dataPointEO.indexLabelTextBlock.y + actualOffset;

				var newLabelX = 0;

				if (dataPointEO.hemisphere === "right") {
					newLabelX = center.x + Math.sqrt(Math.pow(indexLabelRadius, 2) - Math.pow(newLabelY - center.y, 2));
				} else newLabelX = center.x - Math.sqrt(Math.pow(indexLabelRadius, 2) - Math.pow(newLabelY - center.y, 2));

				if (dataPointEO.midAngle > Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < Math.PI / 2 + poleAnglularDistance) {

					var prevDPIndex = (dataPointIndex - 1 + dataPointEOs.length) % dataPointEOs.length;
					var prevDP = dataPointEOs[prevDPIndex];
					var nextDP = dataPointEOs[(dataPointIndex + 1 + dataPointEOs.length) % dataPointEOs.length];

					if (dataPointEO.hemisphere === "left" && prevDP.hemisphere === "right" && newLabelX > prevDP.indexLabelTextBlock.x) {
						newLabelX = prevDP.indexLabelTextBlock.x - 15;
					} else if (dataPointEO.hemisphere === "right" && nextDP.hemisphere === "left" && newLabelX < nextDP.indexLabelTextBlock.x) {
						newLabelX = nextDP.indexLabelTextBlock.x + 15;
					}
				} else if (dataPointEO.midAngle > 3 * Math.PI / 2 - poleAnglularDistance && dataPointEO.midAngle < 3 * Math.PI / 2 + poleAnglularDistance) {

					var prevDPIndex = (dataPointIndex - 1 + dataPointEOs.length) % dataPointEOs.length;
					var prevDP = dataPointEOs[prevDPIndex];
					var nextDP = dataPointEOs[(dataPointIndex + 1 + dataPointEOs.length) % dataPointEOs.length];

					if (dataPointEO.hemisphere === "right" && prevDP.hemisphere === "left" && newLabelX < prevDP.indexLabelTextBlock.x) {
						newLabelX = prevDP.indexLabelTextBlock.x + 15;
					} else if (dataPointEO.hemisphere === "left" && nextDP.hemisphere === "right" && newLabelX > nextDP.indexLabelTextBlock.x) {
						newLabelX = nextDP.indexLabelTextBlock.x - 15;
					}
				}

				//if (actualOffset < 0 && dataPointIndex < 4)
				//	customPrompt(actualOffset.toFixed(2) + "; " + dataPointEO.indexLabelTextBlock.y.toFixed(2) + "; " + newLabelY.toFixed(2));

				dataPointEO.indexLabelTextBlock.y = newLabelY;

				dataPointEO.indexLabelTextBlock.x = newLabelX;

				dataPointEO.indexLabelAngle = Math.atan2(dataPointEO.indexLabelTextBlock.y - center.y, dataPointEO.indexLabelTextBlock.x - center.x);
			}
		}

		return actualOffset;
	}

	function positionLabels() {
		var ctx = _this.plotArea.ctx;

		ctx.fillStyle = "grey";
		ctx.strokeStyle = "grey";
		var fontSize = 16;
		ctx.font = fontSize + "px Arial";
		ctx.textBaseline = "middle";
		var i = 0,
		    j = 0;
		var deltaR = 0;

		var resizeFlag = true;

		var _loop = function _loop() {

			if (dataSeries.radius || !dataSeries.radius && typeof dataSeries.innerRadius !== 'undefined' && dataSeries.innerRadius !== null && outerRadius - deltaR <= innerRadius) resizeFlag = false;

			if (resizeFlag) outerRadius -= deltaR;

			deltaR = 0;

			if (dataSeries.indexLabelPlacement !== "inside") {
				indexLabelRadius = outerRadius * indexLabelRadiusToRadiusRatio;

				for (i = 0; i < dataPoints.length; i++) {
					dataPointEO = dataPointEOs[i];

					dataPointEO.indexLabelTextBlock.x = center.x + indexLabelRadius * Math.cos(dataPointEO.midAngle);
					dataPointEO.indexLabelTextBlock.y = center.y + indexLabelRadius * Math.sin(dataPointEO.midAngle);

					dataPointEO.indexLabelAngle = dataPointEO.midAngle;
					dataPointEO.radius = outerRadius;
					dataPointEO.percentInnerRadius = percentInnerRadius;
					//dataPointEO.indexLabelFontSize = dataPoint.indexLabelFontSize ? dataPoint.indexLabelFontSize : dataSeries.indexLabelFontSize;
				}

				for (i = 0; i < dataPoints.length; i++) {
					dataPointEO = dataPointEOs[i];
					//dataPointEO.lab
					//resetAnimationFrame();
					//animate();
					//renderLabels();

					//var prevDataPointIndex = (i - 1 + dataPointEOs.length) % dataPointEOs.length;

					//var nextDataPointIndex = (i + 1 + dataPointEOs.length) % dataPointEOs.length;
					//nextDataPointIndex = dataPointEOs[nextDataPointIndex].hemisphere === dataPointEO.hemisphere && nextDataPointIndex !== i ? nextDataPointIndex : null;

					nextDataPointIndex = getNextLabelIndex(i);

					if (nextDataPointIndex === null) continue;

					currentDataPoint = dataPointEOs[i];
					nextDataPoint = dataPointEOs[nextDataPointIndex];

					distanceFromNextLabel = 0;

					//if (dataPointEO.hemisphere === "right")
					//	distanceFromNextLabel = (nextDataPoint.indexLabelTextBlock.y - nextDataPoint.indexLabelTextBlock.height / 2) - (currentDataPoint.indexLabelTextBlock.y + currentDataPoint.indexLabelTextBlock.height / 2) - minDistanceBetweenLabels;
					//else
					//	distanceFromNextLabel = (currentDataPoint.indexLabelTextBlock.y - currentDataPoint.indexLabelTextBlock.height / 2) - (nextDataPoint.indexLabelTextBlock.y + nextDataPoint.indexLabelTextBlock.height / 2) - minDistanceBetweenLabels;

					distanceFromNextLabel = getVerticalDistanceBetweenLabels(currentDataPoint, nextDataPoint) - minDistanceBetweenLabels;

					if (distanceFromNextLabel < 0) {
						dataPointsAbove = 0;
						dataPointsBelow = 0;
						//var indexLabelAngleWhenTangent = Math.acos(outerRadius / indexLabelRadius) / Math.PI * 180;

						for (k = 0; k < dataPoints.length; k++) {

							if (k === i) continue;

							//if (dataPointEOs[k].hemisphere !== dataPointEO.hemisphere || Math.abs(dataPointEOs[k].midAngle - dataPointEO.midAngle) > 30)
							//	continue;
							//if (dataPointEOs[k].hemisphere !== dataPointEO.hemisphere || Math.abs(dataPointEOs[k].labelAngle - dataPointEO.indexLabelAngle) > 30)
							//	continue;
							//if (dataPointEOs[k].hemisphere !== dataPointEO.hemisphere || Math.abs(dataPointEOs[k].midAngle - dataPointEO.midAngle) > indexLabelAngleWhenTangent)
							//	continue;
							if (dataPointEOs[k].hemisphere !== dataPointEO.hemisphere) continue;

							if (dataPointEOs[k].indexLabelTextBlock.y < dataPointEO.indexLabelTextBlock.y) dataPointsAbove++;else dataPointsBelow++;
						}

						//var upWardsOffset = (distanceFromNextLabel) / dataPoints.length * (dataPointsBelow);
						upWardsOffset = distanceFromNextLabel / (dataPointsAbove + dataPointsBelow || 1) * dataPointsBelow;
						downWardsOffset = -1 * (distanceFromNextLabel - upWardsOffset);
						actualUpwardOffset = 0;
						actualDownwardOffset = 0;

						if (dataPointEO.hemisphere === "right") {
							actualUpwardOffset = rePositionLabels(i, upWardsOffset);

							//if (i < 4 && actualDownwardOffset !== upWardsOffset)
							//	customPrompt(i + "; " + upWardsOffset.toFixed(2) + "; " + actualUpwardOffset.toFixed(2));

							downWardsOffset = -1 * (distanceFromNextLabel - actualUpwardOffset);

							actualDownwardOffset = rePositionLabels(nextDataPointIndex, downWardsOffset);

							//window.alert(typeof +downWardsOffset.toFixed(precision));
							//Setting precision to make sure that they don't become not equal become of minor differences - like a difference of .000001
							if (+actualDownwardOffset.toFixed(precision) < +downWardsOffset.toFixed(precision) && +actualUpwardOffset.toFixed(precision) <= +upWardsOffset.toFixed(precision)) rePositionLabels(i, -(downWardsOffset - actualDownwardOffset));
						} else {
							actualUpwardOffset = rePositionLabels(nextDataPointIndex, upWardsOffset);

							downWardsOffset = -1 * (distanceFromNextLabel - actualUpwardOffset);

							actualDownwardOffset = rePositionLabels(i, downWardsOffset);

							//Setting precision to make sure that they don't become not equal become of minor differences - like a difference of .000001
							if (+actualDownwardOffset.toFixed(precision) < +downWardsOffset.toFixed(precision) && +actualUpwardOffset.toFixed(precision) <= +upWardsOffset.toFixed(precision)) rePositionLabels(nextDataPointIndex, -(downWardsOffset - actualDownwardOffset));
						}
					}

					//resetAnimationFrame();
					//animate();
					//renderLabels();
					//window.alert("next??");
				}
			} else {
					for (i = 0; i < dataPoints.length; i++) {
						dataPointEO = dataPointEOs[i];

						indexLabelRadius = dataSeries.type === "pie" ? outerRadius * .7 : outerRadius * .8;

						dx = center.x + indexLabelRadius * Math.cos(dataPointEO.midAngle);
						dy = center.y + indexLabelRadius * Math.sin(dataPointEO.midAngle);

						dataPointEO.indexLabelTextBlock.x = dx;
						dataPointEO.indexLabelTextBlock.y = dy;
					}
				}

			// Resize Pie based on the label length.
			for (i = 0; i < dataPoints.length; i++) {

				dataPointEO = dataPointEOs[i];

				size = dataPointEO.indexLabelTextBlock.measureText();
				// To make sure that null text or empty strings don't affect the radius. Required when user is not showing any labels

				if (size.height === 0 || size.width === 0) continue;

				xOverflow = 0;
				xdr = 0;

				if (dataPointEO.hemisphere === "right") {
					xOverflow = plotArea.x2 - (dataPointEO.indexLabelTextBlock.x + dataPointEO.indexLabelTextBlock.width + indexLabelLineEdgeLength);
					xOverflow *= -1;
				} else {
					xOverflow = plotArea.x1 - (dataPointEO.indexLabelTextBlock.x - dataPointEO.indexLabelTextBlock.width - indexLabelLineEdgeLength);
				}
				if (xOverflow > 0) {
					if (!resizeFlag && dataPointEO.indexLabelText) {
						newIndexLabelMaxWidth = dataPointEO.hemisphere === "right" ? plotArea.x2 - dataPointEO.indexLabelTextBlock.x : dataPointEO.indexLabelTextBlock.x - plotArea.x1;

						dataPointEO.indexLabelTextBlock.maxWidth * .3 > newIndexLabelMaxWidth ? dataPointEO.indexLabelText = "" : dataPointEO.indexLabelTextBlock.maxWidth = newIndexLabelMaxWidth * .85;
						if (dataPointEO.indexLabelTextBlock.maxWidth * .3 < newIndexLabelMaxWidth) dataPointEO.indexLabelTextBlock.x -= dataPointEO.hemisphere === "right" ? 2 : -2;
					}

					if (Math.abs(dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 - center.y) < outerRadius || Math.abs(dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 - center.y) < outerRadius) {

						xdr = xOverflow / Math.abs(Math.cos(dataPointEO.indexLabelAngle));

						if (xdr > 9) xdr = xdr * .3;

						if (xdr > deltaR) deltaR = xdr;
					}
				}

				yOverflow = 0;
				ydr = 0;

				if (dataPointEO.indexLabelAngle > 0 && dataPointEO.indexLabelAngle < Math.PI) {
					yOverflow = plotArea.y2 - (dataPointEO.indexLabelTextBlock.y + dataPointEO.indexLabelTextBlock.height / 2 + 5);
					yOverflow *= -1;
				} else {
					yOverflow = plotArea.y1 - (dataPointEO.indexLabelTextBlock.y - dataPointEO.indexLabelTextBlock.height / 2 - 5);
				}

				if (yOverflow > 0) {
					if (!resizeFlag && dataPointEO.indexLabelText) {
						positionMultiplier = dataPointEO.indexLabelAngle > 0 && dataPointEO.indexLabelAngle < Math.PI ? -1 : 1;

						if (rePositionLabels(i, yOverflow * positionMultiplier) === 0) rePositionLabels(i, 2 * positionMultiplier);
					}
					if (Math.abs(dataPointEO.indexLabelTextBlock.x - center.x) < outerRadius) {

						ydr = yOverflow / Math.abs(Math.sin(dataPointEO.indexLabelAngle));

						if (ydr > 9) ydr = ydr * .3;

						if (ydr > deltaR) deltaR = ydr;
					}
				}
			}

			function removeLabelsForSmallSegments(totalOverlap, startIndex, endIndex) {

				var dpEOs = [];
				var totalRemovedLabelHeight = 0;

				for (var i = startIndex; true; i = (i + 1 + dataPoints.length) % dataPoints.length) {
					dpEOs.push(dataPointEOs[i]);

					if (i === endIndex) break;
				}

				dpEOs.sort(function (entry1, entry2) {
					return entry1.y - entry2.y;
				});

				for (i = 0; i < dpEOs.length; i++) {
					var dpEO = dpEOs[i];

					if (totalRemovedLabelHeight < totalOverlap * .7) {
						totalRemovedLabelHeight += dpEO.indexLabelTextBlock.height;
						dpEO.indexLabelTextBlock.text = "";
						dpEO.indexLabelText = "";
						dpEO.indexLabelTextBlock.measureText();
					} else break;
				}
			}

			//resetAnimationFrame(1);
			//animate();
			//window.alert("next??");
			function skipLabels() {
				var overlapStartIndex = -1;
				var overlapEndIndex = -1;
				var totalOverlap = 0;
				var removeLabels = false;

				for (var k = 0; k < dataPoints.length; k++) {
					removeLabels = false;
					currentDataPoint = dataPointEOs[k];

					if (!currentDataPoint.indexLabelText) continue;

					var nextLabelIndex = getNextLabelIndex(k);
					if (nextLabelIndex === null) continue;

					var nextDataPoint = dataPointEOs[nextLabelIndex];

					distanceFromNextLabel = 0;

					//if (nextDataPoint.indexLabelTextBlock.y > currentDataPoint.indexLabelTextBlock.y)
					//	distanceFromNextLabel = (nextDataPoint.indexLabelTextBlock.y - (nextDataPoint.indexLabelTextBlock.height / 2)) - (currentDataPoint.indexLabelTextBlock.y + (currentDataPoint.indexLabelTextBlock.height / 2));
					//else
					//	distanceFromNextLabel = (currentDataPoint.indexLabelTextBlock.y - (currentDataPoint.indexLabelTextBlock.height / 2)) - (nextDataPoint.indexLabelTextBlock.y + (nextDataPoint.indexLabelTextBlock.height / 2));

					distanceFromNextLabel = getVerticalDistanceBetweenLabels(currentDataPoint, nextDataPoint);

					if (distanceFromNextLabel < 0 && areDataPointsTooClose(currentDataPoint, nextDataPoint)) {
						//if (distanceFromNextLabel < 0 && areDataPointsTooClose(currentDataPoint, nextDataPoint) ) {
						if (overlapStartIndex < 0) overlapStartIndex = k;

						if (nextLabelIndex !== overlapStartIndex) {
							overlapEndIndex = nextLabelIndex;

							totalOverlap += -distanceFromNextLabel;
						}

						if (k % Math.max(dataPoints.length / 10, 3) === 0) removeLabels = true;

						//nextDataPoint.indexLabelText = "";
						//nextDataPoint.indexLabelTextBlock.text = "";
						//nextDataPoint.indexLabelTextBlock.measureText();
					} else {

							removeLabels = true;
						}

					if (removeLabels) {

						if (totalOverlap > 0 && overlapStartIndex >= 0 && overlapEndIndex >= 0) {
							removeLabelsForSmallSegments(totalOverlap, overlapStartIndex, overlapEndIndex);

							overlapStartIndex = -1;
							overlapEndIndex = -1;
							totalOverlap = 0;
						}
					}
				}

				if (totalOverlap > 0) removeLabelsForSmallSegments(totalOverlap, overlapStartIndex, overlapEndIndex);
			}

			skipLabels();
		};

		for (j = 0; j < 10 && (j < 1 || deltaR > 0); j++) {
			var indexLabelRadius;
			var dataPointEO;
			var currentDataPoint, nextDataPoint;
			var dataPointEO;
			var nextDataPointIndex;
			var distanceFromNextLabel;
			var dataPointsAbove;
			var dataPointsBelow;
			var k;
			var upWardsOffset;
			var downWardsOffset;
			var actualUpwardOffset;
			var actualDownwardOffset;
			var dataPointEO;
			var dx;
			var dy;
			var size;
			var xOverflow;
			var xdr;
			var newIndexLabelMaxWidth;
			var yOverflow;
			var ydr;
			var positionMultiplier;

			_loop();
		}
		//window.alert("next??");

		//resetAnimationFrame(_this.animationEnabled && _this.renderCount === 0 ? isCanvasSupported ? 60 : 30 : 1);
		//animate();

		//console.log("totalRecursions: " + totalRecursions);
	}

	this.pieDoughnutClickHandler = function (e) {

		if (_this.isAnimating) {
			return;
		}

		var i = e.dataPointIndex;
		var dataPoint = e.dataPoint;
		var dataSeries = this;

		var id = dataSeries.dataPointIds[i];

		//dataPointEO = _this._eventManager.objectMap[id];

		if (dataPoint.exploded) dataPoint.exploded = false;else dataPoint.exploded = true;

		// So that it doesn't try to explode when there is only one segment
		if (dataSeries.dataPoints.length > 1) {
			_this._animator.animate(0, explodeDuration, function (fractionComplete) {

				explodeToggle(fractionComplete);
				renderChartElementsInPlotArea();
				//console.log("Explode Start");
			});
		}

		return;
	};

	initLabels();

	positionLabels();
	positionLabels();
	positionLabels();
	positionLabels();

	this.disableToolTip = true;
	this._animator.animate(0, this.animatedRender ? this.animationDuration : 0, function (fractionComplete) {

		animate(fractionComplete);
		renderChartElementsInPlotArea();
	}, function () {

		_this.disableToolTip = false;
		_this._animator.animate(0, _this.animatedRender ? explodeDuration : 0, function (fractionComplete) {

			explodeToggle(fractionComplete);
			renderChartElementsInPlotArea();
		});

		//console.log("Animation Complete");
	});

	function renderChartElementsInPlotArea() {

		_this.plotArea.layoutManager.reset();

		if (_this._title) {
			if (_this._title.dockInsidePlotArea || _this._title.horizontalAlign === "center" && _this._title.verticalAlign === "center") _this._title.render();
		}

		if (_this.subtitles) for (var i = 0; i < _this.subtitles.length; i++) {
			var subtitle = _this.subtitles[i];
			if (subtitle.dockInsidePlotArea || subtitle.horizontalAlign === "center" && subtitle.verticalAlign === "center") subtitle.render();
		}

		if (_this.legend) {
			if (_this.legend.dockInsidePlotArea || _this.legend.horizontalAlign === "center" && _this.legend.verticalAlign === "center") _this.legend.render();
		}
	}

	//this.ctx.strokeRect(plotArea.x1 + 1, plotArea.y1, plotArea.width - 2, plotArea.height);
};

var _text_block = require('../core/text_block');

var _text_block2 = _interopRequireDefault(_text_block);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../core/text_block":38,"../helpers/utils":43}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	var axisXProps = plotUnit.axisX.lineCoordinates;
	var axisYProps = plotUnit.axisY.lineCoordinates;
	var markers = [];

	var plotArea = this.plotArea;
	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var closingPath = [];

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];

		var dataPoints = dataSeries.dataPoints;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};

		var hexColor = intToHexColorString(seriesId);
		ghostCtx.fillStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		//ghostCtx.lineWidth = 20;

		markers = [];

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y1,
		    y2;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
		var baseY;

		var startPoint = null;

		if (dataPoints.length > 0) {
			//ctx.strokeStyle = "#4572A7 ";
			var color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash(getLineDashArray(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			var prevDataNull = true;
			for (; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (dataPoints[i].y === null || !dataPoints[i].y.length || typeof dataPoints[i].y[0] !== "number" || typeof dataPoints[i].y[1] !== "number") {

					closeArea();

					prevDataNull = true;
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;

				y1 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[0] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				y2 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[1] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				if (isFirstDataPointInPlotArea || prevDataNull) {
					ctx.beginPath();
					ctx.moveTo(x, y1);
					startPoint = {
						x: x, y: y1
					};
					closingPath = [];
					closingPath.push({ x: x, y: y2 });

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y1);
					}

					isFirstDataPointInPlotArea = false;
					prevDataNull = false;
				} else {

					ctx.lineTo(x, y1);
					closingPath.push({ x: x, y: y2 });

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y1);

					if (i % 250 == 0) {
						closeArea();
					}
				}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y1, y2: y2
				};

				//Render Marker
				if (dataPoints[i].markerSize !== 0) {
					if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y2, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y2, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}

						markerProps = dataSeries.getMarkerProperties(i, x, y1, ctx);
						markers.push(markerProps);

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y1, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "rangeArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 0,
						point: {
							x: x, y: y1
						},
						direction: dataPoints[i].y[0] <= dataPoints[i].y[1] ? -1 : 1,
						color: color
					});

					this._indexLabels.push({
						chartType: "rangeArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 1,
						point: {
							x: x, y: y2
						},
						direction: dataPoints[i].y[0] <= dataPoints[i].y[1] ? 1 : -1,
						color: color
					});
				}

				//alert("hi");
			}

			closeArea();

			//startPoint = { x: x, y: y };
			RenderHelper.drawMarkers(markers);
		}
	}

	ctx.restore();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	function closeArea() {

		if (!startPoint) return;

		var point = null;

		if (dataSeries.lineThickness > 0) ctx.stroke();

		for (var i = closingPath.length - 1; i >= 0; i--) {
			point = closingPath[i];
			ctx.lineTo(point.x, point.y);
			ghostCtx.lineTo(point.x, point.y);
		}

		ctx.closePath();
		//ctx.lineTo(startPoint.x, startPoint.y);

		ctx.globalAlpha = dataSeries.fillOpacity;
		ctx.fill();
		ctx.globalAlpha = 1;

		ghostCtx.fill();

		//if (isCanvasSupported) {
		//	ghostCtx.lineTo(x, baseY);
		//	ghostCtx.lineTo(startPoint.x, baseY);
		//	ghostCtx.closePath();
		//	ghostCtx.fill();
		//}

		if (dataSeries.lineThickness > 0) {
			ctx.beginPath();
			ctx.moveTo(point.x, point.y);
			for (var i = 0; i < closingPath.length; i++) {
				point = closingPath[i];
				ctx.lineTo(point.x, point.y);
			}

			ctx.stroke();
		}

		ctx.beginPath();
		ctx.moveTo(x, y1);
		ghostCtx.beginPath();
		ghostCtx.moveTo(x, y1);

		startPoint = {
			x: x, y: y1
		};
		closingPath = [];
		closingPath.push({ x: x, y: y2 });
	}

	//ctx.beginPath();
	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xClipAnimation, easingFunction: AnimationHelper.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":43}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x1,
	    x2,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	//In case of Bar Chart, yZeroToPixel is x co-ordinate!
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : Math.min(this.height * .15, this.plotArea.height / plotUnit.plotType.totalDataSeries * .9) << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	//var barWidth = (((plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum)) * Math.abs(xMinDiff)) / totalDataSeries * .9) << 0;

	var barWidth = plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.totalDataSeries * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth / plotUnit.plotType.totalDataSeries * .9;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (dataPoints[i].y === null || !dataPoints[i].y.length || typeof dataPoints[i].y[0] !== "number" || typeof dataPoints[i].y[1] !== "number") continue;

				//x and y are pixel co-ordinates of point and should not be confused with X and Y values
				x1 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[0] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				x2 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[1] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				y = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;

				var y1 = y - plotUnit.plotType.totalDataSeries * barWidth / 2 + (plotUnit.previousDataSeriesCount + j) * barWidth << 0;
				var y2 = y1 + barWidth << 0;

				if (x1 > x2) {
					var temp = x1;
					x1 = x2;
					x2 = temp;
				}

				//drawRect(ctx, x1, y1, plotArea.x2, y2, "#EEEEEE", 0, null, false, false, false, false);
				//drawRect(ctx, x1, y1, plotArea.x2, y2, "#BDCED3", 0, null, false, false, false, false);

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				//color = "#1B4962";
				drawRect(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled, false, false, false, dataSeries.fillOpacity);

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "rangeBar",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 0,
						point: {
							x: dataPoints[i].y[1] >= dataPoints[i].y[0] ? x1 : x2, y: y1 + (y2 - y1) / 2
						},
						direction: dataPoints[i].y[1] >= dataPoints[i].y[0] ? -1 : 1,
						bounds: {
							x1: Math.min(x1, x2), y1: y1, x2: Math.max(x1, x2), y2: y2
						},
						color: color
					});

					this._indexLabels.push({
						chartType: "rangeBar",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 1,
						point: {
							x: dataPoints[i].y[1] >= dataPoints[i].y[0] ? x2 : x1, y: y1 + (y2 - y1) / 2
						},
						direction: dataPoints[i].y[1] >= dataPoints[i].y[0] ? 1 : -1,
						bounds: {
							x1: Math.min(x1, x2), y1: y1, x2: Math.max(x1, x2), y2: y2
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.fadeInAnimation, easingFunction: AnimationHelper.easing.easeInQuad, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":43}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y1,
	    y2;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .03;
	//var maxBarWidth = (this.width * .015);
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	//var barWidth = (((plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum)) * Math.abs(xMinDiff)) * .9) << 0;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.totalDataSeries * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth / plotUnit.plotType.totalDataSeries * .9;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}
	//ctx.beginPath();

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		// Reducing pixelPerUnit by 1 just to overcome any problems due to rounding off of pixels.
		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		//var offsetX = barWidth * plotUnit.index << 0;

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			for (i = 0; i < dataPoints.length; i++) {

				dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (dataPoints[i].y === null || !dataPoints[i].y.length || typeof dataPoints[i].y[0] !== "number" || typeof dataPoints[i].y[1] !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y1 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[0] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				y2 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[1] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				//var x1 = x - barWidth / 2 << 0;
				var x1 = x - plotUnit.plotType.totalDataSeries * barWidth / 2 + (plotUnit.previousDataSeriesCount + j) * barWidth << 0;
				var x2 = x1 + barWidth << 0;
				var y1;
				var y2;

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];

				if (y1 > y2) {
					var temp = y1;
					y1 = y2;
					y2 = temp;
				}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};

				//var borderThickness = Math.max(1, (barWidth * .1 << 0));
				var borderThickness = 0;

				drawRect(ctx, x1, y1, x2, y2, color, borderThickness, color, bevelEnabled, bevelEnabled, false, false, dataSeries.fillOpacity);
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "rangeColumn",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 0,
						point: {
							x: x1 + (x2 - x1) / 2, y: dataPoints[i].y[1] >= dataPoints[i].y[0] ? y2 : y1
						},
						direction: dataPoints[i].y[1] >= dataPoints[i].y[0] ? -1 : 1,
						bounds: {
							x1: x1, y1: Math.min(y1, y2), x2: x2, y2: Math.max(y1, y2)
						},
						color: color
					});

					this._indexLabels.push({
						chartType: "rangeColumn",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 1,
						point: {
							x: x1 + (x2 - x1) / 2, y: dataPoints[i].y[1] >= dataPoints[i].y[0] ? y1 : y2
						},
						direction: dataPoints[i].y[1] >= dataPoints[i].y[0] ? 1 : -1,
						bounds: {
							x1: x1, y1: Math.min(y1, y2), x2: x2, y2: Math.max(y1, y2)
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.fadeInAnimation, easingFunction: AnimationHelper.easing.easeInQuad, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":43}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	var axisXProps = plotUnit.axisX.lineCoordinates;
	var axisYProps = plotUnit.axisY.lineCoordinates;
	var markers = [];

	var plotArea = this.plotArea;
	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];

		var dataPoints = dataSeries.dataPoints;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};

		var hexColor = intToHexColorString(seriesId);
		ghostCtx.fillStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		//ghostCtx.lineWidth = 20;

		markers = [];

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y1,
		    y2;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
		var baseY;

		var startPoint = null;

		var pixelsY1 = [];
		var pixelsY2 = [];

		if (dataPoints.length > 0) {
			//ctx.strokeStyle = "#4572A7 ";
			color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash(getLineDashArray(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			for (; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (dataPoints[i].y === null || !dataPoints[i].y.length || typeof dataPoints[i].y[0] !== "number" || typeof dataPoints[i].y[1] !== "number") {
					if (i > 0) {
						renderBezierArea();
						pixelsY1 = [];
						pixelsY2 = [];
					}
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y1 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[0] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
				y2 = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y[1] - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y1, y2: y2
				};

				pixelsY1[pixelsY1.length] = {
					x: x, y: y1
				};
				pixelsY2[pixelsY2.length] = {
					x: x, y: y2
				};

				//Render Marker
				if (dataPoints[i].markerSize !== 0) {
					if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y1, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y1, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}

						var markerProps = dataSeries.getMarkerProperties(i, x, y2, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y2, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				//Render Index Labels
				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "splineArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 0,
						point: {
							x: x, y: y1
						},
						direction: dataPoints[i].y[0] <= dataPoints[i].y[1] ? -1 : 1,
						color: color
					});

					this._indexLabels.push({
						chartType: "splineArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						indexKeyword: 1,
						point: {
							x: x, y: y2
						},
						direction: dataPoints[i].y[0] <= dataPoints[i].y[1] ? 1 : -1,
						color: color
					});
				}
			}

			renderBezierArea();

			RenderHelper.drawMarkers(markers);
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	function renderBezierArea() {
		var bp = getBezierPoints(pixelsY1, 2);

		if (bp.length > 0) {
			ctx.beginPath();
			ctx.moveTo(bp[0].x, bp[0].y);

			if (_utils.isCanvasSupported) {
				ghostCtx.beginPath();
				ghostCtx.moveTo(bp[0].x, bp[0].y);
			}

			for (var i = 0; i < bp.length - 3; i += 3) {

				ctx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);

				if (_utils.isCanvasSupported) ghostCtx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);
			}

			if (dataSeries.lineThickness > 0) ctx.stroke();

			bp = getBezierPoints(pixelsY2, 2);

			ctx.lineTo(pixelsY2[pixelsY2.length - 1].x, pixelsY2[pixelsY2.length - 1].y);

			for (var i = bp.length - 1; i > 2; i -= 3) {

				ctx.bezierCurveTo(bp[i - 1].x, bp[i - 1].y, bp[i - 2].x, bp[i - 2].y, bp[i - 3].x, bp[i - 3].y);

				if (_utils.isCanvasSupported) ghostCtx.bezierCurveTo(bp[i - 1].x, bp[i - 1].y, bp[i - 2].x, bp[i - 2].y, bp[i - 3].x, bp[i - 3].y);
			}

			ctx.closePath();

			ctx.globalAlpha = dataSeries.fillOpacity;
			ctx.fill();
			ctx.globalAlpha = 1;

			if (dataSeries.lineThickness > 0) {
				ctx.beginPath();
				ctx.moveTo(pixelsY2[pixelsY2.length - 1].x, pixelsY2[pixelsY2.length - 1].y);

				for (var i = bp.length - 1; i > 2; i -= 3) {

					ctx.bezierCurveTo(bp[i - 1].x, bp[i - 1].y, bp[i - 2].x, bp[i - 2].y, bp[i - 3].x, bp[i - 3].y);

					if (_utils.isCanvasSupported) ghostCtx.bezierCurveTo(bp[i - 1].x, bp[i - 1].y, bp[i - 2].x, bp[i - 2].y, bp[i - 3].x, bp[i - 3].y);
				}
				ctx.stroke();
			}

			ctx.beginPath();

			if (_utils.isCanvasSupported) {
				ghostCtx.closePath();
				ghostCtx.fill();
			}
		}
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xClipAnimation, easingFunction: AnimationHelper.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

//#region pieChart

var drawSegment = function drawSegment(ctx, center, radius, color, type, theta1, theta2, fillOpacity, percentInnerRadius) {

	if (typeof fillOpacity === "undefined") fillOpacity = 1;

	//IE8- FIX: In IE8- segment doesn't get draw if theta2 is equal to theta1 + 2*PI.
	if (!_utils.isCanvasSupported) {
		var theta2Mod = Number((theta2 % (2 * Math.PI)).toFixed(8));
		var theta1Mod = Number((theta1 % (2 * Math.PI)).toFixed(8));
		if (theta1Mod === theta2Mod) theta2 -= .0001;
	}

	ctx.save();
	ctx.globalAlpha = fillOpacity;

	if (type === "pie") {
		ctx.beginPath();
		ctx.moveTo(center.x, center.y);
		ctx.arc(center.x, center.y, radius, theta1, theta2, false);
		ctx.fillStyle = color;
		ctx.strokeStyle = "white";
		ctx.lineWidth = 2;
		//    ctx.shadowOffsetX = 2;
		//    ctx.shadowOffsetY = 1;
		//     ctx.shadowBlur = 2;
		//    ctx.shadowColor = '#BFBFBF';
		ctx.closePath();
		//ctx.stroke();
		ctx.fill();
	} else if (type === "doughnut") {
		ctx.beginPath();
		ctx.arc(center.x, center.y, radius, theta1, theta2, false);
		ctx.arc(center.x, center.y, percentInnerRadius * radius, theta2, theta1, true);
		ctx.closePath();
		ctx.fillStyle = color;
		ctx.strokeStyle = "white";
		ctx.lineWidth = 2;
		// shadow properties
		//     ctx.shadowOffsetX = 1;
		//    ctx.shadowOffsetY = 1;
		//     ctx.shadowBlur = 1;
		//    ctx.shadowColor = '#BFBFBF';  //grey shadow
		//ctx.stroke();
		ctx.fill();
	}

	ctx.globalAlpha = 1;

	ctx.restore();
};

},{"../helpers/utils":43}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number from dataTime everytime it is used.

	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / totalDataSeries * .9 << 0;

	ctx.save();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		if (dataPoints.length == 1) barWidth = maxBarWidth;

		if (barWidth < 1) barWidth = 1;else if (barWidth > maxBarWidth) barWidth = maxBarWidth;

		if (dataPoints.length > 0) {
			//var bevelEnabled = (barWidth > 5) ? false : false;

			ctx.strokeStyle = "#4572A7 ";

			var maxArea = Math.pow(Math.min(plotArea.height, plotArea.width) * .3 / 2, 2) * Math.PI;

			var prevDataPointX = 0;
			var prevDataPointY = 0;

			for (var i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].getTime ? dataPointX = dataPoints[i].x.getTime() : dataPointX = dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);

				ctx.globalAlpha = dataSeries.fillOpacity;
				_render2.default.drawMarker(markerProps.x, markerProps.y, markerProps.ctx, markerProps.type, markerProps.size, markerProps.color, markerProps.borderColor, markerProps.borderThickness);
				ctx.globalAlpha = 1;

				//if (Math.abs(prevDataPointX - x) < markerProps.size / 2 && Math.abs(prevDataPointY - y) < markerProps.size / 2) {
				//    continue;
				//}

				//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
				//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
				//}

				if (Math.sqrt((prevDataPointX - x) * (prevDataPointX - x) + (prevDataPointY - y) * (prevDataPointY - y)) < Math.min(markerProps.size, 5) && dataPoints.length > Math.min(this.plotArea.width, this.plotArea.height)) {
					continue;
				}

				//Render ID on Ghost Canvas - for event handling
				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};
				var markerColor = (0, _utils.intToHexColorString)(id);

				if (_utils.isCanvasSupported) {
					_render2.default.drawMarker(markerProps.x, markerProps.y, this._eventManager.ghostCtx, markerProps.type, markerProps.size, markerColor, markerColor, markerProps.borderThickness);
				}
				//markers.push();

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "scatter",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: 1,
						bounds: {
							x1: x - markerProps.size / 2, y1: y - markerProps.size / 2, x2: x + markerProps.size / 2, y2: y + markerProps.size / 2
						},
						color: color
					});
				}

				prevDataPointX = x;
				prevDataPointY = y;
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.fadeInAnimation, easingFunction: _animator2.default.easing.easeInQuad, animationBase: 0
	};
	return animationInfo;
};

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":41,"../helpers/render":42,"../helpers/utils":43}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;
	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	ctx.save();

	var plotArea = this.plotArea;

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	var markers = [];

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		ctx.lineWidth = dataSeries.lineThickness;
		var dataPoints = dataSeries.dataPoints;

		if (ctx.setLineDash) {
			ctx.setLineDash(getLineDashArray(dataSeries.lineDashType, dataSeries.lineThickness));
		}

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};
		var hexColor = intToHexColorString(seriesId);
		ghostCtx.strokeStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		ghostCtx.lineWidth = dataSeries.lineThickness > 0 ? Math.max(dataSeries.lineThickness, 4) : 0;

		var colorSet = dataSeries._colorSet;
		var color = colorSet[0];
		ctx.strokeStyle = color;

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		//if (!dataSeries._options.markerSize && dataSeries.dataPoints.length < 1000)
		//    dataSeries.markerSize = 8;

		var pixels = [];

		ctx.beginPath();
		if (dataPoints.length > 0) {

			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) continue;

				//if (!isFinite(dataPoints[i].y))
				//    continue;

				if (typeof dataPoints[i].y !== "number") {
					if (i > 0) {
						// if first dataPoint is null then no need to call stroke method
						renderBezier(pixels);
						pixels = [];
					}

					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};

				pixels[pixels.length] = {
					x: x, y: y
				};

				//Add Markers
				if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {

					var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
					markers.push(markerProps);

					//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
					//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
					//}

					var markerColor = intToHexColorString(id);

					//window.console.log("index: " + i + "; id: " + id + "; hex: " + markerColor);
					if (_utils.isCanvasSupported) {
						markers.push({
							x: x, y: y, ctx: ghostCtx,
							type: markerProps.type,
							size: markerProps.size,
							color: markerColor,
							borderColor: markerColor,
							borderThickness: markerProps.borderThickness
						});
					}
				}

				//Add Labels
				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "spline",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}
		}

		renderBezier(pixels);
	}

	RenderHelper.drawMarkers(markers);
	ctx.restore();

	ctx.beginPath();

	if (_utils.isCanvasSupported) ghostCtx.beginPath();

	function renderBezier(pixels) {

		var bp = getBezierPoints(pixels, 2);

		if (bp.length > 0) {
			ctx.beginPath();
			if (_utils.isCanvasSupported) ghostCtx.beginPath();

			ctx.moveTo(bp[0].x, bp[0].y);
			if (_utils.isCanvasSupported) ghostCtx.moveTo(bp[0].x, bp[0].y);

			for (var i = 0; i < bp.length - 3; i += 3) {

				ctx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);

				if (_utils.isCanvasSupported) ghostCtx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);

				if (i > 0 && i % 3000 === 0) {
					ctx.stroke();
					ctx.beginPath();
					ctx.moveTo(bp[i + 3].x, bp[i + 3].y);

					if (_utils.isCanvasSupported) {
						ghostCtx.stroke();
						ghostCtx.beginPath();
						ghostCtx.moveTo(bp[i + 3].x, bp[i + 3].y);
					}
				}
			}

			ctx.stroke();

			if (_utils.isCanvasSupported) ghostCtx.stroke();
		}
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xClipAnimation, easingFunction: AnimationHelper.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

var drawRect = function drawRect(ctx, x1, y1, x2, y2, color, borderThickness, borderColor, top, bottom, left, right, fillOpacity) {
	if (typeof fillOpacity === "undefined") fillOpacity = 1;

	borderThickness = borderThickness || 0;
	borderColor = borderColor || "black";
	//alert("top"+ top + "bottom" + bottom + " lt" + left+ "rt" + right )
	var a1 = x1,
	    a2 = x2,
	    b1 = y1,
	    b2 = y2,
	    edgeY,
	    edgeX;
	if (x2 - x1 > 15 && y2 - y1 > 15) var bevelDepth = 8;else var bevelDepth = 0.35 * Math.min(x2 - x1, y2 - y1);
	//alert(a1 + "" + a2);
	var color2 = "rgba(255, 255, 255, .4)";
	var color3 = "rgba(255, 255, 255, 0.1)";
	//color1 = "rgba(" + r + "," + g + ", " + b + ",1)";
	var color1 = color;

	ctx.beginPath();
	ctx.moveTo(x1, y1);
	ctx.save();
	ctx.fillStyle = color1;

	ctx.globalAlpha = fillOpacity;
	ctx.fillRect(x1, y1, x2 - x1, y2 - y1);
	ctx.globalAlpha = 1;

	if (borderThickness > 0) {
		var offset = borderThickness % 2 === 0 ? 0 : .5;
		ctx.beginPath();
		ctx.lineWidth = borderThickness;
		ctx.strokeStyle = borderColor;
		ctx.moveTo(x1, y1);
		ctx.rect(x1 - offset, y1 - offset, x2 - x1 + 2 * offset, y2 - y1 + 2 * offset);
		ctx.stroke();
	}

	ctx.restore();
	//   ctx.beginPath();
	if (top === true) {
		// alert(x1 + "" + x2 + " " + bevelDepth);
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x1, y1);
		ctx.lineTo(x1 + bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x2 - bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x2, y1);
		ctx.closePath();
		var grd = ctx.createLinearGradient((x2 + x1) / 2, b1 + bevelDepth, (x2 + x1) / 2, b1);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color2);
		ctx.fillStyle = grd;
		ctx.fill();
		//              ctx.stroke();
		ctx.restore();
	}

	if (bottom === true) {
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x1, y2);
		ctx.lineTo(x1 + bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x2 - bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x2, y2);
		ctx.closePath();
		var grd = ctx.createLinearGradient((x2 + x1) / 2, b2 - bevelDepth, (x2 + x1) / 2, b2);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color2);
		ctx.fillStyle = grd;
		//       ctx.stroke();
		ctx.fill();
		ctx.restore();
	}

	if (left === true) {
		//   alert(x1)
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x1, y1);
		ctx.lineTo(x1 + bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x1 + bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x1, y2);
		ctx.closePath();
		var grd = ctx.createLinearGradient(a1 + bevelDepth, (y2 + y1) / 2, a1, (y2 + y1) / 2);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color3);
		ctx.fillStyle = grd;
		ctx.fill();
		//     ctx.stroke();
		ctx.restore();
	}

	if (right === true) {
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x2, y1);
		ctx.lineTo(x2 - bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x2 - bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x2, y2);
		var grd = ctx.createLinearGradient(a2 - bevelDepth, (y2 + y1) / 2, a2, (y2 + y1) / 2);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color3);
		ctx.fillStyle = grd;
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color3);
		ctx.fillStyle = grd;
		ctx.fill();
		ctx.closePath();
		//          ctx.stroke();
		ctx.restore();
	}
	//
};

},{"../helpers/utils":43}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	var axisXProps = plotUnit.axisX.lineCoordinates;
	var axisYProps = plotUnit.axisY.lineCoordinates;
	var markers = [];

	var plotArea = this.plotArea;
	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];

		var dataPoints = dataSeries.dataPoints;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};

		var hexColor = intToHexColorString(seriesId);
		ghostCtx.fillStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		//ghostCtx.lineWidth = 20;

		markers = [];

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
		var baseY;

		var startPoint = null;

		var pixels = [];

		if (dataPoints.length > 0) {
			//ctx.strokeStyle = "#4572A7 ";
			color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash(getLineDashArray(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			for (; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") {
					if (i > 0) {
						renderBezierArea();
						pixels = [];
					}
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};

				pixels[pixels.length] = {
					x: x, y: y
				};

				//Render Marker
				if (dataPoints[i].markerSize !== 0) {
					if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				//Render Index Labels
				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "splineArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			renderBezierArea();

			RenderHelper.drawMarkers(markers);
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	function renderBezierArea() {
		var bp = getBezierPoints(pixels, 2);

		if (bp.length > 0) {
			ctx.beginPath();
			ctx.moveTo(bp[0].x, bp[0].y);

			if (_utils.isCanvasSupported) {
				ghostCtx.beginPath();
				ghostCtx.moveTo(bp[0].x, bp[0].y);
			}

			for (var i = 0; i < bp.length - 3; i += 3) {

				ctx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);

				if (_utils.isCanvasSupported) ghostCtx.bezierCurveTo(bp[i + 1].x, bp[i + 1].y, bp[i + 2].x, bp[i + 2].y, bp[i + 3].x, bp[i + 3].y);
			}

			if (dataSeries.lineThickness > 0) ctx.stroke();

			if (plotUnit.axisY.viewportMinimum <= 0 && plotUnit.axisY.viewportMaximum >= 0) {
				baseY = yZeroToPixel;
			} else if (plotUnit.axisY.viewportMaximum < 0) baseY = axisYProps.y1;else if (plotUnit.axisY.viewportMinimum > 0) baseY = axisXProps.y2;

			startPoint = {
				x: bp[0].x, y: bp[0].y
			};

			ctx.lineTo(bp[bp.length - 1].x, baseY);
			ctx.lineTo(startPoint.x, baseY);
			ctx.closePath();

			ctx.globalAlpha = dataSeries.fillOpacity;
			ctx.fill();
			ctx.globalAlpha = 1;

			if (_utils.isCanvasSupported) {
				ghostCtx.lineTo(bp[bp.length - 1].x, baseY);
				ghostCtx.lineTo(startPoint.x, baseY);
				ghostCtx.closePath();
				ghostCtx.fill();
			}
		}
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xClipAnimation, easingFunction: AnimationHelper.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":43}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;
	var markers = [];

	var plotArea = this.plotArea;

	var offsetY = [];

	var allXValues = [];
	//var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;

	var ghostCtx = this._eventManager.ghostCtx;

	if (_utils.isCanvasSupported) ghostCtx.beginPath();

	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	var xValuePresent = [];
	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];
		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var xValue;

		dataSeries.dataPointIndexes = [];

		for (i = 0; i < dataPoints.length; i++) {
			xValue = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;
			dataSeries.dataPointIndexes[xValue] = i;

			if (!xValuePresent[xValue]) {
				allXValues.push(xValue);
				xValuePresent[xValue] = true;
			}
		}

		allXValues.sort(_utils.compareNumbers);
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		var currentBaseValues = [];

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};
		var hexColor = (0, _utils.intToHexColorString)(seriesId);
		ghostCtx.fillStyle = hexColor;

		if (allXValues.length > 0) {

			color = dataSeries._colorSet[0];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash((0, _utils.getLineDashArray)(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			for (i = 0; i < allXValues.length; i++) {

				dataPointX = allXValues[i];
				var dataPoint = null;

				if (dataSeries.dataPointIndexes[dataPointX] >= 0) dataPoint = dataPoints[dataSeries.dataPointIndexes[dataPointX]];else dataPoint = {
					x: dataPointX, y: 0
				};

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoint.y !== "number") continue;

				var x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				//var y = (plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoint.y - plotUnit.axisY.conversionParameters.minimum) + .5) << 0;
				var y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoint.y - plotUnit.axisY.conversionParameters.minimum);

				var offset = offsetY[dataPointX] ? offsetY[dataPointX] : 0;

				y = y - offset;
				currentBaseValues.push({ x: x, y: yZeroToPixel - offset });
				offsetY[dataPointX] = yZeroToPixel - y;

				if (isFirstDataPointInPlotArea) {
					ctx.beginPath();
					ctx.moveTo(x, y);

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y);
					}

					isFirstDataPointInPlotArea = false;
				} else {

					ctx.lineTo(x, y);

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y);

					if (i % 250 == 0) {

						if (dataSeries.lineThickness > 0) ctx.stroke();

						while (currentBaseValues.length > 0) {
							var point = currentBaseValues.pop();
							ctx.lineTo(point.x, point.y);

							if (_utils.isCanvasSupported) ghostCtx.lineTo(point.x, point.y);
						}

						ctx.closePath();

						ctx.globalAlpha = dataSeries.fillOpacity;
						ctx.fill();
						ctx.globalAlpha = 1;

						ctx.beginPath();
						ctx.moveTo(x, y);

						if (_utils.isCanvasSupported) {
							ghostCtx.closePath();
							ghostCtx.fill();

							ghostCtx.beginPath();
							ghostCtx.moveTo(x, y);
						}

						currentBaseValues.push({ x: x, y: yZeroToPixel - offset });
					}
				}

				if (dataSeries.dataPointIndexes[dataPointX] >= 0) {
					var id = dataSeries.dataPointIds[dataSeries.dataPointIndexes[dataPointX]];
					this._eventManager.objectMap[id] = {
						id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: dataSeries.dataPointIndexes[dataPointX], x1: x, y1: y
					};
				}

				//Render Marker
				if (dataSeries.dataPointIndexes[dataPointX] >= 0 && dataPoint.markerSize !== 0) {
					if (dataPoint.markerSize > 0 || dataSeries.markerSize > 0) {

						var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						markerColor = (0, _utils.intToHexColorString)(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				if (dataPoint.indexLabel || dataSeries.indexLabel || dataPoint.indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stackedArea",
						dataPoint: dataPoint,
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			if (dataSeries.lineThickness > 0) ctx.stroke();

			while (currentBaseValues.length > 0) {
				var point = currentBaseValues.pop();
				ctx.lineTo(point.x, point.y);

				if (_utils.isCanvasSupported) ghostCtx.lineTo(point.x, point.y);
			}

			ctx.closePath();

			ctx.globalAlpha = dataSeries.fillOpacity;
			ctx.fill();
			ctx.globalAlpha = 1;

			ctx.beginPath();
			ctx.moveTo(x, y);

			if (_utils.isCanvasSupported) {
				ghostCtx.closePath();
				ghostCtx.fill();
				ghostCtx.beginPath();
				ghostCtx.moveTo(x, y);
			}
		}

		delete dataSeries.dataPointIndexes;
	}

	_render2.default.drawMarkers(markers);

	ctx.restore();

	if (_utils.isCanvasSupported) ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.xClipAnimation, easingFunction: _animator2.default.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":41,"../helpers/render":42,"../helpers/utils":43}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;
	var markers = [];

	var offsetY = [];

	var allXValues = [];
	//var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) * .9 << 0;

	var ghostCtx = this._eventManager.ghostCtx;

	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	var xValuePresent = [];
	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];
		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var xValue;

		dataSeries.dataPointIndexes = [];

		for (i = 0; i < dataPoints.length; i++) {
			xValue = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;
			dataSeries.dataPointIndexes[xValue] = i;

			if (!xValuePresent[xValue]) {
				allXValues.push(xValue);
				xValuePresent[xValue] = true;
			}
		}

		allXValues.sort(_utils.compareNumbers);
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};
		var hexColor = (0, _utils.intToHexColorString)(seriesId);
		ghostCtx.fillStyle = hexColor;

		if (dataPoints.length == 1) barWidth = maxBarWidth;

		if (barWidth < 1) barWidth = 1;else if (barWidth > maxBarWidth) barWidth = maxBarWidth;

		var currentBaseValues = [];

		if (allXValues.length > 0) {

			color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash((0, _utils.getLineDashArray)(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			var bevelEnabled = barWidth > 5 ? false : false;

			//ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < allXValues.length; i++) {

				dataPointX = allXValues[i];
				var dataPoint = null;

				if (dataSeries.dataPointIndexes[dataPointX] >= 0) dataPoint = dataPoints[dataSeries.dataPointIndexes[dataPointX]];else dataPoint = {
					x: dataPointX, y: 0
				};

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoint.y !== "number") continue;

				var yPercent;
				if (plotUnit.dataPointYSums[dataPointX] !== 0) yPercent = dataPoint.y / plotUnit.dataPointYSums[dataPointX] * 100;else yPercent = 0;

				var x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				var y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (yPercent - plotUnit.axisY.conversionParameters.minimum);

				var offset = offsetY[dataPointX] ? offsetY[dataPointX] : 0;

				y = y - offset;
				currentBaseValues.push({ x: x, y: yZeroToPixel - offset });
				offsetY[dataPointX] = yZeroToPixel - y;

				if (isFirstDataPointInPlotArea) {
					ctx.beginPath();
					ctx.moveTo(x, y);

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y);
					}

					isFirstDataPointInPlotArea = false;
				} else {

					ctx.lineTo(x, y);

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y);

					if (i % 250 == 0) {

						if (dataSeries.lineThickness > 0) ctx.stroke();

						while (currentBaseValues.length > 0) {
							var point = currentBaseValues.pop();
							ctx.lineTo(point.x, point.y);

							if (_utils.isCanvasSupported) ghostCtx.lineTo(point.x, point.y);
						}

						ctx.closePath();

						ctx.globalAlpha = dataSeries.fillOpacity;
						ctx.fill();
						ctx.globalAlpha = 1;

						ctx.beginPath();
						ctx.moveTo(x, y);

						if (_utils.isCanvasSupported) {
							ghostCtx.closePath();
							ghostCtx.fill();
							ghostCtx.beginPath();
							ghostCtx.moveTo(x, y);
						}

						currentBaseValues.push({ x: x, y: yZeroToPixel - offset });
					}
				}

				if (dataSeries.dataPointIndexes[dataPointX] >= 0) {
					var id = dataSeries.dataPointIds[dataSeries.dataPointIndexes[dataPointX]];
					this._eventManager.objectMap[id] = {
						id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: dataSeries.dataPointIndexes[dataPointX], x1: x, y1: y
					};
				}

				//Render Marker
				if (dataSeries.dataPointIndexes[dataPointX] >= 0 && dataPoint.markerSize !== 0) {
					if (dataPoint.markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						markerColor = (0, _utils.intToHexColorString)(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				if (dataPoint.indexLabel || dataSeries.indexLabel || dataPoint.indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stackedArea100",
						dataPoint: dataPoint,
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			if (dataSeries.lineThickness > 0) ctx.stroke();

			while (currentBaseValues.length > 0) {
				var point = currentBaseValues.pop();
				ctx.lineTo(point.x, point.y);

				if (_utils.isCanvasSupported) ghostCtx.lineTo(point.x, point.y);
			}

			ctx.closePath();

			ctx.globalAlpha = dataSeries.fillOpacity;
			ctx.fill();
			ctx.globalAlpha = 1;

			ctx.beginPath();
			ctx.moveTo(x, y);

			if (_utils.isCanvasSupported) {
				ghostCtx.closePath();
				ghostCtx.fill();
				ghostCtx.beginPath();
				ghostCtx.moveTo(x, y);
			}
		}

		delete dataSeries.dataPointIndexes;
	}

	_render2.default.drawMarkers(markers);

	ctx.restore();

	if (_utils.isCanvasSupported) ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: _animator2.default.xClipAnimation, easingFunction: _animator2.default.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../helpers/animator":41,"../helpers/render":42,"../helpers/utils":43}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var offsetPositiveY = [];
	var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.height * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.plotUnits.length * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				y = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				//x = (plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5) << 0;
				x = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum);

				//var x1 = x - (plotUnit.plotType.plotUnits.length * barWidth / 2) + (plotUnit.index * barWidth) << 0;

				var y1 = y - plotUnit.plotType.plotUnits.length * barWidth / 2 + plotUnit.index * barWidth << 0;
				var y2 = y1 + barWidth << 0;
				var x1;
				var x2;

				if (dataPoints[i].y >= 0) {
					var offset = offsetPositiveY[dataPointX] ? offsetPositiveY[dataPointX] : 0;

					x1 = yZeroToPixel + offset;
					x2 = x + offset;

					offsetPositiveY[dataPointX] = offset + (x2 - x1);
				} else {
					var offset = offsetNegativeY[dataPointX] ? offsetNegativeY[dataPointX] : 0;

					x1 = x - offset;
					x2 = yZeroToPixel - offset;

					offsetNegativeY[dataPointX] = offset + (x2 - x1);
				}

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				drawRect(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled, false, false, false, dataSeries.fillOpacity);

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) this._indexLabels.push({
					chartType: "stackedBar",
					dataPoint: dataPoints[i],
					dataSeries: dataSeries,
					point: {
						x: dataPoints[i].y >= 0 ? x2 : x1, y: y
					},
					direction: dataPoints[i].y >= 0 ? 1 : -1,
					bounds: {
						x1: Math.min(x1, x2), y1: y1, x2: Math.max(x1, x2), y2: y2
					},
					color: color
				});
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.max(yZeroToPixel, plotUnit.axisX.boundingRect.x2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xScaleAnimation, easingFunction: AnimationHelper.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":43}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var offsetPositiveY = [];
	var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.height * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.height / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.plotUnits.length * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				y = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;

				var yPercent;
				if (plotUnit.dataPointYSums[dataPointX] !== 0) yPercent = dataPoints[i].y / plotUnit.dataPointYSums[dataPointX] * 100;else yPercent = 0;

				//x = (plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (yPercent - plotUnit.axisY.conversionParameters.minimum) + .5) << 0;
				x = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (yPercent - plotUnit.axisY.conversionParameters.minimum);

				var y1 = y - plotUnit.plotType.plotUnits.length * barWidth / 2 + plotUnit.index * barWidth << 0;
				var y2 = y1 + barWidth << 0;
				var x1;
				var x2;

				if (dataPoints[i].y >= 0) {
					var offset = offsetPositiveY[dataPointX] ? offsetPositiveY[dataPointX] : 0;

					x1 = yZeroToPixel + offset;
					x2 = x + offset;

					offsetPositiveY[dataPointX] = offset + (x2 - x1);
				} else {
					var offset = offsetNegativeY[dataPointX] ? offsetNegativeY[dataPointX] : 0;

					x1 = x - offset;
					x2 = yZeroToPixel - offset;

					offsetNegativeY[dataPointX] = offset + (x2 - x1);
				}

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				drawRect(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled, false, false, false, dataSeries.fillOpacity);

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) this._indexLabels.push({
					chartType: "stackedBar100",
					dataPoint: dataPoints[i],
					dataSeries: dataSeries,
					point: {
						x: dataPoints[i].y >= 0 ? x2 : x1, y: y
					},
					direction: dataPoints[i].y >= 0 ? 1 : -1,
					bounds: {
						x1: Math.min(x1, x2), y1: y1, x2: Math.max(x1, x2), y2: y2
					},
					color: color
				});
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.max(yZeroToPixel, plotUnit.axisX.boundingRect.x2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xScaleAnimation, easingFunction: AnimationHelper.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":43}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {

	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var offsetPositiveY = [];
	var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.plotUnits.length * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];
		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		// Reducing pixelPerUnit by 1 just to overcome any problems due to rounding off of pixels.
		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum);

				var x1 = x - plotUnit.plotType.plotUnits.length * barWidth / 2 + plotUnit.index * barWidth << 0;
				var x2 = x1 + barWidth << 0;
				var y1;
				var y2;

				if (dataPoints[i].y >= 0) {
					var offset = offsetPositiveY[dataPointX] ? offsetPositiveY[dataPointX] : 0;

					y1 = y - offset;
					y2 = yZeroToPixel - offset;

					offsetPositiveY[dataPointX] = offset + (y2 - y1);
				} else {
					var offset = offsetNegativeY[dataPointX] ? offsetNegativeY[dataPointX] : 0;

					y2 = y + offset;
					y1 = yZeroToPixel + offset;

					offsetNegativeY[dataPointX] = offset + (y2 - y1);
				}

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];

				drawRect(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled && dataPoints[i].y >= 0, dataPoints[i].y < 0 && bevelEnabled, false, false, dataSeries.fillOpacity);

				//if (dataSeries.markerType && dataSeries.markerSize > 0) {
				//    RenderHelper.drawMarker(x1 + (x2 - x1)/2, y1, ctx, dataSeries.markerType, dataSeries.markerSize, color, dataSeries.markerBorderColor, dataSeries.markerBorderThickness ? dataSeries.markerBorderThickness : 1);
				//}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stackedColumn",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: dataPoints[i].y >= 0 ? y1 : y2
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						bounds: {
							x1: x1, y1: Math.min(y1, y2), x2: x2, y2: Math.max(y1, y2)
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.min(yZeroToPixel, plotUnit.axisY.boundingRect.y2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.yScaleAnimation, easingFunction: AnimationHelper.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":43}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;
	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var color = null;

	var plotArea = this.plotArea;

	var offsetPositiveY = [];
	var offsetNegativeY = [];

	var i = 0,
	    x,
	    y;
	var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number everytime it is accessed.

	//var yZeroToPixel = (axisYProps.y2 - axisYProps.height / rangeY * Math.abs(0 - plotUnit.axisY.viewportMinimum) + .5) << 0;
	var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) << 0;

	var maxBarWidth = this.dataPointMaxWidth ? this.dataPointMaxWidth : this.width * .15 << 0;
	var xMinDiff = plotUnit.axisX.dataInfo.minDiff;
	var barWidth = plotArea.width / Math.abs(plotUnit.axisX.viewportMaximum - plotUnit.axisX.viewportMinimum) * Math.abs(xMinDiff) / plotUnit.plotType.plotUnits.length * .9 << 0;

	if (barWidth > maxBarWidth) barWidth = maxBarWidth;else if (xMinDiff === Infinity) {
		barWidth = maxBarWidth;
	} else if (barWidth < 1) barWidth = 1;

	ctx.save();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		this._eventManager.ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		this._eventManager.ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];
		var dataPoints = dataSeries.dataPoints;
		var isFirstDataPointInPlotArea = true;

		//dataSeries.maxWidthInX = barWidth / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);

		if (dataPoints.length > 0) {
			//var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);

			var bevelEnabled = barWidth > 5 && dataSeries.bevelEnabled ? true : false;

			//ctx.strokeStyle = "#4572A7 ";

			for (i = 0; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				if (typeof dataPoints[i].y !== "number") continue;

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;

				var yPercent;
				if (plotUnit.dataPointYSums[dataPointX] !== 0) yPercent = dataPoints[i].y / plotUnit.dataPointYSums[dataPointX] * 100;else yPercent = 0;

				//y = (plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (yPercent - plotUnit.axisY.conversionParameters.minimum) + .5) << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (yPercent - plotUnit.axisY.conversionParameters.minimum);

				var x1 = x - plotUnit.plotType.plotUnits.length * barWidth / 2 + plotUnit.index * barWidth << 0;
				var x2 = x1 + barWidth << 0;
				var y1;
				var y2;

				if (dataPoints[i].y >= 0) {
					var offset = offsetPositiveY[dataPointX] ? offsetPositiveY[dataPointX] : 0;

					y1 = y - offset;
					y2 = yZeroToPixel - offset;

					offsetPositiveY[dataPointX] = offset + (y2 - y1);
				} else {
					var offset = offsetNegativeY[dataPointX] ? offsetNegativeY[dataPointX] : 0;

					y2 = y + offset;
					y1 = yZeroToPixel + offset;

					offsetNegativeY[dataPointX] = offset + (y2 - y1);
				}

				color = dataPoints[i].color ? dataPoints[i].color : dataSeries._colorSet[i % dataSeries._colorSet.length];
				drawRect(ctx, x1, y1, x2, y2, color, 0, null, bevelEnabled && dataPoints[i].y >= 0, dataPoints[i].y < 0 && bevelEnabled, false, false, dataSeries.fillOpacity);

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x1, y1: y1, x2: x2, y2: y2
				};
				color = intToHexColorString(id);

				if (_utils.isCanvasSupported) drawRect(this._eventManager.ghostCtx, x1, y1, x2, y2, color, 0, null, false, false, false, false);

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stackedColumn100",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: dataPoints[i].y >= 0 ? y1 : y2
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						bounds: {
							x1: x1, y1: Math.min(y1, y2), x2: x2, y2: Math.max(y1, y2)
						},
						color: color
					});
				}
			}
		}
	}

	ctx.restore();

	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	//source and dest would be same when animation is not enabled
	var animationBase = Math.min(yZeroToPixel, plotUnit.axisY.boundingRect.y2);
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.yScaleAnimation, easingFunction: AnimationHelper.easing.easeOutQuart, animationBase: animationBase
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":43}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (plotUnit) {
	var ctx = plotUnit.targetCanvasCtx || this.plotArea.ctx;

	var totalDataSeries = plotUnit.dataSeriesIndexes.length;

	if (totalDataSeries <= 0) return;

	var ghostCtx = this._eventManager.ghostCtx;

	var axisXProps = plotUnit.axisX.lineCoordinates;
	var axisYProps = plotUnit.axisY.lineCoordinates;
	var markers = [];

	var plotArea = this.plotArea;
	ctx.save();

	if (_utils.isCanvasSupported) ghostCtx.save();

	ctx.beginPath();
	ctx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
	ctx.clip();

	if (_utils.isCanvasSupported) {
		ghostCtx.beginPath();
		ghostCtx.rect(plotArea.x1, plotArea.y1, plotArea.width, plotArea.height);
		ghostCtx.clip();
	}

	for (var j = 0; j < plotUnit.dataSeriesIndexes.length; j++) {

		var dataSeriesIndex = plotUnit.dataSeriesIndexes[j];

		var dataSeries = this.data[dataSeriesIndex];

		var dataPoints = dataSeries.dataPoints;

		var seriesId = dataSeries.id;
		this._eventManager.objectMap[seriesId] = {
			objectType: "dataSeries", dataSeriesIndex: dataSeriesIndex
		};

		var hexColor = intToHexColorString(seriesId);
		ghostCtx.fillStyle = hexColor;
		//ghostCtx.lineWidth = dataSeries.lineThickness;
		//ghostCtx.lineWidth = 20;

		markers = [];

		var isFirstDataPointInPlotArea = true;
		var i = 0,
		    x,
		    y;
		var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.

		var yZeroToPixel = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (0 - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;
		var baseY;

		var startPoint = null;

		var prevDataNull = false;
		if (dataPoints.length > 0) {
			//ctx.strokeStyle = "#4572A7 ";
			var color = dataSeries._colorSet[i % dataSeries._colorSet.length];
			//ctx.strokeStyle = "red";
			ctx.fillStyle = color;
			ctx.strokeStyle = color;
			ctx.lineWidth = dataSeries.lineThickness;

			if (ctx.setLineDash) {
				ctx.setLineDash(getLineDashArray(dataSeries.lineDashType, dataSeries.lineThickness));
			}

			for (; i < dataPoints.length; i++) {

				dataPointX = dataPoints[i].x.getTime ? dataPoints[i].x.getTime() : dataPoints[i].x;

				if (dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax) {
					continue;
				}

				var prevY = y;

				if (typeof dataPoints[i].y !== "number") {
					closeArea();

					prevDataNull = true;
					continue;
				}

				x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;
				y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;

				if (isFirstDataPointInPlotArea || prevDataNull) {
					ctx.beginPath();
					ctx.moveTo(x, y);
					startPoint = {
						x: x, y: y
					};

					if (_utils.isCanvasSupported) {
						ghostCtx.beginPath();
						ghostCtx.moveTo(x, y);
					}

					isFirstDataPointInPlotArea = false;
					prevDataNull = false;
				} else {

					ctx.lineTo(x, prevY);
					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, prevY);

					ctx.lineTo(x, y);

					if (_utils.isCanvasSupported) ghostCtx.lineTo(x, y);

					if (i % 250 == 0) {
						closeArea();
					}
				}

				var id = dataSeries.dataPointIds[i];
				this._eventManager.objectMap[id] = {
					id: id, objectType: "dataPoint", dataSeriesIndex: dataSeriesIndex, dataPointIndex: i, x1: x, y1: y
				};

				//Render Marker
				if (dataPoints[i].markerSize !== 0) {
					if (dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0) {
						var markerProps = dataSeries.getMarkerProperties(i, x, y, ctx);
						markers.push(markerProps);

						//if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
						//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
						//}

						var markerColor = intToHexColorString(id);

						if (_utils.isCanvasSupported) {
							markers.push({
								x: x, y: y, ctx: ghostCtx,
								type: markerProps.type,
								size: markerProps.size,
								color: markerColor,
								borderColor: markerColor,
								borderThickness: markerProps.borderThickness
							});
						}
					}
				}

				if (dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter) {

					this._indexLabels.push({
						chartType: "stepArea",
						dataPoint: dataPoints[i],
						dataSeries: dataSeries,
						point: {
							x: x, y: y
						},
						direction: dataPoints[i].y >= 0 ? 1 : -1,
						color: color
					});
				}
			}

			closeArea();

			RenderHelper.drawMarkers(markers);
		}
	}

	ctx.restore();
	if (_utils.isCanvasSupported) this._eventManager.ghostCtx.restore();

	function closeArea() {

		if (!startPoint) return;

		if (dataSeries.lineThickness > 0) ctx.stroke();

		if (plotUnit.axisY.viewportMinimum <= 0 && plotUnit.axisY.viewportMaximum >= 0) {
			baseY = yZeroToPixel;
		} else if (plotUnit.axisY.viewportMaximum < 0) baseY = axisYProps.y1;else if (plotUnit.axisY.viewportMinimum > 0) baseY = axisXProps.y2;

		ctx.lineTo(x, baseY);
		ctx.lineTo(startPoint.x, baseY);
		ctx.closePath();

		ctx.globalAlpha = dataSeries.fillOpacity;
		ctx.fill();
		ctx.globalAlpha = 1;

		if (_utils.isCanvasSupported) {
			ghostCtx.lineTo(x, baseY);
			ghostCtx.lineTo(startPoint.x, baseY);
			ghostCtx.closePath();
			ghostCtx.fill();
		}

		ctx.beginPath();
		ctx.moveTo(x, y);
		ghostCtx.beginPath();
		ghostCtx.moveTo(x, y);

		startPoint = {
			x: x, y: y
		};
	}

	//source and dest would be same when animation is not enabled
	var animationInfo = {
		source: ctx, dest: this.plotArea.ctx, animationCallback: AnimationHelper.xClipAnimation, easingFunction: AnimationHelper.easing.linear, animationBase: 0
	};
	return animationInfo;
};

var _utils = require("../helpers/utils");

},{"../helpers/utils":43}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var cultures = exports.cultures = {
  "en": {}
  //Derives from the default options
  //,
  //"es": {
  //    decimalSeparator: ",",
  //    digitGroupSeparator: ".",
  //    zoomText: "zoom",
  //    panText: "pan",
  //    resetText: "reset",
  //    days: ["domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"],
  //}
};

var constants = exports.constants = {
  numberDuration: 1,
  yearDuration: 1000 * 60 * 60 * 24 * 364,
  monthDuration: 1000 * 60 * 60 * 24 * 30,
  weekDuration: 1000 * 60 * 60 * 24 * 7,
  dayDuration: 1000 * 60 * 60 * 24,
  hourDuration: 1000 * 60 * 60,
  minuteDuration: 1000 * 60,
  secondDuration: 1000,
  millisecondDuration: 1,

  dayOfWeekFromInt: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
};

},{}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
var isDebugMode = exports.isDebugMode = false;

var isCanvasSupported = exports.isCanvasSupported = !!document.createElement("canvas").getContext;
//isCanvasSupported = false;

//Default values for all Chart Elements that can be set by the user. CanvasJSObject.setOptions looks into this while setting the default/user-defined values.
var defaultOptions = exports.defaultOptions = {
	Chart: {
		width: 500,
		height: 400,
		zoomEnabled: false,
		zoomType: "x",
		backgroundColor: "white",
		theme: "theme1",
		animationEnabled: false,
		animationDuration: 1200,
		dataPointMaxWidth: null,

		colorSet: "colorSet1",
		culture: "en",
		creditText: "CanvasJS.com",
		interactivityEnabled: true,
		exportEnabled: false,
		exportFileName: "Chart",

		rangeChanging: null,
		rangeChanged: null
	},

	Title: {
		padding: 0,
		text: null,
		verticalAlign: "top", //top, center, bottom
		horizontalAlign: "center", //left, center, right
		fontSize: 20, //in pixels
		fontFamily: "Calibri",
		fontWeight: "normal", //normal, bold, bolder, lighter,
		fontColor: "black",
		fontStyle: "normal", // normal, italic, oblique

		borderThickness: 0,
		borderColor: "black",
		cornerRadius: 0,
		backgroundColor: null,
		margin: 5,
		wrap: true,
		maxWidth: null,

		dockInsidePlotArea: false
		//toolTipContent: null//string - To be implemented (TBI)
	},

	Subtitle: {
		padding: 0,
		text: null,
		verticalAlign: "top", //top, center, bottom
		horizontalAlign: "center", //left, center, right
		fontSize: 14, //in pixels
		fontFamily: "Calibri",
		fontWeight: "normal", //normal, bold, bolder, lighter,
		fontColor: "black",
		fontStyle: "normal", // normal, italic, oblique

		borderThickness: 0,
		borderColor: "black",
		cornerRadius: 0,
		backgroundColor: null,
		margin: 2,
		wrap: true,
		maxWidth: null,

		dockInsidePlotArea: false
		//toolTipContent: null//string - To be implemented (TBI)
	},

	Legend: {
		name: null,
		verticalAlign: "center",
		horizontalAlign: "right",

		fontSize: 14, //in pixels
		fontFamily: "calibri",
		fontWeight: "normal", //normal, bold, bolder, lighter,
		fontColor: "black",
		fontStyle: "normal", // normal, italic, oblique

		cursor: null,
		itemmouseover: null,
		itemmouseout: null,
		itemmousemove: null,
		itemclick: null,

		dockInsidePlotArea: false,
		reversed: false,

		maxWidth: null,
		maxHeight: null,

		itemMaxWidth: null,
		itemWidth: null,
		itemWrap: true,
		itemTextFormatter: null
	},

	ToolTip: {
		enabled: true,
		shared: false,
		animationEnabled: true,
		content: null,
		contentFormatter: null,

		reversed: false,

		backgroundColor: null,

		borderColor: null,
		borderThickness: 2, //in pixels
		cornerRadius: 5, // in pixels

		fontSize: 14, // in pixels
		fontColor: "#000000",
		fontFamily: "Calibri, Arial, Georgia, serif;",
		fontWeight: "normal", //normal, bold, bolder, lighter,
		fontStyle: "italic" // normal, italic, oblique
	},

	Axis: {
		minimum: null, //Minimum value to be shown on the Axis
		maximum: null, //Minimum value to be shown on the Axis
		viewportMinimum: null,
		viewportMaximum: null,
		interval: null, // Interval for tick marks and grid lines
		intervalType: null, //number, millisecond, second, minute, hour, day, month, year
		//reversed: false,

		title: null, // string
		titleFontColor: "black",
		titleFontSize: 20,
		titleFontFamily: "arial",
		titleFontWeight: "normal",
		titleFontStyle: "normal",

		labelAngle: 0,
		labelFontFamily: "arial",
		labelFontColor: "black",
		labelFontSize: 12,
		labelFontWeight: "normal",
		labelFontStyle: "normal",
		labelAutoFit: false,
		labelWrap: true,
		labelMaxWidth: null, //null for auto
		labelFormatter: null,

		prefix: "",
		suffix: "",

		includeZero: true, //Applies only for axisY. Ignored in axisX.

		tickLength: 5,
		tickColor: "black",
		tickThickness: 1,

		lineColor: "black",
		lineThickness: 1,
		lineDashType: "solid",

		gridColor: "A0A0A0",
		gridThickness: 0,
		gridDashType: "solid",

		interlacedColor: null,

		valueFormatString: null,

		margin: 2,

		stripLines: [] // Just a placeholder. Does not have any effect on the actual number of striplines
	},

	StripLine: {
		value: null,
		startValue: null,
		endValue: null,

		color: "orange",
		opacity: null,
		thickness: 2,
		lineDashType: "solid",
		label: "",
		labelBackgroundColor: "#EEEEEE",
		labelFontFamily: "arial",
		labelFontColor: "orange",
		labelFontSize: 12,
		labelFontWeight: "normal",
		labelFontStyle: "normal",
		labelFormatter: null,

		showOnTop: false
	},

	DataSeries: {
		name: null,
		dataPoints: null,
		label: "",
		bevelEnabled: false,
		highlightEnabled: true,

		cursor: null,

		indexLabel: "",
		indexLabelPlacement: "auto", //inside, outside, auto
		indexLabelOrientation: "horizontal",
		indexLabelFontColor: "black",
		indexLabelFontSize: 12,
		indexLabelFontStyle: "normal", //   italic ,oblique, normal
		indexLabelFontFamily: "Arial", // fx: Arial Verdana "Courier New" Serif
		indexLabelFontWeight: "normal", // bold ,bolder, lighter, normal
		indexLabelBackgroundColor: null,
		indexLabelLineColor: null,
		indexLabelLineThickness: 1,
		indexLabelLineDashType: "solid",
		indexLabelMaxWidth: null,
		indexLabelWrap: true,
		indexLabelFormatter: null,

		lineThickness: 2,
		lineDashType: "solid",

		color: null,
		risingColor: "white",
		fillOpacity: null,

		startAngle: 0,

		radius: null,
		innerRadius: null,

		type: "column", //line, column, bar, area, scatter stackedColumn, stackedBar, stackedArea, stackedColumn100, stackedBar100, stackedArea100, pie, doughnut
		xValueType: "number", //number, dateTime
		axisYType: "primary",

		xValueFormatString: null,
		yValueFormatString: null,
		zValueFormatString: null,
		percentFormatString: null,

		showInLegend: null,
		legendMarkerType: null,
		legendMarkerColor: null,
		legendText: null,
		legendMarkerBorderColor: null,
		legendMarkerBorderThickness: null,

		markerType: "circle", //none, circle, square, cross, triangle, line
		markerColor: null,
		markerSize: null,
		markerBorderColor: null,
		markerBorderThickness: null,
		//animationEnabled: true,
		mouseover: null,
		mouseout: null,
		mousemove: null,
		click: null,
		toolTipContent: null,

		visible: true
	},

	//Private
	TextBlock: {
		x: 0,
		y: 0,
		width: null, //read only
		height: null, //read only
		maxWidth: null,
		maxHeight: null,
		padding: 0,
		angle: 0,
		text: "",
		horizontalAlign: "center", //left, center, right
		fontSize: 12, //in pixels
		fontFamily: "calibri",
		fontWeight: "normal", //normal, bold, bolder, lighter,
		fontColor: "black",
		fontStyle: "normal", // normal, italic, oblique

		borderThickness: 0,
		borderColor: "black",
		cornerRadius: 0,
		backgroundColor: null,
		textBaseline: "top"
	},

	CultureInfo: {
		decimalSeparator: ".",
		digitGroupSeparator: ",",
		zoomText: "Zoom",
		panText: "Pan",
		resetText: "Reset",

		menuText: "More Options",
		saveJPGText: "Save as JPG",
		savePNGText: "Save as PNG",

		days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
		shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],

		months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
		shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
	}
};

},{}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.themes = exports.colorSets = undefined;

var _utils = require("../helpers/utils");

var colorSets = exports.colorSets = {

	"colorSet1": ["#369EAD", "#C24642", "#7F6084",
	//"#96C412",
	"#86B402", "#A2D1CF",
	//"#D8C641",
	"#C8B631", "#6DBCEB",
	//"#4A4946",
	"#52514E", "#4F81BC", "#A064A1", "#F79647"],
	"colorSet2": ["#4F81BC", "#C0504E", "#9BBB58", "#23BFAA",
	//"#FAA586",
	"#8064A1", "#4AACC5", "#F79647",
	//"#77AA33",
	//"#7F6084"
	"#33558B"],
	"colorSet3": ["#8CA1BC", "#36845C", "#017E82", "#8CB9D0", "#708C98", "#94838D", "#F08891", "#0366A7", "#008276", "#EE7757", "#E5BA3A", "#F2990B", "#03557B", "#782970"] //,
	//"colorSet4": [
	//    "#3698C5",
	//    "#009B8D",
	//    "#F1D691",
	//    "#F8B90C",
	//    "#0081B8",
	//    "#5B5A96",
	//    "#ACBDD1",
	//    "#88A891",
	//    "#39969D",
	//    "#AECEDD",
	//    "#A0B2BC",
	//    "#BBAEB7",
	//    "#A0C65F",
	//    "#EEA6AA",
	//    "#3798C5"
	//],
	//"colorSet5": [
	//    "#88ADBF",
	//    "#84C336",
	//    "#7B91C3",
	//    "#4661EE",
	//    "#EC5657",
	//    "#1BCDD1",
	//    "#8FAABB",
	//    "#B08BEB",
	//    "#3EA0DD",
	//    "#F5A52A",
	//    "#23BFAA",
	//    "#FAA586",
	//    "#EB8CC6"
	//]

};

var themes = exports.themes = {

	"theme1": {
		Chart: {
			colorSet: "colorSet1"
		},
		Title: {
			fontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			fontSize: 33,
			fontColor: "#3A3A3A",
			fontWeight: "bold",
			verticalAlign: "top",
			margin: 5
		},
		Subtitle: {
			fontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			fontSize: 16,
			fontColor: "#3A3A3A",
			fontWeight: "bold",
			verticalAlign: "top",
			margin: 5
		},
		Axis: {
			titleFontSize: 26,
			//titleFontColor: "rgb(98,98,98)",
			titleFontColor: "#666666",
			//titleFontFamily: "arial black",
			//titleFontFamily: "Verdana, Geneva, Calibri, sans-serif",
			titleFontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			//titleFontWeight: "bold",

			//labelFontFamily: "Times New Roman, Times, serif",
			labelFontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			//labelFontFamily: "Helvetica Neue, Helvetica",
			labelFontSize: 18,
			labelFontColor: "grey",
			//labelFontWeight: "bold",
			tickColor: "#BBBBBB",
			tickThickness: 2,
			gridThickness: 2,
			gridColor: "#BBBBBB",
			lineThickness: 2,
			lineColor: "#BBBBBB"
		},
		Legend: {
			verticalAlign: "bottom",
			horizontalAlign: "center",
			fontFamily: _utils.isCanvasSupported ? "monospace, sans-serif,arial black" : "calibri"
		},
		DataSeries: {
			//bevelEnabled: true,
			indexLabelFontColor: "grey",
			//indexLabelFontFamily: "Trebuchet MS, monospace, Courier New, Courier",
			indexLabelFontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			//indexLabelFontWeight: "bold",
			indexLabelFontSize: 18,
			//indexLabelLineColor: "lightgrey",
			indexLabelLineThickness: 1
		}
	},

	"theme2": {
		Chart: {
			colorSet: "colorSet2"
		},
		Title: {
			fontFamily: "impact, charcoal, arial black, sans-serif",
			fontSize: 32, //fontColor: "rgb(58,58,58)",
			fontColor: "#333333",
			verticalAlign: "top",
			margin: 5
		},
		Subtitle: {
			fontFamily: "impact, charcoal, arial black, sans-serif",
			fontSize: 14, //fontColor: "rgb(58,58,58)",
			fontColor: "#333333",
			verticalAlign: "top",
			margin: 5
		},
		Axis: {
			titleFontSize: 22,
			titleFontColor: "rgb(98,98,98)",
			//titleFontFamily: "arial black",
			titleFontFamily: _utils.isCanvasSupported ? "monospace, sans-serif,arial black" : "arial",
			titleFontWeight: "bold",

			labelFontFamily: _utils.isCanvasSupported ? "monospace, Courier New, Courier" : "arial",
			//labelFontFamily: "Helvetica Neue, Helvetica",
			labelFontSize: 16,
			labelFontColor: "grey",
			labelFontWeight: "bold",
			tickColor: "grey",
			tickThickness: 2,
			gridThickness: 2,
			gridColor: "grey",
			lineColor: "grey",
			lineThickness: 0
		},
		Legend: {
			verticalAlign: "bottom",
			horizontalAlign: "center",
			fontFamily: _utils.isCanvasSupported ? "monospace, sans-serif,arial black" : "arial"
		},
		DataSeries: {
			indexLabelFontColor: "grey",
			//indexLabelFontFamily: "Trebuchet MS, monospace, Courier New, Courier",
			indexLabelFontFamily: _utils.isCanvasSupported ? "Courier New, Courier, monospace" : "arial",
			indexLabelFontWeight: "bold",
			indexLabelFontSize: 18,
			//indexLabelLineColor: "lightgrey",
			indexLabelLineThickness: 1
		}
	},

	"theme3": {
		Chart: {
			colorSet: "colorSet1"
		},
		Title: {
			fontFamily: _utils.isCanvasSupported ? "Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif" : "calibri",
			fontSize: 32,
			fontColor: "#3A3A3A",
			fontWeight: "bold",
			verticalAlign: "top",
			margin: 5
		},
		Subtitle: {
			fontFamily: _utils.isCanvasSupported ? "Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif" : "calibri",
			fontSize: 16,
			fontColor: "#3A3A3A",
			fontWeight: "bold",
			verticalAlign: "top",
			margin: 5
		},
		Axis: {
			titleFontSize: 22,
			titleFontColor: "rgb(98,98,98)",
			//titleFontFamily: "arial black",
			titleFontFamily: _utils.isCanvasSupported ? "Verdana, Geneva, Calibri, sans-serif" : "calibri",
			//titleFontWeight: "bold",

			//labelFontFamily: "Times New Roman, Times, serif",
			labelFontFamily: _utils.isCanvasSupported ? "Calibri, Optima, Candara, Verdana, Geneva, sans-serif" : "calibri",
			//labelFontFamily: "Helvetica Neue, Helvetica",
			labelFontSize: 18,
			labelFontColor: "grey",
			//labelFontWeight: "bold",
			tickColor: "grey",
			tickThickness: 2,
			gridThickness: 2,
			gridColor: "grey",
			lineThickness: 2,
			lineColor: "grey"
		},
		Legend: {
			verticalAlign: "bottom",
			horizontalAlign: "center",
			fontFamily: _utils.isCanvasSupported ? "monospace, sans-serif,arial black" : "calibri"
		},
		DataSeries: {
			bevelEnabled: true,
			indexLabelFontColor: "grey",
			//indexLabelFontFamily: "Trebuchet MS, monospace, Courier New, Courier",
			indexLabelFontFamily: _utils.isCanvasSupported ? "Candara, Optima, Calibri, Verdana, Geneva, sans-serif" : "calibri",
			//indexLabelFontWeight: "bold",
			indexLabelFontSize: 18,
			indexLabelLineColor: "lightgrey",
			indexLabelLineThickness: 2
		}
	}
};

},{"../helpers/utils":43}],28:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Animator(chart) {

  this.chart = chart;
  this.ctx = this.chart.plotArea.ctx;
  this.animations = [];
  this.animationRequestId = null;
}

//Animator.prototype.animate = function (duration, base, dest, source, animationCallback, onComplete) {
//#region Animator

Animator.prototype.animate = function (startDelay, duration, animationCallback, onComplete, easingFunction) {
  var _this = this;

  this.chart.isAnimating = true;
  easingFunction = easingFunction || _animator2.default.easing.linear;

  if (animationCallback) {

    this.animations.push({
      startTime: new Date().getTime() + (startDelay ? startDelay : 0),
      duration: duration,
      animationCallback: animationCallback,
      onComplete: onComplete
    });
  }

  var remainingAnimations = [];

  while (this.animations.length > 0) {

    var animation = this.animations.shift();
    var now = new Date().getTime();
    var fractionComplete = 0;
    //var fractionComplete = Math.min(((new Date()).getTime() - animation.startTime) / animation.duration, 1);

    if (animation.startTime <= now) {
      fractionComplete = easingFunction(Math.min(now - animation.startTime, animation.duration), 0, 1, animation.duration);
      //var fractionComplete = AnimationHelper.easing.easeOutQuad(Math.min(((new Date()).getTime() - animation.startTime), animation.duration), 0, 1, animation.duration);

      fractionComplete = Math.min(fractionComplete, 1);

      if (isNaN(fractionComplete) || !isFinite(fractionComplete)) fractionComplete = 1;
    }

    if (fractionComplete < 1) {
      remainingAnimations.push(animation);
    }

    animation.animationCallback(fractionComplete);

    if (fractionComplete >= 1 && animation.onComplete) animation.onComplete();
  }

  this.animations = remainingAnimations;

  if (this.animations.length > 0) {
    this.animationRequestId = this.chart.requestAnimFrame.call(window, function () {
      _this.animate.call(_this);
    });
  } else {
    this.chart.isAnimating = false;
  }
};

Animator.prototype.cancelAllAnimations = function () {

  this.animations = [];

  if (this.animationRequestId) {
    this.chart.cancelRequestAnimFrame.call(window, this.animationRequestId);
  }

  this.animationRequestId = null;
  this.chart.isAnimating = false;
};

exports.default = Animator;

},{"../helpers/animator":41}],29:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _text_block = require('./text_block');

var _text_block2 = _interopRequireDefault(_text_block);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Axis(chart, options, type, position) {

	Axis.base.constructor.call(this, "Axis", options, chart.theme);

	this.chart = chart;
	this.canvas = chart.canvas;
	this.ctx = chart.ctx;
	this.maxWidth = 0;
	this.maxHeight = 0;
	this.intervalStartPosition = 0;
	this.labels = [];
	this._labels = null;

	//Processed information about the data that gets plotted against this axis
	this.dataInfo = {
		min: Infinity,
		max: -Infinity,
		viewPortMin: Infinity,
		viewPortMax: -Infinity,
		minDiff: Infinity // Used only in case of axisX
	};

	if (type === "axisX") {
		this.sessionVariables = this.chart.sessionVariables[type];

		if (!this._options.interval) this.intervalType = null;
	} else {
		if (position === "left" || position === "top") this.sessionVariables = this.chart.sessionVariables["axisY"];else {
			this.sessionVariables = this.chart.sessionVariables["axisY2"];
		}
	}

	if (typeof this._options.titleFontSize === "undefined") {

		this.titleFontSize = this.chart.getAutoFontSize(this.titleFontSize);

		//window.console.log("titleFontSize: " + this.titleFontSize);
	}

	if (typeof this._options.labelFontSize === "undefined") {

		this.labelFontSize = this.chart.getAutoFontSize(this.labelFontSize);

		//window.console.log("labelFontSize: " + this.labelFontSize);
	}

	//Axis Type : axisX, axisY
	this.type = type;
	if (type === "axisX" && (!options || typeof options.gridThickness === "undefined")) this.gridThickness = 0;

	this._position = position;

	this.lineCoordinates = {
		x1: null, y1: null, x2: null, y2: null, width: null
	}; //{x1:, y1:, x2:, y2:, width:}
	//
	{
		this.labelAngle = (this.labelAngle % 360 + 360) % 360;

		if (this.labelAngle > 90 && this.labelAngle <= 270) this.labelAngle -= 180;else if (this.labelAngle > 180 && this.labelAngle <= 270) this.labelAngle -= 180;else if (this.labelAngle > 270 && this.labelAngle <= 360) this.labelAngle -= 360;
	}

	if (this._options.stripLines && this._options.stripLines.length > 0) {

		this.stripLines = [];

		for (var i = 0; i < this._options.stripLines.length; i++) {
			this.stripLines.push(new StripLine(this.chart, this._options.stripLines[i], chart.theme, ++this.chart._eventManager.lastObjectId, this));
		}
	}

	this._titleTextBlock = null;

	if (!this.hasOptionChanged("viewportMinimum") && !isNaN(this.sessionVariables.newViewportMinimum) && this.sessionVariables.newViewportMinimum !== null) this.viewportMinimum = this.sessionVariables.newViewportMinimum;else this.sessionVariables.newViewportMinimum = null;

	if (!this.hasOptionChanged("viewportMaximum") && !isNaN(this.sessionVariables.newViewportMaximum) && this.sessionVariables.newViewportMaximum !== null) this.viewportMaximum = this.sessionVariables.newViewportMaximum;else this.sessionVariables.newViewportMaximum = null;

	if (this.minimum !== null && this.viewportMinimum !== null) this.viewportMinimum = Math.max(this.viewportMinimum, this.minimum);

	if (this.maximum !== null && this.viewportMaximum !== null) this.viewportMaximum = Math.min(this.viewportMaximum, this.maximum);

	this.trackChanges("viewportMinimum");
	this.trackChanges("viewportMaximum");
}

(0, _utils.extend)(Axis, _canvasjs2.default);

Axis.prototype.createLabels = function () {

	var textBlock;
	var i = 0;
	var endPoint;

	var labelMaxWidth = 0;
	var labelMaxHeight = 0;
	var intervalInPixels = 0;

	//var intervalInPixels = this.conversionParameters.pixelPerUnit * this.interval;

	if (this._position === "bottom" || this._position === "top") {
		intervalInPixels = this.lineCoordinates.width / Math.abs(this.viewportMaximum - this.viewportMinimum) * this.interval;

		if (this.labelAutoFit) {
			labelMaxWidth = typeof this._options.labelMaxWidth === "undefined" ? intervalInPixels * .9 >> 0 : this.labelMaxWidth;
		} else {
			labelMaxWidth = typeof this._options.labelMaxWidth === "undefined" ? this.chart.width * .7 >> 0 : this.labelMaxWidth;
		}

		labelMaxHeight = typeof this._options.labelWrap === "undefined" || this.labelWrap ? this.chart.height * .5 >> 0 : this.labelFontSize * 1.5;
	} else if (this._position === "left" || this._position === "right") {

		intervalInPixels = this.lineCoordinates.height / Math.abs(this.viewportMaximum - this.viewportMinimum) * this.interval;

		if (this.labelAutoFit) {
			labelMaxWidth = typeof this._options.labelMaxWidth === "undefined" ? this.chart.width * .3 >> 0 : this.labelMaxWidth;
		} else {
			labelMaxWidth = typeof this._options.labelMaxWidth === "undefined" ? this.chart.width * .5 >> 0 : this.labelMaxWidth;
		}

		labelMaxHeight = typeof this._options.labelWrap === "undefined" || this.labelWrap ? intervalInPixels * 2 >> 0 : this.labelFontSize * 1.5;
	}

	if (this.type === "axisX" && this.chart.plotInfo.axisXValueType === "dateTime") {
		endPoint = addToDateTime(new Date(this.viewportMaximum), this.interval, this.intervalType);
		//endPoint = this.viewportMaximum;

		for (i = this.intervalStartPosition; i < endPoint; addToDateTime(i, this.interval, this.intervalType)) {

			//var text = dateFormat(i, this.valueFormatString);
			var timeInMilliseconds = i.getTime();
			var text = this.labelFormatter ? this.labelFormatter({ chart: this.chart, axis: this._options, value: i, label: this.labels[i] ? this.labels[i] : null }) : this.type === "axisX" && this.labels[timeInMilliseconds] ? this.labels[timeInMilliseconds] : dateFormat(i, this.valueFormatString, this.chart._cultureInfo);

			textBlock = new _text_block2.default(this.ctx, {
				x: 0,
				y: 0,
				//maxWidth: this.maxHeight,
				//maxHeight: this.labelFontSize,
				maxWidth: labelMaxWidth,
				maxHeight: labelMaxHeight,
				angle: this.labelAngle,
				text: this.prefix + text + this.suffix,
				horizontalAlign: "left", //left, center, right
				fontSize: this.labelFontSize, //in pixels
				fontFamily: this.labelFontFamily,
				fontWeight: this.labelFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.labelFontColor,
				fontStyle: this.labelFontStyle, // normal, italic, oblique
				textBaseline: "middle"
			});

			this._labels.push({ position: i.getTime(), textBlock: textBlock, effectiveHeight: null });
		}
	} else {
		endPoint = this.viewportMaximum;

		//if ((Math.floor(this.interval) < this.interval && !this._options.interval) || true) {

		//Check if it should be rendered as a category axis. If yes, then ceil the interval
		if (this.labels && this.labels.length) {
			var tempInterval = Math.ceil(this.interval);
			var tempStartPoint = Math.ceil(this.intervalStartPosition);
			var hasAllLabels = false;
			for (i = tempStartPoint; i < this.viewportMaximum; i += tempInterval) {
				if (this.labels[i]) {
					hasAllLabels = true;
				} else {
					hasAllLabels = false;
					break;
				}
			}

			if (hasAllLabels) {
				this.interval = tempInterval;
				this.intervalStartPosition = tempStartPoint;
			}
		}

		//parseFloat & toPrecision are being used to avoid issues related to precision.
		for (i = this.intervalStartPosition; i <= endPoint; i = parseFloat((i + this.interval).toFixed(14))) {

			var text = this.labelFormatter ? this.labelFormatter({ chart: this.chart, axis: this._options, value: i, label: this.labels[i] ? this.labels[i] : null }) : this.type === "axisX" && this.labels[i] ? this.labels[i] : (0, _utils.numberFormat)(i, this.valueFormatString, this.chart._cultureInfo);

			textBlock = new _text_block2.default(this.ctx, {
				x: 0,
				y: 0,
				//maxWidth: this.maxHeight,
				//maxHeight: this.labelFontSize,
				maxWidth: labelMaxWidth,
				maxHeight: labelMaxHeight,
				angle: this.labelAngle,
				text: this.prefix + text + this.suffix,
				horizontalAlign: "left", //left, center, right
				fontSize: this.labelFontSize, //in pixels
				fontFamily: this.labelFontFamily,
				fontWeight: this.labelFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.labelFontColor,
				fontStyle: this.labelFontStyle, // normal, italic, oblique
				textBaseline: "middle",
				borderThickness: 0
			});

			this._labels.push({ position: i, textBlock: textBlock, effectiveHeight: null });
		}
	}

	for (var i = 0; i < this.stripLines.length; i++) {

		var stripLine = this.stripLines[i];

		textBlock = new _text_block2.default(this.ctx, {
			x: 0,
			y: 0,
			//maxWidth: this.maxHeight,
			//maxHeight: this.labelFontSize,
			backgroundColor: stripLine.labelBackgroundColor,
			maxWidth: labelMaxWidth,
			maxHeight: labelMaxHeight,
			angle: this.labelAngle,
			text: stripLine.labelFormatter ? stripLine.labelFormatter({ chart: this.chart, axis: this, stripLine: stripLine }) : stripLine.label,
			horizontalAlign: "left", //left, center, right
			fontSize: stripLine.labelFontSize, //in pixels
			fontFamily: stripLine.labelFontFamily,
			fontWeight: stripLine.labelFontWeight, //normal, bold, bolder, lighter,
			fontColor: stripLine._options.labelFontColor || stripLine.color,
			fontStyle: stripLine.labelFontStyle, // normal, italic, oblique
			textBaseline: "middle",
			borderThickness: 0
		});

		this._labels.push({ position: stripLine.value, textBlock: textBlock, effectiveHeight: null, stripLine: stripLine });
	}
};

Axis.prototype.createLabelsAndCalculateWidth = function () {

	var maxLabelEffectiveWidth = 0;
	this._labels = [];

	if (this._position === "left" || this._position === "right") {

		this.createLabels();

		for (var i = 0; i < this._labels.length; i++) {

			var textBlock = this._labels[i].textBlock;

			var size = textBlock.measureText();

			//var hypotenuse = Math.sqrt(Math.pow(size.height / 2, 2) + Math.pow(size.width, 2));
			//labelEffectiveWidth = hypotenuse * Math.cos(Math.abs(Math.PI / 180 * this.labelAngle) - Math.abs(Math.acos(size.width / hypotenuse)));

			var labelEffectiveWidth = 0;

			if (this.labelAngle === 0) labelEffectiveWidth = size.width;else labelEffectiveWidth = size.width * Math.cos(Math.PI / 180 * Math.abs(this.labelAngle)) + size.height / 2 * Math.sin(Math.PI / 180 * Math.abs(this.labelAngle));

			if (maxLabelEffectiveWidth < labelEffectiveWidth) maxLabelEffectiveWidth = labelEffectiveWidth;

			this._labels[i].effectiveWidth = labelEffectiveWidth;
		}
	}

	var titleHeight = this.title ? getFontHeightInPixels(this.titleFontFamily, this.titleFontSize, this.titleFontWeight) + 2 : 0;

	var axisWidth = titleHeight + maxLabelEffectiveWidth + this.tickLength + 5;

	//if (isDebugMode && window.console) {
	//	window.console.log(this.type + "--- axisWidth: " + axisWidth);
	//}

	return axisWidth;
};

Axis.prototype.createLabelsAndCalculateHeight = function () {
	var maxLabelEffectiveHeight = 0;
	this._labels = [];
	var textBlock;
	var i = 0;

	this.createLabels();

	if (this._position === "bottom" || this._position === "top") {

		for (i = 0; i < this._labels.length; i++) {

			textBlock = this._labels[i].textBlock;

			var size = textBlock.measureText();
			//var diagonal = Math.sqrt(Math.pow(size.height, 2) + Math.pow(size.width, 2));

			//var hypotenuse = Math.sqrt(Math.pow(size.height / 2, 2) + Math.pow(size.width, 2));
			//var labelEffectiveHeight = hypotenuse * Math.cos(Math.PI / 2 - (Math.abs(Math.PI / 180 * this.labelAngle) + Math.abs(Math.acos(size.width / hypotenuse))));

			var labelEffectiveHeight = 0;

			if (this.labelAngle === 0) labelEffectiveHeight = size.height;else labelEffectiveHeight = size.width * Math.sin(Math.PI / 180 * Math.abs(this.labelAngle)) + size.height / 2 * Math.cos(Math.PI / 180 * Math.abs(this.labelAngle));

			if (maxLabelEffectiveHeight < labelEffectiveHeight) maxLabelEffectiveHeight = labelEffectiveHeight;

			this._labels[i].effectiveHeight = labelEffectiveHeight;
		}
	}

	//var titleHeight = this.title ? this.titleFontSize + 5 : 0;
	var titleHeight = this.title ? getFontHeightInPixels(this.titleFontFamily, this.titleFontSize, this.titleFontWeight) + 2 : 0;

	return titleHeight + maxLabelEffectiveHeight + this.tickLength + 5;
};

//Static Method that co-ordinates between axisX, axisY and renders them
Axis.setLayoutAndRender = function (axisX, axisY, axisY2, axisPlacement, freeSpace) {
	var x1, y1, x2, y2;
	var chart = axisX.chart;
	var ctx = chart.ctx;

	axisX.calculateAxisParameters();

	if (axisY) axisY.calculateAxisParameters();

	if (axisY2) axisY2.calculateAxisParameters();

	//if (axisY && axisY2 && typeof (axisY._options.viewportMaximum) === "undefined" && typeof (axisY._options.viewportMinimum) === "undefined" && typeof (axisY._options.interval) === "undefined"
	//		&& typeof (axisY2._options.viewportMaximum) === "undefined" && typeof (axisY2._options.viewportMinimum) === "undefined" && typeof (axisY2._options.interval) === "undefined") {

	//	var noTicksY = (axisY.viewportMaximum - axisY.viewportMinimum) / axisY.interval;

	//	var noTicksY2 = (axisY2.viewportMaximum - axisY2.viewportMinimum) / axisY2.interval;

	//	if (noTicksY > noTicksY2) {
	//		axisY2.viewportMaximum = axisY2.interval * noTicksY + axisY2.viewportMinimum;
	//	} else if (noTicksY2 > noTicksY) {
	//		axisY.viewportMaximum = axisY.interval * noTicksY2 + axisY.viewportMinimum;
	//	}
	//}

	var axisYlineThickness = axisY ? axisY.lineThickness ? axisY.lineThickness : 0 : 0;
	var axisY2lineThickness = axisY2 ? axisY2.lineThickness ? axisY2.lineThickness : 0 : 0;

	var axisYGridThickness = axisY ? axisY.gridThickness ? axisY.gridThickness : 0 : 0;
	var axisY2GridThickness = axisY2 ? axisY2.gridThickness ? axisY2.gridThickness : 0 : 0;

	var axisYMargin = axisY ? axisY.margin : 0;
	var axisY2Margin = axisY ? axisY.margin : 0;

	if (axisPlacement === "normal") {

		axisX.lineCoordinates = {};

		var axisYWidth = Math.ceil(axisY ? axisY.createLabelsAndCalculateWidth() : 0);
		x1 = Math.round(freeSpace.x1 + axisYWidth + axisYMargin);
		axisX.lineCoordinates.x1 = x1;

		var axisY2Width = Math.ceil(axisY2 ? axisY2.createLabelsAndCalculateWidth() : 0);
		x2 = Math.round(freeSpace.x2 - axisY2Width > axisX.chart.width - 10 ? axisX.chart.width - 10 : freeSpace.x2 - axisY2Width);
		axisX.lineCoordinates.x2 = x2;

		axisX.lineCoordinates.width = Math.abs(x2 - x1); // required early on inside createLabels of axisX

		var axisXHeight = Math.ceil(axisX.createLabelsAndCalculateHeight());

		// Position axisX based on the available free space, Margin and its height
		//x1 = freeSpace.x1 + axisYWidth + axisYMargin + axisYlineThickness / 2;
		y1 = Math.round(freeSpace.y2 - axisXHeight - axisX.margin);
		y2 = Math.round(freeSpace.y2 - axisX.margin);

		//axisX.lineCoordinates = { x1: x1, y1: y1, x2: x2, y2: y1, width: Math.abs(x2 - x1) }
		axisX.lineCoordinates.y1 = y1;
		axisX.lineCoordinates.y2 = y1;

		axisX.boundingRect = {
			x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: y2 - y1
		};

		//if (isDebugMode) {
		//	axisX.ctx.rect(axisX.boundingRect.x1, axisX.boundingRect.y1, axisX.boundingRect.width, axisX.boundingRect.height);
		//	axisX.ctx.stroke();
		//}

		// Position axisY based on the available free space, Margin and its height
		if (axisY) {
			x1 = Math.round(freeSpace.x1 + axisY.margin);
			y1 = Math.round(freeSpace.y1 < 10 ? 10 : freeSpace.y1);
			x2 = Math.round(freeSpace.x1 + axisYWidth + axisY.margin);
			//y2 = freeSpace.y2 - axisXHeight - axisX.margin - axisX.lineThickness / 2;
			y2 = Math.round(freeSpace.y2 - axisXHeight - axisX.margin);

			axisY.lineCoordinates = {
				x1: x2, y1: y1, x2: x2, y2: y2, height: Math.abs(y2 - y1)
			};

			axisY.boundingRect = {
				x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: y2 - y1
			};
		}

		//if (isDebugMode && axisY) {
		//	axisY.ctx.rect(axisY.boundingRect.x1, axisY.boundingRect.y1, axisY.boundingRect.width, axisY.boundingRect.height);
		//	axisY.ctx.stroke();
		//}

		// Position axisY2 based on the available free space, Margin and its height
		if (axisY2) {
			x1 = Math.round(axisX.lineCoordinates.x2);
			y1 = Math.round(freeSpace.y1 < 10 ? 10 : freeSpace.y1);
			x2 = Math.round(x1 + axisY2Width + axisY2.margin);
			//y2 = freeSpace.y2 - axisXHeight - axisX.margin - axisX.lineThickness / 2;
			y2 = Math.round(freeSpace.y2 - axisXHeight - axisX.margin);

			axisY2.lineCoordinates = {
				x1: x1, y1: y1, x2: x1, y2: y2, height: Math.abs(y2 - y1)
			};

			axisY2.boundingRect = {
				x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: y2 - y1
			};
		}

		axisX.calculateValueToPixelConversionParameters();

		if (axisY) axisY.calculateValueToPixelConversionParameters();

		if (axisY2) axisY2.calculateValueToPixelConversionParameters();

		ctx.save();
		ctx.rect(5, axisX.boundingRect.y1, axisX.chart.width - 10, axisX.boundingRect.height);
		ctx.clip();

		axisX.renderLabelsTicksAndTitle();
		ctx.restore();

		if (axisY) axisY.renderLabelsTicksAndTitle();

		if (axisY2) axisY2.renderLabelsTicksAndTitle();

		chart.preparePlotArea();
		var plotArea = axisX.chart.plotArea;

		ctx.save();

		ctx.rect(plotArea.x1, plotArea.y1, Math.abs(plotArea.x2 - plotArea.x1), Math.abs(plotArea.y2 - plotArea.y1));

		ctx.clip();

		axisX.renderStripLinesOfThicknessType("value");

		if (axisY) axisY.renderStripLinesOfThicknessType("value");

		if (axisY2) axisY2.renderStripLinesOfThicknessType("value");

		axisX.renderInterlacedColors();

		if (axisY) axisY.renderInterlacedColors();

		if (axisY2) axisY2.renderInterlacedColors();

		ctx.restore();

		axisX.renderGrid();

		if (axisY) axisY.renderGrid();

		if (axisY2) axisY2.renderGrid();

		axisX.renderAxisLine();

		if (axisY) axisY.renderAxisLine();

		if (axisY2) axisY2.renderAxisLine();

		//No need to clip to plotArea because stripLines need to render on top of gridlines
		axisX.renderStripLinesOfThicknessType("pixel");

		if (axisY) axisY.renderStripLinesOfThicknessType("pixel");

		if (axisY2) axisY2.renderStripLinesOfThicknessType("pixel");
	} else {
		var axisXWidth = Math.ceil(axisX.createLabelsAndCalculateWidth());

		if (axisY) {
			axisY.lineCoordinates = {};

			x1 = Math.round(freeSpace.x1 + axisXWidth + axisX.margin);
			x2 = Math.round(freeSpace.x2 > axisY.chart.width - 10 ? axisY.chart.width - 10 : freeSpace.x2);

			axisY.lineCoordinates.x1 = x1;
			axisY.lineCoordinates.x2 = x2;
			axisY.lineCoordinates.width = Math.abs(x2 - x1);
		}

		if (axisY2) {
			axisY2.lineCoordinates = {};
			x1 = Math.round(freeSpace.x1 + axisXWidth + axisX.margin);
			x2 = Math.round(freeSpace.x2 > axisY2.chart.width - 10 ? axisY2.chart.width - 10 : freeSpace.x2);

			axisY2.lineCoordinates.x1 = x1;
			axisY2.lineCoordinates.x2 = x2;
			axisY2.lineCoordinates.width = Math.abs(x2 - x1);
		}

		var axisYHeight = Math.ceil(axisY ? axisY.createLabelsAndCalculateHeight() : 0);
		var axisY2Height = Math.ceil(axisY2 ? axisY2.createLabelsAndCalculateHeight() : 0);

		// Position axisY based on the available free space, Margin and its height
		if (axisY) {
			//x1 = freeSpace.x1 + axisXWidth + axisX.margin + axisX.lineThickness / 2;
			//x2 = freeSpace.x2 > axisY.chart.width - 10 ? axisY.chart.width - 10 : freeSpace.x2;

			y1 = Math.round(freeSpace.y2 - axisYHeight - axisY.margin);
			y2 = Math.round(freeSpace.y2 - axisYMargin > axisY.chart.height - 10 ? axisY.chart.height - 10 : freeSpace.y2 - axisYMargin);

			//axisY.lineCoordinates = { x1: x1, y1: y1, x2: x2, y2: y1, width: Math.abs(x2 - x1) }
			axisY.lineCoordinates.y1 = y1;
			axisY.lineCoordinates.y2 = y1;

			axisY.boundingRect = {
				x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: axisYHeight
			};
		}

		// Position axisY based on the available free space, Margin and its height
		if (axisY2) {
			//x1 = freeSpace.x1 + axisXWidth + axisX.margin + axisX.lineThickness / 2;
			//x2 = freeSpace.x2 > axisY2.chart.width - 10 ? axisY2.chart.width - 10 : freeSpace.x2;

			y1 = Math.round(freeSpace.y1 + axisY2.margin);
			y2 = freeSpace.y1 + axisY2.margin + axisY2Height;

			//axisY2.lineCoordinates = { x1: x1, y1: y2, x2: x2, y2: y2, width: Math.abs(x2 - x1) }
			axisY2.lineCoordinates.y1 = y2;
			axisY2.lineCoordinates.y2 = y2;

			axisY2.boundingRect = {
				x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: axisY2Height
			};
		}

		//axisY.ctx.rect(axisY.boundingRect.x1, axisY.boundingRect.y1, axisY.boundingRect.width, axisY.boundingRect.height);
		//axisY.ctx.stroke();

		// Position axisX based on the available free space, Margin and its height
		x1 = Math.round(freeSpace.x1 + axisX.margin);
		y1 = Math.round(axisY2 ? axisY2.lineCoordinates.y2 : freeSpace.y1 < 10 ? 10 : freeSpace.y1);
		x2 = Math.round(freeSpace.x1 + axisXWidth + axisX.margin);
		y2 = Math.round(axisY ? axisY.lineCoordinates.y1 : freeSpace.y2 - axisYMargin > axisX.chart.height - 10 ? axisX.chart.height - 10 : freeSpace.y2 - axisYMargin);

		axisX.lineCoordinates = {
			x1: x2, y1: y1, x2: x2, y2: y2, height: Math.abs(y2 - y1)
		};

		axisX.boundingRect = {
			x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: y2 - y1
		};

		//axisX.ctx.rect(axisX.boundingRect.x1, axisX.boundingRect.y1, axisX.boundingRect.width, axisX.boundingRect.height);
		//axisX.ctx.stroke();

		axisX.calculateValueToPixelConversionParameters();

		if (axisY) axisY.calculateValueToPixelConversionParameters();
		if (axisY2) axisY2.calculateValueToPixelConversionParameters();

		//ctx.save();
		//ctx.rect(axisY.boundingRect.x1 - 30, axisY.boundingRect.y1, axisY.boundingRect.width + 60, axisY.boundingRect.height);
		//ctx.clip();

		if (axisY) axisY.renderLabelsTicksAndTitle();

		if (axisY2) axisY2.renderLabelsTicksAndTitle();

		//ctx.restore();

		axisX.renderLabelsTicksAndTitle();

		chart.preparePlotArea();
		var plotArea = axisX.chart.plotArea;

		ctx.save();
		ctx.rect(plotArea.x1, plotArea.y1, Math.abs(plotArea.x2 - plotArea.x1), Math.abs(plotArea.y2 - plotArea.y1));

		ctx.clip();

		//No need to clip to plotArea because stripLines need to render on top of gridlines
		axisX.renderStripLinesOfThicknessType("value");

		if (axisY) axisY.renderStripLinesOfThicknessType("value");
		if (axisY2) axisY2.renderStripLinesOfThicknessType("value");

		axisX.renderInterlacedColors();

		if (axisY) axisY.renderInterlacedColors();
		if (axisY2) axisY2.renderInterlacedColors();

		ctx.restore();

		axisX.renderGrid();

		if (axisY) axisY.renderGrid();

		if (axisY2) axisY2.renderGrid();

		axisX.renderAxisLine();

		if (axisY) axisY.renderAxisLine();

		if (axisY2) axisY2.renderAxisLine();

		axisX.renderStripLinesOfThicknessType("pixel");

		if (axisY) axisY.renderStripLinesOfThicknessType("pixel");
		if (axisY2) axisY2.renderStripLinesOfThicknessType("pixel");
	}
};

Axis.prototype.renderLabelsTicksAndTitle = function () {

	var skipLabels = false;
	var totalLabelWidth = 0;
	var thresholdRatio = 1;
	var labelCount = 0;

	var intervalInPixels = this.conversionParameters.pixelPerUnit * this.interval;

	if (this.labelAngle !== 0 && this.labelAngle !== 360) thresholdRatio = 1.2;

	//Don't skip labels when interval is explicitely set
	if (typeof this._options.interval === "undefined") {
		if (this._position === "bottom" || this._position === "top") {

			//thresholdRatio = .9;// More space is preferred between labels when axis is horizontally aligned

			for (i = 0; i < this._labels.length; i++) {
				label = this._labels[i];
				if (label.position < this.viewportMinimum || label.stripLine) // don't consider stripLine's lable
					continue;

				var width = label.textBlock.width * Math.cos(Math.PI / 180 * this.labelAngle) + label.textBlock.height * Math.sin(Math.PI / 180 * this.labelAngle);

				totalLabelWidth += width;
			}

			if (totalLabelWidth > this.lineCoordinates.width * thresholdRatio) {
				skipLabels = true;
			}
		}if (this._position === "left" || this._position === "right") {
			for (i = 0; i < this._labels.length; i++) {
				label = this._labels[i];
				if (label.position < this.viewportMinimum || label.stripLine) // don't consider stripLine's lable
					continue;

				var width = label.textBlock.height * Math.cos(Math.PI / 180 * this.labelAngle) + label.textBlock.width * Math.sin(Math.PI / 180 * this.labelAngle);

				totalLabelWidth += width;
			}

			if (totalLabelWidth > this.lineCoordinates.height * thresholdRatio) {
				skipLabels = true;
			}
		}
	}

	if (this._position === "bottom") {
		var i = 0;

		var label;
		var xy;

		for (i = 0; i < this._labels.length; i++) {

			label = this._labels[i];
			if (label.position < this.viewportMinimum || label.position > this.viewportMaximum) continue;

			xy = this.getPixelCoordinatesOnAxis(label.position);

			if (this.tickThickness && !this._labels[i].stripLine || this._labels[i].stripLine && this._labels[i].stripLine._thicknessType === "pixel") {

				if (this._labels[i].stripLine) {
					stripLine = this._labels[i].stripLine;
					this.ctx.lineWidth = stripLine.thickness;
					this.ctx.strokeStyle = stripLine.color;
				} else {
					this.ctx.lineWidth = this.tickThickness;
					this.ctx.strokeStyle = this.tickColor;
				}

				var tickX = this.ctx.lineWidth % 2 === 1 ? (xy.x << 0) + .5 : xy.x << 0;
				this.ctx.beginPath();
				this.ctx.moveTo(tickX, xy.y << 0);
				this.ctx.lineTo(tickX, xy.y + this.tickLength << 0);
				this.ctx.stroke();
			}

			//Don't skip stripLine's labels
			if (skipLabels && labelCount++ % 2 !== 0 && !this._labels[i].stripLine) continue;

			if (label.textBlock.angle === 0) {
				xy.x -= label.textBlock.width / 2;
				//xy.y += this.tickLength + label.textBlock.height / 2;
				xy.y += this.tickLength + label.textBlock.fontSize / 2;
			} else {
				xy.x -= this.labelAngle < 0 ? label.textBlock.width * Math.cos(Math.PI / 180 * this.labelAngle) : 0;
				xy.y += this.tickLength + Math.abs(this.labelAngle < 0 ? label.textBlock.width * Math.sin(Math.PI / 180 * this.labelAngle) - 5 : 5);
			}
			label.textBlock.x = xy.x;
			label.textBlock.y = xy.y;

			label.textBlock.render(true);
		}

		if (this.title) {

			this._titleTextBlock = new _text_block2.default(this.ctx, {
				x: this.lineCoordinates.x1, // This is recalculated again
				y: this.boundingRect.y2 - this.titleFontSize - 5, // This is recalculated again
				maxWidth: this.lineCoordinates.width,
				maxHeight: this.titleFontSize * 1.5,
				angle: 0,
				text: this.title,
				horizontalAlign: "center", //left, center, right
				fontSize: this.titleFontSize, //in pixels
				fontFamily: this.titleFontFamily,
				fontWeight: this.titleFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.titleFontColor,
				fontStyle: this.titleFontStyle, // normal, italic, oblique
				textBaseline: "top"
			});

			this._titleTextBlock.measureText();
			this._titleTextBlock.x = this.lineCoordinates.x1 + this.lineCoordinates.width / 2 - this._titleTextBlock.width / 2;
			this._titleTextBlock.y = this.boundingRect.y2 - this._titleTextBlock.height - 3;
			this._titleTextBlock.render(true);
		}
	} else if (this._position === "top") {
		var i = 0;

		var label;
		var xy;
		var stripLine;

		for (i = 0; i < this._labels.length; i++) {
			label = this._labels[i];
			if (label.position < this.viewportMinimum || label.position > this.viewportMaximum) continue;

			xy = this.getPixelCoordinatesOnAxis(label.position);

			if (this.tickThickness && !this._labels[i].stripLine || this._labels[i].stripLine && this._labels[i].stripLine._thicknessType === "pixel") {

				if (this._labels[i].stripLine) {
					stripLine = this._labels[i].stripLine;

					this.ctx.lineWidth = stripLine.thickness;
					this.ctx.strokeStyle = stripLine.color;
				} else {
					this.ctx.lineWidth = this.tickThickness;
					this.ctx.strokeStyle = this.tickColor;
				}

				var tickX = this.ctx.lineWidth % 2 === 1 ? (xy.x << 0) + .5 : xy.x << 0;
				this.ctx.beginPath();
				this.ctx.moveTo(tickX, xy.y << 0);
				this.ctx.lineTo(tickX, xy.y - this.tickLength << 0);
				this.ctx.stroke();
			}

			//Don't skip stripLine's labels
			if (skipLabels && labelCount++ % 2 !== 0 && !this._labels[i].stripLine) continue;

			if (label.textBlock.angle === 0) {
				xy.x -= label.textBlock.width / 2;
				xy.y -= this.tickLength + label.textBlock.height / 2;
			} else {
				xy.x -= this.labelAngle > 0 ? label.textBlock.width * Math.cos(Math.PI / 180 * this.labelAngle) : 0;
				xy.y -= this.tickLength + Math.abs(this.labelAngle > 0 ? label.textBlock.width * Math.sin(Math.PI / 180 * this.labelAngle) + 5 : 5);
			}
			label.textBlock.x = xy.x;
			label.textBlock.y = xy.y;

			label.textBlock.render(true);
		}

		if (this.title) {

			this._titleTextBlock = new _text_block2.default(this.ctx, {
				x: this.lineCoordinates.x1, // This is recalculated again
				y: this.boundingRect.y1 + 1,
				maxWidth: this.lineCoordinates.width,
				maxHeight: this.titleFontSize * 1.5,
				angle: 0,
				text: this.title,
				horizontalAlign: "center", //left, center, right
				fontSize: this.titleFontSize, //in pixels
				fontFamily: this.titleFontFamily,
				fontWeight: this.titleFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.titleFontColor,
				fontStyle: this.titleFontStyle, // normal, italic, oblique
				textBaseline: "top"
			});

			this._titleTextBlock.measureText();
			this._titleTextBlock.x = this.lineCoordinates.x1 + this.lineCoordinates.width / 2 - this._titleTextBlock.width / 2;
			this._titleTextBlock.render(true);
		}
	} else if (this._position === "left") {

		var label;
		var xy;
		for (var i = 0; i < this._labels.length; i++) {
			label = this._labels[i];
			if (label.position < this.viewportMinimum || label.position > this.viewportMaximum) continue;

			xy = this.getPixelCoordinatesOnAxis(label.position);

			if (this.tickThickness && !this._labels[i].stripLine || this._labels[i].stripLine && this._labels[i].stripLine._thicknessType === "pixel") {

				if (this._labels[i].stripLine) {
					stripLine = this._labels[i].stripLine;

					this.ctx.lineWidth = stripLine.thickness;
					this.ctx.strokeStyle = stripLine.color;
				} else {
					this.ctx.lineWidth = this.tickThickness;
					this.ctx.strokeStyle = this.tickColor;
				}

				var tickY = this.ctx.lineWidth % 2 === 1 ? (xy.y << 0) + .5 : xy.y << 0;
				this.ctx.beginPath();
				this.ctx.moveTo(xy.x << 0, tickY);
				this.ctx.lineTo(xy.x - this.tickLength << 0, tickY);
				this.ctx.stroke();
			}

			//Don't skip stripLine's labels
			if (skipLabels && labelCount++ % 2 !== 0 && !this._labels[i].stripLine) continue;

			label.textBlock.x = xy.x - label.textBlock.width * Math.cos(Math.PI / 180 * this.labelAngle) - this.tickLength - 5;

			if (this.labelAngle === 0) {
				label.textBlock.y = xy.y;
			} else label.textBlock.y = xy.y - label.textBlock.width * Math.sin(Math.PI / 180 * this.labelAngle);

			label.textBlock.render(true);
		}

		if (this.title) {

			this._titleTextBlock = new _text_block2.default(this.ctx, {
				x: this.boundingRect.x1 + 1,
				y: this.lineCoordinates.y2,
				maxWidth: this.lineCoordinates.height,
				maxHeight: this.titleFontSize * 1.5,
				angle: -90,
				text: this.title,
				horizontalAlign: "center", //left, center, right
				fontSize: this.titleFontSize, //in pixels
				fontFamily: this.titleFontFamily,
				fontWeight: this.titleFontWeight, //normal, bold, bolder, lighter,
				fontColor: this.titleFontColor,
				fontStyle: this.titleFontStyle, // normal, italic, oblique
				textBaseline: "top"
			});

			var size = this._titleTextBlock.measureText();

			//this._titleTextBlock.x -= 4;

			this._titleTextBlock.y = this.lineCoordinates.height / 2 + this._titleTextBlock.width / 2 + this.lineCoordinates.y1;
			this._titleTextBlock.render(true);

			//if (isDebugMode) {
			//	window.console.log("titleFontSize: " + this.titleFontSize + "; width: " + size.width + "; height: " + size.height);
			//	window.console.log("this.boundingRect.x1: " + this.boundingRect.x1);

			//	//this.ctx.rect(this._titleTextBlock.x, this._titleTextBlock.y, this._titleTextBlock.height, -this._titleTextBlock.width);
			//	//this.ctx.stroke();

			//}
		}
	} else if (this._position === "right") {

			var label;
			var xy;

			for (var i = 0; i < this._labels.length; i++) {
				label = this._labels[i];
				if (label.position < this.viewportMinimum || label.position > this.viewportMaximum) continue;

				xy = this.getPixelCoordinatesOnAxis(label.position);

				if (this.tickThickness && !this._labels[i].stripLine || this._labels[i].stripLine && this._labels[i].stripLine._thicknessType === "pixel") {

					if (this._labels[i].stripLine) {
						stripLine = this._labels[i].stripLine;

						this.ctx.lineWidth = stripLine.thickness;
						this.ctx.strokeStyle = stripLine.color;
					} else {
						this.ctx.lineWidth = this.tickThickness;
						this.ctx.strokeStyle = this.tickColor;
					}

					var tickY = this.ctx.lineWidth % 2 === 1 ? (xy.y << 0) + .5 : xy.y << 0;
					this.ctx.beginPath();
					this.ctx.moveTo(xy.x << 0, tickY);
					this.ctx.lineTo(xy.x + this.tickLength << 0, tickY);
					this.ctx.stroke();
				}

				//Don't skip stripLine's labels
				if (skipLabels && labelCount++ % 2 !== 0 && !this._labels[i].stripLine) continue;

				label.textBlock.x = xy.x + this.tickLength + 5;
				//label.textBlock.y = xy.y - (label.textBlock.width * Math.sin(Math.PI / 180 * this.labelAngle));
				if (this.labelAngle === 0) {
					label.textBlock.y = xy.y;
				} else label.textBlock.y = xy.y;

				label.textBlock.render(true);
			}

			if (this.title) {

				this._titleTextBlock = new _text_block2.default(this.ctx, {
					x: this.boundingRect.x2 - 1,
					y: this.lineCoordinates.y2,
					maxWidth: this.lineCoordinates.height,
					maxHeight: this.titleFontSize * 1.5,
					angle: 90,
					text: this.title,
					horizontalAlign: "center", //left, center, right
					fontSize: this.titleFontSize, //in pixels
					fontFamily: this.titleFontFamily,
					fontWeight: this.titleFontWeight, //normal, bold, bolder, lighter,
					fontColor: this.titleFontColor,
					fontStyle: this.titleFontStyle, // normal, italic, oblique
					textBaseline: "top"
				});

				this._titleTextBlock.measureText();
				this._titleTextBlock.y = this.lineCoordinates.height / 2 - this._titleTextBlock.width / 2 + this.lineCoordinates.y1;
				this._titleTextBlock.render(true);
			}
		}
};

Axis.prototype.renderInterlacedColors = function () {
	var ctx = this.chart.plotArea.ctx;
	//return;

	var interlacedGridStartPoint;
	var interlacedGridEndPoint;
	var plotAreaCoordinates = this.chart.plotArea;
	var i = 0,
	    renderInterlacedGrid = true;

	if ((this._position === "bottom" || this._position === "top") && this.interlacedColor) {

		ctx.fillStyle = this.interlacedColor;

		for (i = 0; i < this._labels.length; i++) {

			if (this._labels[i].stripLine) continue;

			if (renderInterlacedGrid) {
				//So that the interlaced color alternates
				interlacedGridStartPoint = this.getPixelCoordinatesOnAxis(this._labels[i].position);

				if (i + 1 >= this._labels.length - 1) interlacedGridEndPoint = this.getPixelCoordinatesOnAxis(this.viewportMaximum);else interlacedGridEndPoint = this.getPixelCoordinatesOnAxis(this._labels[i + 1].position);

				ctx.fillRect(interlacedGridStartPoint.x, plotAreaCoordinates.y1, Math.abs(interlacedGridEndPoint.x - interlacedGridStartPoint.x), Math.abs(plotAreaCoordinates.y1 - plotAreaCoordinates.y2));
				renderInterlacedGrid = false;
			} else renderInterlacedGrid = true;
		}
	} else if ((this._position === "left" || this._position === "right") && this.interlacedColor) {

		ctx.fillStyle = this.interlacedColor;

		for (i = 0; i < this._labels.length; i++) {
			if (this._labels[i].stripLine) continue;

			if (renderInterlacedGrid) {
				//So that the interlaced color alternates

				interlacedGridEndPoint = this.getPixelCoordinatesOnAxis(this._labels[i].position);

				if (i + 1 >= this._labels.length - 1) interlacedGridStartPoint = this.getPixelCoordinatesOnAxis(this.viewportMaximum);else interlacedGridStartPoint = this.getPixelCoordinatesOnAxis(this._labels[i + 1].position);

				ctx.fillRect(plotAreaCoordinates.x1, interlacedGridStartPoint.y, Math.abs(plotAreaCoordinates.x1 - plotAreaCoordinates.x2), Math.abs(interlacedGridStartPoint.y - interlacedGridEndPoint.y));
				renderInterlacedGrid = false;
			} else renderInterlacedGrid = true;
		}
		//throw "123";
	}

	ctx.beginPath();
};

//Renders stripLines of given thickness type.
Axis.prototype.renderStripLinesOfThicknessType = function (thicknessType) {

	if (!(this.stripLines && this.stripLines.length > 0) || !thicknessType) return;

	var _this = this;

	var i = 0;
	for (i = 0; i < this.stripLines.length; i++) {

		var stripLine = this.stripLines[i];

		if (stripLine._thicknessType !== thicknessType) continue;

		//Should be skipped only if thicknessType is "pixel". If it is "value" then clipping is automatically applied before calling.
		if (thicknessType === "pixel" && (stripLine.value < this.viewportMinimum || stripLine.value > this.viewportMaximum)) continue;

		if (stripLine.showOnTop) {
			this.chart.addEventListener("dataAnimationIterationEnd", stripLine.render, stripLine);
		} else stripLine.render();
	}
};

Axis.prototype.renderGrid = function () {

	if (!(this.gridThickness && this.gridThickness > 0)) return;

	//var ctx = this.chart.plotArea.ctx;
	var ctx = this.chart.ctx;

	var xy;
	var plotAreaCoordinates = this.chart.plotArea;
	var stripLine;
	var tempLineWidth, tempStrokeStyle;
	//return;

	ctx.lineWidth = this.gridThickness;
	ctx.strokeStyle = this.gridColor;

	if (ctx.setLineDash) {
		ctx.setLineDash((0, _utils.getLineDashArray)(this.gridDashType, this.gridThickness));
	}

	if (this._position === "bottom" || this._position === "top") {

		for (i = 0; i < this._labels.length && !this._labels[i].stripLine; i++) {

			if (this._labels[i].position < this.viewportMinimum || this._labels[i].position > this.viewportMaximum) continue;

			ctx.beginPath();

			xy = this.getPixelCoordinatesOnAxis(this._labels[i].position);

			var gridX = ctx.lineWidth % 2 === 1 ? (xy.x << 0) + .5 : xy.x << 0;

			ctx.moveTo(gridX, plotAreaCoordinates.y1 << 0);
			ctx.lineTo(gridX, plotAreaCoordinates.y2 << 0);

			ctx.stroke();
		}
	} else if (this._position === "left" || this._position === "right") {

		for (var i = 0; i < this._labels.length && !this._labels[i].stripLine; i++) {

			if (i === 0 && this.type === "axisY" && this.chart.axisX && this.chart.axisX.lineThickness) continue;

			if (this._labels[i].position < this.viewportMinimum || this._labels[i].position > this.viewportMaximum) continue;

			ctx.beginPath();

			xy = this.getPixelCoordinatesOnAxis(this._labels[i].position);

			var gridY = ctx.lineWidth % 2 === 1 ? (xy.y << 0) + .5 : xy.y << 0;

			ctx.moveTo(plotAreaCoordinates.x1 << 0, gridY);
			ctx.lineTo(plotAreaCoordinates.x2 << 0, gridY);

			ctx.stroke();
		}
	}
};

Axis.prototype.renderAxisLine = function () {
	//var ctx = this.chart.plotArea.ctx;
	var ctx = this.chart.ctx;

	if (this._position === "bottom" || this._position === "top") {
		if (this.lineThickness) {
			ctx.lineWidth = this.lineThickness;
			ctx.strokeStyle = this.lineColor ? this.lineColor : "black";

			if (ctx.setLineDash) {
				ctx.setLineDash((0, _utils.getLineDashArray)(this.lineDashType, this.lineThickness));
			}

			var lineY = this.lineThickness % 2 === 1 ? (this.lineCoordinates.y1 << 0) + .5 : this.lineCoordinates.y1 << 0;

			ctx.beginPath();
			ctx.moveTo(this.lineCoordinates.x1, lineY);
			ctx.lineTo(this.lineCoordinates.x2, lineY);
			ctx.stroke();
		}
	} else if (this._position === "left" || this._position === "right") {
		if (this.lineThickness) {
			ctx.lineWidth = this.lineThickness;
			ctx.strokeStyle = this.lineColor;

			if (ctx.setLineDash) {
				ctx.setLineDash((0, _utils.getLineDashArray)(this.lineDashType, this.lineThickness));
			}

			var lineX = this.lineThickness % 2 === 1 ? (this.lineCoordinates.x1 << 0) + .5 : this.lineCoordinates.x1 << 0;

			ctx.beginPath();
			ctx.moveTo(lineX, this.lineCoordinates.y1);
			ctx.lineTo(lineX, this.lineCoordinates.y2);
			ctx.stroke();
		}
	}
};

Axis.prototype.getPixelCoordinatesOnAxis = function (value) {
	var xy = {};
	var width = this.lineCoordinates.width;
	var height = this.lineCoordinates.height;

	if (this._position === "bottom" || this._position === "top") {
		//var pixelPerUnit = width / Math.abs(this.viewportMaximum - this.viewportMinimum);
		var pixelPerUnit = this.conversionParameters.pixelPerUnit;

		//xy.x = this.lineCoordinates.x1 + (pixelPerUnit * (value - this.viewportMinimum));
		xy.x = this.conversionParameters.reference + pixelPerUnit * (value - this.viewportMinimum);
		xy.y = this.lineCoordinates.y1;
	}
	if (this._position === "left" || this._position === "right") {
		//var pixelPerUnit = height / Math.abs(this.viewportMaximum - this.viewportMinimum);
		var pixelPerUnit = -this.conversionParameters.pixelPerUnit;

		//xy.y = this.lineCoordinates.y2 - (pixelPerUnit * (value - this.viewportMinimum));
		xy.y = this.conversionParameters.reference - pixelPerUnit * (value - this.viewportMinimum);
		xy.x = this.lineCoordinates.x2;
	}

	return xy;
};

Axis.prototype.convertPixelToValue = function (pixel) {

	if (!pixel) return null;

	var value = 0;
	var p = this._position === "left" || this._position === "right" ? pixel.y : pixel.x;

	value = this.conversionParameters.minimum + (p - this.conversionParameters.reference) / this.conversionParameters.pixelPerUnit;

	return value;
};

Axis.prototype.setViewPortRange = function (viewportMinimum, viewportMaximum) {

	this.sessionVariables.newViewportMinimum = this.viewportMinimum = Math.min(viewportMinimum, viewportMaximum);
	this.sessionVariables.newViewportMaximum = this.viewportMaximum = Math.max(viewportMinimum, viewportMaximum);
};

Axis.prototype.getXValueAt = function (pixel) {
	if (!pixel) return null;

	var xval = null;

	if (this._position === "left") {
		xval = (this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum) / this.chart.axisX.lineCoordinates.height * (this.chart.axisX.lineCoordinates.y2 - pixel.y) + this.chart.axisX.viewportMinimum;
	} else if (this._position === "bottom") {
		xval = (this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum) / this.chart.axisX.lineCoordinates.width * (pixel.x - this.chart.axisX.lineCoordinates.x1) + this.chart.axisX.viewportMinimum;
	}

	return xval;
};

Axis.prototype.calculateValueToPixelConversionParameters = function (value) {
	this.reversed = false;

	var conversionParameters = {
		pixelPerUnit: null, minimum: null, reference: null
	};

	var width = this.lineCoordinates.width;
	var height = this.lineCoordinates.height;

	conversionParameters.minimum = this.viewportMinimum;

	if (this._position === "bottom" || this._position === "top") {
		conversionParameters.pixelPerUnit = (this.reversed ? -1 : 1) * width / Math.abs(this.viewportMaximum - this.viewportMinimum);
		conversionParameters.reference = this.reversed ? this.lineCoordinates.x2 : this.lineCoordinates.x1;
	}

	if (this._position === "left" || this._position === "right") {
		conversionParameters.pixelPerUnit = (this.reversed ? 1 : -1) * height / Math.abs(this.viewportMaximum - this.viewportMinimum);
		conversionParameters.reference = this.reversed ? this.lineCoordinates.y1 : this.lineCoordinates.y2;
	}

	this.conversionParameters = conversionParameters;
};

Axis.prototype.calculateAxisParameters = function () {

	var freeSpace = this.chart.layoutManager.getFreeSpace();
	var availableWidth = 0;
	var availableHeight = 0;
	var isLessThanTwoDataPoints = false;

	if (this._position === "bottom" || this._position === "top") {
		this.maxWidth = freeSpace.width;
		this.maxHeight = freeSpace.height;
	} else {
		this.maxWidth = freeSpace.height;
		this.maxHeight = freeSpace.width;
	}

	var noTicks = this.type === "axisX" ? this.maxWidth < 500 ? 8 : Math.max(6, Math.floor(this.maxWidth / 62)) : Math.max(Math.floor(this.maxWidth / 40), 2);
	var min, max;
	var minDiff;
	var range;
	var rangePadding = 0;

	if (this.viewportMinimum === null || isNaN(this.viewportMinimum)) this.viewportMinimum = this.minimum;

	if (this.viewportMaximum === null || isNaN(this.viewportMaximum)) this.viewportMaximum = this.maximum;

	if (this.type === "axisX") {
		min = this.viewportMinimum !== null ? this.viewportMinimum : this.dataInfo.viewPortMin;
		max = this.viewportMaximum !== null ? this.viewportMaximum : this.dataInfo.viewPortMax;

		if (max - min === 0) {
			rangePadding = typeof this._options.interval === "undefined" ? .4 : this._options.interval;

			max += rangePadding;
			min -= rangePadding;
		}

		if (this.dataInfo.minDiff !== Infinity) minDiff = this.dataInfo.minDiff;else if (max - min > 1) {
			minDiff = Math.abs(max - min) * .5;
		} else {
			minDiff = 1;

			if (this.chart.plotInfo.axisXValueType === "dateTime") isLessThanTwoDataPoints = true;
		}
	} else if (this.type === "axisY") {

		//min = typeof (this._options.viewportMinimum) === "undefined" || this._options.viewportMinimum === null ? this.dataInfo.viewPortMin : this._options.viewportMinimum;
		//max = typeof (this._options.viewportMaximum) === "undefined" || this._options.viewportMaximum === null ? this.dataInfo.viewPortMax : this._options.viewportMaximum;
		min = this.viewportMinimum !== null ? this.viewportMinimum : this.dataInfo.viewPortMin;
		max = this.viewportMaximum !== null ? this.viewportMaximum : this.dataInfo.viewPortMax;

		if (!isFinite(min) && !isFinite(max)) {
			max = typeof this._options.interval === "undefined" ? -Infinity : this._options.interval;
			min = 0;
		} else if (!isFinite(min)) {
			min = max;
		} else if (!isFinite(max)) {
			max = min;
		}

		if (min === 0 && max === 0) {
			// When all dataPoints are zero
			max += 9;
			min = 0;
		} else if (max - min === 0) {
			// When there is only a single dataPoint or when all dataPoints have same Y Value
			rangePadding = Math.min(Math.abs(Math.abs(max) * .01), 5);
			max += rangePadding;
			min -= rangePadding;
		} else if (min > max) {
			rangePadding = Math.min(Math.abs(Math.abs(max - min) * .01), 5);

			if (max >= 0) min = max - rangePadding;else max = min + rangePadding;
		} else {

			rangePadding = Math.min(Math.abs(Math.abs(max - min) * .01), .05);

			if (max !== 0) max += rangePadding;
			if (min !== 0) min -= rangePadding;
		}

		if (this.dataInfo.minDiff !== Infinity) minDiff = this.dataInfo.minDiff;else if (max - min > 1) {
			minDiff = Math.abs(max - min) * .5;
		} else {
			minDiff = 1;
		}

		//Apply includeZero
		if (this.includeZero && (this.viewportMinimum === null || isNaN(this.viewportMinimum))) {
			if (min > 0) min = 0;
		}
		if (this.includeZero && (this.viewportMaximum === null || isNaN(this.viewportMaximum))) {
			if (max < 0) max = 0;
		}
	}

	range = (isNaN(this.viewportMaximum) || this.viewportMaximum === null ? max : this.viewportMaximum) - (isNaN(this.viewportMinimum) || this.viewportMinimum === null ? min : this.viewportMinimum);

	if (this.type === "axisX" && this.chart.plotInfo.axisXValueType === "dateTime") {

		if (!this.intervalType) {

			if (range / (1 * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "millisecond";
			} else if (range / (1 * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "millisecond";
			} else if (range / (1 * 5) <= noTicks) {
				this.interval = 5;
				this.intervalType = "millisecond";
			} else if (range / (1 * 10) <= noTicks) {
				this.interval = 10;
				this.intervalType = "millisecond";
			} else if (range / (1 * 20) <= noTicks) {
				this.interval = 20;
				this.intervalType = "millisecond";
			} else if (range / (1 * 50) <= noTicks) {
				this.interval = 50;
				this.intervalType = "millisecond";
			} else if (range / (1 * 100) <= noTicks) {
				this.interval = 100;
				this.intervalType = "millisecond";
			} else if (range / (1 * 200) <= noTicks) {
				this.interval = 200;
				this.intervalType = "millisecond";
			} else if (range / (1 * 250) <= noTicks) {
				this.interval = 250;
				this.intervalType = "millisecond";
			} else if (range / (1 * 300) <= noTicks) {
				this.interval = 300;
				this.intervalType = "millisecond";
			} else if (range / (1 * 400) <= noTicks) {
				this.interval = 400;
				this.intervalType = "millisecond";
			} else if (range / (1 * 500) <= noTicks) {
				this.interval = 500;
				this.intervalType = "millisecond";
			} else if (range / (constants.secondDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 5) <= noTicks) {
				this.interval = 5;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 10) <= noTicks) {
				this.interval = 10;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 15) <= noTicks) {
				this.interval = 15;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 20) <= noTicks) {
				this.interval = 20;
				this.intervalType = "second";
			} else if (range / (constants.secondDuration * 30) <= noTicks) {
				this.interval = 30;
				this.intervalType = "second";
			} else if (range / (constants.minuteDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 5) <= noTicks) {
				this.interval = 5;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 10) <= noTicks) {
				this.interval = 10;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 15) <= noTicks) {
				this.interval = 15;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 20) <= noTicks) {
				this.interval = 20;
				this.intervalType = "minute";
			} else if (range / (constants.minuteDuration * 30) <= noTicks) {
				this.interval = 30;
				this.intervalType = "minute";
			} else if (range / (constants.hourDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "hour";
			} else if (range / (constants.hourDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "hour";
			} else if (range / (constants.hourDuration * 3) <= noTicks) {
				this.interval = 3;
				this.intervalType = "hour";
			} else if (range / (constants.hourDuration * 6) <= noTicks) {
				this.interval = 6;
				this.intervalType = "hour";
			} else if (range / (constants.dayDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "day";
			} else if (range / (constants.dayDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "day";
			} else if (range / (constants.dayDuration * 4) <= noTicks) {
				this.interval = 4;
				this.intervalType = "day";
			} else if (range / (constants.weekDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "week";
			} else if (range / (constants.weekDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "week";
			} else if (range / (constants.weekDuration * 3) <= noTicks) {
				this.interval = 3;
				this.intervalType = "week";
			} else if (range / (constants.monthDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "month";
			} else if (range / (constants.monthDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "month";
			} else if (range / (constants.monthDuration * 3) <= noTicks) {
				this.interval = 3;
				this.intervalType = "month";
			} else if (range / (constants.monthDuration * 6) <= noTicks) {
				this.interval = 6;
				this.intervalType = "month";
			} else if (range / (constants.yearDuration * 1) <= noTicks) {
				this.interval = 1;
				this.intervalType = "year";
			} else if (range / (constants.yearDuration * 2) <= noTicks) {
				this.interval = 2;
				this.intervalType = "year";
			} else if (range / (constants.yearDuration * 4) <= noTicks) {
				this.interval = 4;
				this.intervalType = "year";
			} else {
				this.interval = Math.floor(Axis.getNiceNumber(range / (noTicks - 1), true) / constants.yearDuration);
				this.intervalType = "year";
			}
		}

		if (this.viewportMinimum === null || isNaN(this.viewportMinimum)) this.viewportMinimum = min - minDiff / 2;

		if (this.viewportMaximum === null || isNaN(this.viewportMaximum)) this.viewportMaximum = max + minDiff / 2;

		if (!this.valueFormatString) {
			if (isLessThanTwoDataPoints) {
				this.valueFormatString = "MMM DD YYYY HH:mm";
			} else if (this.intervalType === "year") {
				this.valueFormatString = "YYYY";
			} else if (this.intervalType === "month") {
				this.valueFormatString = "MMM YYYY";
			} else if (this.intervalType === "week") {
				this.valueFormatString = "MMM DD YYYY";
			} else if (this.intervalType === "day") {
				this.valueFormatString = "MMM DD YYYY";
			} else if (this.intervalType === "hour") {
				this.valueFormatString = "hh:mm TT";
			} else if (this.intervalType === "minute") {
				this.valueFormatString = "hh:mm TT";
			} else if (this.intervalType === "second") {
				this.valueFormatString = "hh:mm:ss TT";
			} else if (this.intervalType === "millisecond") {
				this.valueFormatString = "fff'ms'";
			}
		}
	} else {

		this.intervalType = "number";

		range = Axis.getNiceNumber(range, false);

		if (this._options && this._options.interval) this.interval = this._options.interval;else {
			this.interval = Axis.getNiceNumber(range / (noTicks - 1), true);
		}

		if (this.viewportMinimum === null || isNaN(this.viewportMinimum)) {
			if (this.type === "axisX") this.viewportMinimum = min - minDiff / 2;else this.viewportMinimum = Math.floor(min / this.interval) * this.interval;
		}

		if (this.viewportMaximum === null || isNaN(this.viewportMaximum)) {
			if (this.type === "axisX") this.viewportMaximum = max + minDiff / 2;else this.viewportMaximum = Math.ceil(max / this.interval) * this.interval;
		}

		if (this.viewportMaximum === 0 && this.viewportMinimum === 0) {

			if (this._options.viewportMinimum === 0) {
				this.viewportMaximum += 10;
			} else if (this._options.viewportMaximum === 0) {
				this.viewportMinimum -= 10;
			}

			if (this._options && typeof this._options.interval === "undefined") {
				this.interval = Axis.getNiceNumber((this.viewportMaximum - this.viewportMinimum) / (noTicks - 1), true);
			}
		}
	}

	//Calculate minimum and maximum if not provided by the user
	if (this.minimum === null || this.maximum === null) {
		if (this.type === "axisX") {
			min = this.minimum !== null ? this.minimum : this.dataInfo.min;
			max = this.maximum !== null ? this.maximum : this.dataInfo.max;

			if (max - min === 0) {
				rangePadding = typeof this._options.interval === "undefined" ? .4 : this._options.interval;

				max += rangePadding;
				min -= rangePadding;
			}

			if (this.dataInfo.minDiff !== Infinity) minDiff = this.dataInfo.minDiff;else if (max - min > 1) {
				minDiff = Math.abs(max - min) * .5;
			} else {
				minDiff = 1;
			}
		} else if (this.type === "axisY") {

			min = this.minimum !== null ? this.minimum : this.dataInfo.min;
			max = this.maximum !== null ? this.maximum : this.dataInfo.max;

			if (!isFinite(min) && !isFinite(max)) {
				max = typeof this._options.interval === "undefined" ? -Infinity : this._options.interval;
				min = 0;
			} else if (min === 0 && max === 0) {
				// When all dataPoints are zero
				max += 9;
				min = 0;
			} else if (max - min === 0) {
				// When there is only a single dataPoint or when all dataPoints have same Y Value
				rangePadding = Math.min(Math.abs(Math.abs(max) * .01), 5);
				max += rangePadding;
				min -= rangePadding;
			} else if (min > max) {
				rangePadding = Math.min(Math.abs(Math.abs(max - min) * .01), 5);

				if (max >= 0) min = max - rangePadding;else max = min + rangePadding;
			} else {

				rangePadding = Math.min(Math.abs(Math.abs(max - min) * .01), .05);

				if (max !== 0) max += rangePadding;
				if (min !== 0) min -= rangePadding;
			}

			if (this.dataInfo.minDiff !== Infinity) minDiff = this.dataInfo.minDiff;else if (max - min > 1) {
				minDiff = Math.abs(max - min) * .5;
			} else {
				minDiff = 1;
			}

			//Apply includeZero
			if (this.includeZero && (this.minimum === null || isNaN(this.minimum))) {
				if (min > 0) min = 0;
			}
			if (this.includeZero && (this.maximum === null || isNaN(this.maximum))) {
				if (max < 0) max = 0;
			}
		}

		range = max - min;

		if (this.type === "axisX" && this.chart.plotInfo.axisXValueType === "dateTime") {

			if (this.minimum === null || isNaN(this.minimum)) this.minimum = min - minDiff / 2;

			if (this.maximum === null || isNaN(this.maximum)) this.maximum = max + minDiff / 2;
		} else {

			this.intervalType = "number";

			if (this.minimum === null) {
				if (this.type === "axisX") this.minimum = min - minDiff / 2;else this.minimum = Math.floor(min / this.interval) * this.interval;

				this.minimum = Math.min(this.minimum, this.sessionVariables.viewportMinimum === null || isNaN(this.sessionVariables.viewportMinimum) ? Infinity : this.sessionVariables.viewportMinimum);
			}

			if (this.maximum === null) {
				if (this.type === "axisX") this.maximum = max + minDiff / 2;else this.maximum = Math.ceil(max / this.interval) * this.interval;

				this.maximum = Math.max(this.maximum, this.sessionVariables.viewportMaximum === null || isNaN(this.sessionVariables.viewportMaximum) ? -Infinity : this.sessionVariables.viewportMaximum);
			}

			//var nfrac = Math.max(-Math.floor(Math.log(d)/Math.LN10), 0); //number of fractional digits to show

			if (this.maximum === 0 && this.minimum === 0) {

				if (this._options.minimum === 0) {
					this.maximum += 10;
				} else if (this._options.maximum === 0) {
					this.minimum -= 10;
				}
			}
		}
	}

	this.viewportMinimum = Math.max(this.viewportMinimum, this.minimum);
	this.viewportMaximum = Math.min(this.viewportMaximum, this.maximum);

	if (this.type === "axisX" && this.chart.plotInfo.axisXValueType === "dateTime") this.intervalStartPosition = this.getLabelStartPoint(new Date(this.viewportMinimum), this.intervalType, this.interval);else this.intervalStartPosition = Math.floor((this.viewportMinimum + this.interval * .2) / this.interval) * this.interval;

	//Set valueFormatString
	if (!this.valueFormatString) {
		this.valueFormatString = "#,##0.##";

		range = Math.abs(this.viewportMaximum - this.viewportMinimum);

		if (range < 1) {
			var numberOfDecimals = Math.floor(Math.abs(Math.log(range) / Math.LN10)) + 2;

			if (isNaN(numberOfDecimals) || !isFinite(numberOfDecimals)) numberOfDecimals = 2;

			if (numberOfDecimals > 2) {
				for (var i = 0; i < numberOfDecimals - 2; i++) {
					this.valueFormatString += "#";
				}
			}
		}
	}

	//if (isDebugMode && window.console) {
	//    window.console.log(this.type + ": Min = " + this.viewportMinimum);
	//    window.console.log(this.type + ": Max = " + this.viewportMaximum);
	//    window.console.log(this.type + ": Interval = " + this.interval);
	//}
};

Axis.getNiceNumber = function (x, round) {

	var exp = Math.floor(Math.log(x) / Math.LN10);
	var f = x / Math.pow(10, exp);
	var nf;

	if (round) {
		if (f < 1.5) nf = 1;else if (f < 3) nf = 2;else if (f < 7) nf = 5;else nf = 10;
	} else {
		if (f <= 1) nf = 1;else if (f <= 2) nf = 2;else if (f <= 5) nf = 5;else nf = 10;
	}

	return Number((nf * Math.pow(10, exp)).toFixed(20));
};

Axis.prototype.getLabelStartPoint = function () {

	var intervalInMilliseconds = convertToNumber(this.interval, this.intervalType);
	var minimum = Math.floor(this.viewportMinimum / intervalInMilliseconds) * intervalInMilliseconds;
	var dateTime = new Date(minimum);

	if (this.intervalType === "millisecond") {
		//millisecond = dateTime.getMilliSecond();
		//millisecond = Math.floor((millisecond + this.interval) / this.interval) * this.interval;
	} else if (this.intervalType === "second") {
			if (dateTime.getMilliseconds() > 0) {
				dateTime.setSeconds(dateTime.getSeconds() + 1);
				dateTime.setMilliseconds(0);
			}
		} else if (this.intervalType === "minute") {
			if (dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
				dateTime.setMinutes(dateTime.getMinutes() + 1);
				dateTime.setSeconds(0);
				dateTime.setMilliseconds(0);
			}
		} else if (this.intervalType === "hour") {
			if (dateTime.getMinutes() > 0 || dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
				dateTime.setHours(dateTime.getHours() + 1);
				dateTime.setMinutes(0);
				dateTime.setSeconds(0);
				dateTime.setMilliseconds(0);
			}
		} else if (this.intervalType === "day") {
			if (dateTime.getHours() > 0 || dateTime.getMinutes() > 0 || dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
				dateTime.setDate(dateTime.getDate() + 1);
				dateTime.setHours(0);
				dateTime.setMinutes(0);
				dateTime.setSeconds(0);
				dateTime.setMilliseconds(0);
			}
		} else if (this.intervalType === "week") {
			if (dateTime.getDay() > 0 || dateTime.getHours() > 0 || dateTime.getMinutes() > 0 || dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
				dateTime.setDate(dateTime.getDate() + (7 - dateTime.getDay()));
				dateTime.setHours(0);
				dateTime.setMinutes(0);
				dateTime.setSeconds(0);
				dateTime.setMilliseconds(0);
			}
		} else if (this.intervalType === "month") {
			if (dateTime.getDate() > 1 || dateTime.getHours() > 0 || dateTime.getMinutes() > 0 || dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
				dateTime.setMonth(dateTime.getMonth() + 1);
				dateTime.setDate(1);
				dateTime.setHours(0);
				dateTime.setMinutes(0);
				dateTime.setSeconds(0);
				dateTime.setMilliseconds(0);
			}
		} else if (this.intervalType === "year") {
			if (dateTime.getMonth() > 0 || dateTime.getDate() > 1 || dateTime.getHours() > 0 || dateTime.getMinutes() > 0 || dateTime.getSeconds() > 0 || dateTime.getMilliseconds() > 0) {
				dateTime.setFullYear(dateTime.getFullYear() + 1);
				dateTime.setMonth(0);
				dateTime.setDate(1);
				dateTime.setHours(0);
				dateTime.setMinutes(0);
				dateTime.setSeconds(0);
				dateTime.setMilliseconds(0);
			}
		}

	return dateTime;
};

exports.default = Axis;

},{"../helpers/utils":43,"./canvasjs":30,"./text_block":38}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _themes = require('../constants/themes');

var _options = require('../constants/options');

function CanvasJSObject(defaultsKey, options, theme, parent) {
  this._defaultsKey = defaultsKey;

  this.parent = parent;

  this._eventListeners = []; //Multidimentional array with an array for each event type

  var currentThemeOptions = {};

  if (theme && _themes.themes[theme] && _themes.themes[theme][defaultsKey]) currentThemeOptions = _themes.themes[theme][defaultsKey];

  this._options = options ? options : {};
  this.setOptions(this._options, currentThemeOptions);
}

CanvasJSObject.prototype.setOptions = function (options, currentThemeOptions) {

  if (!_options.defaultOptions[this._defaultsKey]) {
    if (_options.isDebugMode && window.console) console.log("defaults not set");
  } else {
    var defaults = _options.defaultOptions[this._defaultsKey];

    for (var prop in defaults) {

      if (defaults.hasOwnProperty(prop)) {
        if (options && prop in options) this[prop] = options[prop];else if (currentThemeOptions && prop in currentThemeOptions) this[prop] = currentThemeOptions[prop];else this[prop] = defaults[prop];

        //if (typeof this[prop] === "function") {
        //    alert("function");
        //    this[prop] = this[prop]();
        //}
      }
    }
  }
};

// Update options. Returns true if changed or else false
CanvasJSObject.prototype.updateOption = function (prop) {

  if (!_options.defaultOptions[this._defaultsKey] && _options.isDebugMode && window.console) console.log("defaults not set");

  var defaults = _options.defaultOptions[this._defaultsKey];
  var theme = this._options.theme ? this._options.theme : this.chart && this.chart._options.theme ? this.chart._options.theme : "theme1";

  var currentThemeOptions = {};
  var newValue = this[prop];

  if (theme && _themes.themes[theme] && _themes.themes[theme][this._defaultsKey]) currentThemeOptions = _themes.themes[theme][this._defaultsKey];

  if (prop in defaults) {
    if (prop in this._options) newValue = this._options[prop];else if (currentThemeOptions && prop in currentThemeOptions) newValue = currentThemeOptions[prop];else newValue = defaults[prop];
  }

  if (newValue === this[prop]) return false;

  this[prop] = newValue;
  return true;
};

//Stores values in _oldOptions so that it can be tracked for any changes
CanvasJSObject.prototype.trackChanges = function (option) {
  if (!this.sessionVariables) throw "Session Variable Store not set";

  this.sessionVariables[option] = this._options[option];
};

CanvasJSObject.prototype.isBeingTracked = function (option) {
  if (!this._options._oldOptions) this._options._oldOptions = {};

  if (this._options._oldOptions[option]) return true;else return false;
};

CanvasJSObject.prototype.hasOptionChanged = function (option) {
  if (!this.sessionVariables) throw "Session Variable Store not set";

  var hasChanged = !(this.sessionVariables[option] === this._options[option]);

  return hasChanged;
};

CanvasJSObject.prototype.addEventListener = function (eventName, eventHandler, context) {
  if (!eventName || !eventHandler) return;

  context = context || this;

  this._eventListeners[eventName] = this._eventListeners[eventName] || [];

  this._eventListeners[eventName].push({ context: context, eventHandler: eventHandler });
};

CanvasJSObject.prototype.removeEventListener = function (eventName, eventHandler) {
  if (!eventName || !eventHandler || !this._eventListeners[eventName]) return;

  var listeners = this._eventListeners[eventName];
  for (var i = 0; i < listeners.length; i++) {

    if (listeners[i].eventHandler === eventHandler) {
      listeners[i].splice(i, 1);
      break;
    }
  }
};

CanvasJSObject.prototype.removeAllEventListeners = function () {
  this._eventListeners = [];
};

CanvasJSObject.prototype.dispatchEvent = function (eventName, eventParameter, context) {

  //For Internal Events
  if (eventName && this._eventListeners[eventName]) {

    eventParameter = eventParameter || {};

    var listeners = this._eventListeners[eventName];
    for (var i = 0; i < listeners.length; i++) {

      listeners[i].eventHandler.call(listeners[i].context, eventParameter);
    }
  }

  //External Events do not require registering as the property name is suffient to fire the event.
  if (typeof this[eventName] === "function") {
    this[eventName].call(context || this.chart._publicChartReference, eventParameter);
  }
};

exports.default = CanvasJSObject;

},{"../constants/options":26,"../constants/themes":27}],31:[function(require,module,exports){
'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _canvasjs=require('./canvasjs');var _canvasjs2=_interopRequireDefault(_canvasjs);var _animator=require('./animator');var _animator2=_interopRequireDefault(_animator);var _data_series=require('./data_series');var _data_series2=_interopRequireDefault(_data_series);var _text_block=require('./text_block');var _text_block2=_interopRequireDefault(_text_block);var _render=require('../helpers/render');var _render2=_interopRequireDefault(_render);var _layout_manager=require('./layout_manager');var _layout_manager2=_interopRequireDefault(_layout_manager);var _event_manager=require('./event_manager');var _event_manager2=_interopRequireDefault(_event_manager);var _tooltip=require('./tooltip');var _tooltip2=_interopRequireDefault(_tooltip);var _culture_info=require('../core/culture_info');var _culture_info2=_interopRequireDefault(_culture_info);var _axis=require('../core/axis');var _axis2=_interopRequireDefault(_axis);var _title=require('../core/title');var _title2=_interopRequireDefault(_title);var _legend=require('../core/legend');var _legend2=_interopRequireDefault(_legend);var _animator3=require('../helpers/animator');var _animator4=_interopRequireDefault(_animator3);var _themes=require('../constants/themes');var _options=require('../constants/options');var _utils=require('../helpers/utils');var _index=require('../charts/index');function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{default:obj};} // import {inherits} from 'util';
function Chart(containerId,options,publicChartReference){this._publicChartReference = publicChartReference;options = options || {};Chart.base.constructor.call(this,"Chart",options,options.theme?options.theme:"theme1");var _this=this;this._containerId = containerId;this._objectsInitialized = false;this.ctx = null;this.overlaidCanvasCtx = null;this._indexLabels = [];this._panTimerId = 0;this._lastTouchEventType = "";this._lastTouchData = null;this.isAnimating = false;this.renderCount = 0;this.animatedRender = false;this.disableToolTip = false;this.panEnabled = false;this._defaultCursor = "default";this.plotArea = {canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0};this._dataInRenderedOrder = [];this._container = typeof this._containerId === "string"?document.getElementById(this._containerId):this._containerId;if(!this._container){if(window.console)window.console.log("CanvasJS Error: Chart Container with id \"" + this._containerId + "\" was not found");return;}this._container.innerHTML = "";var width=0;var height=0;if(this._options.width)width = this.width;else width = this._container.clientWidth > 0?this._container.clientWidth:this.width;if(this._options.height)height = this.height;else height = this._container.clientHeight > 0?this._container.clientHeight:this.height;this.width = width;this.height = height;this.x1 = this.y1 = 0;this.x2 = this.width;this.y2 = this.height;this._selectedColorSet = typeof _themes.colorSets[this.colorSet] !== "undefined"?_themes.colorSets[this.colorSet]:_themes.colorSets["colorSet1"];this._canvasJSContainer = document.createElement("div");this._canvasJSContainer.setAttribute("class","canvasjs-chart-container");this._canvasJSContainer.style.position = "relative";this._canvasJSContainer.style.textAlign = "left";this._canvasJSContainer.style.cursor = "auto";if(!_utils.isCanvasSupported){this._canvasJSContainer.style.height = "0px"; //In IE6 toolTip doesn't show at proper position if not set.
}this._container.appendChild(this._canvasJSContainer);this.canvas = (0,_utils.createCanvas)(width,height);this.canvas.style.position = "absolute";if(this.canvas.getContext){ //try {
//	this.canvas.style.background = this.backgroundColor;
//} catch (e) { }
this._canvasJSContainer.appendChild(this.canvas);this.ctx = this.canvas.getContext("2d");this.ctx.textBaseline = "top";(0,_utils.extendCtx)(this.ctx);}else return; //this.canvas.style.cursor = "pointer";
if(!_utils.isCanvasSupported){this.plotArea.canvas = (0,_utils.createCanvas)(width,height);this.plotArea.canvas.style.position = "absolute";this.plotArea.canvas.setAttribute("class","plotAreaCanvas");this._canvasJSContainer.appendChild(this.plotArea.canvas);this.plotArea.ctx = this.plotArea.canvas.getContext("2d");}else {this.plotArea.ctx = this.ctx;}this.overlaidCanvas = (0,_utils.createCanvas)(width,height);this.overlaidCanvas.style.position = "absolute";this._canvasJSContainer.appendChild(this.overlaidCanvas);this.overlaidCanvasCtx = this.overlaidCanvas.getContext("2d");this.overlaidCanvasCtx.textBaseline = "top";this._eventManager = new _event_manager2.default(this);(0,_utils.addEvent)(window,"resize",function(){ //this._container.addEventListener("DOMSubtreeModified", function () {
if(_this._updateSize())_this.render();});this._toolBar = document.createElement("div");this._toolBar.setAttribute("class","canvasjs-chart-toolbar");this._toolBar.style.cssText = "position: absolute; right: 1px; top: 1px;";this._canvasJSContainer.appendChild(this._toolBar);this.bounds = {x1:0,y1:0,x2:this.width,y2:this.height};(0,_utils.addEvent)(this.overlaidCanvas,'click',function(e){_this._mouseEventHandler(e);});(0,_utils.addEvent)(this.overlaidCanvas,'mousemove',function(e){_this._mouseEventHandler(e);});(0,_utils.addEvent)(this.overlaidCanvas,'mouseup',function(e){_this._mouseEventHandler(e);});(0,_utils.addEvent)(this.overlaidCanvas,'mousedown',function(e){_this._mouseEventHandler(e);(0,_utils.hide)(_this._dropdownMenu);});(0,_utils.addEvent)(this.overlaidCanvas,'mouseout',function(e){_this._mouseEventHandler(e);});(0,_utils.addEvent)(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(e){_this._touchEventHandler(e);});(0,_utils.addEvent)(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":'touchmove',function(e){_this._touchEventHandler(e);});(0,_utils.addEvent)(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":'touchend',function(e){_this._touchEventHandler(e);});(0,_utils.addEvent)(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":'touchcancel',function(e){_this._touchEventHandler(e);});if(!this._creditLink){this._creditLink = document.createElement("a");this._creditLink.setAttribute("class","canvasjs-chart-credit");this._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:3px;top:" + (this.height - 14) + "px;color:dimgrey;text-decoration:none;font-size:10px;font-family:Lucida Grande, Lucida Sans Unicode, Arial, sans-serif");this._creditLink.setAttribute("tabIndex",-1);this._creditLink.setAttribute("target","_blank");}this._toolTip = new _tooltip2.default(this,this._options.toolTip,this.theme);this.data = null;this.axisX = null;this.axisY = null;this.axisY2 = null;this.sessionVariables = {axisX:{},axisY:{},axisY2:{}};}(0,_utils.extend)(Chart,_canvasjs2.default); //Update Chart Properties
Chart.prototype._updateOptions = function(){var _this=this;this.updateOption("width");this.updateOption("height");this.updateOption("dataPointMaxWidth");this.updateOption("interactivityEnabled");this.updateOption("theme");if(this.updateOption("colorSet"))this._selectedColorSet = typeof _themes.colorSets[this.colorSet] !== "undefined"?_themes.colorSets[this.colorSet]:_themes.colorSets["colorSet1"];this.updateOption("backgroundColor");if(!this.backgroundColor)this.backgroundColor = "rgba(0,0,0,0)";this.updateOption("culture");this._cultureInfo = new _culture_info2.default(this._options.culture);this.updateOption("animationEnabled");this.animationEnabled = this.animationEnabled && _utils.isCanvasSupported;this.updateOption("animationDuration");this.updateOption("rangeChanging");this.updateOption("rangeChanged"); //Need to check this._options.zoomEnabled because this.zoomEnabled is used internally to keep track of state - and hence changes.
if(this._options.zoomEnabled){if(!this._zoomButton){(0,_utils.hide)(this._zoomButton = document.createElement("button"));setButtonState(this,this._zoomButton,"pan");this._toolBar.appendChild(this._zoomButton);(0,_utils.addEvent)(this._zoomButton,"click",function(){if(_this.zoomEnabled){_this.zoomEnabled = false;_this.panEnabled = true;setButtonState(_this,_this._zoomButton,"zoom");}else {_this.zoomEnabled = true;_this.panEnabled = false;setButtonState(_this,_this._zoomButton,"pan");}_this.render();});}if(!this._resetButton){(0,_utils.hide)(this._resetButton = document.createElement("button"));setButtonState(this,this._resetButton,"reset");this._toolBar.appendChild(this._resetButton);(0,_utils.addEvent)(this._resetButton,"click",function(){_this._toolTip.hide();if(_this.zoomEnabled || _this.panEnabled){_this.zoomEnabled = true;_this.panEnabled = false;setButtonState(_this,_this._zoomButton,"pan");_this._defaultCursor = "default";_this.overlaidCanvas.style.cursor = _this._defaultCursor;}else {_this.zoomEnabled = false;_this.panEnabled = false;} //Reset axisX
if(_this.sessionVariables.axisX){_this.sessionVariables.axisX.newViewportMinimum = null;_this.sessionVariables.axisX.newViewportMaximum = null;} //Reset axisY
if(_this.sessionVariables.axisY){_this.sessionVariables.axisY.newViewportMinimum = null;_this.sessionVariables.axisY.newViewportMaximum = null;} //Reset axisY2
if(_this.sessionVariables.axisY2){_this.sessionVariables.axisY2.newViewportMinimum = null;_this.sessionVariables.axisY2.newViewportMaximum = null;}_this.resetOverlayedCanvas();(0,_utils.hide)(_this._zoomButton,_this._resetButton);_this._dispatchRangeEvent("rangeChanging","reset");_this.render();_this._dispatchRangeEvent("rangeChanged","reset");});this.overlaidCanvas.style.cursor = _this._defaultCursor;}if(!this.zoomEnabled && !this.panEnabled){if(!this._zoomButton){this.zoomEnabled = true;this.panEnabled = false;}else {if(_this._zoomButton.getAttribute("state") === _this._cultureInfo.zoomText){this.panEnabled = true;this.zoomEnabled = false;}else {this.zoomEnabled = true;this.panEnabled = false;}(0,_utils.show)(_this._zoomButton,_this._resetButton);}}}else {this.zoomEnabled = false;this.panEnabled = false;}if(this._menuButton){if(this.exportEnabled)(0,_utils.show)(this._menuButton);else (0,_utils.hide)(this._menuButton);}else if(this.exportEnabled && _utils.isCanvasSupported){this._menuButton = document.createElement("button");setButtonState(this,this._menuButton,"menu");this._toolBar.appendChild(this._menuButton);(0,_utils.addEvent)(this._menuButton,"click",function(){if(_this._dropdownMenu.style.display === "none"){if(_this._dropDownCloseTime && new Date().getTime() - _this._dropDownCloseTime.getTime() <= 500)return;_this._dropdownMenu.style.display = "block";_this._menuButton.blur();_this._dropdownMenu.focus();}},true);}if(!this._dropdownMenu && this.exportEnabled && _utils.isCanvasSupported){this._dropdownMenu = document.createElement("div");this._dropdownMenu.setAttribute("tabindex",-1);this._dropdownMenu.style.cssText = "position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 1px;top: 25px;min-width: 120px;outline: 0;border: 1px solid silver;font-size: 14px;font-family: Calibri, Verdana, sans-serif;padding: 5px 0px 5px 0px;text-align: left;background-color: #fff;line-height: 20px;box-shadow: 2px 2px 10px #888888;";_this._dropdownMenu.style.display = "none";this._toolBar.appendChild(this._dropdownMenu);(0,_utils.addEvent)(this._dropdownMenu,"blur",function(){(0,_utils.hide)(_this._dropdownMenu);_this._dropDownCloseTime = new Date();},true);var exportOption=document.createElement("div");exportOption.style.cssText = "padding: 2px 15px 2px 10px";exportOption.innerHTML = this._cultureInfo.saveJPGText;this._dropdownMenu.appendChild(exportOption);(0,_utils.addEvent)(exportOption,"mouseover",function(){this.style.backgroundColor = "#EEEEEE";},true);(0,_utils.addEvent)(exportOption,"mouseout",function(){this.style.backgroundColor = "transparent";},true);(0,_utils.addEvent)(exportOption,"click",function(){exportCanvas(_this.canvas,"jpg",_this.exportFileName);(0,_utils.hide)(_this._dropdownMenu);},true);var exportOption=document.createElement("div");exportOption.style.cssText = "padding: 2px 15px 2px 10px";exportOption.innerHTML = this._cultureInfo.savePNGText;this._dropdownMenu.appendChild(exportOption);(0,_utils.addEvent)(exportOption,"mouseover",function(){this.style.backgroundColor = "#EEEEEE";},true);(0,_utils.addEvent)(exportOption,"mouseout",function(){this.style.backgroundColor = "transparent";},true);(0,_utils.addEvent)(exportOption,"click",function(){exportCanvas(_this.canvas,"png",_this.exportFileName);(0,_utils.hide)(_this._dropdownMenu);},true);}if(this._toolBar.style.display !== "none" && this._zoomButton){this.panEnabled?setButtonState(_this,_this._zoomButton,"zoom"):setButtonState(_this,_this._zoomButton,"pan");if(_this._resetButton.getAttribute("state") !== _this._cultureInfo.resetText)setButtonState(_this,_this._resetButton,"reset");}if(typeof _options.defaultOptions.Chart.creditHref === "undefined"){this.creditHref = "http://canvasjs.com/";this.creditText = "CanvasJS.com";}else {var creditTextChanged=this.updateOption("creditText");var creditHrefChanged=this.updateOption("creditHref");}if(this.renderCount === 0 || creditTextChanged || creditHrefChanged){this._creditLink.setAttribute("href",this.creditHref);this._creditLink.innerHTML = this.creditText;}if(this.creditHref && this.creditText){if(!this._creditLink.parentElement)this._canvasJSContainer.appendChild(this._creditLink);}else if(this._creditLink.parentElement)this._canvasJSContainer.removeChild(this._creditLink);if(this._options.toolTip && this._toolTip._options !== this._options.toolTip)this._toolTip._options = this._options.toolTip;for(var prop in this._toolTip._options) {if(this._toolTip._options.hasOwnProperty(prop)){this._toolTip.updateOption(prop);}}};Chart.prototype._updateSize = function(){var width=0;var height=0;if(this._options.width)width = this.width;else this.width = width = this._container.clientWidth > 0?this._container.clientWidth:this.width;if(this._options.height)height = this.height;else this.height = height = this._container.clientHeight > 0?this._container.clientHeight:this.height;if(this.canvas.width !== width * _utils.devicePixelBackingStoreRatio || this.canvas.height !== height * _utils.devicePixelBackingStoreRatio){(0,_utils.setCanvasSize)(this.canvas,width,height);(0,_utils.setCanvasSize)(this.overlaidCanvas,width,height);(0,_utils.setCanvasSize)(this._eventManager.ghostCanvas,width,height);return true;}return false;}; // initialize chart objects
Chart.prototype._initialize = function(){ ///<signature>
///<summary>Initializes Chart objects/state. Creates DataSeries class instance for each DataSeries provided by ther user. Sets the Axis Type based on the user data</summary>
///</signature>
//this.width = this.width;
if(!this._animator)this._animator = new _animator2.default(this);else {this._animator.cancelAllAnimations();}this.removeAllEventListeners();this.disableToolTip = false;this._axes = [];this.pieDoughnutClickHandler = null; //this._touchCurrentCoordinates = null;
if(this.animationRequestId)this.cancelRequestAnimFrame.call(window,this.animationRequestId);this._updateOptions();this.animatedRender = _utils.isCanvasSupported && this.animationEnabled && this.renderCount === 0;this._updateSize(); //this._selectedColorSet = colorSets["colorSet2"];
//this.ctx.clearRect(0, 0, this.width, this.height);
this.clearCanvas();this.ctx.beginPath();this.axisX = null;this.axisY = null;this.axisY2 = null;this._indexLabels = [];this._dataInRenderedOrder = [];this._events = [];if(this._eventManager)this._eventManager.reset();this.plotInfo = {axisPlacement:null,axisXValueType:null,plotTypes:[] //array of plotType: {type:"", axisYType: "primary", dataSeriesIndexes:[]}
};this.layoutManager = new _layout_manager2.default(0,0,this.width,this.height,2);if(this.plotArea.layoutManager)this.plotArea.layoutManager.reset();this.data = [];var dataSeriesIndex=0;for(var series=0;series < this._options.data.length;series++) { //for (series in this._options.data) {
dataSeriesIndex++;if(!(!this._options.data[series].type || Chart._supportedChartTypes.indexOf(this._options.data[series].type) >= 0))continue;var dataSeries=new _data_series2.default(this,this._options.data[series],this.theme,dataSeriesIndex - 1,++this._eventManager.lastObjectId);if(dataSeries.name === null)dataSeries.name = "DataSeries " + dataSeriesIndex;if(dataSeries.color === null){if(this._options.data.length > 1){dataSeries._colorSet = [this._selectedColorSet[dataSeries.index % this._selectedColorSet.length]];dataSeries.color = this._selectedColorSet[dataSeries.index % this._selectedColorSet.length];}else {if(dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "area" || dataSeries.type === "stepArea" || dataSeries.type === "splineArea" || dataSeries.type === "stackedArea" || dataSeries.type === "stackedArea100" || dataSeries.type === "rangeArea" || dataSeries.type === "rangeSplineArea" || dataSeries.type === "candlestick" || dataSeries.type === "ohlc"){dataSeries._colorSet = [this._selectedColorSet[0]];}else dataSeries._colorSet = this._selectedColorSet;}}else {dataSeries._colorSet = [dataSeries.color];}if(dataSeries.markerSize === null){if((dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline") && dataSeries.dataPoints && dataSeries.dataPoints.length < this.width / 16 || dataSeries.type === "scatter"){ //if (dataSeries.type === "line") {
dataSeries.markerSize = 8;}}if((dataSeries.type === "bubble" || dataSeries.type === "scatter") && dataSeries.dataPoints){dataSeries.dataPoints.sort(_utils.compareDataPointX);} //if (dataSeries.markerBorderThickness === null && dataSeries.type === "scatter") {
//    dataSeries.markerBorderThickness = 2;
//}
//if (dataSeries.markerType === null) {
//    if (dataSeries.type === "line" & dataSeries.dataPoints.length < 500) {
//        dataSeries.markerType = "circle";
//    }
//}
this.data.push(dataSeries);var seriesAxisPlacement=dataSeries.axisPlacement; //if (isDebugMode && window.console)
//    window.console.log(dataSeries.type);
var errorMessage;if(seriesAxisPlacement === "normal"){if(this.plotInfo.axisPlacement === "xySwapped"){errorMessage = "You cannot combine \"" + dataSeries.type + "\" with bar chart";}else if(this.plotInfo.axisPlacement === "none"){errorMessage = "You cannot combine \"" + dataSeries.type + "\" with pie chart";}else if(this.plotInfo.axisPlacement === null)this.plotInfo.axisPlacement = "normal";}else if(seriesAxisPlacement === "xySwapped"){if(this.plotInfo.axisPlacement === "normal"){errorMessage = "You cannot combine \"" + dataSeries.type + "\" with line, area, column or pie chart";}else if(this.plotInfo.axisPlacement === "none"){errorMessage = "You cannot combine \"" + dataSeries.type + "\" with pie chart";}else if(this.plotInfo.axisPlacement === null)this.plotInfo.axisPlacement = "xySwapped";}else if(seriesAxisPlacement == "none"){if(this.plotInfo.axisPlacement === "normal"){errorMessage = "You cannot combine \"" + dataSeries.type + "\" with line, area, column or bar chart";}else if(this.plotInfo.axisPlacement === "xySwapped"){errorMessage = "You cannot combine \"" + dataSeries.type + "\" with bar chart";}else if(this.plotInfo.axisPlacement === null)this.plotInfo.axisPlacement = "none";}if(errorMessage && window.console){window.console.log(errorMessage);return;}} //if (isDebugMode && window.console) {
//    window.console.log("xMin: " + this.plotInfo.viewPortXMin + "; xMax: " + this.plotInfo.viewPortXMax + "; yMin: " + this.plotInfo.yMin + "; yMax: " + this.plotInfo.yMax);
//}
this._objectsInitialized = true;}; //indexOf is not supported in IE8-
Chart._supportedChartTypes = (0,_utils.addArrayIndexOf)(["line","stepLine","spline","column","area","stepArea","splineArea","bar","bubble","scatter","stackedColumn","stackedColumn100","stackedBar","stackedBar100","stackedArea","stackedArea100","candlestick","ohlc","rangeColumn","rangeBar","rangeArea","rangeSplineArea","pie","doughnut","funnel"]);Chart.prototype.render = function(options){if(options)this._options = options;this._initialize();var plotAreaElements=[]; //Elements to be rendered inside the plotArea
//Create Primary and Secondary axis and assign them to the series
for(var i=0;i < this.data.length;i++) {if(this.plotInfo.axisPlacement === "normal" || this.plotInfo.axisPlacement === "xySwapped"){if(!this.data[i].axisYType || this.data[i].axisYType === "primary"){if(!this.axisY){if(this.plotInfo.axisPlacement === "normal"){this._axes.push(this.axisY = new _axis2.default(this,this._options.axisY,"axisY","left"));}else if(this.plotInfo.axisPlacement === "xySwapped"){this._axes.push(this.axisY = new _axis2.default(this,this._options.axisY,"axisY","bottom"));}}this.data[i].axisY = this.axisY;}else if(this.data[i].axisYType === "secondary"){if(!this.axisY2){if(this.plotInfo.axisPlacement === "normal"){this._axes.push(this.axisY2 = new _axis2.default(this,this._options.axisY2,"axisY","right"));}else if(this.plotInfo.axisPlacement === "xySwapped"){this._axes.push(this.axisY2 = new _axis2.default(this,this._options.axisY2,"axisY","top"));}}this.data[i].axisY = this.axisY2;}if(!this.axisX){if(this.plotInfo.axisPlacement === "normal"){this._axes.push(this.axisX = new _axis2.default(this,this._options.axisX,"axisX","bottom"));}else if(this.plotInfo.axisPlacement === "xySwapped"){this._axes.push(this.axisX = new _axis2.default(this,this._options.axisX,"axisX","left"));}}this.data[i].axisX = this.axisX;}} //If Both Primary and Secondary axis are present, disable gridlines for one of them unless the user has set value for both
if(this.axisY && this.axisY2){if(this.axisY.gridThickness > 0 && typeof this.axisY2._options.gridThickness === "undefined")this.axisY2.gridThickness = 0;else if(this.axisY2.gridThickness > 0 && typeof this.axisY._options.gridThickness === "undefined")this.axisY.gridThickness = 0;} //Show toolBar when viewportMinimum/viewportMaximum are set
var showToolBar=false;if(this._axes.length > 0 && (this.zoomEnabled || this.panEnabled)){for(var i=0;i < this._axes.length;i++) {if(this._axes[i].viewportMinimum !== null || this._axes[i].viewportMaximum !== null){showToolBar = true;break;}}}if(showToolBar){(0,_utils.show)(this._zoomButton,this._resetButton);}else {(0,_utils.hide)(this._zoomButton,this._resetButton);}this._processData(); // Categorises the dataSeries and calculates min, max and other values
if(this._options.title){this._title = new _title2.default(this,this._options.title);if(!this._title.dockInsidePlotArea)this._title.render();else plotAreaElements.push(this._title);}if(this._options.subtitles){for(var i=0;i < this._options.subtitles.length;i++) {this.subtitles = [];var subtitle=new Subtitle(this,this._options.subtitles[i]);this.subtitles.push(subtitle);if(!subtitle.dockInsidePlotArea)subtitle.render();else plotAreaElements.push(subtitle);}}this.legend = new _legend2.default(this,this._options.legend,this.theme);for(var i=0;i < this.data.length;i++) {if(this.data[i].showInLegend || this.data[i].type === "pie" || this.data[i].type === "doughnut"){this.legend.dataSeries.push(this.data[i]);}}if(!this.legend.dockInsidePlotArea)this.legend.render();else plotAreaElements.push(this.legend); //TBI: Revisit and check if the functionality is enough.
if(this.plotInfo.axisPlacement === "normal" || this.plotInfo.axisPlacement === "xySwapped"){ //var freeSpace = this.layoutManager.getFreeSpace();
_axis2.default.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace());}else if(this.plotInfo.axisPlacement === "none"){ //In case of charts with axis this method is called inside setLayoutAndRender
this.preparePlotArea();}else {return;}var index=0;for(index in plotAreaElements) {if(plotAreaElements.hasOwnProperty(index))plotAreaElements[index].render();}var animations=[];if(this.animatedRender){var initialState=(0,_utils.createCanvas)(this.width,this.height);var initialStateCtx=initialState.getContext("2d");initialStateCtx.drawImage(this.canvas,0,0,this.width,this.height);}for(var i=0;i < this.plotInfo.plotTypes.length;i++) {var plotType=this.plotInfo.plotTypes[i];for(var j=0;j < plotType.plotUnits.length;j++) {var plotUnit=plotType.plotUnits[j];var animationInfo=null;plotUnit.targetCanvas = null; //In case chart updates before the animation is complete, previous canvases need to be removed
if(this.animatedRender){plotUnit.targetCanvas = (0,_utils.createCanvas)(this.width,this.height);plotUnit.targetCanvasCtx = plotUnit.targetCanvas.getContext("2d");}if(plotUnit.type === "line")animationInfo = this.renderLine(plotUnit);else if(plotUnit.type === "stepLine")animationInfo = this.renderStepLine(plotUnit);else if(plotUnit.type === "spline")animationInfo = this.renderSpline(plotUnit);else if(plotUnit.type === "column")animationInfo = this.renderColumn(plotUnit);else if(plotUnit.type === "bar")animationInfo = this.renderBar(plotUnit);else if(plotUnit.type === "area")animationInfo = this.renderArea(plotUnit);else if(plotUnit.type === "stepArea")animationInfo = this.renderStepArea(plotUnit);else if(plotUnit.type === "splineArea")animationInfo = this.renderSplineArea(plotUnit);else if(plotUnit.type === "stackedColumn")animationInfo = this.renderStackedColumn(plotUnit);else if(plotUnit.type === "stackedColumn100")animationInfo = this.renderStackedColumn100(plotUnit);else if(plotUnit.type === "stackedBar")animationInfo = this.renderStackedBar(plotUnit);else if(plotUnit.type === "stackedBar100")animationInfo = this.renderStackedBar100(plotUnit);else if(plotUnit.type === "stackedArea")animationInfo = this.renderStackedArea(plotUnit);else if(plotUnit.type === "stackedArea100")animationInfo = this.renderStackedArea100(plotUnit);else if(plotUnit.type === "bubble")animationInfo = animationInfo = this.renderBubble(plotUnit);else if(plotUnit.type === "scatter")animationInfo = this.renderScatter(plotUnit);else if(plotUnit.type === "pie")this.renderPie(plotUnit);else if(plotUnit.type === "doughnut")this.renderPie(plotUnit);else if(plotUnit.type === "candlestick")animationInfo = this.renderCandlestick(plotUnit);else if(plotUnit.type === "ohlc")animationInfo = this.renderCandlestick(plotUnit);else if(plotUnit.type === "rangeColumn")animationInfo = this.renderRangeColumn(plotUnit);else if(plotUnit.type === "rangeBar")animationInfo = this.renderRangeBar(plotUnit);else if(plotUnit.type === "rangeArea")animationInfo = this.renderRangeArea(plotUnit);else if(plotUnit.type === "rangeSplineArea")animationInfo = this.renderRangeSplineArea(plotUnit);for(var k=0;k < plotUnit.dataSeriesIndexes.length;k++) {this._dataInRenderedOrder.push(this.data[plotUnit.dataSeriesIndexes[k]]);}if(this.animatedRender && animationInfo)animations.push(animationInfo);}}if(this.animatedRender && this._indexLabels.length > 0){var indexLabelCanvas=(0,_utils.createCanvas)(this.width,this.height);var indexLabelCanvasCtx=indexLabelCanvas.getContext("2d");animations.push(this.renderIndexLabels(indexLabelCanvasCtx));}var _this=this;if(animations.length > 0){ //var animationCount = 0;
_this.disableToolTip = true;_this._animator.animate(200,_this.animationDuration,function(fractionComplete){ //console.log(fractionComplete);
//animationCount++;
_this.ctx.clearRect(0,0,_this.width,_this.height); //  _this.ctx.drawImage(initialState, 0, 0, _this.width * devicePixelBackingStoreRatio, _this.height * devicePixelBackingStoreRatio, 0, 0, _this.width, _this.height);
_this.ctx.drawImage(initialState,0,0,Math.floor(_this.width * _utils.devicePixelBackingStoreRatio),Math.floor(_this.height * _utils.devicePixelBackingStoreRatio),0,0,_this.width,_this.height);for(var l=0;l < animations.length;l++) {animationInfo = animations[l];if(fractionComplete < 1 && typeof animationInfo.startTimePercent !== "undefined"){if(fractionComplete >= animationInfo.startTimePercent){ //animationInfo.animationCallback(AnimationHelper.easing.linear(fractionComplete - animationInfo.startTimePercent, 0, 1, 1 - animationInfo.startTimePercent), animationInfo);
animationInfo.animationCallback(animationInfo.easingFunction(fractionComplete - animationInfo.startTimePercent,0,1,1 - animationInfo.startTimePercent),animationInfo);}}else {animationInfo.animationCallback(animationInfo.easingFunction(fractionComplete,0,1,1),animationInfo);}}_this.dispatchEvent("dataAnimationIterationEnd",{chart:_this});},function(){animations = [];var count=0; //Delete all render target canvases used for animation.
for(var i=0;i < _this.plotInfo.plotTypes.length;i++) {var plotType=_this.plotInfo.plotTypes[i];for(var j=0;j < plotType.plotUnits.length;j++) {var plotUnit=plotType.plotUnits[j];plotUnit.targetCanvas = null;}}initialState = null;_this.disableToolTip = false; //console.log("*********** Animation Complete - " + animationCount + " ***********");
});}else {if(_this._indexLabels.length > 0)_this.renderIndexLabels();_this.dispatchEvent("dataAnimationIterationEnd",{chart:_this});}this.attachPlotAreaEventHandlers();if(!this.zoomEnabled && !this.panEnabled && this._zoomButton && this._zoomButton.style.display !== "none"){(0,_utils.hide)(this._zoomButton,this._resetButton);}this._toolTip._updateToolTip();this.renderCount++; //if (window.console) {
//    window.console.log(new Date().getTime() - dt);
//}
if(_options.isDebugMode){var _this=this;setTimeout(function(){var ghostCanvasCopy=document.getElementById("ghostCanvasCopy");if(ghostCanvasCopy){ //console.log(ghostCanvasCopy.clientWidth);
(0,_utils.setCanvasSize)(ghostCanvasCopy,_this.width,_this.height);var ghostCanvasCopyCtx=ghostCanvasCopy.getContext("2d"); //ghostCanvasCopyCtx.scale(1, 1);
//var imageData = this._eventManager.ghostCtx.getImageData(0, 0, this._container.clientWidth, this._container.clientHeight);
//this._eventManager.ghostCtx.drawImage(this._eventManager.ghostCanvas, 0, 0);
//this.ctx.drawImage(this._eventManager.ghostCanvas, 0, 0);
ghostCanvasCopyCtx.drawImage(_this._eventManager.ghostCanvas,0,0); //_this._canvasJSContainer.appendChild(_this._eventManager.ghostCanvas);
//_this.overlaidCanvasCtx.drawImage(_this._eventManager.ghostCanvas, 0, 0);
}},2000);}};Chart.prototype.attachPlotAreaEventHandlers = function(){ //this._toolBar.style.display = "inline";
this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.zoomEnabled?"col-resize":"move",cursor:this.panEnabled?"move":"default",capture:true,bounds:this.plotArea});};Chart.prototype.categoriseDataSeries = function(){var dataSeries="";for(var i=0;i < this.data.length;i++) {dataSeries = this.data[i];if(!dataSeries.dataPoints || dataSeries.dataPoints.length === 0 || !dataSeries.visible)continue;if(Chart._supportedChartTypes.indexOf(dataSeries.type) >= 0){var plotType=null;var plotTypeExists=false;var plotUnit=null;var plotUnitExists=false;for(var j=0;j < this.plotInfo.plotTypes.length;j++) {if(this.plotInfo.plotTypes[j].type === dataSeries.type){plotTypeExists = true;var plotType=this.plotInfo.plotTypes[j];break;}}if(!plotTypeExists){plotType = {type:dataSeries.type,totalDataSeries:0,plotUnits:[]};this.plotInfo.plotTypes.push(plotType);}for(var j=0;j < plotType.plotUnits.length;j++) {if(plotType.plotUnits[j].axisYType === dataSeries.axisYType){plotUnitExists = true;var plotUnit=plotType.plotUnits[j];break;}}if(!plotUnitExists){plotUnit = {type:dataSeries.type,previousDataSeriesCount:0, //to be set next
index:plotType.plotUnits.length,plotType:plotType,axisYType:dataSeries.axisYType,axisY:dataSeries.axisYType === "primary"?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[], //index of dataSeries
yTotals:[]};plotType.plotUnits.push(plotUnit);}plotType.totalDataSeries++;plotUnit.dataSeriesIndexes.push(i);dataSeries.plotUnit = plotUnit;}}for(var i=0;i < this.plotInfo.plotTypes.length;i++) {var plotType=this.plotInfo.plotTypes[i];var previousDataSeriesCount=0;for(var j=0;j < plotType.plotUnits.length;j++) {plotType.plotUnits[j].previousDataSeriesCount = previousDataSeriesCount;previousDataSeriesCount += plotType.plotUnits[j].dataSeriesIndexes.length;}}};Chart.prototype.assignIdToDataPoints = function(){for(var i=0;i < this.data.length;i++) {var dataSeries=this.data[i];if(!dataSeries.dataPoints)continue;var length=dataSeries.dataPoints.length;for(var j=0;j < length;j++) {dataSeries.dataPointIds[j] = ++this._eventManager.lastObjectId;}}};Chart.prototype._processData = function(){this.assignIdToDataPoints();this.categoriseDataSeries();for(var i=0;i < this.plotInfo.plotTypes.length;i++) {var plotType=this.plotInfo.plotTypes[i];for(var j=0;j < plotType.plotUnits.length;j++) {var plotUnit=plotType.plotUnits[j];if(plotUnit.type === "line" || plotUnit.type === "stepLine" || plotUnit.type === "spline" || plotUnit.type === "column" || plotUnit.type === "area" || plotUnit.type === "stepArea" || plotUnit.type === "splineArea" || plotUnit.type === "bar" || plotUnit.type === "bubble" || plotUnit.type === "scatter")this._processMultiseriesPlotUnit(plotUnit);else if(plotUnit.type === "stackedColumn" || plotUnit.type === "stackedBar" || plotUnit.type === "stackedArea")this._processStackedPlotUnit(plotUnit);else if(plotUnit.type === "stackedColumn100" || plotUnit.type === "stackedBar100" || plotUnit.type === "stackedArea100")this._processStacked100PlotUnit(plotUnit);else if(plotUnit.type === "candlestick" || plotUnit.type === "ohlc" || plotUnit.type === "rangeColumn" || plotUnit.type === "rangeBar" || plotUnit.type === "rangeArea" || plotUnit.type === "rangeSplineArea")this._processMultiYPlotUnit(plotUnit);}}};Chart.prototype._processMultiseriesPlotUnit = function(plotUnit){if(!plotUnit.dataSeriesIndexes || plotUnit.dataSeriesIndexes.length < 1)return;var axisYDataInfo=plotUnit.axisY.dataInfo;var axisXDataInfo=plotUnit.axisX.dataInfo;var dataPointX,dataPointY;var isDateTime=false;for(var j=0;j < plotUnit.dataSeriesIndexes.length;j++) {var dataSeries=this.data[plotUnit.dataSeriesIndexes[j]];var i=0;var isFirstDPInViewPort=false;var isLastDPInViewPort=false;if(dataSeries.axisPlacement === "normal" || dataSeries.axisPlacement === "xySwapped"){var plotAreaXMin=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this._options.axisX && this._options.axisX.viewportMinimum?this._options.axisX.viewportMinimum:this._options.axisX && this._options.axisX.minimum?this._options.axisX.minimum:-Infinity;var plotAreaXMax=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this._options.axisX && this._options.axisX.viewportMaximum?this._options.axisX.viewportMaximum:this._options.axisX && this._options.axisX.maximum?this._options.axisX.maximum:Infinity;}if(dataSeries.dataPoints[i].x && dataSeries.dataPoints[i].x.getTime || dataSeries.xValueType === "dateTime"){isDateTime = true;}for(i = 0;i < dataSeries.dataPoints.length;i++) {if(typeof dataSeries.dataPoints[i].x === "undefined"){dataSeries.dataPoints[i].x = i;}if(dataSeries.dataPoints[i].x.getTime){isDateTime = true;dataPointX = dataSeries.dataPoints[i].x.getTime(); //dataPointX is used so that getTime is called only once in case of dateTime values
}else dataPointX = dataSeries.dataPoints[i].x;dataPointY = dataSeries.dataPoints[i].y;if(dataPointX < axisXDataInfo.min)axisXDataInfo.min = dataPointX;if(dataPointX > axisXDataInfo.max)axisXDataInfo.max = dataPointX;if(dataPointY < axisYDataInfo.min)axisYDataInfo.min = dataPointY;if(dataPointY > axisYDataInfo.max)axisYDataInfo.max = dataPointY;if(i > 0){var xDiff=dataPointX - dataSeries.dataPoints[i - 1].x;xDiff < 0 && (xDiff = xDiff * -1); //If Condition shortcut
if(axisXDataInfo.minDiff > xDiff && xDiff !== 0){axisXDataInfo.minDiff = xDiff;}if(dataPointY !== null && dataSeries.dataPoints[i - 1].y !== null){var yDiff=dataPointY - dataSeries.dataPoints[i - 1].y;yDiff < 0 && (yDiff = yDiff * -1); //If Condition shortcut
if(axisYDataInfo.minDiff > yDiff && yDiff !== 0){axisYDataInfo.minDiff = yDiff;}}} // This section makes sure that partially visible dataPoints are included in the begining
if(dataPointX < plotAreaXMin && !isFirstDPInViewPort){continue;}else if(!isFirstDPInViewPort){isFirstDPInViewPort = true;if(i > 0){i -= 2;continue;}} // This section makes sure that partially visible dataPoints are included at the end
if(dataPointX > plotAreaXMax && !isLastDPInViewPort){isLastDPInViewPort = true;}else if(dataPointX > plotAreaXMax && isLastDPInViewPort){continue;}if(dataSeries.dataPoints[i].label)plotUnit.axisX.labels[dataPointX] = dataSeries.dataPoints[i].label;if(dataPointX < axisXDataInfo.viewPortMin)axisXDataInfo.viewPortMin = dataPointX;if(dataPointX > axisXDataInfo.viewPortMax)axisXDataInfo.viewPortMax = dataPointX;if(dataPointY === null)continue;if(dataPointY < axisYDataInfo.viewPortMin)axisYDataInfo.viewPortMin = dataPointY;if(dataPointY > axisYDataInfo.viewPortMax)axisYDataInfo.viewPortMax = dataPointY;}this.plotInfo.axisXValueType = dataSeries.xValueType = isDateTime?"dateTime":"number";} //this.dataPoints.sort(compareDataPointX);
//this.dataPoints.sort(function (dataPoint1, dataPoint2) { return dataPoint1.x - dataPoint2.x; });
};Chart.prototype._processStackedPlotUnit = function(plotUnit){if(!plotUnit.dataSeriesIndexes || plotUnit.dataSeriesIndexes.length < 1)return;var axisYDataInfo=plotUnit.axisY.dataInfo;var axisXDataInfo=plotUnit.axisX.dataInfo;var dataPointX,dataPointY;var isDateTime=false;var dataPointYPositiveSums=[];var dataPointYNegativeSums=[];for(var j=0;j < plotUnit.dataSeriesIndexes.length;j++) {var dataSeries=this.data[plotUnit.dataSeriesIndexes[j]];var i=0;var isFirstDPInViewPort=false;var isLastDPInViewPort=false;if(dataSeries.axisPlacement === "normal" || dataSeries.axisPlacement === "xySwapped"){var plotAreaXMin=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this._options.axisX && this._options.axisX.viewportMinimum?this._options.axisX.viewportMinimum:this._options.axisX && this._options.axisX.minimum?this._options.axisX.minimum:-Infinity;var plotAreaXMax=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this._options.axisX && this._options.axisX.viewportMaximum?this._options.axisX.viewportMaximum:this._options.axisX && this._options.axisX.maximum?this._options.axisX.maximum:Infinity;}if(dataSeries.dataPoints[i].x && dataSeries.dataPoints[i].x.getTime || dataSeries.xValueType === "dateTime"){isDateTime = true;}for(i = 0;i < dataSeries.dataPoints.length;i++) { // Requird when no x values are provided
if(typeof dataSeries.dataPoints[i].x === "undefined"){dataSeries.dataPoints[i].x = i;}if(dataSeries.dataPoints[i].x.getTime){isDateTime = true;dataPointX = dataSeries.dataPoints[i].x.getTime(); //dataPointX is used so that getTime is called only once in case of dateTime values
}else dataPointX = dataSeries.dataPoints[i].x;dataPointY = dataSeries.dataPoints[i].y;if(dataPointX < axisXDataInfo.min)axisXDataInfo.min = dataPointX;if(dataPointX > axisXDataInfo.max)axisXDataInfo.max = dataPointX;if(i > 0){var xDiff=dataPointX - dataSeries.dataPoints[i - 1].x;xDiff < 0 && (xDiff = xDiff * -1); //If Condition shortcut
if(axisXDataInfo.minDiff > xDiff && xDiff !== 0){axisXDataInfo.minDiff = xDiff;}if(dataPointY !== null && dataSeries.dataPoints[i - 1].y !== null){var yDiff=dataPointY - dataSeries.dataPoints[i - 1].y;yDiff < 0 && (yDiff = yDiff * -1); //If Condition shortcut
if(axisYDataInfo.minDiff > yDiff && yDiff !== 0){axisYDataInfo.minDiff = yDiff;}}} // This section makes sure that partially visible dataPoints are included in the begining
if(dataPointX < plotAreaXMin && !isFirstDPInViewPort){continue;}else if(!isFirstDPInViewPort){isFirstDPInViewPort = true;if(i > 0){i -= 2;continue;}} // This section makes sure that partially visible dataPoints are included at the end
if(dataPointX > plotAreaXMax && !isLastDPInViewPort){isLastDPInViewPort = true;}else if(dataPointX > plotAreaXMax && isLastDPInViewPort){continue;}if(dataSeries.dataPoints[i].label)plotUnit.axisX.labels[dataPointX] = dataSeries.dataPoints[i].label;if(dataPointX < axisXDataInfo.viewPortMin)axisXDataInfo.viewPortMin = dataPointX;if(dataPointX > axisXDataInfo.viewPortMax)axisXDataInfo.viewPortMax = dataPointX;if(dataPointY === null)continue;plotUnit.yTotals[dataPointX] = (!plotUnit.yTotals[dataPointX]?0:plotUnit.yTotals[dataPointX]) + Math.abs(dataPointY);if(dataPointY >= 0){if(dataPointYPositiveSums[dataPointX])dataPointYPositiveSums[dataPointX] += dataPointY;else dataPointYPositiveSums[dataPointX] = dataPointY;}else {if(dataPointYNegativeSums[dataPointX])dataPointYNegativeSums[dataPointX] += dataPointY;else dataPointYNegativeSums[dataPointX] = dataPointY;}}this.plotInfo.axisXValueType = dataSeries.xValueType = isDateTime?"dateTime":"number";}for(i in dataPointYPositiveSums) {if(dataPointYPositiveSums.hasOwnProperty(i)){if(isNaN(i)){continue;}var ySum=dataPointYPositiveSums[i];if(ySum < axisYDataInfo.min)axisYDataInfo.min = ySum;if(ySum > axisYDataInfo.max)axisYDataInfo.max = ySum;if(i < axisXDataInfo.viewPortMin || i > axisXDataInfo.viewPortMax)continue;if(ySum < axisYDataInfo.viewPortMin)axisYDataInfo.viewPortMin = ySum;if(ySum > axisYDataInfo.viewPortMax)axisYDataInfo.viewPortMax = ySum;}}for(i in dataPointYNegativeSums) {if(dataPointYNegativeSums.hasOwnProperty(i)){if(isNaN(i)){continue;}var ySum=dataPointYNegativeSums[i];if(ySum < axisYDataInfo.min)axisYDataInfo.min = ySum;if(ySum > axisYDataInfo.max)axisYDataInfo.max = ySum;if(i < axisXDataInfo.viewPortMin || i > axisXDataInfo.viewPortMax)continue;if(ySum < axisYDataInfo.viewPortMin)axisYDataInfo.viewPortMin = ySum;if(ySum > axisYDataInfo.viewPortMax)axisYDataInfo.viewPortMax = ySum;}} //this.dataPoints.sort(compareDataPointX);
//this.dataPoints.sort(function (dataPoint1, dataPoint2) { return dataPoint1.x - dataPoint2.x; });
//window.console.log("viewPortYMin: " + plotInfo.viewPortYMin + "; viewPortYMax: " + plotInfo.viewPortYMax);
};Chart.prototype._processStacked100PlotUnit = function(plotUnit){if(!plotUnit.dataSeriesIndexes || plotUnit.dataSeriesIndexes.length < 1)return;var axisYDataInfo=plotUnit.axisY.dataInfo;var axisXDataInfo=plotUnit.axisX.dataInfo;var dataPointX,dataPointY;var isDateTime=false;var containsPositiveY=false;var containsNegativeY=false;var dataPointYSums=[];for(var j=0;j < plotUnit.dataSeriesIndexes.length;j++) {var dataSeries=this.data[plotUnit.dataSeriesIndexes[j]];var i=0;var isFirstDPInViewPort=false;var isLastDPInViewPort=false;if(dataSeries.axisPlacement === "normal" || dataSeries.axisPlacement === "xySwapped"){var plotAreaXMin=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this._options.axisX && this._options.axisX.viewportMinimum?this._options.axisX.viewportMinimum:this._options.axisX && this._options.axisX.minimum?this._options.axisX.minimum:-Infinity;var plotAreaXMax=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this._options.axisX && this._options.axisX.viewportMaximum?this._options.axisX.viewportMaximum:this._options.axisX && this._options.axisX.maximum?this._options.axisX.maximum:Infinity;}if(dataSeries.dataPoints[i].x && dataSeries.dataPoints[i].x.getTime || dataSeries.xValueType === "dateTime"){isDateTime = true;}for(i = 0;i < dataSeries.dataPoints.length;i++) { // Requird when no x values are provided
if(typeof dataSeries.dataPoints[i].x === "undefined"){dataSeries.dataPoints[i].x = i;}if(dataSeries.dataPoints[i].x.getTime){isDateTime = true;dataPointX = dataSeries.dataPoints[i].x.getTime(); //dataPointX is used so that getTime is called only once in case of dateTime values
}else dataPointX = dataSeries.dataPoints[i].x;dataPointY = dataSeries.dataPoints[i].y;if(dataPointX < axisXDataInfo.min)axisXDataInfo.min = dataPointX;if(dataPointX > axisXDataInfo.max)axisXDataInfo.max = dataPointX;if(i > 0){var xDiff=dataPointX - dataSeries.dataPoints[i - 1].x;xDiff < 0 && (xDiff = xDiff * -1); //If Condition shortcut
if(axisXDataInfo.minDiff > xDiff && xDiff !== 0){axisXDataInfo.minDiff = xDiff;}if(dataPointY !== null && dataSeries.dataPoints[i - 1].y !== null){var yDiff=dataPointY - dataSeries.dataPoints[i - 1].y;yDiff < 0 && (yDiff = yDiff * -1); //If Condition shortcut
if(axisYDataInfo.minDiff > yDiff && yDiff !== 0){axisYDataInfo.minDiff = yDiff;}}} // This section makes sure that partially visible dataPoints are included in the begining
if(dataPointX < plotAreaXMin && !isFirstDPInViewPort){continue;}else if(!isFirstDPInViewPort){isFirstDPInViewPort = true;if(i > 0){i -= 2;continue;}} // This section makes sure that partially visible dataPoints are included at the end
if(dataPointX > plotAreaXMax && !isLastDPInViewPort){isLastDPInViewPort = true;}else if(dataPointX > plotAreaXMax && isLastDPInViewPort){continue;}if(dataSeries.dataPoints[i].label)plotUnit.axisX.labels[dataPointX] = dataSeries.dataPoints[i].label;if(dataPointX < axisXDataInfo.viewPortMin)axisXDataInfo.viewPortMin = dataPointX;if(dataPointX > axisXDataInfo.viewPortMax)axisXDataInfo.viewPortMax = dataPointX;if(dataPointY === null)continue;plotUnit.yTotals[dataPointX] = (!plotUnit.yTotals[dataPointX]?0:plotUnit.yTotals[dataPointX]) + Math.abs(dataPointY);if(dataPointY >= 0){containsPositiveY = true;}else {containsNegativeY = true;}if(dataPointYSums[dataPointX])dataPointYSums[dataPointX] += Math.abs(dataPointY);else dataPointYSums[dataPointX] = Math.abs(dataPointY);}this.plotInfo.axisXValueType = dataSeries.xValueType = isDateTime?"dateTime":"number";}if(containsPositiveY && !containsNegativeY){axisYDataInfo.max = 99;axisYDataInfo.min = 1;}else if(containsPositiveY && containsNegativeY){axisYDataInfo.max = 99;axisYDataInfo.min = -99;}else if(!containsPositiveY && containsNegativeY){axisYDataInfo.max = -1;axisYDataInfo.min = -99;}axisYDataInfo.viewPortMin = axisYDataInfo.min;axisYDataInfo.viewPortMax = axisYDataInfo.max;plotUnit.dataPointYSums = dataPointYSums; //this.dataPoints.sort(compareDataPointX);
//this.dataPoints.sort(function (dataPoint1, dataPoint2) { return dataPoint1.x - dataPoint2.x; });
//window.console.log("viewPortYMin: " + plotInfo.viewPortYMin + "; viewPortYMax: " + plotInfo.viewPortYMax);
};Chart.prototype._processMultiYPlotUnit = function(plotUnit){if(!plotUnit.dataSeriesIndexes || plotUnit.dataSeriesIndexes.length < 1)return;var axisYDataInfo=plotUnit.axisY.dataInfo;var axisXDataInfo=plotUnit.axisX.dataInfo;var dataPointX,dataPointY,dataPointYMin,dataPointYMax;var isDateTime=false;for(var j=0;j < plotUnit.dataSeriesIndexes.length;j++) {var dataSeries=this.data[plotUnit.dataSeriesIndexes[j]];var i=0;var isFirstDPInViewPort=false;var isLastDPInViewPort=false;if(dataSeries.axisPlacement === "normal" || dataSeries.axisPlacement === "xySwapped"){var plotAreaXMin=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this._options.axisX && this._options.axisX.viewportMinimum?this._options.axisX.viewportMinimum:this._options.axisX && this._options.axisX.minimum?this._options.axisX.minimum:-Infinity;var plotAreaXMax=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this._options.axisX && this._options.axisX.viewportMaximum?this._options.axisX.viewportMaximum:this._options.axisX && this._options.axisX.maximum?this._options.axisX.maximum:Infinity;}if(dataSeries.dataPoints[i].x && dataSeries.dataPoints[i].x.getTime || dataSeries.xValueType === "dateTime"){isDateTime = true;}for(i = 0;i < dataSeries.dataPoints.length;i++) {if(typeof dataSeries.dataPoints[i].x === "undefined"){dataSeries.dataPoints[i].x = i;}if(dataSeries.dataPoints[i].x.getTime){isDateTime = true;dataPointX = dataSeries.dataPoints[i].x.getTime(); //dataPointX is used so that getTime is called only once in case of dateTime values
}else dataPointX = dataSeries.dataPoints[i].x;dataPointY = dataSeries.dataPoints[i].y;if(dataPointY && dataPointY.length){dataPointYMin = Math.min.apply(null,dataPointY);dataPointYMax = Math.max.apply(null,dataPointY);}if(dataPointX < axisXDataInfo.min)axisXDataInfo.min = dataPointX;if(dataPointX > axisXDataInfo.max)axisXDataInfo.max = dataPointX;if(dataPointYMin < axisYDataInfo.min)axisYDataInfo.min = dataPointYMin;if(dataPointYMax > axisYDataInfo.max)axisYDataInfo.max = dataPointYMax;if(i > 0){var xDiff=dataPointX - dataSeries.dataPoints[i - 1].x;xDiff < 0 && (xDiff = xDiff * -1); //If Condition shortcut
if(axisXDataInfo.minDiff > xDiff && xDiff !== 0){axisXDataInfo.minDiff = xDiff;}if(dataPointY[0] !== null && dataSeries.dataPoints[i - 1].y[0] !== null){var yDiff=dataPointY[0] - dataSeries.dataPoints[i - 1].y[0];yDiff < 0 && (yDiff = yDiff * -1); //If Condition shortcut
if(axisYDataInfo.minDiff > yDiff && yDiff !== 0){axisYDataInfo.minDiff = yDiff;}}} // This section makes sure that partially visible dataPoints are included in the begining
if(dataPointX < plotAreaXMin && !isFirstDPInViewPort){continue;}else if(!isFirstDPInViewPort){isFirstDPInViewPort = true;if(i > 0){i -= 2;continue;}} // This section makes sure that partially visible dataPoints are included at the end
if(dataPointX > plotAreaXMax && !isLastDPInViewPort){isLastDPInViewPort = true;}else if(dataPointX > plotAreaXMax && isLastDPInViewPort){continue;}if(dataSeries.dataPoints[i].label)plotUnit.axisX.labels[dataPointX] = dataSeries.dataPoints[i].label;if(dataPointX < axisXDataInfo.viewPortMin)axisXDataInfo.viewPortMin = dataPointX;if(dataPointX > axisXDataInfo.viewPortMax)axisXDataInfo.viewPortMax = dataPointX;if(dataPointY === null)continue;if(dataPointYMin < axisYDataInfo.viewPortMin)axisYDataInfo.viewPortMin = dataPointYMin;if(dataPointYMax > axisYDataInfo.viewPortMax)axisYDataInfo.viewPortMax = dataPointYMax;}this.plotInfo.axisXValueType = dataSeries.xValueType = isDateTime?"dateTime":"number";} //this.dataPoints.sort(compareDataPointX);
//this.dataPoints.sort(function (dataPoint1, dataPoint2) { return dataPoint1.x - dataPoint2.x; });
}; //getClosest returns objects nearby and hence shouldn't be used for events like click, mouseover, mousemove, etc which require object that is exactly under the mouse.
Chart.prototype.getDataPointAtXY = function(mouseX,mouseY,getClosest){getClosest = getClosest || false;var results=[];for(var i=this._dataInRenderedOrder.length - 1;i >= 0;i--) {var dataSeries=this._dataInRenderedOrder[i];var result=null;result = dataSeries.getDataPointAtXY(mouseX,mouseY,getClosest);if(result)results.push(result);}var closestResult=null;var onlyLineAreaTypes=false;for(var m=0;m < results.length;m++) {if(results[m].dataSeries.type === "line" || results[m].dataSeries.type === "stepLine" || results[m].dataSeries.type === "area" || results[m].dataSeries.type === "stepArea"){var markerSize=(0,_utils.getProperty)("markerSize",results[m].dataPoint,results[m].dataSeries) || 8;if(results[m].distance <= markerSize / 2){onlyLineAreaTypes = true;break;}}}for(m = 0;m < results.length;m++) {if(onlyLineAreaTypes && results[m].dataSeries.type !== "line" && results[m].dataSeries.type !== "stepLine" && results[m].dataSeries.type !== "area" && results[m].dataSeries.type !== "stepArea")continue;if(!closestResult){closestResult = results[m];}else if(results[m].distance <= closestResult.distance){closestResult = results[m];}}return closestResult;};Chart.prototype.getObjectAtXY = function(mouseX,mouseY,getClosest){getClosest = getClosest || false;var id=null;var dataPointInfo=this.getDataPointAtXY(mouseX,mouseY,getClosest);if(dataPointInfo){id = dataPointInfo.dataSeries.dataPointIds[dataPointInfo.dataPointIndex];}else if(_utils.isCanvasSupported){ //IE9+
id = (0,_utils.getObjectId)(mouseX,mouseY,this._eventManager.ghostCtx);}else {for(var i=0;i < this.legend.items.length;i++) {var item=this.legend.items[i];if(mouseX >= item.x1 && mouseX <= item.x2 && mouseY >= item.y1 && mouseY <= item.y2){id = item.id;}}}return id;}; /// <summary>Calculates Font Size based on standardSize and Chart Size</summary>
/// <param name="standardSize" type="Number">Standard font size for a Chart with min(width,height) = 400px</param>
/// <returns type="Number">The area.</returns>
Chart.prototype.getAutoFontSize = function(standardSize,width,height){width = width || this.width;height = height || this.height;var fontSizeScaleFactor=standardSize / 400;return Math.round(Math.min(this.width,this.height) * fontSizeScaleFactor);}; //#region Events
Chart.prototype.resetOverlayedCanvas = function(){ //var width = this.overlaidCanvas.width;
//this.overlaidCanvas.width = 0;
//this.overlaidCanvas.width = width;
this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height);};Chart.prototype.clearCanvas = function(){this.ctx.clearRect(0,0,this.width,this.height);if(this.backgroundColor){this.ctx.fillStyle = this.backgroundColor;this.ctx.fillRect(0,0,this.width,this.height);}};Chart.prototype.attachEvent = function(param){this._events.push(param);};Chart.prototype._touchEventHandler = function(ev){if(!ev.changedTouches || !this.interactivityEnabled)return;var mouseEvents=[];var touches=ev.changedTouches;var first=touches?touches[0]:ev;var touchCurrentCoordinates=null; //window.console.log(touches.length);
switch(ev.type){case "touchstart":case "MSPointerDown":mouseEvents = ["mousemove","mousedown"];this._lastTouchData = (0,_utils.getMouseCoordinates)(first);this._lastTouchData.time = new Date();break;case "touchmove":case "MSPointerMove":mouseEvents = ["mousemove"];break;case "touchend":case "MSPointerUp":mouseEvents = this._lastTouchEventType === "touchstart" || this._lastTouchEventType === "MSPointerDown"?["mouseup","click"]:["mouseup"];break;default:return;}if(touches && touches.length > 1)return;touchCurrentCoordinates = (0,_utils.getMouseCoordinates)(first);touchCurrentCoordinates.time = new Date();try{var dy=touchCurrentCoordinates.y - this._lastTouchData.y;var dx=touchCurrentCoordinates.x - this._lastTouchData.x;var dt=touchCurrentCoordinates.time - this._lastTouchData.time;if(Math.abs(dy) > 15 && (!!this._lastTouchData.scroll || dt < 200)){ //this._lastTouchData.y = touchCurrentCoordinates.y;
this._lastTouchData.scroll = true;var win=window.parent || window;if(win && win.scrollBy)win.scrollBy(0,-dy);}}catch(e) {};this._lastTouchEventType = ev.type;if(!!this._lastTouchData.scroll && this.zoomEnabled){if(this.isDrag)this.resetOverlayedCanvas();this.isDrag = false;return;}for(var i=0;i < mouseEvents.length;i++) {var type=mouseEvents[i];var simulatedEvent=document.createEvent("MouseEvent");simulatedEvent.initMouseEvent(type,true,true,window,1,first.screenX,first.screenY,first.clientX,first.clientY,false,false,false,false,0,null);first.target.dispatchEvent(simulatedEvent);if(ev.preventManipulation){ //alert("preventManipulation");
ev.preventManipulation();}if(ev.preventDefault){ //alert("preventDefault");
ev.preventDefault();}}};Chart.prototype._dispatchRangeEvent = function(eventName,triggerSource){var eventParameter={};eventParameter.chart = this._publicChartReference;eventParameter.type = eventName;eventParameter.trigger = triggerSource;var axes=[];if(this.axisX)axes.push("axisX");if(this.axisY)axes.push("axisY");if(this.axisY2)axes.push("axisY2");for(var i=0;i < axes.length;i++) {eventParameter[axes[i]] = {viewportMinimum:this[axes[i]].sessionVariables.newViewportMinimum,viewportMaximum:this[axes[i]].sessionVariables.newViewportMaximum};}this.dispatchEvent(eventName,eventParameter,this._publicChartReference);};Chart.prototype._mouseEventHandler = function(ev){if(!this.interactivityEnabled)return;if(this._ignoreNextEvent){this._ignoreNextEvent = false;return;} // stop panning and zooming so we can draw
if(ev.preventManipulation){ //alert("preventManipulation");
ev.preventManipulation();} // we are handling this event
if(ev.preventDefault){ //alert("preventDefault");
ev.preventDefault();} //IE8- uses srcElement instead of target. So instead of checking this condition everytime, its better to create a reference called target.
if(typeof ev.target === "undefined" && ev.srcElement)ev.target = ev.srcElement; //console.log(ev.type);
var xy=(0,_utils.getMouseCoordinates)(ev);var type=ev.type;var eventParam;var rightclick;if(!ev)var e=window.event;if(ev.which)rightclick = ev.which == 3;else if(ev.button)rightclick = ev.button == 2; //window.console.log(type + " --> x: " + xy.x + "; y:" + xy.y);
//if (type === "mouseout") {
//    this._toolTip.hide();
//}
if(_options.isDebugMode && window.console){window.console.log(type + " --> x: " + xy.x + "; y:" + xy.y);if(rightclick)window.console.log(ev.which);if(type === "mouseup")window.console.log("mouseup");}if(rightclick)return; //if (this.plotInfo.axisPlacement === "xySwapped") {
//    //var temp = xy.x;
//    //xy.x = xy.y;
//    //xy.y = temp;
//    xy = {x: xy.y, y: xy.x};
//}
if(Chart.capturedEventParam){eventParam = Chart.capturedEventParam;if(type === "mouseup"){Chart.capturedEventParam = null;if(eventParam.chart.overlaidCanvas.releaseCapture)eventParam.chart.overlaidCanvas.releaseCapture();else document.body.removeEventListener("mouseup",eventParam.chart._mouseEventHandler,false);}if(eventParam.hasOwnProperty(type))eventParam[type].call(eventParam.context,xy.x,xy.y);}else if(this._events){for(var i=0;i < this._events.length;i++) {if(!this._events[i].hasOwnProperty(type))continue;eventParam = this._events[i];var bounds=eventParam.bounds;if(xy.x >= bounds.x1 && xy.x <= bounds.x2 && xy.y >= bounds.y1 && xy.y <= bounds.y2){eventParam[type].call(eventParam.context,xy.x,xy.y);if(type === "mousedown" && eventParam.capture === true){Chart.capturedEventParam = eventParam;if(this.overlaidCanvas.setCapture)this.overlaidCanvas.setCapture();else {document.body.addEventListener("mouseup",this._mouseEventHandler,false); //addEvent(document.body, "mouseup", this._mouseEventHandler);
}}else if(type === "mouseup"){if(eventParam.chart.overlaidCanvas.releaseCapture)eventParam.chart.overlaidCanvas.releaseCapture();else document.body.removeEventListener("mouseup",this._mouseEventHandler,false);}break;}else eventParam = null;}if(eventParam && eventParam.cursor){ev.target.style.cursor = eventParam.cursor;}else ev.target.style.cursor = this._defaultCursor; //eventParam =
}if(this._toolTip && this._toolTip.enabled){var plotArea=this.plotArea;if(xy.x < plotArea.x1 || xy.x > plotArea.x2 || xy.y < plotArea.y1 || xy.y > plotArea.y2)this._toolTip.hide();}if((!this.isDrag || !this.zoomEnabled) && this._eventManager){this._eventManager.mouseEventHandler(ev); //this._updateToolTip(ev.x, ev.y);
} //if (this._toolTip.enabled)
//    this._toolTip.mouseMoveHandler(ev.x, ev.y);
};Chart.prototype._plotAreaMouseDown = function(x,y){this.isDrag = true;if(this.plotInfo.axisPlacement !== "none"){this.dragStartPoint = {x:x,y:y};}else {this.dragStartPoint = {x:x,y:y};}};Chart.prototype._plotAreaMouseUp = function(x,y){if(this.plotInfo.axisPlacement === "normal" || this.plotInfo.axisPlacement === "xySwapped"){if(this.isDrag){var dragDelta=0,dragDeltaPY=y - this.dragStartPoint.y,dragDeltaPX=x - this.dragStartPoint.x,zoomPX=this.zoomType.indexOf("x") >= 0, //Whether to zoom horizontally
zoomPY=this.zoomType.indexOf("y") >= 0, //Whether to zoom vertically
reRender=false;this.resetOverlayedCanvas();if(this.plotInfo.axisPlacement === "xySwapped"){var temp=zoomPY;zoomPY = zoomPX;zoomPX = temp;}if(this.panEnabled || this.zoomEnabled){if(this.panEnabled){var overflow=0;for(var i=0;i < this._axes.length;i++) {var axis=this._axes[i];if(axis.viewportMinimum < axis.minimum){overflow = axis.minimum - axis.viewportMinimum;axis.sessionVariables.newViewportMinimum = axis.viewportMinimum + overflow;axis.sessionVariables.newViewportMaximum = axis.viewportMaximum + overflow;reRender = true;}else if(axis.viewportMaximum > axis.maximum){overflow = axis.viewportMaximum - axis.maximum;axis.sessionVariables.newViewportMinimum = axis.viewportMinimum - overflow;axis.sessionVariables.newViewportMaximum = axis.viewportMaximum - overflow;reRender = true;}}}else if((!zoomPX || Math.abs(dragDeltaPX) > 2) && (!zoomPY || Math.abs(dragDeltaPY) > 2) && this.zoomEnabled){if(!this.dragStartPoint)return;var selectedRegion={x1:zoomPX?this.dragStartPoint.x:this.plotArea.x1,y1:zoomPY?this.dragStartPoint.y:this.plotArea.y1,x2:zoomPX?x:this.plotArea.x2,y2:zoomPY?y:this.plotArea.y2};if(Math.abs(selectedRegion.x1 - selectedRegion.x2) > 2 && Math.abs(selectedRegion.y1 - selectedRegion.y2) > 2){if(this._zoomPanToSelectedRegion(selectedRegion.x1,selectedRegion.y1,selectedRegion.x2,selectedRegion.y2)){reRender = true;}}}if(reRender){this._ignoreNextEvent = true; //Required so that click event doesn't fire after zooming into a section of the chart.
this._dispatchRangeEvent("rangeChanging","zoom");this.render();this._dispatchRangeEvent("rangeChanged","zoom");if(reRender && this.zoomEnabled && this._zoomButton.style.display === "none"){(0,_utils.show)(this._zoomButton,this._resetButton);setButtonState(this,this._zoomButton,"pan");setButtonState(this,this._resetButton,"reset");}}}}}this.isDrag = false;};Chart.prototype._plotAreaMouseMove = function(x,y){if(this.isDrag && this.plotInfo.axisPlacement !== "none"){var dragDeltaPX=0,dragDeltaPY=0,alpha=null,selectedRegion=null,zoomPX=this.zoomType.indexOf("x") >= 0, //Whether to zoom horizontally
zoomPY=this.zoomType.indexOf("y") >= 0, //Whether to zoom vertically
_this=this;if(this.plotInfo.axisPlacement === "xySwapped"){var temp=zoomPY;zoomPY = zoomPX;zoomPX = temp;}dragDeltaPX = this.dragStartPoint.x - x;dragDeltaPY = this.dragStartPoint.y - y;if(Math.abs(dragDeltaPX) > 2 && Math.abs(dragDeltaPX) < 8 && (this.panEnabled || this.zoomEnabled)){this._toolTip.hide();}else if(!this.panEnabled && !this.zoomEnabled){this._toolTip.mouseMoveHandler(x,y);}if((!zoomPX || Math.abs(dragDeltaPX) > 2 || !zoomPY || Math.abs(dragDeltaPY) > 2) && (this.panEnabled || this.zoomEnabled)){if(this.panEnabled){selectedRegion = {x1:zoomPX?this.plotArea.x1 + dragDeltaPX:this.plotArea.x1,y1:zoomPY?this.plotArea.y1 + dragDeltaPY:this.plotArea.y1,x2:zoomPX?this.plotArea.x2 + dragDeltaPX:this.plotArea.x2,y2:zoomPY?this.plotArea.y2 + dragDeltaPY:this.plotArea.y2};if(this._zoomPanToSelectedRegion(selectedRegion.x1,selectedRegion.y1,selectedRegion.x2,selectedRegion.y2,true)){this._dispatchRangeEvent("rangeChanging","pan");this.render();this._dispatchRangeEvent("rangeChanged","pan");this.dragStartPoint.x = x;this.dragStartPoint.y = y; //clearTimeout(this._panTimerId);
//this._panTimerId = setTimeout(function () {
//	_this._dispatchRangeEvent("rangeChanging", "pan");
//	_this.render();
//	_this._dispatchRangeEvent("rangeChanged", "pan");
//}, 0);
}}else if(this.zoomEnabled){this.resetOverlayedCanvas();alpha = this.overlaidCanvasCtx.globalAlpha;this.overlaidCanvasCtx.globalAlpha = .7;this.overlaidCanvasCtx.fillStyle = "#A0ABB8";var rect={x1:zoomPX?this.dragStartPoint.x:this.plotArea.x1,y1:zoomPY?this.dragStartPoint.y:this.plotArea.y1,x2:zoomPX?x - this.dragStartPoint.x:this.plotArea.x2 - this.plotArea.x1,y2:zoomPY?y - this.dragStartPoint.y:this.plotArea.y2 - this.plotArea.y1};this.overlaidCanvasCtx.fillRect(rect.x1,rect.y1,rect.x2,rect.y2);this.overlaidCanvasCtx.globalAlpha = alpha;}}}else this._toolTip.mouseMoveHandler(x,y);}; //#endregion Events
//Sets the viewport range of Axis based on the given rect bounds (pixels). Also limits the zooming/panning based on axis bounds. Returns a boolean to indicate whether it was succesful or not based on the selected region.
Chart.prototype._zoomPanToSelectedRegion = function(px1,py1,px2,py2,keepAxisIndependent){keepAxisIndependent = keepAxisIndependent || false;var zoomPX=this.zoomType.indexOf("x") >= 0, //Whether to zoom horizontally
zoomPY=this.zoomType.indexOf("y") >= 0, //Whether to zoom vertically
validRegion=false;var axes=[],axesWithValidRange=[];if(this.axisX && zoomPX)axes.push(this.axisX);if(this.axisY && zoomPY)axes.push(this.axisY);if(this.axisY2 && zoomPY)axes.push(this.axisY2);var params=[];for(var i=0;i < axes.length;i++) {var axis=axes[i]; //var range = Math.abs(axis.viewportMaximum - axis.viewportMinimum);
var val1=axis.convertPixelToValue({x:px1,y:py1});var val2=axis.convertPixelToValue({x:px2,y:py2});if(val1 > val2){var temp=val2;val2 = val1;val1 = temp;}if(isFinite(axis.dataInfo.minDiff)){if(!(Math.abs(val2 - val1) < 3 * Math.abs(axis.dataInfo.minDiff) || val1 < axis.minimum || val2 > axis.maximum)){axesWithValidRange.push(axis);params.push({val1:val1,val2:val2});validRegion = true;}else if(!keepAxisIndependent){validRegion = false;break;}}}if(validRegion){for(var i=0;i < axesWithValidRange.length;i++) {var axis=axesWithValidRange[i];var param=params[i];axis.setViewPortRange(param.val1,param.val2);}}return validRegion;};Chart.prototype.preparePlotArea = function(){var plotArea=this.plotArea;var yAxis=this.axisY?this.axisY:this.axisY2;if(!_utils.isCanvasSupported && (plotArea.x1 > 0 || plotArea.y1 > 0)){plotArea.ctx.translate(plotArea.x1,plotArea.y1);}if(this.axisX && yAxis){plotArea.x1 = this.axisX.lineCoordinates.x1 < this.axisX.lineCoordinates.x2?this.axisX.lineCoordinates.x1:yAxis.lineCoordinates.x1;plotArea.y1 = this.axisX.lineCoordinates.y1 < yAxis.lineCoordinates.y1?this.axisX.lineCoordinates.y1:yAxis.lineCoordinates.y1;plotArea.x2 = this.axisX.lineCoordinates.x2 > yAxis.lineCoordinates.x2?this.axisX.lineCoordinates.x2:yAxis.lineCoordinates.x2;plotArea.y2 = this.axisX.lineCoordinates.y2 > this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:yAxis.lineCoordinates.y2;plotArea.width = plotArea.x2 - plotArea.x1;plotArea.height = plotArea.y2 - plotArea.y1; //plotArea = { x1: x1, y1: y1, x2: x2, y2: y2, width: x2 - x1, height: y2 - y1 };
}else { //ToDo: @sunil
var freeSpace=this.layoutManager.getFreeSpace();plotArea.x1 = freeSpace.x1;plotArea.x2 = freeSpace.x2;plotArea.y1 = freeSpace.y1;plotArea.y2 = freeSpace.y2;plotArea.width = freeSpace.width;plotArea.height = freeSpace.height;}if(!_utils.isCanvasSupported){plotArea.canvas.width = plotArea.width;plotArea.canvas.height = plotArea.height;plotArea.canvas.style.left = plotArea.x1 + "px";plotArea.canvas.style.top = plotArea.y1 + "px";if(plotArea.x1 > 0 || plotArea.y1 > 0){plotArea.ctx.translate(-plotArea.x1,-plotArea.y1);}}plotArea.layoutManager = new _layout_manager2.default(plotArea.x1,plotArea.y1,plotArea.x2,plotArea.y2,2);};Chart.prototype.getPixelCoordinatesOnPlotArea = function(x,y){return {x:this.axisX.getPixelCoordinatesOnAxis(x).x,y:this.axisY.getPixelCoordinatesOnAxis(y).y}; //return { x: 5, y: 10 };
}; //#region Render Methods
Chart.prototype.renderIndexLabels = function(targetCtx){var ctx=targetCtx || this.plotArea.ctx;var plotArea=this.plotArea;var mid=0;var yMinLimit=0;var yMaxLimit=0;var xMinLimit=0;var xMaxLimit=0;var marginX=0,marginY=0; // Margin between label and dataPoint / PlotArea
var offSetX=0,offSetY=0; // Distance to offSet textBlock (top) from dataPoint inorder to position it
var visibleWidth=0;var visibleHeight=0;for(var i=0;i < this._indexLabels.length;i++) {var indexLabel=this._indexLabels[i];var chartTypeLower=indexLabel.chartType.toLowerCase();var x,y,angle;var fontColor=(0,_utils.getProperty)("indexLabelFontColor",indexLabel.dataPoint,indexLabel.dataSeries);var fontSize=(0,_utils.getProperty)("indexLabelFontSize",indexLabel.dataPoint,indexLabel.dataSeries);var fontFamily=(0,_utils.getProperty)("indexLabelFontFamily",indexLabel.dataPoint,indexLabel.dataSeries);var fontStyle=(0,_utils.getProperty)("indexLabelFontStyle",indexLabel.dataPoint,indexLabel.dataSeries);var fontWeight=(0,_utils.getProperty)("indexLabelFontWeight",indexLabel.dataPoint,indexLabel.dataSeries);var backgroundColor=(0,_utils.getProperty)("indexLabelBackgroundColor",indexLabel.dataPoint,indexLabel.dataSeries);var maxWidth=(0,_utils.getProperty)("indexLabelMaxWidth",indexLabel.dataPoint,indexLabel.dataSeries);var indexLabelWrap=(0,_utils.getProperty)("indexLabelWrap",indexLabel.dataPoint,indexLabel.dataSeries);var percentAndTotal={percent:null,total:null};var formatterParameter=null;if(indexLabel.dataSeries.type.indexOf("stacked") >= 0 || indexLabel.dataSeries.type === "pie" || indexLabel.dataSeries.type === "doughnut")percentAndTotal = this.getPercentAndTotal(indexLabel.dataSeries,indexLabel.dataPoint);if(indexLabel.dataSeries.indexLabelFormatter || indexLabel.dataPoint.indexLabelFormatter)formatterParameter = {chart:this._options,dataSeries:indexLabel.dataSeries,dataPoint:indexLabel.dataPoint,index:indexLabel.indexKeyword,total:percentAndTotal.total,percent:percentAndTotal.percent};var indexLabelText=indexLabel.dataPoint.indexLabelFormatter?indexLabel.dataPoint.indexLabelFormatter(formatterParameter):indexLabel.dataPoint.indexLabel?this.replaceKeywordsWithValue(indexLabel.dataPoint.indexLabel,indexLabel.dataPoint,indexLabel.dataSeries,null,indexLabel.indexKeyword):indexLabel.dataSeries.indexLabelFormatter?indexLabel.dataSeries.indexLabelFormatter(formatterParameter):indexLabel.dataSeries.indexLabel?this.replaceKeywordsWithValue(indexLabel.dataSeries.indexLabel,indexLabel.dataPoint,indexLabel.dataSeries,null,indexLabel.indexKeyword):null;if(indexLabelText === null || indexLabelText === "")continue;var placement=(0,_utils.getProperty)("indexLabelPlacement",indexLabel.dataPoint,indexLabel.dataSeries);var orientation=(0,_utils.getProperty)("indexLabelOrientation",indexLabel.dataPoint,indexLabel.dataSeries);var angle=0;var direction=indexLabel.direction; // +1 for above the point and -1 for below the point
var axisX=indexLabel.dataSeries.axisX;var axisY=indexLabel.dataSeries.axisY;var textBlock=new _text_block2.default(ctx,{x:0,y:0,maxWidth:maxWidth?maxWidth:this.width * .5,maxHeight:indexLabelWrap?fontSize * 5:fontSize * 1.5,angle:orientation === "horizontal"?0:-90,text:indexLabelText,padding:0,backgroundColor:backgroundColor,horizontalAlign:"left", //left, center, right
fontSize:fontSize, //in pixels
fontFamily:fontFamily,fontWeight:fontWeight, //normal, bold, bolder, lighter,
fontColor:fontColor,fontStyle:fontStyle, // normal, italic, oblique
textBaseline:"top"});var textSize=textBlock.measureText(); //if (indexLabel.dataPoint.x < axisX.viewportMinimum || indexLabel.dataPoint.x > axisX.viewportMaximum || indexLabel.dataPoint.y < axisY.viewportMinimum || indexLabel.dataPoint.y > axisY.viewportMaximum)
//	continue;
if(chartTypeLower.indexOf("line") >= 0 || chartTypeLower.indexOf("area") >= 0 || chartTypeLower.indexOf("bubble") >= 0 || chartTypeLower.indexOf("scatter") >= 0){if(indexLabel.dataPoint.x < axisX.viewportMinimum || indexLabel.dataPoint.x > axisX.viewportMaximum || indexLabel.dataPoint.y < axisY.viewportMinimum || indexLabel.dataPoint.y > axisY.viewportMaximum)continue;}else {if(indexLabel.dataPoint.x < axisX.viewportMinimum || indexLabel.dataPoint.x > axisX.viewportMaximum)continue;}marginY = 2;marginX = 2;if(orientation === "horizontal"){visibleWidth = textBlock.width;visibleHeight = textBlock.height;}else {visibleHeight = textBlock.width;visibleWidth = textBlock.height;}if(this.plotInfo.axisPlacement === "normal"){if(chartTypeLower.indexOf("line") >= 0 || chartTypeLower.indexOf("area") >= 0){placement = "auto";marginY = 4;}else if(chartTypeLower.indexOf("stacked") >= 0){if(placement === "auto")placement = "inside";}else if(chartTypeLower === "bubble" || chartTypeLower === "scatter"){placement = "inside";}x = indexLabel.point.x - visibleWidth / 2;if(placement !== "inside"){ //outside or auto
yMinLimit = plotArea.y1;yMaxLimit = plotArea.y2;if(direction > 0){y = indexLabel.point.y - visibleHeight - marginY;if(y < yMinLimit){if(placement === "auto"){y = Math.max(indexLabel.point.y,yMinLimit) + marginY;}else {y = yMinLimit + marginY;}}}else {y = indexLabel.point.y + marginY;if(y > yMaxLimit - visibleHeight - marginY){if(placement === "auto"){y = Math.min(indexLabel.point.y,yMaxLimit) - visibleHeight - marginY;}else {y = yMaxLimit - visibleHeight - marginY;}}}}else {yMinLimit = Math.max(indexLabel.bounds.y1,plotArea.y1);yMaxLimit = Math.min(indexLabel.bounds.y2,plotArea.y2);if(chartTypeLower.indexOf("range") >= 0){if(direction > 0)mid = Math.max(indexLabel.bounds.y1,plotArea.y1) + visibleHeight / 2 + marginY;else mid = Math.min(indexLabel.bounds.y2,plotArea.y2) - visibleHeight / 2 - marginY;}else mid = (Math.max(indexLabel.bounds.y1,plotArea.y1) + Math.min(indexLabel.bounds.y2,plotArea.y2)) / 2;if(direction > 0){y = Math.max(indexLabel.point.y,mid) - visibleHeight / 2;if(y < yMinLimit && (chartTypeLower === "bubble" || chartTypeLower === "scatter")){y = Math.max(indexLabel.point.y - visibleHeight - marginY,plotArea.y1 + marginY);}}else {y = Math.min(indexLabel.point.y,mid) - visibleHeight / 2;if(y > yMaxLimit - visibleHeight - marginY && (chartTypeLower === "bubble" || chartTypeLower === "scatter")){y = Math.min(indexLabel.point.y + marginY,plotArea.y2 - visibleHeight - marginY);}} // Make Sure that it does not overlap the axis line
y = Math.min(y,yMaxLimit - visibleHeight);}}else {if(chartTypeLower.indexOf("line") >= 0 || chartTypeLower.indexOf("area") >= 0 || chartTypeLower.indexOf("scatter") >= 0){placement = "auto";marginX = 4;}else if(chartTypeLower.indexOf("stacked") >= 0){if(placement === "auto")placement = "inside";}else if(chartTypeLower === "bubble"){placement = "inside";}y = indexLabel.point.y - visibleHeight / 2;if(placement !== "inside"){ //outside or auto
xMinLimit = plotArea.x1;xMaxLimit = plotArea.x2;if(direction < 0){x = indexLabel.point.x - visibleWidth - marginX;if(x < xMinLimit){if(placement === "auto"){x = Math.max(indexLabel.point.x,xMinLimit) + marginX;}else {x = xMinLimit + marginX;}}}else {x = indexLabel.point.x + marginX;if(x > xMaxLimit - visibleWidth - marginX){if(placement === "auto"){x = Math.min(indexLabel.point.x,xMaxLimit) - visibleWidth - marginX;}else {x = xMaxLimit - visibleWidth - marginX;}}}}else {xMinLimit = Math.max(indexLabel.bounds.x1,plotArea.x1);xMaxLimit = Math.min(indexLabel.bounds.x2,plotArea.x2);if(chartTypeLower.indexOf("range") >= 0){if(direction < 0)mid = Math.max(indexLabel.bounds.x1,plotArea.x1) + visibleWidth / 2 + marginX;else mid = Math.min(indexLabel.bounds.x2,plotArea.x2) - visibleWidth / 2 - marginX;}else var mid=(Math.max(indexLabel.bounds.x1,plotArea.x1) + Math.min(indexLabel.bounds.x2,plotArea.x2)) / 2;if(direction < 0){x = Math.max(indexLabel.point.x,mid) - visibleWidth / 2; //if (y < xMinLimit) {
//	y = Math.max(indexLabel.point.y - visibleHeight - marginY, plotArea.y1 + marginY);
//}
}else {x = Math.min(indexLabel.point.x,mid) - visibleWidth / 2; //if (y > xMaxLimit - visibleHeight - marginY) {
//	y = Math.min(indexLabel.point.y + marginY, plotArea.y2 - visibleHeight - marginY);
//}
} // Make Sure that it does not overlap the axis line
x = Math.max(x,xMinLimit);}}if(orientation === "vertical"){y += visibleHeight;}textBlock.x = x;textBlock.y = y; //console.log(textBlock.text + ": " + textBlock.x + "; " + textBlock.y);
textBlock.render(true);} //source and dest would be same when animation is not enabled
var animationInfo={source:ctx,dest:this.plotArea.ctx,animationCallback:_animator4.default.fadeInAnimation,easingFunction:_animator4.default.easing.easeInQuad,animationBase:0,startTimePercent:.7};return animationInfo;};Chart.prototype.renderLine = function(plotUnit){var ctx=plotUnit.targetCanvasCtx || this.plotArea.ctx;var totalDataSeries=plotUnit.dataSeriesIndexes.length;if(totalDataSeries <= 0)return;var ghostCtx=this._eventManager.ghostCtx; //var ghostCtx = this.overlaidCanvasCtx;
ctx.save();var plotArea=this.plotArea;ctx.beginPath();ctx.rect(plotArea.x1,plotArea.y1,plotArea.width,plotArea.height);ctx.clip();var markers=[];for(var j=0;j < plotUnit.dataSeriesIndexes.length;j++) {var dataSeriesIndex=plotUnit.dataSeriesIndexes[j];var dataSeries=this.data[dataSeriesIndex];ctx.lineWidth = dataSeries.lineThickness;var dataPoints=dataSeries.dataPoints;if(ctx.setLineDash){ctx.setLineDash((0,_utils.getLineDashArray)(dataSeries.lineDashType,dataSeries.lineThickness));}var seriesId=dataSeries.id;this._eventManager.objectMap[seriesId] = {objectType:"dataSeries",dataSeriesIndex:dataSeriesIndex};var hexColor=(0,_utils.intToHexColorString)(seriesId);ghostCtx.strokeStyle = hexColor; //ghostCtx.lineWidth = dataSeries.lineThickness;
ghostCtx.lineWidth = dataSeries.lineThickness > 0?Math.max(dataSeries.lineThickness,4):0;var colorSet=dataSeries._colorSet;var color=colorSet[0];ctx.strokeStyle = color;var isFirstDataPointInPlotArea=true;var i=0,x,y;var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.
//if (!dataSeries._options.markerSize && dataSeries.dataPoints.length < 1000)
//    dataSeries.markerSize = 8;
ctx.beginPath();if(dataPoints.length > 0){ //var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);
//dataSeries.noDataPointsInPlotArea = 0
var prevDataNull=false;for(i = 0;i < dataPoints.length;i++) {dataPointX = dataPoints[i].x.getTime?dataPoints[i].x.getTime():dataPoints[i].x;if(dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax)continue; //if (!isFinite(dataPoints[i].y))
//    continue;
if(typeof dataPoints[i].y !== "number"){if(i > 0){ // if first dataPoint is null then no need to call stroke method
ctx.stroke();if(_utils.isCanvasSupported){ghostCtx.stroke();}}prevDataNull = true;continue;}x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;var id=dataSeries.dataPointIds[i];this._eventManager.objectMap[id] = {id:id,objectType:"dataPoint",dataSeriesIndex:dataSeriesIndex,dataPointIndex:i,x1:x,y1:y}; //dataSeries.noDataPointsInPlotArea++;
if(isFirstDataPointInPlotArea || prevDataNull){ctx.beginPath();ctx.moveTo(x,y);if(_utils.isCanvasSupported){ghostCtx.beginPath();ghostCtx.moveTo(x,y);}isFirstDataPointInPlotArea = false;prevDataNull = false;}else {ctx.lineTo(x,y);if(_utils.isCanvasSupported)ghostCtx.lineTo(x,y);if(i % 500 == 0){ctx.stroke();ctx.beginPath();ctx.moveTo(x,y);if(_utils.isCanvasSupported){ghostCtx.stroke();ghostCtx.beginPath();ghostCtx.moveTo(x,y);}}} //Render Marker
if(dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0){var markerProps=dataSeries.getMarkerProperties(i,x,y,ctx);markers.push(markerProps); //if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
//}
var markerColor=(0,_utils.intToHexColorString)(id); //window.console.log("index: " + i + "; id: " + id + "; hex: " + markerColor);
if(_utils.isCanvasSupported){markers.push({x:x,y:y,ctx:ghostCtx,type:markerProps.type,size:markerProps.size,color:markerColor,borderColor:markerColor,borderThickness:markerProps.borderThickness});}}if(dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter){this._indexLabels.push({chartType:"line",dataPoint:dataPoints[i],dataSeries:dataSeries,point:{x:x,y:y},direction:dataPoints[i].y >= 0?1:-1,color:color});}}ctx.stroke();if(_utils.isCanvasSupported)ghostCtx.stroke();}}_render2.default.drawMarkers(markers);ctx.restore();ctx.beginPath();if(_utils.isCanvasSupported)ghostCtx.beginPath(); //source and dest would be same when animation is not enabled
var animationInfo={source:ctx,dest:this.plotArea.ctx,animationCallback:_animator4.default.xClipAnimation,easingFunction:_animator4.default.easing.linear,animationBase:0};return animationInfo;};Chart.prototype.renderStepLine = function(plotUnit){var ctx=plotUnit.targetCanvasCtx || this.plotArea.ctx;var totalDataSeries=plotUnit.dataSeriesIndexes.length;if(totalDataSeries <= 0)return;var ghostCtx=this._eventManager.ghostCtx; //var ghostCtx = this.overlaidCanvasCtx;
ctx.save();var plotArea=this.plotArea;ctx.beginPath();ctx.rect(plotArea.x1,plotArea.y1,plotArea.width,plotArea.height);ctx.clip();var markers=[];for(var j=0;j < plotUnit.dataSeriesIndexes.length;j++) {var dataSeriesIndex=plotUnit.dataSeriesIndexes[j];var dataSeries=this.data[dataSeriesIndex];ctx.lineWidth = dataSeries.lineThickness;var dataPoints=dataSeries.dataPoints;if(ctx.setLineDash){ctx.setLineDash((0,_utils.getLineDashArray)(dataSeries.lineDashType,dataSeries.lineThickness));}var seriesId=dataSeries.id;this._eventManager.objectMap[seriesId] = {objectType:"dataSeries",dataSeriesIndex:dataSeriesIndex};var hexColor=(0,_utils.intToHexColorString)(seriesId);ghostCtx.strokeStyle = hexColor; //ghostCtx.lineWidth = dataSeries.lineThickness;
ghostCtx.lineWidth = dataSeries.lineThickness > 0?Math.max(dataSeries.lineThickness,4):0;var colorSet=dataSeries._colorSet;var color=colorSet[0];ctx.strokeStyle = color;var isFirstDataPointInPlotArea=true;var i=0,x,y;var dataPointX; //Used so that when dataPoint.x is a DateTime value, it doesn't get converted to number back and forth.
//if (!dataSeries._options.markerSize && dataSeries.dataPoints.length < 1000)
//    dataSeries.markerSize = 8;
ctx.beginPath();if(dataPoints.length > 0){ //var xy = this.getPixelCoordinatesOnPlotArea(dataPoints[0].x, dataPoints[0].y);
//dataSeries.noDataPointsInPlotArea = 0
var prevDataNull=false;for(i = 0;i < dataPoints.length;i++) {dataPointX = dataPoints[i].getTime?dataPoints[i].x.getTime():dataPoints[i].x;if(dataPointX < plotUnit.axisX.dataInfo.viewPortMin || dataPointX > plotUnit.axisX.dataInfo.viewPortMax)continue; //if (!isFinite(dataPoints[i].y))
//    continue;
if(typeof dataPoints[i].y !== "number"){if(i > 0){ // if first dataPoint is null then no need to call stroke method
ctx.stroke();if(_utils.isCanvasSupported){ghostCtx.stroke();}}prevDataNull = true;continue;}var prevY=y;x = plotUnit.axisX.conversionParameters.reference + plotUnit.axisX.conversionParameters.pixelPerUnit * (dataPointX - plotUnit.axisX.conversionParameters.minimum) + .5 << 0;y = plotUnit.axisY.conversionParameters.reference + plotUnit.axisY.conversionParameters.pixelPerUnit * (dataPoints[i].y - plotUnit.axisY.conversionParameters.minimum) + .5 << 0;var id=dataSeries.dataPointIds[i];this._eventManager.objectMap[id] = {id:id,objectType:"dataPoint",dataSeriesIndex:dataSeriesIndex,dataPointIndex:i,x1:x,y1:y}; //dataSeries.noDataPointsInPlotArea++;
if(isFirstDataPointInPlotArea || prevDataNull){ctx.beginPath();ctx.moveTo(x,y);if(_utils.isCanvasSupported){ghostCtx.beginPath();ghostCtx.moveTo(x,y);}isFirstDataPointInPlotArea = false;prevDataNull = false;}else {ctx.lineTo(x,prevY);if(_utils.isCanvasSupported)ghostCtx.lineTo(x,prevY);ctx.lineTo(x,y);if(_utils.isCanvasSupported)ghostCtx.lineTo(x,y);if(i % 500 == 0){ctx.stroke();ctx.beginPath();ctx.moveTo(x,y);if(_utils.isCanvasSupported){ghostCtx.stroke();ghostCtx.beginPath();ghostCtx.moveTo(x,y);}}} //Render Marker
if(dataPoints[i].markerSize > 0 || dataSeries.markerSize > 0){var markerProps=dataSeries.getMarkerProperties(i,x,y,ctx);markers.push(markerProps); //if (!dataSeries.maxWidthInX || markerProps.size > dataSeries.maxWidthInX) {
//	dataSeries.maxWidthInX = markerProps.size / (plotUnit.axisX.conversionParameters.pixelPerUnit > 1 ? plotUnit.axisX.conversionParameters.pixelPerUnit - 1 : plotUnit.axisX.conversionParameters.pixelPerUnit);
//}
var markerColor=(0,_utils.intToHexColorString)(id); //window.console.log("index: " + i + "; id: " + id + "; hex: " + markerColor);
if(_utils.isCanvasSupported){markers.push({x:x,y:y,ctx:ghostCtx,type:markerProps.type,size:markerProps.size,color:markerColor,borderColor:markerColor,borderThickness:markerProps.borderThickness});}}if(dataPoints[i].indexLabel || dataSeries.indexLabel || dataPoints[i].indexLabelFormatter || dataSeries.indexLabelFormatter){this._indexLabels.push({chartType:"stepLine",dataPoint:dataPoints[i],dataSeries:dataSeries,point:{x:x,y:y},direction:dataPoints[i].y >= 0?1:-1,color:color});}}ctx.stroke();if(_utils.isCanvasSupported)ghostCtx.stroke();}}_render2.default.drawMarkers(markers);ctx.restore();ctx.beginPath();if(_utils.isCanvasSupported)ghostCtx.beginPath(); //source and dest would be same when animation is not enabled
var animationInfo={source:ctx,dest:this.plotArea.ctx,animationCallback:_animator4.default.xClipAnimation,easingFunction:_animator4.default.easing.linear,animationBase:0};return animationInfo;};Chart.prototype.animationRequestId = null;Chart.prototype.requestAnimFrame = (function(){return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback){window.setTimeout(callback,1000 / 60);};})();Chart.prototype.cancelRequestAnimFrame = (function(){return window.cancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout;})();Chart.prototype.getPercentAndTotal = function(ds,dp){var dpX=null;var total=null;var percent=null;if(ds.type.indexOf("stacked") >= 0){total = 0;dpX = dp.x.getTime?dp.x.getTime():dp.x;if(dpX in ds.plotUnit.yTotals){total = ds.plotUnit.yTotals[dpX];if(!isNaN(dp.y)){if(total === 0)percent = 0;else percent = dp.y / total * 100;}else percent = 0;}}else if(ds.type === "pie" || ds.type === "doughnut"){total = 0;for(var i=0;i < ds.dataPoints.length;i++) {if(!isNaN(ds.dataPoints[i].y))total += ds.dataPoints[i].y;}if(!isNaN(dp.y))percent = dp.y / total * 100;else percent = 0;}return {percent:percent,total:total};};Chart.prototype.replaceKeywordsWithValue = function(str,dp,ds,dpIndex,indexKeywordValue){ //var regex = /\{\s*[a-zA-Z]+\s*\}|"[^"]*"|'[^']*'/g;
var regex=/\{.*?\}|"[^"]*"|'[^']*'/g;var chart=this;indexKeywordValue = typeof indexKeywordValue === "undefined"?0:indexKeywordValue;if((ds.type.indexOf("stacked") >= 0 || ds.type === "pie" || ds.type === "doughnut") && (str.indexOf("#percent") >= 0 || str.indexOf("#total") >= 0)){var percent="#percent";var total="#total";var dpX=null;var percentAndTotal=this.getPercentAndTotal(ds,dp);total = isNaN(percentAndTotal.total)?total:percentAndTotal.total;percent = isNaN(percentAndTotal.percent)?percent:percentAndTotal.percent;do {var percentFormatString="";if(ds.percentFormatString)percentFormatString = ds.percentFormatString;else {percentFormatString = "#,##0.";var numberOfDecimals=Math.max(Math.ceil(Math.log(1 / Math.abs(percent)) / Math.LN10),2);if(isNaN(numberOfDecimals) || !isFinite(numberOfDecimals))numberOfDecimals = 2;for(var n=0;n < numberOfDecimals;n++) {percentFormatString += "#";}}str = str.replace("#percent",(0,_utils.numberFormat)(percent,percentFormatString,chart._cultureInfo));str = str.replace("#total",(0,_utils.numberFormat)(total,ds.yValueFormatString?ds.yValueFormatString:"#,##0.########"));}while(str.indexOf("#percent") >= 0 || str.indexOf("#total") >= 0);}var fcn=function fcn($0){if($0[0] === "\"" && $0[$0.length - 1] === "\"" || $0[0] === "\'" && $0[$0.length - 1] === "\'")return $0.slice(1,$0.length - 1);var key=(0,_utils.trimString)($0.slice(1,$0.length - 1));key = key.replace("#index",indexKeywordValue);var index=null;try{var match=key.match(/(.*?)\s*\[\s*(.*?)\s*\]/);if(match && match.length > 0){index = (0,_utils.trimString)(match[2]);key = (0,_utils.trimString)(match[1]);}}catch(e) {};var obj=null;if(key === "color"){return dp.color?dp.color:ds.color?ds.color:ds._colorSet[dpIndex % ds._colorSet.length];}if(dp.hasOwnProperty(key))obj = dp;else if(ds.hasOwnProperty(key))obj = ds;else return "";var value=obj[key];if(index !== null)value = value[index];if(key === "x"){if(chart.axisX && chart.plotInfo.axisXValueType === "dateTime")return dateFormat(value,dp.xValueFormatString?dp.xValueFormatString:ds.xValueFormatString?ds.xValueFormatString:chart.axisX && chart.axisX.valueFormatString?chart.axisX.valueFormatString:"DD MMM YY",chart._cultureInfo);else return (0,_utils.numberFormat)(value,dp.xValueFormatString?dp.xValueFormatString:ds.xValueFormatString?ds.xValueFormatString:"#,##0.########",chart._cultureInfo);}else if(key === "y")return (0,_utils.numberFormat)(value,dp.yValueFormatString?dp.yValueFormatString:ds.yValueFormatString?ds.yValueFormatString:"#,##0.########",chart._cultureInfo);else if(key === "z")return (0,_utils.numberFormat)(value,dp.zValueFormatString?dp.zValueFormatString:ds.zValueFormatString?ds.zValueFormatString:"#,##0.########",chart._cultureInfo);else return value;};return str.replace(regex,fcn);};Chart.prototype.renderSpline = _index.SplineChart;Chart.prototype.renderColumn = _index.ColumnChart;Chart.prototype.renderStackedColumn = _index.StackedColumnChart;Chart.prototype.renderStackedColumn100 = _index.StackedColumn100Chart;Chart.prototype.renderBar = _index.BarChart;Chart.prototype.renderStackedBar = _index.StackedBarChart;Chart.prototype.renderStackedBar100 = _index.StackedBar100Chart;Chart.prototype.renderArea = _index.AreaChart;Chart.prototype.renderSplineArea = _index.SplineAreaChart;Chart.prototype.renderStepArea = _index.StepAreaChart;Chart.prototype.renderStackedArea = _index.StackedAreaChart;Chart.prototype.renderStackedArea100 = _index.StackedArea100Chart;Chart.prototype.renderBubble = _index.BubbleChart;Chart.prototype.renderScatter = _index.ScatterChart;Chart.prototype.renderCandlestick = _index.CandlestickChart;Chart.prototype.renderRangeColumn = _index.RangeColumnChart;Chart.prototype.renderRangeBar = _index.RangeBarChart;Chart.prototype.renderRangeArea = _index.RangeAreaChart;Chart.prototype.renderRangeSplineArea = _index.RangeSplineAreaChart;Chart.prototype.renderPie = _index.PieChart;exports.default = Chart;

},{"../charts/index":9,"../constants/options":26,"../constants/themes":27,"../core/axis":29,"../core/culture_info":32,"../core/legend":36,"../core/title":39,"../helpers/animator":41,"../helpers/render":42,"../helpers/utils":43,"./animator":28,"./canvasjs":30,"./data_series":33,"./event_manager":34,"./layout_manager":35,"./text_block":38,"./tooltip":40}],32:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _utils = require('../helpers/utils');

var _culture = require('../constants/culture');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function CultureInfo(culture) {

  var cultureInfo;

  if (culture && _culture.cultures[culture]) cultureInfo = _culture.cultures[culture];

  CultureInfo.base.constructor.call(this, "CultureInfo", cultureInfo);
}

(0, _utils.extend)(CultureInfo, _canvasjs2.default);

exports.default = CultureInfo;

},{"../constants/culture":25,"../helpers/utils":43,"./canvasjs":30}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function DataSeries(chart, options, theme, index, id) {
  DataSeries.base.constructor.call(this, "DataSeries", options, theme);

  this.chart = chart;
  this.canvas = chart.canvas;
  this._ctx = chart.canvas.ctx;
  this.index = index;
  this.noDataPointsInPlotArea = 0;
  //this.maxWidthInX = 0;
  this.id = id;
  this.chart._eventManager.objectMap[id] = {
    id: id, objectType: "dataSeries", dataSeriesIndex: index
  };
  this.dataPointIds = [];
  this.plotUnit = [];

  this.axisX = null;
  this.axisY = null;

  if (this.fillOpacity === null) {
    if (this.type.match(/area/i)) this.fillOpacity = .7;else this.fillOpacity = 1;
  }

  this.axisPlacement = this.getDefaultAxisPlacement();

  if (typeof this._options.indexLabelFontSize === "undefined") {

    this.indexLabelFontSize = this.chart.getAutoFontSize(this.indexLabelFontSize);
  }
}

(0, _utils.extend)(DataSeries, _canvasjs2.default);

//Static Method that returns the axisPlacement for a given ChartType. Returns one of "normal", "xySwapped", "none"
DataSeries.prototype.getDefaultAxisPlacement = function () {

  //if (!this.visible)
  //	return "none";

  //type = this.type.toLowerCase();
  var type = this.type;

  if (type === "column" || type === "line" || type === "stepLine" || type === "spline" || type === "area" || type === "stepArea" || type === "splineArea" || type === "stackedColumn" || type === "stackedLine" || type === "bubble" || type === "scatter" || type === "stackedArea" || type === "stackedColumn100" || type === "stackedLine100" || type === "stackedArea100" || type === "candlestick" || type === "ohlc" || type === "rangeColumn" || type === "rangeArea" || type === "rangeSplineArea") {
    return "normal";
  } else if (type === "bar" || type === "stackedBar" || type === "stackedBar100" || type === "rangeBar") {

    return "xySwapped";
  } else if (type === "pie" || type === "doughnut" || type === "funnel") {
    return "none";
  } else {
    window.console.log("Unknown Chart Type: " + type);
    return null;
  }
};

DataSeries.getDefaultLegendMarker = function (type) {

  //type = type.toLowerCase();

  if (type === "column" || type === "stackedColumn" || type === "stackedLine" || type === "bar" || type === "stackedBar" || type === "stackedBar100" || type === "bubble" || type === "scatter" || type === "stackedColumn100" || type === "stackedLine100" || type === "stepArea" || type === "candlestick" || type === "ohlc" || type === "rangeColumn" || type === "rangeBar" || type === "rangeArea" || type === "rangeSplineArea") {
    return "square";
  } else if (type === "line" || type === "stepLine" || type === "spline" || type === "pie" || type === "doughnut" || type === "funnel") {
    return "circle";
  } else if (type === "area" || type === "splineArea" || type === "stackedArea" || type === "stackedArea100") {
    return "triangle";
  } else {
    window.console.log("Unknown Chart Type: " + type);
    return null;
  }
};

//Finds dataPoint with the given x value. If findClosest is set, finds dataPoint with closest x value.
//Returns searchResult object if found, else returns null
DataSeries.prototype.getDataPointAtX = function (x, findClosest) {

  if (!this.dataPoints || this.dataPoints.length === 0) return null;

  var searchResult = {
    dataPoint: null, distance: Infinity, index: NaN
  };
  var dataPoint = null;

  var j = 0;
  var i = 0;
  var direction = 1; // +1 for foward and -1 for backward.

  var minimumXDistance = Infinity;
  var forwardMissCount = 0,
      backwardMissCount = 0;
  var maxMissCount = 1000;
  var searchStartIndex = 0;

  if (this.chart.plotInfo.axisPlacement !== "none") {

    //var xRange = (this.dataPoints[this.dataPoints.length - 1].x - this.dataPoints[0].x);

    //if (xRange > 0)
    //	searchStartIndex = ((this.dataPoints.length - 1) / xRange * (x - this.dataPoints[0].x)) >> 0;
    //else
    //	searchStartIndex = 0;

    var xRange = this.dataPoints[this.dataPoints.length - 1].x - this.dataPoints[0].x;

    if (xRange > 0) searchStartIndex = Math.min(Math.max((this.dataPoints.length - 1) / xRange * (x - this.dataPoints[0].x) >> 0, 0), this.dataPoints.length);else searchStartIndex = 0;

    //searchStartIndex = ((this.dataPoints[this.dataPoints.length - 1].x - this.dataPoints[0].x) / this.dataPoints.length * (x - this.dataPoints[0].x)) >> 0;
  }

  while (true) {

    i = direction > 0 ? searchStartIndex + j : searchStartIndex - j;

    if (i >= 0 && i < this.dataPoints.length) {

      dataPoint = this.dataPoints[i];

      var distance = Math.abs(dataPoint.x - x);

      if (distance < searchResult.distance) {
        searchResult.dataPoint = dataPoint;
        searchResult.distance = distance;
        searchResult.index = i;
      }

      var xDistance = Math.abs(dataPoint.x - x);
      if (xDistance <= minimumXDistance) minimumXDistance = xDistance;else {
        if (direction > 0) forwardMissCount++;else backwardMissCount++;
      }

      if (forwardMissCount > maxMissCount && backwardMissCount > maxMissCount) break;
    } else if (searchStartIndex - j < 0 && searchStartIndex + j >= this.dataPoints.length) break;

    if (direction === -1) {
      j++;
      direction = 1;
    } else direction = -1;
  }

  if (!findClosest && searchResult.dataPoint.x === x) return searchResult;else if (findClosest && searchResult.dataPoint !== null) return searchResult;else return null;
};

// x & y should be in pixels. Can be used only after rendering the chart.
DataSeries.prototype.getDataPointAtXY = function (x, y, getClosest) {

  if (!this.dataPoints || this.dataPoints.length === 0) return null;

  getClosest = getClosest || false;
  var results = [];
  var j = 0,
      i = 0;
  var direction = 1; // +1 for foward and -1 for backward.
  var foundDataPoint = false;
  var minimumXDistance = Infinity;
  var forwardMissCount = 0,
      backwardMissCount = 0;
  var maxMissCount = 1000;
  var searchStartIndex = 0;

  if (this.chart.plotInfo.axisPlacement !== "none") {
    var xval = this.chart.axisX.getXValueAt({ x: x, y: y });

    var xRange = this.dataPoints[this.dataPoints.length - 1].x - this.dataPoints[0].x;

    if (xRange > 0) searchStartIndex = Math.min(Math.max((this.dataPoints.length - 1) / xRange * (xval - this.dataPoints[0].x) >> 0, 0), this.dataPoints.length);else searchStartIndex = 0;

    //var xRange = (this.axisX._absoluteMaximum - this.axisX._absoluteMinimum);

    //if (xRange > 0)
    //	searchStartIndex = Math.min(Math.max(((this.dataPoints.length - 1) / xRange * (xval - this.axisX._absoluteMinimum)) >> 0, 0), this.dataPoints.length);
    //else
    //	searchStartIndex = 0;
  }

  while (true) {

    //i = searchStartIndex + (j * direction);
    i = direction > 0 ? searchStartIndex + j : searchStartIndex - j;

    if (i >= 0 && i < this.dataPoints.length) {

      var id = this.dataPointIds[i];
      var visualInfo = this.chart._eventManager.objectMap[id];
      var dataPoint = this.dataPoints[i];
      var distance = null;

      if (visualInfo) {

        switch (this.type) {

          case "column":
          case "stackedColumn":
          case "stackedColumn100":
          case "bar":
          case "stackedBar":
          case "stackedBar100":
          case "rangeColumn":
          case "rangeBar":

            if (x >= visualInfo.x1 && x <= visualInfo.x2 && y >= visualInfo.y1 && y <= visualInfo.y2) {
              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: Math.min(Math.abs(visualInfo.x1 - x), Math.abs(visualInfo.x2 - x), Math.abs(visualInfo.y1 - y), Math.abs(visualInfo.y2 - y))
                //distance:0
              });

              foundDataPoint = true;
            }
            break;

          case "line":
          case "stepLine":
          case "spline":
          case "area":
          case "stepArea":
          case "stackedArea":
          case "stackedArea100":
          case "splineArea":
          case "scatter":
            var markerSize = (0, _utils.getProperty)("markerSize", dataPoint, this) || 4;
            var snapDistance = getClosest ? 20 : markerSize;

            distance = Math.sqrt(Math.pow(visualInfo.x1 - x, 2) + Math.pow(visualInfo.y1 - y, 2));
            if (distance <= snapDistance) {
              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: distance
              });
            }

            var xDistance = Math.abs(visualInfo.x1 - x);
            if (xDistance <= minimumXDistance) minimumXDistance = xDistance;else {
              if (direction > 0) forwardMissCount++;else backwardMissCount++;
            }

            if (distance <= markerSize / 2) {
              foundDataPoint = true;
            }

            break;

          case "rangeArea":
          case "rangeSplineArea":

            var markerSize = (0, _utils.getProperty)("markerSize", dataPoint, this) || 4;
            var snapDistance = getClosest ? 20 : markerSize;

            distance = Math.min(Math.sqrt(Math.pow(visualInfo.x1 - x, 2) + Math.pow(visualInfo.y1 - y, 2)), Math.sqrt(Math.pow(visualInfo.x1 - x, 2) + Math.pow(visualInfo.y2 - y, 2)));
            if (distance <= snapDistance) {
              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: distance
              });
            }

            var xDistance = Math.abs(visualInfo.x1 - x);
            if (xDistance <= minimumXDistance) minimumXDistance = xDistance;else {
              if (direction > 0) forwardMissCount++;else backwardMissCount++;
            }

            if (distance <= markerSize / 2) {
              foundDataPoint = true;
            }

            break;

          case "bubble":
            var markerSize = visualInfo.size;
            distance = Math.sqrt(Math.pow(visualInfo.x1 - x, 2) + Math.pow(visualInfo.y1 - y, 2));
            if (distance <= markerSize / 2) {
              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: distance
              });

              foundDataPoint = true;
            }
            break;

          case "pie":
          case "doughnut":
            var center = visualInfo.center;
            var innerRadius = this.type === "doughnut" ? visualInfo.percentInnerRadius * visualInfo.radius : 0;

            distance = Math.sqrt(Math.pow(center.x - x, 2) + Math.pow(center.y - y, 2));
            if (distance < visualInfo.radius && distance > innerRadius) {

              var deltaY = y - center.y;
              var deltaX = x - center.x;
              var angle = Math.atan2(deltaY, deltaX);

              if (angle < 0) angle += Math.PI * 2;

              angle = Number(((angle / Math.PI * 180 % 360 + 360) % 360).toFixed(12));
              //console.log(angle);

              var startAngle = Number(((visualInfo.startAngle / Math.PI * 180 % 360 + 360) % 360).toFixed(12));
              var endAngle = Number(((visualInfo.endAngle / Math.PI * 180 % 360 + 360) % 360).toFixed(12));

              //So that data point is detected when there is only one dataPoint
              if (endAngle === 0 && visualInfo.endAngle > 1) {
                endAngle = 360;
              }

              if (startAngle >= endAngle && dataPoint.y !== 0) {
                endAngle += 360;

                if (angle < startAngle) angle += 360;
              }

              if (angle > startAngle && angle < endAngle) {
                results.push({
                  dataPoint: dataPoint,
                  dataPointIndex: i,
                  dataSeries: this,
                  distance: 0
                });

                foundDataPoint = true;
              }
            }

            break;

          case "candlestick":
            if (x >= visualInfo.x1 - visualInfo.borderThickness / 2 && x <= visualInfo.x2 + visualInfo.borderThickness / 2 && y >= visualInfo.y2 - visualInfo.borderThickness / 2 && y <= visualInfo.y3 + visualInfo.borderThickness / 2 || Math.abs(visualInfo.x2 - x + visualInfo.x1 - x) < visualInfo.borderThickness && y >= visualInfo.y1 && y <= visualInfo.y4) {
              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: Math.min(Math.abs(visualInfo.x1 - x), Math.abs(visualInfo.x2 - x), Math.abs(visualInfo.y2 - y), Math.abs(visualInfo.y3 - y))
                //distance:0
              });

              foundDataPoint = true;
            }
            break;

          case "ohlc":

            if (Math.abs(visualInfo.x2 - x + visualInfo.x1 - x) < visualInfo.borderThickness && y >= visualInfo.y2 && y <= visualInfo.y3 || x >= visualInfo.x1 && x <= (visualInfo.x2 + visualInfo.x1) / 2 && y >= visualInfo.y1 - visualInfo.borderThickness / 2 && y <= visualInfo.y1 + visualInfo.borderThickness / 2 || x >= (visualInfo.x1 + visualInfo.x2) / 2 && x <= visualInfo.x2 && y >= visualInfo.y4 - visualInfo.borderThickness / 2 && y <= visualInfo.y4 + visualInfo.borderThickness / 2) {

              results.push({
                dataPoint: dataPoint,
                dataPointIndex: i,
                dataSeries: this,
                distance: Math.min(Math.abs(visualInfo.x1 - x), Math.abs(visualInfo.x2 - x), Math.abs(visualInfo.y2 - y), Math.abs(visualInfo.y3 - y))
                //distance:0
              });

              foundDataPoint = true;
            }
            break;

        }

        if (foundDataPoint || forwardMissCount > maxMissCount && backwardMissCount > maxMissCount) break;
      }
    } else if (searchStartIndex - j < 0 && searchStartIndex + j >= this.dataPoints.length) break;

    if (direction === -1) {
      j++;
      direction = 1;
    } else direction = -1;
  }

  var closestResult = null;

  for (var m = 0; m < results.length; m++) {
    if (!closestResult) {
      closestResult = results[m];
    } else if (results[m].distance <= closestResult.distance) {
      closestResult = results[m];
    }
  }

  //if (window.console)
  //	window.console.log("forwardMissCount: " + forwardMissCount + "; backwardMissCount: " + backwardMissCount + "; getClosest: " + getClosest);

  //if (window.console && closestResult)
  //    window.console.log(j + ": distance = " + closestResult.distance);

  return closestResult;
};

DataSeries.prototype.getMarkerProperties = function (index, x, y, ctx) {
  var dataPoints = this.dataPoints;
  var dataSeries = this;

  var markerColor = dataPoints[index].markerColor ? dataPoints[index].markerColor : dataSeries.markerColor ? dataSeries.markerColor : dataPoints[index].color ? dataPoints[index].color : dataSeries.color ? dataSeries.color : dataSeries._colorSet[index % dataSeries._colorSet.length];
  var markerBorderColor = dataPoints[index].markerBorderColor ? dataPoints[index].markerBorderColor : dataSeries.markerBorderColor ? dataSeries.markerBorderColor : null;
  var markerBorderThickness = dataPoints[index].markerBorderThickness ? dataPoints[index].markerBorderThickness : dataSeries.markerBorderThickness ? dataSeries.markerBorderThickness : null;
  var markerType = dataPoints[index].markerType ? dataPoints[index].markerType : dataSeries.markerType;
  var markerSize = dataPoints[index].markerSize ? dataPoints[index].markerSize : dataSeries.markerSize;

  return {
    x: x, y: y, ctx: ctx,
    type: markerType,
    size: markerSize,
    color: markerColor,
    borderColor: markerBorderColor,
    borderThickness: markerBorderThickness
  };
};

exports.default = DataSeries;

},{"../helpers/utils":43,"./canvasjs":30}],34:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _utils = require("../helpers/utils");

function EventManager(chart) {
  this.chart = chart;
  this.lastObjectId = 0;
  var _this = this;
  this.objectMap = [];
  this.rectangularRegionEventSubscriptions = [];
  this.previousDataPointEventObject = null;
  //this.previousDataSeriesEventObject = null;

  this.ghostCanvas = (0, _utils.createCanvas)(this.chart.width, this.chart.height);
  //this.ghostCanvas.width = this.chart.width;
  //this.ghostCanvas.height = this.chart.height;

  this.ghostCtx = this.ghostCanvas.getContext("2d");

  var eventHandler = function eventHandler(ev) {
    _this.mouseEventHandler.call(_this, ev);
  };

  this.mouseoveredObjectMaps = [];
  //this.chart.canvas.addEventListener("mouseover", eventHandler);
  //this.chart.canvas.addEventListener("mousemove", eventHandler);
  //this.chart.canvas.addEventListener("mouseout", eventHandler);
  //this.chart.canvas.addEventListener("click", eventHandler);
}

EventManager.prototype.reset = function () {
  this.lastObjectId = 0;
  this.objectMap = [];
  this.rectangularRegionEventSubscriptions = [];
  this.previousDataPointEventObject = null;

  this.eventObjects = [];
  //this.ghostCanvas.width = this.chart.width;
  //this.ghostCanvas.height = this.chart.height;

  if (_utils.isCanvasSupported) {
    this.ghostCtx.clearRect(0, 0, this.chart.width, this.chart.height);
    this.ghostCtx.beginPath();
  }
};

EventManager.prototype.getNewObjectTrackingId = function () {
  return ++this.lastObjectId;
};

EventManager.prototype.mouseEventHandler = function (ev) {

  if (ev.type !== "mousemove" && ev.type !== "click") return;

  var eventObjectMaps = [];
  var xy = (0, _utils.getMouseCoordinates)(ev);
  var id = null;

  //var dataPointInfo = this.chart.getDataPointAtXY(xy.x, xy.y, false);

  //if (dataPointInfo) {
  //	id = dataPointInfo.dataSeries.dataPointIds[dataPointInfo.dataPointIndex];
  //} else if (isCanvasSupported) {//IE9+
  //	id = getObjectId(xy.x, xy.y, this.ghostCtx);
  //}
  id = this.chart.getObjectAtXY(xy.x, xy.y, false);

  if (id && typeof this.objectMap[id] !== "undefined") {

    var eventObjectMap = this.objectMap[id];

    if (eventObjectMap.objectType === "dataPoint") {
      var dataSeries = this.chart.data[eventObjectMap.dataSeriesIndex];
      var dataPoint = dataSeries.dataPoints[eventObjectMap.dataPointIndex];
      var dataPointIndex = eventObjectMap.dataPointIndex;

      //Event Parameter should not contain reference to dataSeries directly. But to its options.
      eventObjectMap.eventParameter = {
        x: xy.x, y: xy.y, dataPoint: dataPoint,
        dataSeries: dataSeries._options, dataPointIndex: dataPointIndex, dataSeriesIndex: dataSeries.index,
        chart: this.chart._publicChartReference
      };
      eventObjectMap.eventContext = {
        context: dataPoint, userContext: dataPoint, mouseover: "mouseover", mousemove: "mousemove", mouseout: "mouseout", click: "click"
      };
      eventObjectMaps.push(eventObjectMap);

      //Add Dataseries too because mouse event on dataPoint also means there is an event on dataSeries. DataSeries is not present on ghost canvas
      eventObjectMap = this.objectMap[dataSeries.id];

      //Event Parameter should not contain reference to dataSeries directly. But to its options.
      eventObjectMap.eventParameter = {
        x: xy.x, y: xy.y,
        dataPoint: dataPoint, dataSeries: dataSeries._options, dataPointIndex: dataPointIndex, dataSeriesIndex: dataSeries.index,
        chart: this.chart._publicChartReference
      };

      eventObjectMap.eventContext = {
        context: dataSeries, userContext: dataSeries._options, mouseover: "mouseover", mousemove: "mousemove", mouseout: "mouseout", click: "click"
      };
      eventObjectMaps.push(this.objectMap[dataSeries.id]);
    }
    //else if (eventObjectMap.objectType === "stripLine") {

    //	//Event Parameter should not contain reference to stripLine directly. But to its options.
    //	eventObjectMap.eventParameter = { x: xy.x, y: xy.y, stripLine: eventObjectMap.stripLine._options, axis: eventObjectMap.axis._options, stripLineIndex: eventObjectMap.stripLineIndex };
    //	eventObjectMap.eventContext = { context: eventObjectMap.stripLine, userContext: eventObjectMap.stripLine._options, mouseover: "mouseover", mousemove: "mousemove", mouseout: "mouseout", click: "click" };

    //	eventObjectMaps.push(eventObjectMap);
    //}
    else if (eventObjectMap.objectType === "legendItem") {

        var dataSeries = this.chart.data[eventObjectMap.dataSeriesIndex];
        var dataPoint = eventObjectMap.dataPointIndex !== null ? dataSeries.dataPoints[eventObjectMap.dataPointIndex] : null;

        //Event Parameter should not contain reference to DataSeries directly. But to its options.
        eventObjectMap.eventParameter = {
          x: xy.x, y: xy.y,
          dataSeries: dataSeries._options, dataPoint: dataPoint, dataPointIndex: eventObjectMap.dataPointIndex, dataSeriesIndex: eventObjectMap.dataSeriesIndex,
          chart: this.chart._publicChartReference
        };
        eventObjectMap.eventContext = {
          context: this.chart.legend, userContext: this.chart.legend._options, mouseover: "itemmouseover", mousemove: "itemmousemove", mouseout: "itemmouseout", click: "itemclick"
        };
        eventObjectMaps.push(eventObjectMap);
      }
  }

  //Fire mouseout if existing mouseovered objects are not present in the objectmap.
  var mouseOutObjectMapsExcluded = [];
  for (var i = 0; i < this.mouseoveredObjectMaps.length; i++) {
    var mouseOut = true;

    for (var j = 0; j < eventObjectMaps.length; j++) {
      if (eventObjectMaps[j].id === this.mouseoveredObjectMaps[i].id) {
        mouseOut = false;
        break;
      }
    }

    if (mouseOut) {
      this.fireEvent(this.mouseoveredObjectMaps[i], "mouseout", ev);
    } else {
      mouseOutObjectMapsExcluded.push(this.mouseoveredObjectMaps[i]);
    }
  }

  this.mouseoveredObjectMaps = mouseOutObjectMapsExcluded;

  //Process new eventObectMaps
  //If they already don't exist, add them and fire mouseover
  //If ev.type is mousemove, then just fire mousemove
  //If ev.type is click, then fire two events - click followed by mousemove
  for (var i = 0; i < eventObjectMaps.length; i++) {

    var existing = false;

    for (var j = 0; j < this.mouseoveredObjectMaps.length; j++) {
      if (eventObjectMaps[i].id === this.mouseoveredObjectMaps[j].id) {
        existing = true;
        break;
      }
    }

    if (!existing) {
      this.fireEvent(eventObjectMaps[i], "mouseover", ev);
      this.mouseoveredObjectMaps.push(eventObjectMaps[i]);
    }

    if (ev.type === "click") {
      this.fireEvent(eventObjectMaps[i], "click", ev);
    } else if (ev.type === "mousemove") {
      this.fireEvent(eventObjectMaps[i], "mousemove", ev);
    }
  }
};

EventManager.prototype.fireEvent = function (eventObjectMap, eventType, ev) {

  if (!eventObjectMap || !eventType) return;

  var eventParameter = eventObjectMap.eventParameter;
  var eventContext = eventObjectMap.eventContext;
  //var context = eventObjectMap.eventContext.context;
  var userContext = eventObjectMap.eventContext.userContext;

  if (userContext && eventContext && userContext[eventContext[eventType]]) userContext[eventContext[eventType]].call(userContext, eventParameter);

  if (eventType !== "mouseout") {
    if (userContext.cursor && userContext.cursor !== ev.target.style.cursor) {
      ev.target.style.cursor = userContext.cursor;
    }
  } else {
    ev.target.style.cursor = this.chart._defaultCursor;
    delete eventObjectMap.eventParameter; // reference no longer required.
    delete eventObjectMap.eventContext; // reference no longer required.
  }

  //This is just a quick fix. Need to find a better way of calling internal event handlers.
  if (eventType === "click" && eventObjectMap.objectType === "dataPoint" && this.chart.pieDoughnutClickHandler) {
    this.chart.pieDoughnutClickHandler.call(this.chart.data[eventObjectMap.dataSeriesIndex], eventParameter);
  }
};

exports.default = EventManager;

},{"../helpers/utils":43}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
function LayoutManager(x1, y1, x2, y2, padding) {

  if (typeof padding === "undefined") padding = 0;

  this._padding = padding;

  this._x1 = x1;
  this._y1 = y1;
  this._x2 = x2;
  this._y2 = y2;

  this._topOccupied = this._padding;
  this._bottomOccupied = this._padding;
  this._leftOccupied = this._padding;
  this._rightOccupied = this._padding;
}

LayoutManager.prototype.registerSpace = function (position, size) {
  if (position === "top") {
    this._topOccupied += size.height;
  } else if (position === "bottom") {
    this._bottomOccupied += size.height;
  } else if (position === "left") {
    this._leftOccupied += size.width; // this is width when seen upright/vertically
  } else if (position === "right") {
      this._rightOccupied += size.width; // this is width when seen upright/vertically
    }
};

LayoutManager.prototype.unRegisterSpace = function (position, size) {
  if (position === "top") {
    this._topOccupied -= size.height;
  } else if (position === "bottom") {
    this._bottomOccupied -= size.height;
  } else if (position === "left") {
    this._leftOccupied -= size.width; // this is width when seen upright/vertically
  } else if (position === "right") {
      this._rightOccupied -= size.width; // this is width when seen upright/vertically
    }
};

LayoutManager.prototype.getFreeSpace = function () {
  ///<signature>
  ///<summary>Returns available free space {x1:number, y1:number, x2:number, y2:number}</summary>
  ///</signature>

  return {
    x1: this._x1 + this._leftOccupied,
    y1: this._y1 + this._topOccupied,
    x2: this._x2 - this._rightOccupied,
    y2: this._y2 - this._bottomOccupied,
    width: this._x2 - this._x1 - this._rightOccupied - this._leftOccupied,
    height: this._y2 - this._y1 - this._bottomOccupied - this._topOccupied
  };
};

LayoutManager.prototype.reset = function () {
  //so that there is enough padding.
  this._topOccupied = this._padding;
  this._bottomOccupied = this._padding;
  this._leftOccupied = this._padding;
  this._rightOccupied = this._padding;
};

exports.default = LayoutManager;

},{}],36:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _data_series = require('./data_series');

var _data_series2 = _interopRequireDefault(_data_series);

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _text_block = require('./text_block');

var _text_block2 = _interopRequireDefault(_text_block);

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Legend(chart, options, theme) {
  Legend.base.constructor.call(this, "Legend", options, theme);

  this.chart = chart;
  this.canvas = chart.canvas;
  this.ctx = this.chart.ctx;
  this.ghostCtx = this.chart._eventManager.ghostCtx;
  this.items = [];

  this.width = 0,
  //this.fontSize = 12,
  this.height = 0, this.orientation = null, this.dataSeries = [];
  this.bounds = {
    x1: null, y1: null, x2: null, y2: null
  };

  if (typeof this._options.fontSize === "undefined") {
    this.fontSize = this.chart.getAutoFontSize(this.fontSize);
    //window.console.log("fontSize: " + this.fontSize);
  }

  this.lineHeight = (0, _utils.getFontHeightInPixels)(this.fontFamily, this.fontSize, this.fontWeight);

  this.horizontalSpacing = this.fontSize;
}

(0, _utils.extend)(Legend, _canvasjs2.default);

Legend.prototype.render = function () {

  var container = !this.dockInsidePlotArea ? this.chart : this.chart.plotArea;
  var freeSpace = container.layoutManager.getFreeSpace();
  var position = null;
  var top = 0;
  var left = 0;
  var maxWidth = 0;
  var maxHeight = 0;
  var itemMargin = 5;

  var items = [];
  var rows = [];

  //this.ctx.font = getFontString("", this, null);
  //this.ctx.fontColor = this.fontColor;

  if (this.verticalAlign === "top" || this.verticalAlign === "bottom") {
    this.orientation = "horizontal";
    position = this.verticalAlign;

    maxWidth = this.maxWidth !== null ? this.maxWidth : freeSpace.width * .7;
    maxHeight = this.maxHeight !== null ? this.maxHeight : freeSpace.height * .5;
  } else if (this.verticalAlign === "center") {
    this.orientation = "vertical";
    position = this.horizontalAlign;

    maxWidth = this.maxWidth !== null ? this.maxWidth : freeSpace.width * .5;
    maxHeight = this.maxHeight !== null ? this.maxHeight : freeSpace.height * .7;
  }

  for (var i = 0; i < this.dataSeries.length; i++) {
    var dataSeries = this.dataSeries[i];

    if (dataSeries.type !== "pie" && dataSeries.type !== "doughnut" && dataSeries.type !== "funnel") {

      var markerType = dataSeries.legendMarkerType ? dataSeries.legendMarkerType : (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "scatter" || dataSeries.type === "bubble") && dataSeries.markerType ? dataSeries.markerType : _data_series2.default.getDefaultLegendMarker(dataSeries.type);
      var legendText = dataSeries.legendText ? dataSeries.legendText : this.itemTextFormatter ? this.itemTextFormatter({ chart: this.chart, legend: this._options, dataSeries: dataSeries, dataPoint: null }) : dataSeries.name;
      var markerColor = dataSeries.legendMarkerColor ? dataSeries.legendMarkerColor : dataSeries.markerColor ? dataSeries.markerColor : dataSeries._colorSet[0];
      var markerSize = !dataSeries.markerSize && (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline") ? 0 : this.lineHeight * .6;
      var markerBorderColor = dataSeries.legendMarkerBorderColor ? dataSeries.legendMarkerBorderColor : dataSeries.markerBorderColor;
      var markerBorderThickness = dataSeries.legendMarkerBorderThickness ? dataSeries.legendMarkerBorderThickness : dataSeries.markerBorderThickness ? Math.max(1, Math.round(markerSize * .2)) : 0;
      var lineColor = dataSeries._colorSet[0];

      legendText = this.chart.replaceKeywordsWithValue(legendText, dataSeries.dataPoints[0], dataSeries, i);
      var item = {
        markerType: markerType, markerColor: markerColor, text: legendText, textBlock: null, chartType: dataSeries.type, markerSize: markerSize, lineColor: dataSeries._colorSet[0],
        dataSeriesIndex: dataSeries.index, dataPointIndex: null, markerBorderColor: markerBorderColor, markerBorderThickness: markerBorderThickness
      };

      items.push(item);
    } else {
      for (var dataPointIndex = 0; dataPointIndex < dataSeries.dataPoints.length; dataPointIndex++) {

        var dataPoint = dataSeries.dataPoints[dataPointIndex];

        var markerType = dataPoint.legendMarkerType ? dataPoint.legendMarkerType : dataSeries.legendMarkerType ? dataSeries.legendMarkerType : _data_series2.default.getDefaultLegendMarker(dataSeries.type);
        var legendText = dataPoint.legendText ? dataPoint.legendText : dataSeries.legendText ? dataSeries.legendText : this.itemTextFormatter ? this.itemTextFormatter({ chart: this.chart, legend: this._options, dataSeries: dataSeries, dataPoint: dataPoint }) : dataPoint.name ? dataPoint.name : "DataPoint: " + (dataPointIndex + 1);
        var markerColor = dataPoint.legendMarkerColor ? dataPoint.legendMarkerColor : dataSeries.legendMarkerColor ? dataSeries.legendMarkerColor : dataPoint.color ? dataPoint.color : dataSeries.color ? dataSeries.color : dataSeries._colorSet[dataPointIndex % dataSeries._colorSet.length];
        var markerSize = this.lineHeight * .6;
        var markerBorderColor = dataPoint.legendMarkerBorderColor ? dataPoint.legendMarkerBorderColor : dataSeries.legendMarkerBorderColor ? dataSeries.legendMarkerBorderColor : dataPoint.markerBorderColor ? dataPoint.markerBorderColor : dataSeries.markerBorderColor;
        var markerBorderThickness = dataPoint.legendMarkerBorderThickness ? dataPoint.legendMarkerBorderThickness : dataSeries.legendMarkerBorderThickness ? dataSeries.legendMarkerBorderThickness : dataPoint.markerBorderThickness || dataSeries.markerBorderThickness ? Math.max(1, Math.round(markerSize * .2)) : 0;

        legendText = this.chart.replaceKeywordsWithValue(legendText, dataPoint, dataSeries, dataPointIndex);

        var item = {
          markerType: markerType, markerColor: markerColor, text: legendText, textBlock: null, chartType: dataSeries.type, markerSize: markerSize,
          dataSeriesIndex: i, dataPointIndex: dataPointIndex, markerBorderColor: markerBorderColor, markerBorderThickness: markerBorderThickness
        };

        if (dataPoint.showInLegend || dataSeries.showInLegend && dataPoint.showInLegend !== false) {
          items.push(item);
        }
      }
    }
    item = null;
  }
  if (this.reversed === true) {
    items.reverse();
  }

  // Find out the required width and height of Legend and position the items relative to the container
  if (items.length > 0) {
    var row = null;
    var rowIndex = 0; // required for vertical orientation
    var textMaxWidth = 0;
    var columnHeight = 0;

    if (this.itemWidth !== null) {
      if (this.itemMaxWidth !== null) {
        textMaxWidth = Math.min(this.itemWidth, this.itemMaxWidth, maxWidth);
      } else {
        textMaxWidth = Math.min(this.itemWidth, maxWidth);
      }
    } else {
      if (this.itemMaxWidth !== null) {
        textMaxWidth = Math.min(this.itemMaxWidth, maxWidth);
      } else {
        textMaxWidth = maxWidth;
      }
    }

    markerSize = markerSize === 0 ? this.lineHeight * .6 : markerSize;
    textMaxWidth = textMaxWidth - (markerSize + this.horizontalSpacing * .1);

    for (var i = 0; i < items.length; i++) {
      var item = items[i];

      if (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine") {
        textMaxWidth = textMaxWidth - 2 * (this.lineHeight * .1);
      }

      if (maxHeight <= 0 || typeof maxHeight === "undefined" || textMaxWidth <= 0 || typeof textMaxWidth === "undefined") {
        continue;
      }

      if (this.orientation === "horizontal") {

        item.textBlock = new _text_block2.default(this.ctx, {
          x: 0,
          y: 0, //TBI
          maxWidth: textMaxWidth,
          maxHeight: this.itemWrap ? maxHeight : this.lineHeight, //TBI: FontSize
          angle: 0,
          text: item.text,
          horizontalAlign: "left", //left, center, right
          fontSize: this.fontSize, //in pixels
          fontFamily: this.fontFamily,
          fontWeight: this.fontWeight, //normal, bold, bolder, lighter,
          fontColor: this.fontColor,
          fontStyle: this.fontStyle, // normal, italic, oblique
          textBaseline: "top"
        });
        item.textBlock.measureText();

        if (this.itemWidth !== null) {
          item.textBlock.width = this.itemWidth - (markerSize + this.horizontalSpacing * .1 + (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine" ? 2 * (this.lineHeight * .1) : 0));
        }

        if (!row || row.width + Math.round(item.textBlock.width + this.horizontalSpacing * .1 + markerSize + (row.width === 0 ? 0 : this.horizontalSpacing) + (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine" ? 2 * (this.lineHeight * .1) : 0)) > maxWidth) {
          row = {
            items: [], width: 0
          };
          rows.push(row);
          this.height += columnHeight;
          columnHeight = 0;
        }

        columnHeight = Math.max(columnHeight, item.textBlock.height);

        item.textBlock.x = row.width;
        item.textBlock.y = 0;

        row.width += Math.round(item.textBlock.width + this.horizontalSpacing * .1 + markerSize + (row.width === 0 ? 0 : this.horizontalSpacing) + (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine" ? 2 * (this.lineHeight * .1) : 0));
        row.items.push(item);

        this.width = Math.max(row.width, this.width);
      } else {

        item.textBlock = new _text_block2.default(this.ctx, {
          x: 0,
          y: 0, //TBI
          maxWidth: textMaxWidth,
          maxHeight: this.itemWrap === true ? maxHeight : this.fontSize * 1.5, //TBI: FontSize
          angle: 0,
          text: item.text,
          horizontalAlign: "left", //left, center, right
          fontSize: this.fontSize, //in pixels
          fontFamily: this.fontFamily,
          fontWeight: this.fontWeight, //normal, bold, bolder, lighter,
          fontColor: this.fontColor,
          fontStyle: this.fontStyle, // normal, italic, oblique
          textBaseline: "top"
        });

        item.textBlock.measureText();

        if (this.itemWidth !== null) {
          item.textBlock.width = this.itemWidth - (markerSize + this.horizontalSpacing * .1 + (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine" ? 2 * (this.lineHeight * .1) : 0));
        }

        if (this.height <= maxHeight) {
          row = {
            items: [], width: 0
          };
          rows.push(row);
        } else {
          row = rows[rowIndex];
          rowIndex = (rowIndex + 1) % rows.length;
        }

        this.height += item.textBlock.height;

        item.textBlock.x = row.width; // relative to the row
        item.textBlock.y = 0; // relative to the row

        row.width += Math.round(item.textBlock.width + this.horizontalSpacing * .1 + markerSize + (row.width === 0 ? 0 : this.horizontalSpacing) + (item.chartType === "line" || item.chartType === "spline" || item.chartType === "stepLine" ? 2 * (this.lineHeight * .1) : 0));
        row.items.push(item);

        this.width = Math.max(row.width, this.width);
      }
    }

    if (this.itemWrap === false) {
      this.height = rows.length * this.lineHeight;
    } else {
      this.height += columnHeight;
    }

    this.height = Math.min(maxHeight, this.height);
    this.width = Math.min(maxWidth, this.width);
  }

  if (this.verticalAlign === "top") {
    if (this.horizontalAlign === "left") left = freeSpace.x1;else if (this.horizontalAlign === "right") left = freeSpace.x2 - this.width;else left = freeSpace.x1 + freeSpace.width / 2 - this.width / 2;

    top = freeSpace.y1;
  } else if (this.verticalAlign === "center") {
    if (this.horizontalAlign === "left") left = freeSpace.x1;else if (this.horizontalAlign === "right") left = freeSpace.x2 - this.width;else left = freeSpace.x1 + freeSpace.width / 2 - this.width / 2;

    top = freeSpace.y1 + freeSpace.height / 2 - this.height / 2;
  } else if (this.verticalAlign === "bottom") {
    if (this.horizontalAlign === "left") left = freeSpace.x1;else if (this.horizontalAlign === "right") left = freeSpace.x2 - this.width;else left = freeSpace.x1 + freeSpace.width / 2 - this.width / 2;

    top = freeSpace.y2 - this.height;
  }

  this.items = items;

  //Assign ids to all legendItems
  for (var i = 0; i < this.items.length; i++) {

    var item = items[i];

    item.id = ++this.chart._eventManager.lastObjectId;
    this.chart._eventManager.objectMap[item.id] = {
      id: item.id, objectType: "legendItem", legendItemIndex: i, dataSeriesIndex: item.dataSeriesIndex, dataPointIndex: item.dataPointIndex
    };
    //delete item.textBlock;// Not Required anymore
  }

  var rowHeight = 0;
  for (var i = 0; i < rows.length; i++) {
    var row = rows[i];
    var columnHeight = 0;
    for (var itemIndex = 0; itemIndex < row.items.length; itemIndex++) {
      var item = row.items[itemIndex];

      var itemX = item.textBlock.x + left + (itemIndex === 0 ? markerSize * .2 : this.horizontalSpacing);
      var itemY = top + rowHeight;

      var ghostX = itemX;

      if (!this.chart.data[item.dataSeriesIndex].visible) this.ctx.globalAlpha = .5;

      this.ctx.save();
      this.ctx.rect(left, top, maxWidth, maxHeight);
      this.ctx.clip();

      if (item.chartType === "line" || item.chartType === "stepLine" || item.chartType === "spline") {
        this.ctx.strokeStyle = item.lineColor;
        this.ctx.lineWidth = Math.ceil(this.lineHeight / 8);
        this.ctx.beginPath();
        this.ctx.moveTo(itemX - this.lineHeight * .1, itemY + this.lineHeight / 2);
        this.ctx.lineTo(itemX + this.lineHeight * .7, itemY + this.lineHeight / 2);
        this.ctx.stroke();

        ghostX -= this.lineHeight * .1;
      }

      _render2.default.drawMarker(itemX + markerSize / 2, itemY + this.lineHeight / 2, this.ctx, item.markerType, item.markerSize, item.markerColor, item.markerBorderColor, item.markerBorderThickness);

      item.textBlock.x = itemX + this.horizontalSpacing * .1 + markerSize;

      if (item.chartType === "line" || item.chartType === "stepLine" || item.chartType === "spline") {
        item.textBlock.x = item.textBlock.x + this.lineHeight * .1;
      }

      item.textBlock.y = itemY;

      item.textBlock.render(true);

      this.ctx.restore();

      if (itemIndex > 0) {
        columnHeight = Math.max(columnHeight, item.textBlock.height);
      } else {
        columnHeight = item.textBlock.height;
      }

      if (!this.chart.data[item.dataSeriesIndex].visible) this.ctx.globalAlpha = 1;

      var hexColor = intToHexColorString(item.id);
      this.ghostCtx.fillStyle = hexColor;
      this.ghostCtx.beginPath();
      this.ghostCtx.fillRect(ghostX, item.textBlock.y, item.textBlock.x + item.textBlock.width - ghostX, item.textBlock.height);

      item.x1 = this.chart._eventManager.objectMap[item.id].x1 = ghostX;
      item.y1 = this.chart._eventManager.objectMap[item.id].y1 = item.textBlock.y;
      item.x2 = this.chart._eventManager.objectMap[item.id].x2 = item.textBlock.x + item.textBlock.width;
      item.y2 = this.chart._eventManager.objectMap[item.id].y2 = item.textBlock.y + item.textBlock.height;
    }
    rowHeight = rowHeight + columnHeight;
  }

  //this.ctx.beginPath();
  //this.ctx.lineWidth = 2;
  //this.ctx.strokeStyle = "red";
  //this.ctx.rect(left, top, this.width, this.height);
  //this.ctx.stroke();

  container.layoutManager.registerSpace(position, { width: this.width + 2 + 2, height: this.height + 5 + 5 });

  this.bounds = {
    x1: left, y1: top, x2: left + this.width, y2: top + this.height
  };
};

exports.default = Legend;

},{"../helpers/render":42,"../helpers/utils":43,"./canvasjs":30,"./data_series":33,"./text_block":38}],37:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _ramda = require('ramda');

var _ramda2 = _interopRequireDefault(_ramda);

var _debounce = require('debounce');

var _debounce2 = _interopRequireDefault(_debounce);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CELL_HEIGHT = 30;
var CELL_WIDTH = 150;

function createDOMElements(containerId) {

	this.containerElement = typeof containerId === "string" ? document.getElementById(containerId) : containerId;

	this.canvasContainerElement = document.createElement("div");
	this.canvasContainerElement.setAttribute("class", "canvasjs-chart-container");
	this.canvasContainerElement.style.position = "relative";
	this.canvasContainerElement.style.textAlign = "left";
	this.canvasContainerElement.style.cursor = "auto";

	this.containerElement.appendChild(this.canvasContainerElement);

	if (this.options.width) this.width = this.options.width;else this.width = this.containerElement.clientWidth ? this.containerElement.clientWidth : this.width;

	if (this.options.height) this.height = this.options.height;else this.height = this.containerElement.clientHeight ? this.containerElement.clientHeight : this.height;

	this.canvasElement = (0, _utils.createCanvas)(this.width, this.height);
	this.canvasElement.style.position = "absolute";

	var border = "1px solid rgba(0 ,0, 0, 0.2)";
	this.canvasElement.style.border = border;

	if (this.canvasElement.getContext) {

		this.canvasContainerElement.appendChild(this.canvasElement);
		this.canvasCtx = this.canvasElement.getContext("2d");
	}

	this.canvasCtx.fillStyle = "transparent";
	this.canvasCtx.strokeStyle = "#000000";
	this.canvasCtx.lineWidth = .2;
	this.canvasCtx.font = "normal normal 12px Verdana";
	this.canvasCtx.textAlign = 'center';
	this.canvasCtx.textBaseline = 'middle';
}

function createState() {

	this.headers = _ramda2.default.keys(this.options.headers);
	this.totalColumns = _ramda2.default.length(this.headers);
	this.data = [];
	this.rowCursor = 0;
	this.visibleRows = Math.ceil(Math.abs(this.height / CELL_HEIGHT));
	this.scrollBarSize = 0;
	this.scrollBarOffset = 0;
	this.lastScrollBarOffset = 0;
	this.scrollActived = false;

	CELL_WIDTH = Math.ceil(Math.abs(this.width / this.totalColumns));
}

function cleanCanvas(canvasCtx, width, height) {

	canvasCtx.clearRect(0, 0, width, height);
}

function paintLine(canvasCtx, x, y, x2, y2) {

	canvasCtx.beginPath();
	canvasCtx.moveTo(x, y);
	canvasCtx.lineTo(x2, y2);
	canvasCtx.stroke();
}

function paintCell(canvasCtx, x, y) {

	// canvasCtx.fillRect(x,y, CELL_WIDTH, CELL_HEIGHT);
	// canvasCtx.strokeRect(x,y, CELL_WIDTH, CELL_HEIGHT);

}

function paintText(canvasCtx, text, x, y) {

	canvasCtx.fillStyle = "#000";
	canvasCtx.fillText(text, x + CELL_WIDTH / 2, y + CELL_HEIGHT / 2);
	canvasCtx.fillStyle = "transparent";
}

function paintTableBorders(canvasCtx, totalColumns, totalRows) {

	// Draw vertical lines
	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = _ramda2.default.range(1, totalColumns)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var x = _step.value;

			paintLine(canvasCtx, x * CELL_WIDTH, 0, x * CELL_WIDTH, totalRows * CELL_HEIGHT);
		}

		// Draw horizontal lines
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator.return) {
				_iterator.return();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}

	var _iteratorNormalCompletion2 = true;
	var _didIteratorError2 = false;
	var _iteratorError2 = undefined;

	try {
		for (var _iterator2 = _ramda2.default.range(1, totalRows)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
			var y = _step2.value;

			paintLine(canvasCtx, 0, y * CELL_HEIGHT, totalColumns * CELL_WIDTH, y * CELL_HEIGHT);
		}
	} catch (err) {
		_didIteratorError2 = true;
		_iteratorError2 = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion2 && _iterator2.return) {
				_iterator2.return();
			}
		} finally {
			if (_didIteratorError2) {
				throw _iteratorError2;
			}
		}
	}
}

function paintHeaders(canvasCtx, headers, headersNumber) {
	var _iteratorNormalCompletion3 = true;
	var _didIteratorError3 = false;
	var _iteratorError3 = undefined;

	try {

		for (var _iterator3 = _ramda2.default.range(0, headersNumber)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
			var position = _step3.value;

			var x = position * CELL_WIDTH;

			paintCell(canvasCtx, x, 0);
			paintText(canvasCtx, headers[position], x, 0);
		}
	} catch (err) {
		_didIteratorError3 = true;
		_iteratorError3 = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion3 && _iterator3.return) {
				_iterator3.return();
			}
		} finally {
			if (_didIteratorError3) {
				throw _iteratorError3;
			}
		}
	}
}

function paintBody(canvasCtx, data, headers, totalColumns, rowCursor, visibleRows) {

	// console.log(R.range(rowCursor, (rowCursor + visibleRows - 1)*totalColumns));

	var i = 0;

	var _iteratorNormalCompletion4 = true;
	var _didIteratorError4 = false;
	var _iteratorError4 = undefined;

	try {
		for (var _iterator4 = _ramda2.default.range(0, visibleRows - 1)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
			var row = _step4.value;

			if (row >= _ramda2.default.length(data)) break;

			var _iteratorNormalCompletion5 = true;
			var _didIteratorError5 = false;
			var _iteratorError5 = undefined;

			try {
				for (var _iterator5 = headers[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
					var header = _step5.value;

					var x = getX(i, totalColumns);
					var y = getY(i, totalColumns);

					// paintCell(canvasCtx, x, y);
					paintText(canvasCtx, data[row + rowCursor][header], x, y);

					i++;
				}
			} catch (err) {
				_didIteratorError5 = true;
				_iteratorError5 = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion5 && _iterator5.return) {
						_iterator5.return();
					}
				} finally {
					if (_didIteratorError5) {
						throw _iteratorError5;
					}
				}
			}
		}
	} catch (err) {
		_didIteratorError4 = true;
		_iteratorError4 = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion4 && _iterator4.return) {
				_iterator4.return();
			}
		} finally {
			if (_didIteratorError4) {
				throw _iteratorError4;
			}
		}
	}
}

function drawEllipse(ctx, x, y, w, h) {
	var kappa = .5522848,
	    ox = w / 2 * kappa,
	    // control point offset horizontal
	oy = h / 2 * kappa,
	    // control point offset vertical
	xe = x + w,
	    // x-end
	ye = y + h,
	    // y-end
	xm = x + w / 2,
	    // x-middle
	ym = y + h / 2; // y-middle

	ctx.beginPath();
	ctx.moveTo(x, ym);
	ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
	ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
	ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
	ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);
	//ctx.closePath(); // not used correctly, see comments (use to close off open path)
	ctx.stroke();
}

function paintScroll(table, canvasCtx, width, visibleRows, totalElements, totalColumns) {

	var totalSize = visibleRows * CELL_HEIGHT - 10;
	var scrollBarSize = totalSize - (totalElements - visibleRows * totalColumns);

	table.scrollBarSize = scrollBarSize < 30 ? 30 : scrollBarSize;

	// drawEllipse(canvasCtx, width - 15 , CELL_HEIGHT + 5, 10, scrollBarSize);

	canvasCtx.fillStyle = "#bbb";
	canvasCtx.fillRect(width - 15, CELL_HEIGHT + 5 + table.scrollBarOffset, 10, table.scrollBarSize);
	canvasCtx.fillStyle = "transparent";
	canvasCtx.strokeRect(width - 15, CELL_HEIGHT + 5 + table.scrollBarOffset, 10, table.scrollBarSize);
}

function getX(position, totalColumns) {

	return position % totalColumns * CELL_WIDTH;
}

function getY(position, totalColumns) {

	return (Math.floor(position / totalColumns) + 1) * CELL_HEIGHT;
}

function addEventListeners() {
	var _this = this;

	// this.canvasElement.addEventListener('DOMMouseScroll', debounce(scrollingHandler, 50), false);
	// this.canvasElement.addEventListener('mousewheel', debounce(scrollingHandler, 50), false);
	//
	// // this.canvasElement.addEventListener('DOMMouseScroll', scrollingHandler, false);
	// // this.canvasElement.addEventListener('mousewheel', scrollingHandler, false);
	var getCoordenates = function getCoordenates(canvas, evt) {

		var rect = canvas.getBoundingClientRect();

		return {
			x: evt.clientX - rect.left,
			y: evt.clientY - rect.top
		};
	};

	var mousedownHandler = function mousedownHandler(event) {

		var coords = getCoordenates(_this.canvasElement, event);

		if (coords.x >= _this.width - 15 && coords.x <= _this.width - 5 && coords.y >= CELL_HEIGHT + 5 + _this.scrollBarOffset && coords.y <= CELL_HEIGHT + 5 + _this.scrollBarOffset + _this.scrollBarSize) {

			_this.lastYposition = coords.y;
			_this.enableScroll = true;
		}

		return false;
	};

	var mousemoveHandler = function mousemoveHandler(event) {

		if (!_this.enableScroll) return;

		var coords = getCoordenates(_this.canvasElement, event);
		var offset = _this.scrollBarOffset + (coords.y - _this.lastYposition);
		var total = _this.height - CELL_HEIGHT - 10 - _this.scrollBarSize;
		var maxLimit = _this.data.length;

		_this.scrollBarOffset = offset < 0 ? 0 : offset;

		if (CELL_HEIGHT + 10 + _this.scrollBarOffset + _this.scrollBarSize >= _this.height) {
			_this.scrollBarOffset = total;
		}

		_this.lastYposition = coords.y;

		var row = Math.ceil(_this.scrollBarOffset / total * maxLimit);
		var max = _this.data.length - (_this.visibleRows - 1);

		_this.rowCursor = row >= max ? max : row;

		_this.paint();
	};

	// const mouseupHandler = event => {
	//
	// 	this.enableScroll = false;
	//
	// };

	var mouseoutHandler = function mouseoutHandler(event) {

		// this.enableScroll = false;

	};
	var mouseenterHandler = function mouseenterHandler(event) {

		// this.enableScroll = false;

	};

	var documentMouseupHandler = function documentMouseupHandler(event) {

		_this.enableScroll = false;
	};

	var mouseWheelHandler = function mouseWheelHandler(event) {

		if (!_this.scrolling) return false;

		// const delta = event.detail < 0 || event.wheelDelta > 0 ? 1 : -1;
		if (event.wheelDelta == 0) return false;

		if (event.wheelDelta > 0) {
			// scrolling down

			if (_this.rowCursor - 1 < 0) {

				_this.scrollBarOffset = 0;
				_this.rowCursor = 0;
			} else {

				// this.scrollBarOffset -= this.totalColumns;
				_this.rowCursor--;
				_this.scrollBarOffset = _this.rowCursor / _this.data.length * (_this.height - CELL_HEIGHT - 10 - _this.scrollBarSize);
			}
		} else if (event.wheelDelta < 0) {
			// scrolling up

			var maxLimit = _this.data.length - (_this.visibleRows - 1);

			if (_this.rowCursor >= maxLimit) {

				_this.scrollBarOffset = _this.height - CELL_HEIGHT - 10 - _this.scrollBarSize;
				_this.rowCursor = maxLimit;
			} else {

				_this.rowCursor++;
				_this.scrollBarOffset = _this.rowCursor / _this.data.length * (_this.height - CELL_HEIGHT - 10 - _this.scrollBarSize);
			}
		}

		_this.paint();

		return false;
	};

	this.canvasElement.addEventListener('mousedown', (0, _debounce2.default)(mousedownHandler, 50), false);
	this.canvasElement.addEventListener('mousemove', mousemoveHandler, false);
	// this.canvasElement.addEventListener('mouseup', debounce(mouseupHandler, 50), false);
	this.canvasElement.addEventListener('mouseout', (0, _debounce2.default)(mouseoutHandler, 10), false);
	this.canvasElement.addEventListener('mouseenter', (0, _debounce2.default)(mouseenterHandler, 10), false);
	this.canvasElement.addEventListener('mousewheel', mouseWheelHandler, false);
	// this.canvasElement.addEventListener('DOMMouseScroll', mouseWheelHandler, false);

	document.addEventListener('mouseup', (0, _debounce2.default)(documentMouseupHandler, 50), false);
}

function render() {
	var _this2 = this;

	var paint = function paint() {
		return _this2.paint();
	};

	(function p(fn) {

		paint();

		requestAnimationFrame(function () {
			return p();
		});
	})();
}

function Table(containerId, options) {

	this.options = options || {};

	createDOMElements.bind(this)(containerId);

	createState.bind(this)();

	addEventListeners.bind(this)();

	// render.bind(this)();
}

//Update Chart Properties
Table.prototype.render = function (data) {

	// const entries = R.isArrayLike(data) ? R.flatten(R.map(event => R.values(event), data)) : R.values(data);

	if (data) this.data = data.concat(this.data);

	this.paint();
};

Table.prototype.paint = function () {

	cleanCanvas(this.canvasCtx, this.width, this.height);

	paintTableBorders(this.canvasCtx, this.totalColumns, this.visibleRows);

	paintHeaders(this.canvasCtx, this.headers, this.totalColumns);

	paintBody(this.canvasCtx, this.data, this.headers, this.totalColumns, this.rowCursor, this.visibleRows);

	if (this.data.length >= this.visibleRows) {

		this.scrolling = true;

		paintScroll(this, this.canvasCtx, this.width, this.visibleRows - 1, this.data.length, this.totalColumns);
	}
};

exports.default = Table;

},{"../helpers/utils":43,"debounce":1,"ramda":3}],38:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function TextBlock(ctx, options) {

  TextBlock.base.constructor.call(this, "TextBlock", options);

  this.ctx = ctx;
  this._isDirty = true;
  this._wrappedText = null;
  this._lineHeight = (0, _utils.getFontHeightInPixels)(this.fontFamily, this.fontSize, this.fontWeight);
}

(0, _utils.extend)(TextBlock, _canvasjs2.default);

TextBlock.prototype.render = function (preserveContext) {
  if (preserveContext) this.ctx.save();

  var font = this.ctx.font;
  this.ctx.textBaseline = this.textBaseline;

  var offsetY = 0;

  if (this._isDirty) this.measureText(this.ctx);

  this.ctx.translate(this.x, this.y + offsetY);

  if (this.textBaseline === "middle") {
    offsetY = -this._lineHeight / 2;
  }

  this.ctx.font = this._getFontString();

  this.ctx.rotate(Math.PI / 180 * this.angle);

  var textLeft = 0;
  var textTop = this.padding;
  //var textTop = this.padding;
  var line = null;

  if (this.borderThickness > 0 && this.borderColor || this.backgroundColor) {
    this.ctx.roundRect(0, offsetY, this.width, this.height, this.cornerRadius, this.borderThickness, this.backgroundColor, this.borderColor);

    //if (this.textBaseline === "middle") {
    //	//textTop += this.fontSize / 2;
    //	textTop += this._lineHeight / 2;
    //}
  }

  this.ctx.fillStyle = this.fontColor;

  for (var i = 0; i < this._wrappedText.lines.length; i++) {

    line = this._wrappedText.lines[i];
    if (this.horizontalAlign === "right") textLeft = this.width - line.width - this.padding;else if (this.horizontalAlign === "left") textLeft = this.padding;else if (this.horizontalAlign === "center") textLeft = (this.width - this.padding * 2) / 2 - line.width / 2 + this.padding;

    this.ctx.fillText(line.text, textLeft, textTop);

    textTop += line.height;
  }

  this.ctx.font = font;

  if (preserveContext) this.ctx.restore();
};

TextBlock.prototype.setText = function (text) {
  this.text = text;
  this._isDirty = true;
  this._wrappedText = null;
};

TextBlock.prototype.measureText = function () {
  if (this.maxWidth === null) {
    throw "Please set maxWidth and height for TextBlock";
  }

  this._wrapText(this.ctx);
  this._isDirty = false;

  return {
    width: this.width, height: this.height
  };
};

TextBlock.prototype._getLineWithWidth = function (text, width, clipWord) {
  text = String(text);
  clipWord = clipWord || false;

  if (!text) return {
    text: "", width: 0
  };

  var textWidth = 0,
      min = 0,
      max = text.length - 1,
      mid = Infinity;

  this.ctx.font = this._getFontString();

  while (min <= max) {
    mid = Math.floor((min + max) / 2);
    var tempText = text.substr(0, mid + 1);

    textWidth = this.ctx.measureText(tempText).width;

    if (textWidth < width) {
      min = mid + 1;
    } else if (textWidth > width) {
      max = mid - 1;
    } else {
      break;
    }
  }

  //edge cases
  if (textWidth > width && tempText.length > 1) {
    tempText = tempText.substr(0, tempText.length - 1);
    textWidth = this.ctx.measureText(tempText).width;
  }

  var isClipped = true;

  if (tempText.length === text.length || text[tempText.length] === " ") isClipped = false;

  if (isClipped) {
    var resultWords = tempText.split(" ");
    if (resultWords.length > 1) resultWords.pop();

    tempText = resultWords.join(" ");
    textWidth = this.ctx.measureText(tempText).width;
  }

  return {
    text: tempText, width: textWidth
  };
};

TextBlock.prototype._wrapText = function wrapText() {
  //this.ctx.save();
  var text = new String((0, _utils.trimString)(String(this.text)));
  var lines = [];
  var font = this.ctx.font; // Save the current Font
  var height = 0;
  var width = 0;

  this.ctx.font = this._getFontString();

  while (text.length > 0) {

    var maxWidth = this.maxWidth - this.padding * 2;
    var maxHeight = this.maxHeight - this.padding * 2;

    var line = this._getLineWithWidth(text, maxWidth, false);
    line.height = this._lineHeight;

    lines.push(line);

    width = Math.max(width, line.width);
    height += line.height;
    text = (0, _utils.trimString)(text.slice(line.text.length, text.length));

    if (maxHeight && height > maxHeight) {
      var line = lines.pop();
      height -= line.height;
    }
  }

  this._wrappedText = {
    lines: lines, width: width, height: height
  };
  this.width = width + this.padding * 2;
  this.height = height + this.padding * 2;

  this.ctx.font = font; // Restore the font
};

TextBlock.prototype._getFontString = function () {
  //return this.fontStyle + " " + this.fontWeight + " " + this.fontSize + "px " + this.fontFamily
  return (0, _utils.getFontString)("", this, null);
};

exports.default = TextBlock;

},{"../helpers/utils":43,"./canvasjs":30}],39:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _text_block = require('./text_block');

var _text_block2 = _interopRequireDefault(_text_block);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Title(chart, options) {
	Title.base.constructor.call(this, "Title", options, chart.theme);

	this.chart = chart;
	this.canvas = chart.canvas;
	this.ctx = this.chart.ctx;

	if (typeof this._options.fontSize === "undefined") {

		this.fontSize = this.chart.getAutoFontSize(this.fontSize);

		//window.console.log("Chart Title fontSize: " + this.fontSize);
	}

	this.width = null, //read only
	this.height = null; //read only
	this.bounds = {
		x1: null, y1: null, x2: null, y2: null
	};
}

(0, _utils.extend)(Title, _canvasjs2.default);

Title.prototype.render = function () {

	if (!this.text) return;

	var container = !this.dockInsidePlotArea ? this.chart : this.chart.plotArea;
	var freespace = container.layoutManager.getFreeSpace();
	var left = freespace.x1;
	var top = freespace.y1;
	var angle = 0;
	var maxHeight = 0;
	var containerMargin = 2; //Margin towards the container
	var rightOffset = this.chart._menuButton && this.chart.exportEnabled && this.verticalAlign === "top" ? 22 : 0; //So that Title doesn't overlap menu button.

	var textBlockHorizontalAlign;
	var position;

	if (this.verticalAlign === "top" || this.verticalAlign === "bottom") {
		if (this.maxWidth === null) this.maxWidth = freespace.width - containerMargin * 2 - rightOffset * (this.horizontalAlign === "center" ? 2 : 1);

		maxHeight = freespace.height * .5 - this.margin - containerMargin;
		angle = 0;
	} else if (this.verticalAlign === "center") {

		if (this.horizontalAlign === "left" || this.horizontalAlign === "right") {
			if (this.maxWidth === null) this.maxWidth = freespace.height - containerMargin * 2;

			maxHeight = freespace.width * .5 - this.margin - containerMargin;
		} else if (this.horizontalAlign === "center") {
			if (this.maxWidth === null) this.maxWidth = freespace.width - containerMargin * 2;

			maxHeight = freespace.height * .5 - containerMargin * 2;
		}
	}

	if (!this.wrap) maxHeight = Math.min(maxHeight, Math.max(this.fontSize * 1.5, this.fontSize + this.padding * 2.5));
	//console.log(this.maxWidth);

	var textBlock = new _text_block2.default(this.ctx, {
		fontSize: this.fontSize, fontFamily: this.fontFamily, fontColor: this.fontColor,
		fontStyle: this.fontStyle, fontWeight: this.fontWeight,
		horizontalAlign: this.horizontalAlign, verticalAlign: this.verticalAlign,
		borderColor: this.borderColor, borderThickness: this.borderThickness,
		backgroundColor: this.backgroundColor,
		maxWidth: this.maxWidth, maxHeight: maxHeight,
		cornerRadius: this.cornerRadius,
		text: this.text,
		padding: this.padding,
		textBaseline: "top"
	});

	var textBlockSize = textBlock.measureText();

	if (this.verticalAlign === "top" || this.verticalAlign === "bottom") {

		if (this.verticalAlign === "top") {
			top = freespace.y1 + containerMargin;
			position = "top";
		} else if (this.verticalAlign === "bottom") {
			top = freespace.y2 - containerMargin - textBlockSize.height;
			position = "bottom";
		}

		if (this.horizontalAlign === "left") {
			left = freespace.x1 + containerMargin;
		} else if (this.horizontalAlign === "center") {
			left = freespace.x1 + freespace.width / 2 - textBlockSize.width / 2;
		} else if (this.horizontalAlign === "right") {
			left = freespace.x2 - containerMargin - textBlockSize.width - rightOffset;
		}

		textBlockHorizontalAlign = this.horizontalAlign;

		this.width = textBlockSize.width;
		this.height = textBlockSize.height;
	} else if (this.verticalAlign === "center") {

		if (this.horizontalAlign === "left") {

			left = freespace.x1 + containerMargin;
			top = freespace.y2 - containerMargin - (this.maxWidth / 2 - textBlockSize.width / 2);
			angle = -90;

			position = "left";
			this.width = textBlockSize.height;
			this.height = textBlockSize.width;
		} else if (this.horizontalAlign === "right") {
			left = freespace.x2 - containerMargin;
			top = freespace.y1 + containerMargin + (this.maxWidth / 2 - textBlockSize.width / 2);
			angle = 90;

			position = "right";
			this.width = textBlockSize.height;
			this.height = textBlockSize.width;
		} else if (this.horizontalAlign === "center") {
			top = container.y1 + (container.height / 2 - textBlockSize.height / 2);
			left = container.x1 + (container.width / 2 - textBlockSize.width / 2);

			position = "center";
			this.width = textBlockSize.width;
			this.height = textBlockSize.height;
		}

		textBlockHorizontalAlign = "center";
	}

	textBlock.x = left;
	textBlock.y = top;
	textBlock.angle = angle;
	textBlock.horizontalAlign = textBlockHorizontalAlign;
	textBlock.render(true);

	container.layoutManager.registerSpace(position, {
		width: this.width + (position === "left" || position === "right" ? this.margin + containerMargin : 0),
		height: this.height + (position === "top" || position === "bottom" ? this.margin + containerMargin : 0)
	});

	this.bounds = {
		x1: left, y1: top, x2: left + this.width, y2: top + this.height
	};

	this.ctx.textBaseline = "top";
};

exports.default = Title;

},{"../helpers/utils":43,"./canvasjs":30,"./text_block":38}],40:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _animator = require('../helpers/animator');

var _animator2 = _interopRequireDefault(_animator);

var _render = require('../helpers/render');

var _render2 = _interopRequireDefault(_render);

var _canvasjs = require('./canvasjs');

var _canvasjs2 = _interopRequireDefault(_canvasjs);

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ToolTip(chart, options, theme) {

  ToolTip.base.constructor.call(this, "ToolTip", options, theme);

  this.chart = chart;
  this.canvas = chart.canvas;
  this.ctx = this.chart.ctx;
  this.currentSeriesIndex = -1;
  this.currentDataPointIndex = -1;
  this._timerId = 0;
  this._prevX = NaN;
  this._prevY = NaN;

  this._initialize();
}

(0, _utils.extend)(ToolTip, _canvasjs2.default);

ToolTip.prototype._initialize = function () {

  if (this.enabled) {
    this.container = document.createElement("div");
    this.container.setAttribute("class", "canvasjs-chart-tooltip");
    this.container.style.position = "absolute";
    this.container.style.height = "auto";
    this.container.style.boxShadow = "1px 1px 2px 2px rgba(0,0,0,0.1)";
    this.container.style.zIndex = "1000";
    //this.container.style.pointerEvents = "none";
    this.container.style.display = "none";
    //this.container.style.whiteSpace = "no-wrap";

    var toolTipHtml = "<div style=\" width: auto;";
    toolTipHtml += "height: auto;";
    toolTipHtml += "min-width: 50px;";
    toolTipHtml += "line-height: auto;";
    toolTipHtml += "margin: 0px 0px 0px 0px;";
    toolTipHtml += "padding: 5px;";
    toolTipHtml += "font-family: Calibri, Arial, Georgia, serif;";
    toolTipHtml += "font-weight: normal;";
    toolTipHtml += "font-style: " + (_utils.isCanvasSupported ? "italic;" : "normal;");
    toolTipHtml += "font-size: 14px;";
    toolTipHtml += "color: #000000;";
    toolTipHtml += "text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);";
    toolTipHtml += "text-align: left;";
    toolTipHtml += "border: 2px solid gray;";

    //Older browsers like IE8- don't support alpha values
    toolTipHtml += _utils.isCanvasSupported ? "background: rgba(255,255,255,.9);" : "background: rgb(255,255,255);";

    toolTipHtml += "text-indent: 0px;";
    toolTipHtml += "white-space: nowrap;";
    //toolTipHtml += "pointer-events:none;";
    toolTipHtml += "border-radius: 5px;";

    //Disable Text Selection
    toolTipHtml += "-moz-user-select:none;";
    toolTipHtml += "-khtml-user-select: none;";
    toolTipHtml += "-webkit-user-select: none;";
    toolTipHtml += "-ms-user-select: none;";
    toolTipHtml += "user-select: none;";

    //toolTipHtml += "opacity: 0;";
    //toolTipHtml += "filter: progid: DXImageTransform.Microsoft.gradient(GradientType = 0, startColorstr = '#4cffffff', endColorstr = '#4cffffff');";

    if (!_utils.isCanvasSupported) {
      //toolTipHtml += "-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=90)'";
      //-ms-filter: "progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color='#000000')";
      /* For IE 5.5 - 7 */
      toolTipHtml += "filter: alpha(opacity = 90);";
      toolTipHtml += "filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');";
    }

    toolTipHtml += "} \"> Sample Tooltip</div>";

    this.container.innerHTML = toolTipHtml;
    this.contentDiv = this.container.firstChild;

    this.container.style.borderRadius = this.contentDiv.style.borderRadius;
    this.chart._canvasJSContainer.appendChild(this.container);
  }
};

ToolTip.prototype.mouseMoveHandler = function (x, y) {

  if (!(this._lastUpdated && new Date().getTime() - this._lastUpdated < 40)) {
    this._lastUpdated = new Date().getTime();
    this._updateToolTip(x, y);
  }
};

ToolTip.prototype._updateToolTip = function (mouseX, mouseY) {
  //return;

  if (this.chart.disableToolTip) // Disabled during animation, etc
    return;

  if (typeof mouseX === "undefined" || typeof mouseY === "undefined") {
    if (isNaN(this._prevX) || isNaN(this._prevY)) return;else {
      mouseX = this._prevX;
      mouseY = this._prevY;
    }
  } else {
    this._prevX = mouseX;
    this._prevY = mouseY;
  }

  var dataPoint = null;
  var dataSeries = null;
  var toolTipContent = "";
  var entries = [];
  var toolTipRight;
  var toolTipBottom;
  var x = 0;

  if (this.shared && this.enabled && this.chart.plotInfo.axisPlacement !== "none") {
    // && this.chart.plotInfo.axisPlacement !== "none"
    if (this.chart.plotInfo.axisPlacement === "xySwapped") {
      x = (this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum) / this.chart.axisX.lineCoordinates.height * (this.chart.axisX.lineCoordinates.y2 - mouseY) + this.chart.axisX.viewportMinimum;
    } else {
      x = (this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum) / this.chart.axisX.lineCoordinates.width * (mouseX - this.chart.axisX.lineCoordinates.x1) + this.chart.axisX.viewportMinimum;
    }

    var nearbyEntries = [];

    for (var i = 0; i < this.chart.data.length; i++) {
      var entry = this.chart.data[i].getDataPointAtX(x, true);

      if (entry && entry.index >= 0) {
        entry.dataSeries = this.chart.data[i];

        if (entry.dataPoint.y !== null) nearbyEntries.push(entry);
      }
    }

    if (nearbyEntries.length === 0) return;

    nearbyEntries.sort(function (entry1, entry2) {
      return entry1.distance - entry2.distance;
    });

    var closest = nearbyEntries[0];

    for (i = 0; i < nearbyEntries.length; i++) {

      if (nearbyEntries[i].dataPoint.x.valueOf() === closest.dataPoint.x.valueOf()) entries.push(nearbyEntries[i]);
    }

    nearbyEntries = null;
  } else {

    var dataPointInfo = this.chart.getDataPointAtXY(mouseX, mouseY, true);
    //dataPointInfo = null;

    if (dataPointInfo) {
      this.currentDataPointIndex = dataPointInfo.dataPointIndex;
      this.currentSeriesIndex = dataPointInfo.dataSeries.index;
    } else if (_utils.isCanvasSupported) {

      var id = (0, _utils.getObjectId)(mouseX, mouseY, this.chart._eventManager.ghostCtx);
      if (id > 0 && typeof this.chart._eventManager.objectMap[id] !== "undefined") {
        //DataPoint/DataSeries event
        var eventObject = this.chart._eventManager.objectMap[id];

        if (eventObject.objectType === "legendItem") return;

        //if (this.currentSeriesIndex === eventObject.dataSeriesIndex && this.currentDataPointIndex === eventObject.dataPointIndex)
        //  return;
        //else {
        this.currentSeriesIndex = eventObject.dataSeriesIndex;
        this.currentDataPointIndex = eventObject.dataPointIndex >= 0 ? eventObject.dataPointIndex : -1;
        //}

        //window.console.log("id: " + id + "; hex: " + intToHexColorString(id));
      } else this.currentDataPointIndex = -1;
    } else this.currentDataPointIndex = -1;

    if (this.currentSeriesIndex >= 0) {

      dataSeries = this.chart.data[this.currentSeriesIndex];

      var entry = {};

      if (this.currentDataPointIndex >= 0) {
        dataPoint = dataSeries.dataPoints[this.currentDataPointIndex];

        entry.dataSeries = dataSeries;
        entry.dataPoint = dataPoint;
        entry.index = this.currentDataPointIndex;
        entry.distance = Math.abs(dataPoint.x - x);
      } else if (this.enabled && (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "area" || dataSeries.type === "stepArea" || dataSeries.type === "splineArea" || dataSeries.type === "stackedArea" || dataSeries.type === "stackedArea100" || dataSeries.type === "rangeArea" || dataSeries.type === "rangeSplineArea" || dataSeries.type === "candlestick" || dataSeries.type === "ohlc")) {

        //var x = (this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum) / this.chart.axisX.lineCoordinates.width * (mouseX - this.chart.axisX.lineCoordinates.x1) + this.chart.axisX.viewportMinimum.valueOf();
        var x = dataSeries.axisX.conversionParameters.minimum + (mouseX - dataSeries.axisX.conversionParameters.reference) / dataSeries.axisX.conversionParameters.pixelPerUnit;

        entry = dataSeries.getDataPointAtX(x, true);
        entry.dataSeries = dataSeries;
        this.currentDataPointIndex = entry.index;
        dataPoint = entry.dataPoint;
      } else {
        //this.hide();
        return;
      }

      if (entry.dataPoint.y !== null) {
        if (entry.dataSeries.axisY) {
          if (entry.dataPoint.y.length > 0) {
            var unboundToViewport = 0;
            for (var i = 0; i < entry.dataPoint.y.length; i++) {
              if (entry.dataPoint.y[i] < entry.dataSeries.axisY.viewportMinimum) unboundToViewport--;else if (entry.dataPoint.y[i] > entry.dataSeries.axisY.viewportMaximum) unboundToViewport++;
            }if (unboundToViewport < entry.dataPoint.y.length && unboundToViewport > -entry.dataPoint.y.length) entries.push(entry);
          } else {
            if (entry.dataPoint.y >= entry.dataSeries.axisY.viewportMinimum && entry.dataPoint.y <= entry.dataSeries.axisY.viewportMaximum) entries.push(entry);
          }
        } else entries.push(entry);
      }
    }
  }

  if (entries.length > 0) {

    this.highlightObjects(entries);

    if (this.enabled) {

      var toolTipInnerHtml = "";

      toolTipInnerHtml = this.getToolTipInnerHTML({ entries: entries });

      if (toolTipInnerHtml !== null) {
        this.contentDiv.innerHTML = toolTipInnerHtml;

        this.contentDiv.innerHTML = toolTipInnerHtml;

        var previouslyHidden = false;
        if (this.container.style.display === "none") {
          previouslyHidden = true;
          this.container.style.display = "block";
        }

        try {
          this.contentDiv.style.background = this.backgroundColor ? this.backgroundColor : _utils.isCanvasSupported ? "rgba(255,255,255,.9)" : "rgb(255,255,255)";

          this.contentDiv.style.borderRightColor = this.contentDiv.style.borderLeftColor = this.contentDiv.style.borderColor = this.borderColor ? this.borderColor : entries[0].dataPoint.color ? entries[0].dataPoint.color : entries[0].dataSeries.color ? entries[0].dataSeries.color : entries[0].dataSeries._colorSet[entries[0].index % entries[0].dataSeries._colorSet.length];

          this.contentDiv.style.borderWidth = this.borderThickness || this.borderThickness === 0 ? this.borderThickness + "px" : 2 + "px";

          this.contentDiv.style.borderRadius = this.cornerRadius || this.cornerRadius === 0 ? this.cornerRadius + "px" : 5 + "px";
          this.container.style.borderRadius = this.contentDiv.style.borderRadius;

          this.contentDiv.style.fontSize = this.fontSize || this.fontSize === 0 ? this.fontSize + "px" : 14 + "px";
          this.contentDiv.style.color = this.fontColor ? this.fontColor : "#000000";
          this.contentDiv.style.fontFamily = this.fontFamily ? this.fontFamily : "Calibri, Arial, Georgia, serif;";
          this.contentDiv.style.fontWeight = this.fontWeight ? this.fontWeight : "normal";
          this.contentDiv.style.fontStyle = this.fontStyle ? this.fontStyle : _utils.isCanvasSupported ? "italic" : "normal";
        } catch (e) {}

        var toolTipLeft;

        if (entries[0].dataSeries.type === "pie" || entries[0].dataSeries.type === "doughnut" || entries[0].dataSeries.type === "funnel" || entries[0].dataSeries.type === "bar" || entries[0].dataSeries.type === "rangeBar" || entries[0].dataSeries.type === "stackedBar" || entries[0].dataSeries.type === "stackedBar100") {
          toolTipLeft = mouseX - 10 - this.container.clientWidth;
        } else {
          //toolTipLeft = (((this.chart.axisX.lineCoordinates.width / Math.abs(this.chart.axisX.viewportMaximum - this.chart.axisX.viewportMinimum)) * Math.abs(entries[0].dataPoint.x - this.chart.axisX.viewportMinimum)) + this.chart.axisX.lineCoordinates.x1 + .5) - this.container.clientWidth << 0;
          toolTipLeft = entries[0].dataSeries.axisX.conversionParameters.reference + entries[0].dataSeries.axisX.conversionParameters.pixelPerUnit * (entries[0].dataPoint.x - entries[0].dataSeries.axisX.conversionParameters.minimum) - this.container.clientWidth << 0;
          toolTipLeft -= 10;
        }

        if (toolTipLeft < 0) {
          toolTipLeft += this.container.clientWidth + 20;
        }

        if (toolTipLeft + this.container.clientWidth > this.chart._container.clientWidth) toolTipLeft = Math.max(0, this.chart._container.clientWidth - this.container.clientWidth);

        toolTipLeft += "px";

        if (entries.length === 1 && !this.shared && (entries[0].dataSeries.type === "line" || entries[0].dataSeries.type === "stepLine" || entries[0].dataSeries.type === "spline" || entries[0].dataSeries.type === "area" || entries[0].dataSeries.type === "stepArea" || entries[0].dataSeries.type === "splineArea" || entries[0].dataSeries.type === "stackedArea" || entries[0].dataSeries.type === "stackedArea100")) {
          //toolTipBottom = (entries[0].dataSeries.axisY.lineCoordinates.y2 - entries[0].dataSeries.axisY.lineCoordinates.height / Math.abs(entries[0].dataSeries.axisY.maximum - entries[0].dataSeries.axisY.viewportMinimum) * Math.abs(entries[0].dataPoint.y - entries[0].dataSeries.axisY.viewportMinimum) + .5) << 0;
          toolTipBottom = entries[0].dataSeries.axisY.conversionParameters.reference + entries[0].dataSeries.axisY.conversionParameters.pixelPerUnit * (entries[0].dataPoint.y - entries[0].dataSeries.axisY.viewportMinimum) + .5 << 0;
        } else if (entries[0].dataSeries.type === "bar" || entries[0].dataSeries.type === "rangeBar" || entries[0].dataSeries.type === "stackedBar" || entries[0].dataSeries.type === "stackedBar100") {
          //toolTipBottom = (entries[0].dataSeries.axisX.lineCoordinates.y2 - entries[0].dataSeries.axisX.lineCoordinates.height / Math.abs(entries[0].dataSeries.axisX.maximum - entries[0].dataSeries.axisX.viewportMinimum) * Math.abs(entries[0].dataPoint.x - entries[0].dataSeries.axisX.viewportMinimum) + .5) << 0;
          toolTipBottom = entries[0].dataSeries.axisX.conversionParameters.reference + entries[0].dataSeries.axisX.conversionParameters.pixelPerUnit * (entries[0].dataPoint.x - entries[0].dataSeries.axisX.viewportMinimum) + .5 << 0;
        } else {
          toolTipBottom = mouseY;
        }

        toolTipBottom = -toolTipBottom + 10;

        if (toolTipBottom + this.container.clientHeight + 5 > 0) {
          toolTipBottom -= toolTipBottom + this.container.clientHeight + 5 - 0;
        }

        toolTipBottom += "px";

        //this.container.style.right = toolTipRight;
        this.container.style.left = toolTipLeft;
        this.container.style.bottom = toolTipBottom;

        if (!this.animationEnabled || previouslyHidden) {
          this.disableAnimation();
        } else this.enableAnimation();
      } else {
        this.hide(false);
      }
    }

    //if (isDebugMode)
    //  console.log("searchX: " + x + " x: " + searchResult.dataPoint.x + "; y: " + searchResult.dataPoint.y + "; distance: " + searchResult.distance + "; steps: " + steps);
  }
};

ToolTip.prototype.highlightObjects = function (entries) {
  //if (!this.enabled)
  //	return;

  //this.chart.overlaidCanvasCtx.clearRect(0, 0, this.chart.overlaidCanvas.width, this.chart.overlaidCanvas.height);
  var overlaidCanvasCtx = this.chart.overlaidCanvasCtx;
  this.chart.resetOverlayedCanvas();

  overlaidCanvasCtx.clearRect(0, 0, this.chart.width, this.chart.height);
  overlaidCanvasCtx.save();

  var plotArea = this.chart.plotArea;
  var offset = 0;

  overlaidCanvasCtx.rect(plotArea.x1, plotArea.y1, plotArea.x2 - plotArea.x1, plotArea.y2 - plotArea.y1);
  overlaidCanvasCtx.clip();

  for (var i = 0; i < entries.length; i++) {

    var entry = entries[i];

    var eventObject = this.chart._eventManager.objectMap[entry.dataSeries.dataPointIds[entry.index]];

    if (!eventObject || !eventObject.objectType || eventObject.objectType !== "dataPoint") continue;

    var dataSeries = this.chart.data[eventObject.dataSeriesIndex];
    var dataPoint = dataSeries.dataPoints[eventObject.dataPointIndex];
    var index = eventObject.dataPointIndex;

    if (dataPoint.highlightEnabled !== false && (dataSeries.highlightEnabled === true || dataPoint.highlightEnabled === true)) {

      if (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "scatter" || dataSeries.type === "area" || dataSeries.type === "stepArea" || dataSeries.type === "splineArea" || dataSeries.type === "stackedArea" || dataSeries.type === "stackedArea100" || dataSeries.type === "rangeArea" || dataSeries.type === "rangeSplineArea") {
        var markerProps = dataSeries.getMarkerProperties(index, eventObject.x1, eventObject.y1, this.chart.overlaidCanvasCtx);
        markerProps.size = Math.max(markerProps.size * 1.5 << 0, 10);

        markerProps.borderColor = markerProps.borderColor || "#FFFFFF";
        markerProps.borderThickness = markerProps.borderThickness || Math.ceil(markerProps.size * .1);

        //overlaidCanvasCtx.globalAlpha = .8;
        _render2.default.drawMarkers([markerProps]);
        //overlaidCanvasCtx.globalAlpha = .8;

        if (typeof eventObject.y2 !== "undefined") {

          var markerProps = dataSeries.getMarkerProperties(index, eventObject.x1, eventObject.y2, this.chart.overlaidCanvasCtx);
          markerProps.size = Math.max(markerProps.size * 1.5 << 0, 10);

          markerProps.borderColor = markerProps.borderColor || "#FFFFFF";
          markerProps.borderThickness = markerProps.borderThickness || Math.ceil(markerProps.size * .1);

          //overlaidCanvasCtx.globalAlpha = .8;
          _render2.default.drawMarkers([markerProps]);
          //overlaidCanvasCtx.globalAlpha = .8;
        }
      } else if (dataSeries.type === "bubble") {
          var markerProps = dataSeries.getMarkerProperties(index, eventObject.x1, eventObject.y1, this.chart.overlaidCanvasCtx);
          markerProps.size = eventObject.size;
          markerProps.color = "white";
          markerProps.borderColor = "white";
          //markerProps.borderThickness = 2;
          overlaidCanvasCtx.globalAlpha = .3;
          _render2.default.drawMarkers([markerProps]);
          overlaidCanvasCtx.globalAlpha = 1;
        } else if (dataSeries.type === "column" || dataSeries.type === "stackedColumn" || dataSeries.type === "stackedColumn100" || dataSeries.type === "bar" || dataSeries.type === "rangeBar" || dataSeries.type === "stackedBar" || dataSeries.type === "stackedBar100" || dataSeries.type === "rangeColumn") {
          (0, _utils.drawRect)(overlaidCanvasCtx, eventObject.x1, eventObject.y1, eventObject.x2, eventObject.y2, "white", 0, null, false, false, false, false, .3);
        } else if (dataSeries.type === "pie" || dataSeries.type === "doughnut") {
          (0, _utils.drawSegment)(overlaidCanvasCtx, eventObject.center, eventObject.radius, "white", dataSeries.type, eventObject.startAngle, eventObject.endAngle, .3, eventObject.percentInnerRadius);
        } else if (dataSeries.type === "candlestick") {

          overlaidCanvasCtx.globalAlpha = 1;
          overlaidCanvasCtx.strokeStyle = eventObject.color;
          overlaidCanvasCtx.lineWidth = eventObject.borderThickness * 2;
          offset = overlaidCanvasCtx.lineWidth % 2 === 0 ? 0 : .5;

          overlaidCanvasCtx.beginPath();
          overlaidCanvasCtx.moveTo(eventObject.x3 - offset, eventObject.y2);
          overlaidCanvasCtx.lineTo(eventObject.x3 - offset, Math.min(eventObject.y1, eventObject.y4));
          overlaidCanvasCtx.stroke();

          overlaidCanvasCtx.beginPath();
          overlaidCanvasCtx.moveTo(eventObject.x3 - offset, Math.max(eventObject.y1, eventObject.y4));
          overlaidCanvasCtx.lineTo(eventObject.x3 - offset, eventObject.y3);
          overlaidCanvasCtx.stroke();

          (0, _utils.drawRect)(overlaidCanvasCtx, eventObject.x1, Math.min(eventObject.y1, eventObject.y4), eventObject.x2, Math.max(eventObject.y1, eventObject.y4), "transparent", eventObject.borderThickness * 2, eventObject.color, false, false, false, false);
          overlaidCanvasCtx.globalAlpha = 1;
        } else if (dataSeries.type === "ohlc") {
          overlaidCanvasCtx.globalAlpha = 1;

          overlaidCanvasCtx.strokeStyle = eventObject.color;
          overlaidCanvasCtx.lineWidth = eventObject.borderThickness * 2;

          offset = overlaidCanvasCtx.lineWidth % 2 === 0 ? 0 : .5;

          overlaidCanvasCtx.beginPath();
          overlaidCanvasCtx.moveTo(eventObject.x3 - offset, eventObject.y2);
          overlaidCanvasCtx.lineTo(eventObject.x3 - offset, eventObject.y3);
          overlaidCanvasCtx.stroke();

          overlaidCanvasCtx.beginPath();
          overlaidCanvasCtx.moveTo(eventObject.x3, eventObject.y1);
          overlaidCanvasCtx.lineTo(eventObject.x1, eventObject.y1);
          overlaidCanvasCtx.stroke();

          overlaidCanvasCtx.beginPath();
          overlaidCanvasCtx.moveTo(eventObject.x3, eventObject.y4);
          overlaidCanvasCtx.lineTo(eventObject.x2, eventObject.y4);
          overlaidCanvasCtx.stroke();

          overlaidCanvasCtx.globalAlpha = 1;
        }
    }
  }

  overlaidCanvasCtx.restore();
  overlaidCanvasCtx.globalAlpha = 1;
  overlaidCanvasCtx.beginPath();

  return;
};

ToolTip.prototype.getToolTipInnerHTML = function (e) {
  var entries = e.entries;
  var toolTipInnerHtml = null;
  var dataSeries = null;
  var dataPoint = null;
  var index = 0;
  var color = null;
  var toolTipContent = "";

  var isToolTipDefinedInData = true;
  for (var i = 0; i < entries.length; i++) {
    if (entries[i].dataSeries.toolTipContent || entries[i].dataPoint.toolTipContent) {
      isToolTipDefinedInData = false;
      break;
    }
  }

  if (isToolTipDefinedInData && (this.content && typeof this.content === "function" || this.contentFormatter)) {

    var param = {
      chart: this.chart, toolTip: this._options, entries: entries
    };
    toolTipInnerHtml = this.contentFormatter ? this.contentFormatter(param) : this.content(param);
  } else {

    if (this.shared && this.chart.plotInfo.axisPlacement !== "none") {

      var toolTipInnerHtmlPrefix = "";

      for (var i = 0; i < entries.length; i++) {
        dataSeries = entries[i].dataSeries;
        dataPoint = entries[i].dataPoint;
        index = entries[i].index;

        toolTipContent = "";

        if (i === 0 && isToolTipDefinedInData && !this.content) {
          toolTipInnerHtmlPrefix += typeof this.chart.axisX.labels[dataPoint.x] !== "undefined" ? this.chart.axisX.labels[dataPoint.x] : "{x}";
          toolTipInnerHtmlPrefix += "</br>";
          toolTipInnerHtmlPrefix = this.chart.replaceKeywordsWithValue(toolTipInnerHtmlPrefix, dataPoint, dataSeries, index);
        }

        //Allows disabling of toolTip for individual dataPoints/dataSeries
        if (dataPoint.toolTipContent === null || typeof dataPoint.toolTipContent === "undefined" && dataSeries._options.toolTipContent === null) continue;

        if (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "area" || dataSeries.type === "stepArea" || dataSeries.type === "splineArea" || dataSeries.type === "column" || dataSeries.type === "bar" || dataSeries.type === "scatter" || dataSeries.type === "stackedColumn" || dataSeries.type === "stackedColumn100" || dataSeries.type === "stackedBar" || dataSeries.type === "stackedBar100" || dataSeries.type === "stackedArea" || dataSeries.type === "stackedArea100") {
          toolTipContent += dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}";
        } else if (dataSeries.type === "bubble") {
          toolTipContent += dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}";
        } else if (dataSeries.type === "pie" || dataSeries.type === "doughnut" || dataSeries.type === "funnel") {
          toolTipContent += dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "&nbsp;&nbsp;{y}";
        } else if (dataSeries.type === "rangeColumn" || dataSeries.type === "rangeBar" || dataSeries.type === "rangeArea" || dataSeries.type === "rangeSplineArea") {
          toolTipContent += dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}";
        } else if (dataSeries.type === "candlestick" || dataSeries.type === "ohlc") {
          toolTipContent += dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>{name}:</span>" + "<br/>Open: &nbsp;&nbsp;{y[0]}" + "<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}" + "<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}" + "<br/>Close: &nbsp;&nbsp;{y[3]}";
        }

        if (toolTipInnerHtml === null) toolTipInnerHtml = "";

        if (this.reversed === true) {

          toolTipInnerHtml = this.chart.replaceKeywordsWithValue(toolTipContent, dataPoint, dataSeries, index) + toolTipInnerHtml;

          if (i < entries.length - 1) toolTipInnerHtml = "</br>" + toolTipInnerHtml;
        } else {

          toolTipInnerHtml += this.chart.replaceKeywordsWithValue(toolTipContent, dataPoint, dataSeries, index);

          if (i < entries.length - 1) toolTipInnerHtml += "</br>";
        }
      }

      if (toolTipInnerHtml !== null) toolTipInnerHtml = toolTipInnerHtmlPrefix + toolTipInnerHtml;
    } else {

      dataSeries = entries[0].dataSeries;
      dataPoint = entries[0].dataPoint;
      index = entries[0].index;

      //Allows disabling of toolTip for individual dataPoints/dataSeries
      if (dataPoint.toolTipContent === null || typeof dataPoint.toolTipContent === "undefined" && dataSeries._options.toolTipContent === null) return null;

      if (dataSeries.type === "line" || dataSeries.type === "stepLine" || dataSeries.type === "spline" || dataSeries.type === "area" || dataSeries.type === "stepArea" || dataSeries.type === "splineArea" || dataSeries.type === "column" || dataSeries.type === "bar" || dataSeries.type === "scatter" || dataSeries.type === "stackedColumn" || dataSeries.type === "stackedColumn100" || dataSeries.type === "stackedBar" || dataSeries.type === "stackedBar100" || dataSeries.type === "stackedArea" || dataSeries.type === "stackedArea100") {
        toolTipContent = dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>" + (dataPoint.label ? "{label}" : "{x}") + " :</span>&nbsp;&nbsp;{y}";
      } else if (dataSeries.type === "bubble") {
        toolTipContent = dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>" + (dataPoint.label ? "{label}" : "{x}") + ":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}";
      } else if (dataSeries.type === "pie" || dataSeries.type === "doughnut" || dataSeries.type === "funnel") {
        toolTipContent = dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : (dataPoint.name ? "{name}:&nbsp;&nbsp;" : dataPoint.label ? "{label}:&nbsp;&nbsp;" : "") + "{y}";
      } else if (dataSeries.type === "rangeColumn" || dataSeries.type === "rangeBar" || dataSeries.type === "rangeArea" || dataSeries.type === "rangeSplineArea") {
        toolTipContent = dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>" + (dataPoint.label ? "{label}" : "{x}") + " :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}";
      } else if (dataSeries.type === "candlestick" || dataSeries.type === "ohlc") {
        toolTipContent = dataPoint.toolTipContent ? dataPoint.toolTipContent : dataSeries.toolTipContent ? dataSeries.toolTipContent : this.content && typeof this.content !== "function" ? this.content : "<span style='\"'color:{color};'\"'>" + (dataPoint.label ? "{label}" : "{x}") + "</span>" + "<br/>Open: &nbsp;&nbsp;{y[0]}" + "<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}" + "<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}" + "<br/>Close: &nbsp;&nbsp;{y[3]}";
      }

      if (toolTipInnerHtml === null) toolTipInnerHtml = "";

      toolTipInnerHtml += this.chart.replaceKeywordsWithValue(toolTipContent, dataPoint, dataSeries, index);
    }
  }

  return toolTipInnerHtml;
};

ToolTip.prototype.enableAnimation = function () {
  if (this.container.style.WebkitTransition) return;

  this.container.style.WebkitTransition = "left .2s ease-out, bottom .2s ease-out";
  this.container.style.MozTransition = "left .2s ease-out, bottom .2s ease-out";
  this.container.style.MsTransition = "left .2s ease-out, bottom .2s ease-out";
  this.container.style.transition = "left .2s ease-out, bottom .2s ease-out";
};

ToolTip.prototype.disableAnimation = function () {
  if (!this.container.style.WebkitTransition) return;

  this.container.style.WebkitTransition = "";
  this.container.style.MozTransition = "";
  this.container.style.MsTransition = "";
  this.container.style.transition = "";
};

ToolTip.prototype.hide = function (resetOverlayedCanvas) {
  if (!this.enabled) return;

  resetOverlayedCanvas = typeof resetOverlayedCanvas === "undefined" ? true : resetOverlayedCanvas;

  this.container.style.display = "none";
  this.currentSeriesIndex = -1;
  this._prevX = NaN;
  this._prevY = NaN;
  //this.chart.overlaidCanvasCtx.clearRect(0, 0, this.chart.overlaidCanvas.width, this.chart.overlaidCanvas.height);
  if (resetOverlayedCanvas) this.chart.resetOverlayedCanvas();
};

exports.default = ToolTip;

},{"../helpers/animator":41,"../helpers/render":42,"../helpers/utils":43,"./canvasjs":30}],41:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function yScaleAnimation(fractionComplete, animationInfo) {

  if (fractionComplete === 0) return;

  var ctx = animationInfo.dest;
  var sourceCanvas = animationInfo.source.canvas;
  var base = animationInfo.animationBase;

  var offsetY = base - base * fractionComplete;

  ctx.drawImage(sourceCanvas, 0, 0, sourceCanvas.width, sourceCanvas.height, 0, offsetY, ctx.canvas.width / devicePixelBackingStoreRatio, fractionComplete * ctx.canvas.height / devicePixelBackingStoreRatio);
}

function xScaleAnimation(fractionComplete, animationInfo) {

  if (fractionComplete === 0) return;

  var ctx = animationInfo.dest;
  var sourceCanvas = animationInfo.source.canvas;
  var base = animationInfo.animationBase;

  var offsetX = base - base * fractionComplete;

  ctx.drawImage(sourceCanvas, 0, 0, sourceCanvas.width, sourceCanvas.height, offsetX, 0, fractionComplete * ctx.canvas.width / devicePixelBackingStoreRatio, ctx.canvas.height / devicePixelBackingStoreRatio);
}

function xClipAnimation(fractionComplete, animationInfo) {

  if (fractionComplete === 0) return;

  var ctx = animationInfo.dest;
  var sourceCanvas = animationInfo.source.canvas;

  ctx.save();

  if (fractionComplete > 0) ctx.drawImage(sourceCanvas, 0, 0, sourceCanvas.width * fractionComplete, sourceCanvas.height, 0, 0, sourceCanvas.width * fractionComplete / devicePixelBackingStoreRatio, sourceCanvas.height / devicePixelBackingStoreRatio);

  ctx.restore();
}

function fadeInAnimation(fractionComplete, animationInfo) {

  if (fractionComplete === 0) return;

  var ctx = animationInfo.dest;
  var sourceCanvas = animationInfo.source.canvas;

  ctx.save();

  ctx.globalAlpha = fractionComplete;

  ctx.drawImage(sourceCanvas, 0, 0, sourceCanvas.width, sourceCanvas.height, 0, 0, ctx.canvas.width / devicePixelBackingStoreRatio, ctx.canvas.height / devicePixelBackingStoreRatio);

  ctx.restore();
}

var easing = {
  linear: function linear(t, b, c, d) {
    return c * t / d + b;
  },
  easeOutQuad: function easeOutQuad(t, b, c, d) {
    return -c * (t /= d) * (t - 2) + b;
  },
  easeOutQuart: function easeOutQuart(t, b, c, d) {
    return -c * ((t = t / d - 1) * t * t * t - 1) + b;
  },
  easeInQuad: function easeInQuad(t, b, c, d) {
    return c * (t /= d) * t + b;
  },
  easeInQuart: function easeInQuart(t, b, c, d) {
    return c * (t /= d) * t * t * t + b;
  }
};

exports.default = {

  yScaleAnimation: yScaleAnimation,
  xScaleAnimation: xScaleAnimation,
  xClipAnimation: xClipAnimation,
  fadeInAnimation: fadeInAnimation,
  easing: easing

};

},{}],42:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var RenderHelper = {

  drawMarker: function drawMarker(x, y, ctx, markerType, markerSize, markerColor, markerBorderColor, markerBorderThickness) {

    if (!ctx) return;

    var alpha = 1;

    ctx.fillStyle = markerColor ? markerColor : "#000000";
    ctx.strokeStyle = markerBorderColor ? markerBorderColor : "#000000";
    ctx.lineWidth = markerBorderThickness ? markerBorderThickness : 0;

    if (markerType === "circle") {

      ctx.moveTo(x, y);
      ctx.beginPath();
      //return;

      ctx.arc(x, y, markerSize / 2, 0, Math.PI * 2, false);

      if (markerColor) ctx.fill();

      if (markerBorderThickness) {

        if (!markerBorderColor) {
          alpha = ctx.globalAlpha;
          ctx.globalAlpha = .15;
          ctx.strokeStyle = "black";
          ctx.stroke();
          ctx.globalAlpha = alpha;
        } else ctx.stroke();
      }
    } else if (markerType === "square") {

      //ctx.moveTo(x - markerSize / 2, y - markerSize / 2);
      ctx.beginPath();
      ctx.rect(x - markerSize / 2, y - markerSize / 2, markerSize, markerSize);

      if (markerColor) ctx.fill();

      if (markerBorderThickness) {

        if (!markerBorderColor) {
          alpha = ctx.globalAlpha;
          ctx.globalAlpha = .15;
          ctx.strokeStyle = "black";
          ctx.stroke();
          ctx.globalAlpha = alpha;
        } else ctx.stroke();
      }
    } else if (markerType === "triangle") {

      ctx.beginPath();
      ctx.moveTo(x - markerSize / 2, y + markerSize / 2);
      ctx.lineTo(x + markerSize / 2, y + markerSize / 2);
      ctx.lineTo(x, y - markerSize / 2);
      ctx.closePath();

      if (markerColor) ctx.fill();

      if (markerBorderThickness) {

        if (!markerBorderColor) {
          alpha = ctx.globalAlpha;
          ctx.globalAlpha = .15;
          ctx.strokeStyle = "black";
          ctx.stroke();
          ctx.globalAlpha = alpha;
        } else ctx.stroke();
      }
      ctx.beginPath();
    } else if (markerType === "cross") {

      ctx.strokeStyle = markerColor;
      markerBorderThickness = markerSize / 4;
      ctx.lineWidth = markerBorderThickness;

      ctx.beginPath();
      ctx.moveTo(x - markerSize / 2, y - markerSize / 2);
      ctx.lineTo(x + markerSize / 2, y + markerSize / 2);
      ctx.stroke();

      ctx.moveTo(x + markerSize / 2, y - markerSize / 2);
      ctx.lineTo(x - markerSize / 2, y + markerSize / 2);
      ctx.stroke();
    }
  },
  drawMarkers: function drawMarkers(markers) {
    for (var i = 0; i < markers.length; i++) {
      var marker = markers[i];

      RenderHelper.drawMarker(marker.x, marker.y, marker.ctx, marker.type, marker.size, marker.color, marker.borderColor, marker.borderThickness);
    }
  }
  //,
  //draw1pxLine: function (x1, y1, x2, y2, color, ctx) {
  //	ctx.beginPath();
  //	ctx.drawRect(x1, y1, x2 - x1, y2 - y1);
  //	ctx.stroke();
  //}
};

exports.default = RenderHelper;

},{}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.extend = extend;
exports.inherit = inherit;
exports.addToDateTime = addToDateTime;
exports.convertToNumber = convertToNumber;
exports.pad = pad;
exports.trimString = trimString;
exports.extendCtx = extendCtx;
exports.compareNumbers = compareNumbers;
exports.compareDataPointX = compareDataPointX;
exports.intToHexColorString = intToHexColorString;
exports.RGBToInt = RGBToInt;
exports.intToRGB = intToRGB;
exports.arrayIndexOf = arrayIndexOf;
exports.addArrayIndexOf = addArrayIndexOf;
exports.getFontHeightInPixels = getFontHeightInPixels;
exports.getLineDashArray = getLineDashArray;
exports.addEvent = addEvent;
exports.dateFormat = dateFormat;
exports.numberFormat = numberFormat;
exports.getObjectId = getObjectId;
exports.getMouseCoordinates = getMouseCoordinates;
exports.getFontString = getFontString;
exports.getProperty = getProperty;
exports.setCanvasSize = setCanvasSize;
exports.createCanvas = createCanvas;
exports.exportCanvas = exportCanvas;
exports.setButtonState = setButtonState;
exports.show = show;
exports.hide = hide;
exports.getBezierPoints = getBezierPoints;
exports.convertPercentToValue = convertPercentToValue;
exports.drawRect = drawRect;
exports.drawSegment = drawSegment;
function extend(derived, base) {
	derived.prototype = inherit(base.prototype);
	derived.prototype.constructor = derived;
	derived.base = base.prototype;
}

function inherit(proto) {
	function F() {}
	F.prototype = proto;
	return new F();
}

function addToDateTime(dateTime, num, type) {

	if (type === "millisecond") dateTime.setMilliseconds(dateTime.getMilliseconds() + 1 * num);else if (type === "second") dateTime.setSeconds(dateTime.getSeconds() + 1 * num);else if (type === "minute") dateTime.setMinutes(dateTime.getMinutes() + 1 * num);else if (type === "hour") dateTime.setHours(dateTime.getHours() + 1 * num);else if (type === "day") dateTime.setDate(dateTime.getDate() + 1 * num);else if (type === "week") dateTime.setDate(dateTime.getDate() + 7 * num);else if (type === "month") dateTime.setMonth(dateTime.getMonth() + 1 * num);else if (type === "year") dateTime.setFullYear(dateTime.getFullYear() + 1 * num);

	return dateTime;
}

function convertToNumber(num, type) {
	return constants[type + "Duration"] * num;
}

function pad(value, length) {
	var isNegative = false;
	if (value < 0) {
		isNegative = true;
		value *= -1;
	}

	value = "" + value;
	length = !length ? 1 : length;

	while (value.length < length) {
		value = "0" + value;
	}return isNegative ? "-" + value : value;
}

function trimString(str) {
	if (!str) return str;

	str = str.replace(/^\s\s*/, '');
	var ws = /\s/;
	var i = str.length;
	while (ws.test(str.charAt(--i))) {}
	return str.slice(0, i + 1);
}

function extendCtx(context) {
	context.roundRect = function (x, y, width, height, radius, borderThickness, backgroundColor, borderColor) {
		///<signature>
		///<summary>Creates a rounded rectangle with given fill/stroke parameters</summary>
		///<param name="x" type="number">x value</param>
		///<param name="y" type="number">y value</param>
		///<param name="width" type="number">Border Width</param>
		///<param name="height" type="number">Border Height</param>
		///<param name="radius" type="number">Border CornerRadius</param>
		///<param name="borderThickness" type="number">Border Thickess</param>
		///<param name="backgroundColor" type="number">Background Color</param>
		///<param name="borderColor" type="number">Border Color</param>
		///</signature>

		if (backgroundColor) {
			this.fillStyle = backgroundColor;
		}

		if (borderColor) {
			this.strokeStyle = borderColor;
		}

		//if (typeof stroke == "undefined") {
		//	stroke = true;
		//}

		if (typeof radius === "undefined") {
			radius = 5;
		}

		this.lineWidth = borderThickness;

		this.beginPath();
		this.moveTo(x + radius, y);
		this.lineTo(x + width - radius, y);
		this.quadraticCurveTo(x + width, y, x + width, y + radius);
		this.lineTo(x + width, y + height - radius);
		this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
		this.lineTo(x + radius, y + height);
		this.quadraticCurveTo(x, y + height, x, y + height - radius);
		this.lineTo(x, y + radius);
		this.quadraticCurveTo(x, y, x + radius, y);
		this.closePath();

		if (backgroundColor) {
			this.fill();
		}

		if (borderColor && borderThickness > 0) {
			this.stroke();
		}
	};
}

function compareNumbers(a, b) {
	return a - b;
}

function compareDataPointX(dataPoint1, dataPoint2) {
	return dataPoint1.x - dataPoint2.x;
}

function intToHexColorString(num) {
	var r = ((num & 0xFF0000) >> 16).toString(16);
	var g = ((num & 0x00FF00) >> 8).toString(16);
	var b = ((num & 0x0000FF) >> 0).toString(16);

	r = r.length < 2 ? "0" + r : r;
	g = g.length < 2 ? "0" + g : g;
	b = b.length < 2 ? "0" + b : b;

	return "#" + r + g + b;
}

function RGBToInt(r, g, b) {
	var num = r << 16 | g << 8 | b;

	return num;
}

function intToRGB(num) {
	var rgb = [];
	var r = (num & 0xFF0000) >> 16;
	var g = (num & 0x00FF00) >> 8;
	var b = (num & 0x0000FF) >> 0;

	//r = r.length < 2 ? "0" + r : r;
	//g = g.length < 2 ? "0" + g : g;
	//b = b.length < 2 ? "0" + b : b;

	rgb[0] = r;
	rgb[1] = g;
	rgb[2] = b;

	return rgb;
}

function arrayIndexOf(elt /*, from*/) {
	var len = this.length >>> 0;

	var from = Number(arguments[1]) || 0;
	from = from < 0 ? Math.ceil(from) : Math.floor(from);
	if (from < 0) from += len;

	for (; from < len; from++) {
		if (from in this && this[from] === elt) return from;
	}
	return -1;
};

//IE8- Fix: indexOf is not supported in IE8- for arrays
function addArrayIndexOf(obj) {
	if (!obj.indexOf) {
		obj.indexOf = arrayIndexOf;
	}

	return obj;
}

var fontHeightInPixels = {};
var textMeasureEl = null;

function getFontHeightInPixels(fontFamily, fontSize, fontWeight) {

	//return fontSize;

	fontWeight = fontWeight || "normal";

	var entry = fontFamily + "_" + fontSize + "_" + fontWeight;
	var height = fontHeightInPixels[entry];

	if (isNaN(height)) {
		try {
			var style = "position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;" + "font-family:" + fontFamily + "; " + "font-size:" + fontSize + "px; font-weight:" + fontWeight + ";";
			//console.log(style);
			if (!textMeasureEl) {
				var body = document.body;
				textMeasureEl = document.createElement("span");
				textMeasureEl.innerHTML = "";
				var textNode = document.createTextNode("Mpgyi");
				textMeasureEl.appendChild(textNode);
				body.appendChild(textMeasureEl);
			}

			textMeasureEl.style.display = "";
			textMeasureEl.setAttribute("style", style);

			height = Math.round(textMeasureEl.offsetHeight);
			textMeasureEl.style.display = "none";
			//body.removeChild(tempDiv);

			//if (window.console)
			//	window.console.log(fontSize + ": " + height);
		} catch (e) {
			height = Math.ceil(fontSize * 1.1);
		}

		height = Math.max(height, fontSize);

		fontHeightInPixels[entry] = height;
	}

	return height;
}

function getLineDashArray(lineDashType, lineThickness) {
	lineDashType = lineDashType || "solid";

	var lineDashArray = [];

	var lineDashTypeMap = {
		"solid": [],
		"shortDash": [3, 1],
		"shortDot": [1, 1],
		"shortDashDot": [3, 1, 1, 1],
		"shortDashDotDot": [3, 1, 1, 1, 1, 1],
		"dot": [1, 2],
		"dash": [4, 2],
		"dashDot": [4, 2, 1, 2],
		"longDash": [8, 2],
		"longDashDot": [8, 2, 1, 2],
		"longDashDotDot": [8, 2, 1, 2, 1, 2]
	};

	lineDashArray = lineDashTypeMap[lineDashType];

	if (lineDashArray) {

		for (var i = 0; i < lineDashArray.length; i++) {
			lineDashArray[i] *= lineThickness;
		}
	} else lineDashArray = [];

	return lineDashArray;
}

//userCapture is optional. Defaults to false
function addEvent(obj, eventType, fn, useCapture) {
	if (obj.addEventListener) {
		obj.addEventListener(eventType, fn, useCapture || false);
	} else if (obj.attachEvent) {
		obj.attachEvent("on" + eventType, function (e) {
			e = e || window.event;
			e.preventDefault = e.preventDefault || function () {
				e.returnValue = false;
			};
			e.stopPropagation = e.stopPropagation || function () {
				e.cancelBubble = true;
			};
			fn.call(obj, e);
		});
	} else return false;
}

//#region formatting functions/methods
function dateFormat() {

	var reg = /D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g;

	var defDays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
	var defShortDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

	var defMonths = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
	var defShortMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

	var timezone = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;
	var timezoneClip = /[^-+\dA-Z]/g;

	return function (dt, formatString, cultureInfo) {

		var days = cultureInfo ? cultureInfo.days : defDays;
		var months = cultureInfo ? cultureInfo.months : defMonths;

		var shortDays = cultureInfo ? cultureInfo.shortDays : defShortDays;
		var shortMonths = cultureInfo ? cultureInfo.shortMonths : defShortMonths;

		var result = "";
		var utc = false;

		dt = dt && dt.getTime ? dt : dt ? new Date(dt) : new Date();
		if (isNaN(dt)) throw SyntaxError("invalid date");

		if (formatString.slice(0, 4) === "UTC:") {
			formatString = formatString.slice(4);
			utc = true;
		}

		var pre = utc ? "getUTC" : "get";
		var date = dt[pre + "Date"]();
		var day = dt[pre + "Day"]();
		var month = dt[pre + "Month"]();
		var year = dt[pre + "FullYear"]();
		var hours = dt[pre + "Hours"]();
		var minutes = dt[pre + "Minutes"]();
		var seconds = dt[pre + "Seconds"]();
		var milliseconds = dt[pre + "Milliseconds"]();
		var offset = utc ? 0 : dt.getTimezoneOffset();

		result = formatString.replace(reg, function (key) {

			switch (key) {

				case "D":
					return date;
				case "DD":
					return pad(date, 2);
				case "DDD":
					return shortDays[day];
				case "DDDD":
					return days[day];

				case "M":
					return month + 1;
				case "MM":
					return pad(month + 1, 2);
				case "MMM":
					return shortMonths[month];
				case "MMMM":
					return months[month];

				case "Y":
					return parseInt(String(year).slice(-2));
				case "YY":
					return pad(String(year).slice(-2), 2);
				case "YYY":
					return pad(String(year).slice(-3), 3);
				case "YYYY":
					return pad(year, 4);

				case "h":
					return hours % 12 || 12;
				case "hh":
					return pad(hours % 12 || 12, 2);

				case "H":
					return hours;
				case "HH":
					return pad(hours, 2);

				case "m":
					return minutes;
				case "mm":
					return pad(minutes, 2);

				case "s":
					return seconds;
				case "ss":
					return pad(seconds, 2);

				case "f":
					return String(milliseconds).slice(0, 1);
				case "ff":
					return pad(String(milliseconds).slice(0, 2), 2);
				case "fff":
					return pad(String(milliseconds).slice(0, 3), 3);

				case "t":
					return hours < 12 ? "a" : "p";
				case "tt":
					return hours < 12 ? "am" : "pm";
				case "T":
					return hours < 12 ? "A" : "P";
				case "TT":
					return hours < 12 ? "AM" : "PM";

				case "K":
					return utc ? "UTC" : (String(dt).match(timezone) || [""]).pop().replace(timezoneClip, ""); // Time Zone;
				case "z":
					return (offset > 0 ? "-" : "+") + Math.floor(Math.abs(offset) / 60); // Hour Offset from UTC without padding
				case "zz":
					return (offset > 0 ? "-" : "+") + pad(Math.floor(Math.abs(offset) / 60), 2); // Hour Offset from UTC with padding
				case "zzz":
					return (offset > 0 ? "-" : "+") + pad(Math.floor(Math.abs(offset) / 60), 2) + pad(Math.abs(offset) % 60, 2); // Hour and Minute Offset from UTC with padding

				default:
					return key.slice(1, key.length - 1);

			}
		});

		return result;
	};
};

function numberFormat(v, fs, cultureInfo) {
	if (v === null) return "";

	v = Number(v);
	var isNegative = v < 0 ? true : false;
	if (isNegative) v *= -1;

	var decimalSeparator = cultureInfo ? cultureInfo.decimalSeparator : ".";
	var digitGroupSeparator = cultureInfo ? cultureInfo.digitGroupSeparator : ",";

	var vString = "";
	fs = String(fs);
	var multiplier = 1;
	var temp;
	var result = "";

	var matches = "";
	var decimalPosition = -1;
	var fsBeforeDecimal = [];
	var fsAfterDecimal = [];
	var noPhBeforeDecimal = 0; // Number of Placeholders before Decimal
	var noPhAfterDecimal = 0; // Number of Placeholders after Decimal
	var noComma = 0;
	var isScientificNotation = false;
	var exponent = 0;

	matches = fs.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|‰|./g);
	//window.console.log(matches + " = " + matches.length);
	var match = null;

	for (var i = 0; matches && i < matches.length; i++) {
		match = matches[i];

		if (match === "." && decimalPosition < 0) {
			decimalPosition = i;
			continue;
		} else if (match === "%") {
			multiplier *= 100;
		} else if (match === "‰") {
			multiplier *= 1000;
			continue;
		} else if (match[0] === "," && match[match.length - 1] === ".") {
			multiplier /= Math.pow(1000, match.length - 1);
			decimalPosition = i + match.length - 1;
			continue;
		} else if ((match[0] === "E" || match[0] === "e") && match[match.length - 1] === "0") {
			isScientificNotation = true;
		}

		if (decimalPosition < 0) {
			fsBeforeDecimal.push(match);
			if (match === "#" || match === "0") noPhBeforeDecimal++;else if (match === ",") noComma++;
		} else {
			fsAfterDecimal.push(match);
			if (match === "#" || match === "0") noPhAfterDecimal++;
		}
	}

	if (isScientificNotation) {
		var integer = Math.floor(v);
		exponent = (integer === 0 ? "" : String(integer)).length - noPhBeforeDecimal;
		multiplier /= Math.pow(10, exponent);
	}

	v *= multiplier;

	if (decimalPosition < 0) decimalPosition = i;

	vString = v.toFixed(noPhAfterDecimal);
	var split = vString.split(".");
	//window.console.log(split);
	var vStringBeforeDecimal = (split[0] + "").split("");
	var vStringAfterDecimal = (split[1] + "").split("");

	if (vStringBeforeDecimal && vStringBeforeDecimal[0] === "0") vStringBeforeDecimal.shift();

	//window.console.log(fsBeforeDecimal + "<---------->" + fsAfterDecimal + " &        " + vStringBeforeDecimal + "<---------->" + vStringAfterDecimal);

	var noPhProcessed = 0;
	var noDigitsAdded = 0;
	var noCommaAdded = 0;
	var commaDistance = 0;
	var distanceFromLastComma = 0;

	while (fsBeforeDecimal.length > 0) {
		match = fsBeforeDecimal.pop();

		if (match === "#" || match === "0") {
			noPhProcessed++;

			if (noPhProcessed === noPhBeforeDecimal) {
				var digits = vStringBeforeDecimal;
				vStringBeforeDecimal = [];

				if (match === "0") {
					//var totalDigits = result.match(/[0-9]/g).length;
					var toPad = noPhBeforeDecimal - noDigitsAdded - (digits ? digits.length : 0);

					while (toPad > 0) {
						digits.unshift("0");
						toPad--;
					}
				}

				while (digits.length > 0) {
					result = digits.pop() + result;
					distanceFromLastComma++;

					if (distanceFromLastComma % commaDistance === 0 && noCommaAdded === noComma && digits.length > 0) result = digitGroupSeparator + result;
				}

				if (isNegative) result = "-" + result;
			} else {
				if (vStringBeforeDecimal.length > 0) {
					result = vStringBeforeDecimal.pop() + result;
					noDigitsAdded++;
					distanceFromLastComma++;
				} else if (match === "0") {
					result = "0" + result;
					noDigitsAdded++;
					distanceFromLastComma++;
				}

				if (distanceFromLastComma % commaDistance === 0 && noCommaAdded === noComma && vStringBeforeDecimal.length > 0) result = digitGroupSeparator + result;
			}
		} else if ((match[0] === "E" || match[0] === "e") && match[match.length - 1] === "0" && /[eE][+-]*[0]+/.test(match)) {
			if (exponent < 0) match = match.replace("+", "").replace("-", "");else match = match.replace("-", "");

			result += match.replace(/[0]+/, function ($0) {
				return pad(exponent, $0.length);
			});
		} else {
			if (match === ",") {
				noCommaAdded++;
				commaDistance = distanceFromLastComma;
				distanceFromLastComma = 0;

				if (vStringBeforeDecimal.length > 0) result = digitGroupSeparator + result;
			} else if (match.length > 1 && (match[0] === "\"" && match[match.length - 1] === "\"" || match[0] === "'" && match[match.length - 1] === "'")) {
				result = match.slice(1, match.length - 1) + result;
			} else result = match + result;
		}
	}

	var charCount = 0;
	var resultAfterDecimal = "";
	var addDecimalSeparator = false;

	while (fsAfterDecimal.length > 0) {
		match = fsAfterDecimal.shift();

		if (match === "#" || match === "0") {
			if (vStringAfterDecimal.length > 0 && Number(vStringAfterDecimal.join("")) !== 0) {
				resultAfterDecimal += vStringAfterDecimal.shift();
				addDecimalSeparator = true;
			} else if (match === "0") {
				resultAfterDecimal += "0";
				addDecimalSeparator = true;
			}
		} else if (match.length > 1 && (match[0] === "\"" && match[match.length - 1] === "\"" || match[0] === "'" && match[match.length - 1] === "'")) {
			resultAfterDecimal += match.slice(1, match.length - 1);
			//addDecimalSeparator = true;
		} else if ((match[0] === "E" || match[0] === "e") && match[match.length - 1] === "0" && /[eE][+-]*[0]+/.test(match)) {
				if (exponent < 0) match = match.replace("+", "").replace("-", "");else match = match.replace("-", "");
				resultAfterDecimal += match.replace(/[0]+/, function ($0) {
					return pad(exponent, $0.length);
				});
			} else {
				resultAfterDecimal += match;
				//addDecimalSeparator = true;
			}
	}

	result += (addDecimalSeparator ? decimalSeparator : "") + resultAfterDecimal;
	//window.console.log(result);
	return result;
};

//#endregion formatting functions/methods

function getObjectId(x, y, ctx) {
	x *= devicePixelBackingStoreRatio;
	y *= devicePixelBackingStoreRatio;
	var pixels = ctx.getImageData(x, y, 2, 2).data;
	var isObject = true;

	for (var i = 0; i < 4; i++) {

		if (pixels[i] !== pixels[i + 4] | pixels[i] !== pixels[i + 8] | pixels[i] !== pixels[i + 12]) {
			isObject = false;
			break;
		}
	}

	if (isObject) {
		return RGBToInt(pixels[0], pixels[1], pixels[2]);
	} else {
		return 0;
	}

	//window.console.log(pixels);
}

//extracts mouse coordinates from the event parameters
function getMouseCoordinates(ev) {
	var x = 0;
	var y = 0;

	ev = ev || window.event;

	if (ev.offsetX || ev.offsetX === 0) {
		x = ev.offsetX;
		y = ev.offsetY;
	} else if (ev.layerX || ev.layerX == 0) {
		// Firefox
		x = ev.layerX;
		y = ev.layerY;
	} else {
		x = ev.pageX - ev.target.offsetLeft;
		y = ev.pageY - ev.target.offsetTop;
	}

	return { x: x, y: y };
};

function getFontString(prefix, object, fallbackObject) {
	var fontString = "";

	var fontStyleString = prefix ? prefix + "FontStyle" : "fontStyle";
	var fontWeightString = prefix ? prefix + "FontWeight" : "fontWeight";
	var fontSizeString = prefix ? prefix + "FontSize" : "fontSize";
	var fontFamilyString = prefix ? prefix + "FontFamily" : "fontFamily";

	fontString += object[fontStyleString] ? object[fontStyleString] + " " : fallbackObject && fallbackObject[fontStyleString] ? fallbackObject[fontStyleString] + " " : "";
	fontString += object[fontWeightString] ? object[fontWeightString] + " " : fallbackObject && fallbackObject[fontWeightString] ? fallbackObject[fontWeightString] + " " : "";
	fontString += object[fontSizeString] ? object[fontSizeString] + "px " : fallbackObject && fallbackObject[fontSizeString] ? fallbackObject[fontSizeString] + "px " : "";

	var fontFamily = object[fontFamilyString] ? object[fontFamilyString] + "" : fallbackObject && fallbackObject[fontFamilyString] ? fallbackObject[fontFamilyString] + "" : "";

	if (!isCanvasSupported && fontFamily) {
		var firstFontFamily = fontFamily.split(",")[0];

		if (firstFontFamily[0] !== "'" && firstFontFamily[0] !== "\"") firstFontFamily = "'" + firstFontFamily + "'";

		fontString += firstFontFamily;
	} else fontString += fontFamily;

	return fontString;
}

function getProperty(propertyName, object, fallbackObject) {

	var value = propertyName in object ? object[propertyName] : fallbackObject[propertyName];

	return value;
}

var optimizeForHiDPI = true;
//optimizeForHiDPI = false;

var devicePixelRatio = window.devicePixelRatio || 1;
var backingStoreRatio = 1;
var devicePixelBackingStoreRatio = optimizeForHiDPI ? devicePixelRatio / backingStoreRatio : 1;

function setCanvasSize(canvas, width, height) {

	if (isCanvasSupported && !!optimizeForHiDPI) {
		var ctx = canvas.getContext("2d");
		backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;

		devicePixelBackingStoreRatio = devicePixelRatio / backingStoreRatio;

		canvas.width = width * devicePixelBackingStoreRatio;
		canvas.height = height * devicePixelBackingStoreRatio;

		if (devicePixelRatio !== backingStoreRatio) {

			canvas.style.width = width + 'px';
			canvas.style.height = height + 'px';

			ctx.scale(devicePixelBackingStoreRatio, devicePixelBackingStoreRatio);
		}

		//window.alert(backingStoreRatio);
		//window.alert(devicePixelRatio);
	} else {
			canvas.width = width;
			canvas.height = height;
		}
}

function createCanvas(width, height) {
	var canvas = document.createElement("canvas");
	canvas.setAttribute("class", "canvasjs-chart-canvas");

	setCanvasSize(canvas, width, height);

	if (!isCanvasSupported && typeof G_vmlCanvasManager !== "undefined") {
		G_vmlCanvasManager.initElement(canvas);
	}

	return canvas;
}

function exportCanvas(canvas, format, fileName) {
	if (!canvas || !format || !fileName) return;

	var fullFileName = fileName + "." + (format === "jpeg" ? "jpg" : format);
	var mimeType = "image/" + format;
	var img = canvas.toDataURL(mimeType);
	var saved = false;

	var downloadLink = document.createElement("a");
	downloadLink.download = fullFileName;
	downloadLink.href = img;
	downloadLink.target = "_blank";
	var e;

	if (typeof Blob !== "undefined" && !!new Blob()) {

		//alert("blob");
		var imgData = img.replace(/^data:[a-z/]*;base64,/, '');

		var byteString = atob(imgData);
		var buffer = new ArrayBuffer(byteString.length);
		var intArray = new Uint8Array(buffer);
		for (var i = 0; i < byteString.length; i++) {
			intArray[i] = byteString.charCodeAt(i);
		}

		var blob = new Blob([buffer], { type: "image/" + format });

		// Save the blob
		try {
			window.navigator.msSaveBlob(blob, fullFileName);
			saved = true;
		} catch (e) {
			downloadLink.dataset.downloadurl = [mimeType, downloadLink.download, downloadLink.href].join(':');
			downloadLink.href = window.URL.createObjectURL(blob);
		}
	}

	if (!saved) {

		try {

			event = document.createEvent("MouseEvents");

			event.initMouseEvent("click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);

			if (downloadLink.dispatchEvent) {
				//alert("dispatchEvent");
				downloadLink.dispatchEvent(event);
			} else if (downloadLink.fireEvent) {
				//alert("fireEvent");
				downloadLink.fireEvent("onclick");
			}
		} catch (e) {
			var win = window.open();
			//alert("<IE10");
			//window.console.log("IE");
			win.document.write("<img src='" + img + "'></img><div>Please right click on the image and save it to your device</div>");
			win.document.close();
		}
	}
}

var base64Images = {
	reset: {
		image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAKRSURBVEiJrdY/iF1FFMfxzwnZrGISUSR/JLGIhoh/QiRNBLWxMLIWEkwbgiAoFgoW2mhlY6dgpY2IlRBRxBSKhSAKIklWJRYuMZKAhiyopAiaTY7FvRtmZ+/ed9/zHRjezLw5v/O9d86cuZGZpmURAfdn5o9DfdZNLXpjz+LziPgyIl6MiG0jPTJzZBuyDrP4BVm0P/AKbljTb4ToY/gGewYA7KyCl+1b3DUYANvwbiHw0gCAGRzBOzjTAXEOu0cC4Ch+r5x/HrpdrcZmvIDFSucMtnYCYC++6HmNDw8FKDT34ETrf639/azOr5vwRk/g5fbeuABtgC04XWk9VQLciMP4EH/3AFzErRNC7MXlQmsesSoHsGPE23hmEoBW+61K66HMXFmIMvN8myilXS36R01ub+KfYvw43ZXwYDX+AHP4BAci4pFJomfmr/ihmNofESsBImJGk7mlncrM45n5JPbhz0kAWpsv+juxaX21YIPmVJS2uNzJMS6ZNexC0d+I7fUWXLFyz2kSZlpWPvASlmqAf/FXNXf3FAF2F/1LuFifAlionB6dRuSI2IwHi6lzmXmp6xR8XY0fiIh7psAwh+3FuDkRHQVjl+a8lkXjo0kLUKH7XaV5oO86PmZ1FTzyP4K/XGl9v/zwfbW7BriiuETGCP5ch9bc9f97HF/vcFzCa5gdEPgWq+t/4v0V63oE1uF4h0DiFJ7HnSWMppDdh1dxtsPvJ2wcBNAKbsJXa0Ck5opdaBPsRNu/usba09i1KsaAVzmLt3sghrRjuK1Tf4xkegInxwy8gKf7dKMVH2QRsV5zXR/Cftyu+aKaKbbkQrsdH+PTzLzcqzkOQAVzM+7FHdiqqe2/YT4zF/t8S/sPmawyvC974vcAAAAASUVORK5CYII="
	},
	pan: {
		image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAJVSURBVFiFvZe7a1RBGMV/x2hWI4JpfKCIiSBKOoOCkID/wP4BFqIIFkE02ChIiC8QDKlSiI3YqRBsBVGwUNAUdiIEUgjiAzQIIsuKJsfizsXr5t7d+8jmwLDfzHz3nLOzc7+ZxTZlGyDgZiWOCuJ9wH2gCUyuqQFgF/AGcKJNrYkBYBj40CIet+muGQi/96kM4WS7C/Tm5VUg7whJg8BkEGkCR4BDYfodsADUgP6wErO5iCtswsuJb32hdbXy8qzL5TIdmzJinHdZoZIBZcSFkGlAKs1Z3YCketZcBtouuaQNkrblMiBpBrhme7mAgU4wMCvpcFsDkq4C54DFVRTH9h+i6vlE0r5UA5ImgCuh28jB28iIs7BIVCOeStoZD64P4uPAjUTygKSx2FsK2TIwkugfk9Qkfd/E+yMWHQCeSRqx/R3gOp3LazfaS2C4B5gHDgD7U9x3E3uAH7KNpC3AHHAwTL4FHgM9GQ8vAaPA0dB/Abxqk2/gBLA9MXba9r1k/d4LfA3JtwueBeM58ucS+edXnAW23wP10N3advEi9CXizTnyN4bPS7Zn4sH/dq3t18AY4e1YLYSy3g/csj2VnFshZPuOpOeSKHCodUINuGj7YetE6je1PV9QoNPJ9StNHKodx7nRbiWrGHBGXAi5DUiqtQwtpcWK0Jubt8CltA5MEV1IfwO7+VffPwGfia5m34CT4bXujIIX0Qna1/cGMNqV/wUJE2czxD8CQ4X5Sl7Jz7SILwCDpbjKPBRMHAd+EtX4HWV5Spdc2w8kDQGPbH8py/MXMygM69/FKz4AAAAASUVORK5CYII="
	},
	zoom: {
		image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAMqSURBVFiFvdfbj91TFMDxz57U6GUEMS1aYzyMtCSSDhWjCZMInpAI3khE/QHtgzdRkXgSCS8SES9epKLi0oRKNETjRahREq2KS1stdRujtDPtbA97n5zdn9+5zJxTK9k5v3POXmt991p7r71+IcaoGwkhTOIebMRqzOBTvIG3Y4zTXRmqSoyx5cAKbMJOHMFJnMZ8/jyFaXyMR7G6nb1aH22cP4BvcBxziG3GKfyTIR9D6BYg1KUghPBCDveFlb/24Av8iuUYw41YVsz5G7uxKcZ4aMEpwGt5NY3V/YbHsQ6rcAHOw/kYxigewr5CZw4fYGxBKcCLOFEYehXrMdRhr5yLETxVScsOLOkKAPfn1TYMPIvLFrShUlS2FDZm8XRHACzFAWl3R2xbqPMCYhmeLCAOYEMngAczbcTvuHYxzguIy/FesR9e6gSwU/OoPYHBHgHgviIKX2Flq7k34KhmcVnbi/PC8JX4MgMcxb118wZwdz5aISscqx7VRcox7MrPQ7i+btIAJrAkf9+bI9EPmZY2IAxiTSuAldLq4Y9+AcSUh78KP0tbAcwU35cXMD1JCIFUoGiehlqAz6TNB1f1C0DK+0h+nsNPrQC2a4bqGmlD9kOGcWt+Po6pVgDvSxfJaSkFd4UQBvoAsBYbCoB3a2flM7slA0R8iyt6rAFDeDPbm8eOTpVwGD9qVq7nLbIaZnmksPU1JtsCZMXNmpdRxFasWITzh6Xj3LCzra1OxcD2QjHiGVzdpfORnMqZio2PcF23ABdJF1Np4BPptlyPi6WzPYBzpJZtHe7A6xW9cnyP8TqA//SEIYRL8Bxul7rihvwgtVn78WcGGZXa9HGd5TDujDHuOePXNiHdKjWgZX/YbsxLx/ktqbjVzTlcjUSnvI5JrdlUVp6WesZZ6R1hRrpq9+EVTGS9jTjYAuKIouGpbcurEkIYxC051KNSamazsc+xK8b4S0VnEi/j0hqTP+M27O258egQwZuzs7pI7Mf4WQXIEDc5s9sux+5+1Py2EmP8UOq6GvWhIScxfdYjUERiAt9Jd84J6a16zf8JEKT3yCm8g1UxRv8CC4pyRhzR1uUAAAAASUVORK5CYII="
	},
	menu: {
		image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDcvMTUvMTTPsvU0AAAAP0lEQVRIie2SMQoAIBDDUvH/X667g8sJJ9KOhYYOkW0qGaU1MPdC0vGSbV19EACo3YMPAFH5BUBUjsqfAPpVXtNgGDfxEDCtAAAAAElFTkSuQmCC"
	}
};

function setButtonState(chart, button, state) {
	if (button.getAttribute("state") !== state) {

		button.setAttribute("state", state);
		button.setAttribute("type", 'button');
		button.style.position = "relative";
		button.style.margin = "0px 0px 0px 0px";
		button.style.padding = "3px 4px 0px 4px";
		button.style.cssFloat = "left";
		button.setAttribute("title", chart._cultureInfo[state + "Text"]);
		button.innerHTML = "<img style='height:16px;' src='" + base64Images[state].image + "' alt='" + chart._cultureInfo[state + "Text"] + "' />";
	}
}

function show() {

	var element = null;

	for (var i = 0; i < arguments.length; i++) {
		element = arguments[i];
		if (element.style) element.style.display = "inline";
	}
}

function hide() {

	var element = null;

	for (var i = 0; i < arguments.length; i++) {
		element = arguments[i];
		if (element && element.style) element.style.display = "none";
	}
}

var isCanvasSupported = exports.isCanvasSupported = !!document.createElement("canvas").getContext;

function getBezierPoints(points, tension) {

	var bezierPoints = [];

	for (var i = 0; i < points.length; i++) {

		if (i == 0) {
			bezierPoints.push(points[0]);
			continue;
		}

		var i1, i2, pointIndex;

		pointIndex = i - 1;
		i1 = pointIndex === 0 ? 0 : pointIndex - 1;
		i2 = pointIndex === points.length - 1 ? pointIndex : pointIndex + 1;

		var drv1 = {
			x: (points[i2].x - points[i1].x) / tension, y: (points[i2].y - points[i1].y) / tension
		};
		var cp1 = {
			x: points[pointIndex].x + drv1.x / 3, y: points[pointIndex].y + drv1.y / 3
		};
		bezierPoints[bezierPoints.length] = cp1;

		pointIndex = i;
		i1 = pointIndex === 0 ? 0 : pointIndex - 1;
		i2 = pointIndex === points.length - 1 ? pointIndex : pointIndex + 1;

		var drv2 = {
			x: (points[i2].x - points[i1].x) / tension, y: (points[i2].y - points[i1].y) / tension
		};
		var cp2 = {
			x: points[pointIndex].x - drv2.x / 3, y: points[pointIndex].y - drv2.y / 3
		};
		bezierPoints[bezierPoints.length] = cp2;

		bezierPoints[bezierPoints.length] = points[i];
	}

	return bezierPoints;
}

function convertPercentToValue(input, referenceValue) {
	//input can be a number or string
	if (input === null || typeof input === "undefined") return referenceValue;

	var result = parseFloat(input.toString()) * (input.toString().indexOf("%") >= 0 ? referenceValue / 100 : 1);

	// limit to plot area
	if (!isNaN(result) && result <= referenceValue && result >= 0) return result;

	return referenceValue;
}

function drawRect(ctx, x1, y1, x2, y2, color, borderThickness, borderColor, top, bottom, left, right, fillOpacity) {
	if (typeof fillOpacity === "undefined") fillOpacity = 1;

	borderThickness = borderThickness || 0;
	borderColor = borderColor || "black";
	//alert("top"+ top + "bottom" + bottom + " lt" + left+ "rt" + right )
	var a1 = x1,
	    a2 = x2,
	    b1 = y1,
	    b2 = y2,
	    edgeY,
	    edgeX;
	if (x2 - x1 > 15 && y2 - y1 > 15) var bevelDepth = 8;else var bevelDepth = 0.35 * Math.min(x2 - x1, y2 - y1);
	//alert(a1 + "" + a2);
	var color2 = "rgba(255, 255, 255, .4)";
	var color3 = "rgba(255, 255, 255, 0.1)";
	//color1 = "rgba(" + r + "," + g + ", " + b + ",1)";
	var color1 = color;

	ctx.beginPath();
	ctx.moveTo(x1, y1);
	ctx.save();
	ctx.fillStyle = color1;

	ctx.globalAlpha = fillOpacity;
	ctx.fillRect(x1, y1, x2 - x1, y2 - y1);
	ctx.globalAlpha = 1;

	if (borderThickness > 0) {
		var offset = borderThickness % 2 === 0 ? 0 : .5;
		ctx.beginPath();
		ctx.lineWidth = borderThickness;
		ctx.strokeStyle = borderColor;
		ctx.moveTo(x1, y1);
		ctx.rect(x1 - offset, y1 - offset, x2 - x1 + 2 * offset, y2 - y1 + 2 * offset);
		ctx.stroke();
	}

	ctx.restore();
	//   ctx.beginPath();
	if (top === true) {
		// alert(x1 + "" + x2 + " " + bevelDepth);
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x1, y1);
		ctx.lineTo(x1 + bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x2 - bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x2, y1);
		ctx.closePath();
		var grd = ctx.createLinearGradient((x2 + x1) / 2, b1 + bevelDepth, (x2 + x1) / 2, b1);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color2);
		ctx.fillStyle = grd;
		ctx.fill();
		//              ctx.stroke();
		ctx.restore();
	}

	if (bottom === true) {
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x1, y2);
		ctx.lineTo(x1 + bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x2 - bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x2, y2);
		ctx.closePath();
		var grd = ctx.createLinearGradient((x2 + x1) / 2, b2 - bevelDepth, (x2 + x1) / 2, b2);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color2);
		ctx.fillStyle = grd;
		//       ctx.stroke();
		ctx.fill();
		ctx.restore();
	}

	if (left === true) {
		//   alert(x1)
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x1, y1);
		ctx.lineTo(x1 + bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x1 + bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x1, y2);
		ctx.closePath();
		var grd = ctx.createLinearGradient(a1 + bevelDepth, (y2 + y1) / 2, a1, (y2 + y1) / 2);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color3);
		ctx.fillStyle = grd;
		ctx.fill();
		//     ctx.stroke();
		ctx.restore();
	}

	if (right === true) {
		ctx.save();
		ctx.beginPath();
		ctx.moveTo(x2, y1);
		ctx.lineTo(x2 - bevelDepth, y1 + bevelDepth);
		ctx.lineTo(x2 - bevelDepth, y2 - bevelDepth);
		ctx.lineTo(x2, y2);
		var grd = ctx.createLinearGradient(a2 - bevelDepth, (y2 + y1) / 2, a2, (y2 + y1) / 2);
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color3);
		ctx.fillStyle = grd;
		grd.addColorStop(0, color1);
		grd.addColorStop(1, color3);
		ctx.fillStyle = grd;
		ctx.fill();
		ctx.closePath();
		//          ctx.stroke();
		ctx.restore();
	}
	//
}

function drawSegment(ctx, center, radius, color, type, theta1, theta2, fillOpacity, percentInnerRadius) {

	if (typeof fillOpacity === "undefined") fillOpacity = 1;

	//IE8- FIX: In IE8- segment doesn't get draw if theta2 is equal to theta1 + 2*PI.
	if (!isCanvasSupported) {
		var theta2Mod = Number((theta2 % (2 * Math.PI)).toFixed(8));
		var theta1Mod = Number((theta1 % (2 * Math.PI)).toFixed(8));
		if (theta1Mod === theta2Mod) theta2 -= .0001;
	}

	ctx.save();
	ctx.globalAlpha = fillOpacity;

	if (type === "pie") {
		ctx.beginPath();
		ctx.moveTo(center.x, center.y);
		ctx.arc(center.x, center.y, radius, theta1, theta2, false);
		ctx.fillStyle = color;
		ctx.strokeStyle = "white";
		ctx.lineWidth = 2;
		//    ctx.shadowOffsetX = 2;
		//    ctx.shadowOffsetY = 1;
		//     ctx.shadowBlur = 2;
		//    ctx.shadowColor = '#BFBFBF';
		ctx.closePath();
		//ctx.stroke();
		ctx.fill();
	} else if (type === "doughnut") {
		ctx.beginPath();
		ctx.arc(center.x, center.y, radius, theta1, theta2, false);
		ctx.arc(center.x, center.y, percentInnerRadius * radius, theta2, theta1, true);
		ctx.closePath();
		ctx.fillStyle = color;
		ctx.strokeStyle = "white";
		ctx.lineWidth = 2;
		// shadow properties
		//     ctx.shadowOffsetX = 1;
		//    ctx.shadowOffsetY = 1;
		//     ctx.shadowBlur = 1;
		//    ctx.shadowColor = '#BFBFBF';  //grey shadow
		//ctx.stroke();
		ctx.fill();
	}

	ctx.globalAlpha = 1;

	ctx.restore();
};

},{}],44:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.formatDate = exports.formatNumber = exports.addCultureInfo = exports.addColorSet = undefined;
exports.Chart = Chart;
exports.Table = Table;

var _charts = require('../core/charts');

var _charts2 = _interopRequireDefault(_charts);

var _table2 = require('../core/table');

var _table3 = _interopRequireDefault(_table2);

var _culture_info = require('../core/culture_info');

var _culture_info2 = _interopRequireDefault(_culture_info);

var _themes = require('../constants/themes');

var _culture = require('../constants/culture');

var _utils = require('../helpers/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* @preserve CanvasJS HTML5 & JavaScript Charts - v1.8.0 Beta 2 - http://canvasjs.com/
* CanvasJS Charts follows Dual Licensing Model as mentioned below.
*
* ---------------------Free for Non-Commercial Use--------------------
*
* For non-commercial purposes you can use the software for free under Creative Commons Attribution-NonCommercial 3.0 License. Refer to the following link for further details on the same.
* http://creativecommons.org/licenses/by-nc/3.0/deed.en_US
*
* ---------------------Commercial License--------------------
* Commercial use of CanvasJS requires you to purchase a license. Without a commercial license you can use it for evaluation purposes only. Please refer to the following link for further details.
* http://canvasjs.com/
*
**/
function Chart(containerId, options) {
    var _this = this;

    var _chart = new _charts2.default(containerId, options, this);

    this.render = function () {
        return _chart.render(_this.options);
    };

    this.options = _chart._options;
};

function Table(containerId, options) {

    var _table = new _table3.default(containerId, options);

    this.render = function (data) {
        return _table.render(data);
    };

    this.options = _table.options;
};

var addColorSet = exports.addColorSet = function addColorSet(name, colorSet) {

    _themes.colorSets[name] = colorSet;
};

var addCultureInfo = exports.addCultureInfo = function addCultureInfo(name, cultureInfo) {

    _culture.cultures[name] = cultureInfo;
};

var formatNumber = exports.formatNumber = function formatNumber(number, formatString, culture) {

    culture = culture || "en";
    formatString = formatString || "#,##0.##";

    if (!_culture.cultures[culture]) throw "Unknown Culture Name";else (0, _utils.numberFormat)(number, formatString, new _culture_info2.default(culture));
};

var formatDate = exports.formatDate = function formatDate(date, formatString, culture) {

    culture = culture || "en";
    formatString = formatString || "DD MMM YYYY";

    if (!_culture.cultures[culture]) throw "Unknown Culture Name";else (0, _utils.dateFormat)(date, formatString, new _culture_info2.default(culture));
};

Chart.version = "v1.8.2";

},{"../constants/culture":25,"../constants/themes":27,"../core/charts":31,"../core/culture_info":32,"../core/table":37,"../helpers/utils":43}]},{},[44])(44)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZGVib3VuY2UvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZGVib3VuY2Uvbm9kZV9tb2R1bGVzL2RhdGUtbm93L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JhbWRhL2Rpc3QvcmFtZGEuanMiLCJzcmMvY2hhcnRzL2FyZWEuanMiLCJzcmMvY2hhcnRzL2Jhci5qcyIsInNyYy9jaGFydHMvYnViYmxlLmpzIiwic3JjL2NoYXJ0cy9jYW5kbGVzdGljay5qcyIsInNyYy9jaGFydHMvY29sdW1uLmpzIiwic3JjL2NoYXJ0cy9pbmRleC5qcyIsInNyYy9jaGFydHMvcGllLmpzIiwic3JjL2NoYXJ0cy9yYW5nZV9hcmVhLmpzIiwic3JjL2NoYXJ0cy9yYW5nZV9iYXIuanMiLCJzcmMvY2hhcnRzL3JhbmdlX2NvbHVtbi5qcyIsInNyYy9jaGFydHMvcmFuZ2Vfc3BsaW5lX2FyZWEuanMiLCJzcmMvY2hhcnRzL3NjYXR0ZXIuanMiLCJzcmMvY2hhcnRzL3NwbGluZS5qcyIsInNyYy9jaGFydHMvc3BsaW5lX2FyZWEuanMiLCJzcmMvY2hhcnRzL3N0YWNrZWRfYXJlYS5qcyIsInNyYy9jaGFydHMvc3RhY2tlZF9hcmVhXzEwMC5qcyIsInNyYy9jaGFydHMvc3RhY2tlZF9iYXIuanMiLCJzcmMvY2hhcnRzL3N0YWNrZWRfYmFyXzEwMC5qcyIsInNyYy9jaGFydHMvc3RhY2tlZF9jb2x1bW4uanMiLCJzcmMvY2hhcnRzL3N0YWNrZWRfY29sdW1uXzEwMC5qcyIsInNyYy9jaGFydHMvc3RlcF9hcmVhLmpzIiwic3JjL2NvbnN0YW50cy9jdWx0dXJlLmpzIiwic3JjL2NvbnN0YW50cy9vcHRpb25zLmpzIiwic3JjL2NvbnN0YW50cy90aGVtZXMuanMiLCJzcmMvY29yZS9hbmltYXRvci5qcyIsInNyYy9jb3JlL2F4aXMuanMiLCJzcmMvY29yZS9jYW52YXNqcy5qcyIsInNyYy9jb3JlL2NoYXJ0cy5qcyIsInNyYy9jb3JlL2N1bHR1cmVfaW5mby5qcyIsInNyYy9jb3JlL2RhdGFfc2VyaWVzLmpzIiwic3JjL2NvcmUvZXZlbnRfbWFuYWdlci5qcyIsInNyYy9jb3JlL2xheW91dF9tYW5hZ2VyLmpzIiwic3JjL2NvcmUvbGVnZW5kLmpzIiwic3JjL2NvcmUvdGFibGUuanMiLCJzcmMvY29yZS90ZXh0X2Jsb2NrLmpzIiwic3JjL2NvcmUvdGl0bGUuanMiLCJzcmMvY29yZS90b29sdGlwLmpzIiwic3JjL2hlbHBlcnMvYW5pbWF0b3IuanMiLCJzcmMvaGVscGVycy9yZW5kZXIuanMiLCJzcmMvaGVscGVycy91dGlscy5qcyIsInNyYy9tYWluL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7a0JDandQZSxVQUFVLFFBQVEsRUFBRTtBQUNsQyxLQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsZUFBZSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDOztBQUV4RCxLQUFJLGVBQWUsR0FBRyxRQUFR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TUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxHQUFHLEVBQUU7SUFDL0QsQ0FBQztHQUNGOzs7Ozs7OztBQUFBLEFBUUQsTUFBSSxNQUFNLEVBQUU7QUFDWCxLQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzFDLEtBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdkQsS0FBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLFdBQVcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDOztBQUFDLEFBRWxELEtBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEdBQUcsV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFM0QsU0FBTSxDQUFDLGVBQWUsR0FBRztBQUN4QixNQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDekQsQ0FBQTs7QUFFRCxTQUFNLENBQUMsWUFBWSxHQUFHO0FBQ3JCLE1BQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsR0FBRyxFQUFFO0lBQy9ELENBQUM7R0FDRjs7QUFHRCxPQUFLLENBQUMs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RyxFQUFFLENBQUM7QUFDL0IsU0FBTSxDQUFDLGVBQWUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDOztBQUUvQixTQUFNLENBQUMsWUFBWSxHQUFHO0FBQ3JCLE1BQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsTUFBTSxFQUFFLFlBQVk7SUFDcEUsQ0FBQztHQUNGOzs7Ozs7QUFBQSxBQU1ELElBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzdDLElBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLEVBQUUsR0FBSSxTQUFTLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsU0FBUyxDQUFDLEVBQUUsQUFBQyxDQUFDLENBQUM7QUFDOUYsSUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEVBQUUsR0FBRyxVQUFVLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzFELElBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUUsR0FBSSxTQUFTLENBQUMsRUFBRSxHQUFHLFdBQVcsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsRUFBRSxHQUFHLFNBQVMsQ0FBQyxFQUFFLEdBQUcsV0FBVyxBQUFDLENBQUMsQ0FBQzs7QUFHbEssT0FBSyxDQUFDLGVBQWUsR0FBRztBQUN2QixLQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1B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Q3JCLFFBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ2xDLFFBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxBQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsSUFBSyxDQUFDLENBQUMsQ0FBQztBQUN0RCxRQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCOzs7QUFBQSxBQUdELE9BQUksVUFBVSxJQUFJLFVBQVUsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDckUsU0FBUzs7QUFFVixPQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRTtBQUNoQyxNQUFFLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLENBQUM7O0FBQUMsQUFFbEMsTUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztJQUV2RCxNQUFNO0FBQ04sTUFBRSxDQUFDLENBQUMsSUFBSyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsR0FBSSxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBSSxDQUFDLEFBQUMsQ0FBQztBQUN4RyxNQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFF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QyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUU7QUFDOUIsY0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDOztBQUV0QyxTQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDO0FBQ3pDLFNBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7S0FFdkMsTUFBTTtBQUNOLFNBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7QUFDeEMsU0FBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztLQUN0Qzs7QUFFRCxRQUFJLEtBQUssR0FBRyxBQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQSxHQUFJLEVBQUUsR0FBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQUFBQyxDQUFDO0FBQzVFLFFBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDckIsUUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDbEMsUUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEFBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxJQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ3RELFFBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7SUFFbEI7OztBQUFBLEFBR0QsT0FBSSxVQUFVLElBQUksVUFBVSxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUNyRSxTQUFTOztBQUVWLE9BQUksS0FBSyxD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SSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDbEMsUUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQUFBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLElBQUssQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3RELFFBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEI7OztBQUFBLEFBR0QsT0FBSSxVQUFVLElBQUksVUFBVSxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUNyRSxTQUFTOztBQUVWLFFBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEFBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQzs7QUFFckgsT0FBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUMsRUFBRTtBQUMxQixTQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pCLE1BQ0EsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBSSxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQUFBQyxDQUFDOztBQUVoRyxRQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUM3Qjs7QUFFRCxNQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7O0FB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QyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0FBQ2xCLFFBQUksQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO0lBQ2xDLE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQSxBQUFDLElBQUksT0FBTyxFQUFFO0FBQ3RDLFFBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0FBQ2xCLFFBQUksQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO0lBQ2xDLE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQSxBQUFDLElBQUksT0FBTyxFQUFFO0FBQ3ZDLFFBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO0lBQ2xDLE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQSxBQUFDLElBQUksT0FBTyxFQUFFO0FBQ3ZDLFFBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO0lBQ2xDLE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQSxBQUFDLElBQUksT0FBTyxFQUFFO0FBQ3ZDLFFBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO0lBQ2xDLE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQSxBQUFDLElBQUksT0FBTyxFQUFFO0FBQ3hDLFFBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO0FBQ3BCLFFBQUksQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO0lBQ2xDLE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQSxBQUFDLElBQUksT0FBTyxFQUFFO0FBQ3hDLFFBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO0FBQ3BCLFFBQUksQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO0lBQ2xDLE1BQU0sSUFB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QyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0FBQ2xCLFFBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDO0lBQzNCLE1BQU0sSUFBSSxLQUFLLElBQUksU0FBUyxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUEsQUFBQyxJQUFJLE9BQU8sRUFBRTtBQUMzRCxRQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztBQUNsQixRQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQztJQUMzQixNQUFNLElBQUksS0FBSyxJQUFJLFNBQVMsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFBLEFBQUMsSUFBSSxPQUFPLEVBQUU7QUFDM0QsUUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7QUFDbEIsUUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUM7SUFDM0IsTUFBTSxJQUFJLEtBQUssSUFBSSxTQUFTLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQSxBQUFDLElBQUksT0FBTyxFQUFFO0FBQzNELFFBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0FBQ2xCLFFBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDO0lBQzNCLE1BQU0sSUFBSSxLQUFLLElBQUksU0FBUyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUEsQUFBQyxJQUFJLE9BQU8sRUFBRTtBQUMxRCxRQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztBQUNsQixRQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztJQUMxQixNQUFNLElBQUksS0FBSyxJQUFJLFNBQVMsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFBLEFBQUMsSUFBSSxPQUFPLEVBQUU7QUFDMUQsUUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7QUFDbEIsUUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7SUFDMUIsTUFBTSxJQUFJLEtBQUssSUFBSSxTQUFTLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQSxBQUFDLElBQUksT0FBTyxFQUFFO0FBQzFELFFBQUksQ0FBQyxRQUFRLEdBQUcs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QUMsQ0FBQyxDQUFDO0FBQy9DLFlBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUI7R0FDRCxNQUNJLElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxRQUFRLEVBQUU7QUFDeEMsT0FBSSxRQUFRLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxlQUFlLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDaEUsWUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDL0MsWUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2QixZQUFRLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCO0dBQ0QsTUFDSSxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssTUFBTSxFQUFFO0FBQ3RDLE9BQUksUUFBUSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxlQUFlLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDN0YsWUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDM0MsWUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2QixZQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCLFlBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUI7R0FDRCxNQUNJLElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxLQUFLLEVBQUU7QUFDckMsT0FBSSxRQUFRLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLElBQUksUUFBUSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQ3hILFlB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RVYsSUFBSSxNQUFNLENBQUcsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQUFFMUMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBRSxDQUFDLEVBQUUsRUFBRSxDQUNoQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FDL0QsQ0FDRCxDQUNELENBQUEsQUFFRCxLQUFLLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBRyxVQUFZLENBQzFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLEFBQzVCLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLEFBRTVCLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FDeEQsSUFBSSxRQUFRLENBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFFMUMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFFLENBQUMsRUFBRSxFQUFFLENBRW5ELElBQUksUUFBUSxDQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFFckMsR0FBSSxRQUFRLENBQUMsSUFBSSxLQUFLLE1BQU0sSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFVBQVUsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFFBQVEsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFFBQVEsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLE1BQU0sSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFVBQVUsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFlBQVksSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLEtBQUssSUFBSSxRQUFRLENBQUMsSUFB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L0ssSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFHLEFBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBRyxRQUFRLENBQUMsQ0FDckksQUFHRCxHQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBSSxVQUFVLENBQUMsVUFBVSxLQUFLLFVBQVUsQ0FBRSxDQUM3RyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQ2xCLEFBRUQsSUFBSyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBRSxDQUFDLEVBQUUsRUFBRSxDQUVsRCxHQUFJLE9BQU8sVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssV0FBVyxDQUFFLENBQ3RELFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUMvQixBQUVELEdBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFFLENBQ3ZDLFVBQVUsR0FBRyxJQUFJLENBQUMsQUFDbEIsVUFBVSxHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRTtBQUFDLENBQ2xELEtBRUEsVUFBVSxHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEFBRXpDLFVBQVUsR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxBQUd4QyxHQUFJLFVBQVUsR0FBRyxhQUFhLENBQUMsR0FBRyxD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LENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FDL0ssSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFHLEFBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBRyxDQUFDLFFBQVEsQ0FBQyxBQUV0SSxJQUFJLFlBQVksQ0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsa0JBQWtCLENBQUcsQUFBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQy9LLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBRyxBQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUcsUUFBUSxDQUFDLENBQ3JJLEFBR0QsR0FBSSxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUksVUFBVSxDQUFDLFVBQVUsS0FBSyxVQUFVLENBQUUsQ0FDN0csVUFBVSxHQUFHLElBQUksQ0FBQyxDQUNsQixBQUVELElBQUssQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUUsQ0FBQyxFQUFFLEVBQUU7QUFHbEQsR0FBSSxPQUFPLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLFdBQVcsQ0FBRSxDQUN0RCxVQUFVLENBQUMsVUFB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RUQsR0FBSSxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUUsQ0FDdkMsVUFBVSxHQUFHLElBQUksQ0FBQyxBQUNsQixVQUFVLEdBQUcsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFO0FBQUMsQ0FDbEQsS0FFQSxVQUFVLEdBQUcsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFFekMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEFBRXhDLEdBQUksVUFBVSxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUUsQ0FDcEMsYUFBYSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBRSxVQUFVLENBQUMsQ0FBQyxBQUNqRCxhQUFhLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFFLFVBQVUsQ0FBQyxDQUFDLENBQ2pELEFBR0QsR0FBSSxVQUFVLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FDakMsYUFBYSxDQUFDLEdBQUcsR0FBRyxVQUFVLENBQUMsQUFDaEMsR0FBSSxVQUFVLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FDakMsYUFBYSxDQUFDLEdBQUcsR0FBRyxVQUFVLENBQUMsQUFFaEMsR0FBSSxhQUFhLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FDcEMsYUFBYSxDQUFDLEdBQUcsR0FBRyxhQUFhLENBQUMsQUFFbkMsR0FBSSxhQUFhLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FDcEMsYUFBYSxDQUFDLEdBQUcsR0FBRyxhQUFhLENBQUMsQUFHbkMsR0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQ1YsSUFBSSxLQUFLLENBQUcsVUFBVSxHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxBQUN4RCxLQUFLLEdBQUcs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QUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQUFDeEMsV0FBVyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxBQUV4QyxHQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQSxBQUFDLENBQUUsQ0FDcEcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUNyQixLQUFNLEdBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBRSxDQUNqRCxJQUFJLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUNyQyxBQUVELEdBQUksQ0FBQyxBQUFDLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFNLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQU0sSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFBLEFBQUMsQ0FBRSxDQUNoSSxHQUFJLElBQUksQ0FBQyxVQUFVLENBQUUsQ0FFcEIsY0FBYyxHQUNiLENBQ0MsRUFBRSxDQUFFLE1BQU0sQ0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBRyxXQUFXLENBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQzlELEVBQUUsQ0FBRSxNQUFNLENBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEdBQUcsV0FBVyxDQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUM5RCxFQUFFLENBQUUsTUFBTSxDQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxHQUFHLFdBQVcsQ0FBRyxJQUFJ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QUUsQ0FBRSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDakQsQUFFRCxHQUFJLElBQUksQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFFLENBQ3hCLFFBQVEsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUcsS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUMsQUFDdkksUUFBUSxDQUFDLEVBQUUsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFHLEtBQUssQ0FBQyxlQUFlLENBQUMsRUFBRSxBQUFDLENBQUMsQUFFcEksUUFBUSxDQUFDLEVBQUUsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFHLEtBQUssQ0FBQyxlQUFlLENBQUMsRUFBRSxBQUFDLENBQUMsQUFDcEksUUFBUSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxBQUV2SSxRQUFRLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxFQUFFLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQyxBQUMzQyxRQUFRLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQyxFQUFFLEdBQUcsUUFBUSxDQUFDLEVBQUU7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QUFNLENBQUMsRUFBRSxDQUFFLFFBQVEsQ0FBQyxFQUFFLENBQUMsR0FBRyxhQUFhLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUNqRixLQUVBLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFBLEdBQUksQ0FBQyxDQUFBLEFBRXRHLEdBQUksU0FBUyxHQUFHLENBQUMsQ0FBRSxDQUNsQixDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxhQUFhLEdBQUcsQ0FBQyxDQUFDLEFBRTFELEdBQUksQ0FBQyxHQUFHLFNBQVMsS0FBSyxjQUFjLEtBQUssUUFBUSxJQUFJLGNBQWMsS0FBSyxTQUFTLENBQUEsQUFBQyxDQUFFLENBQ25GLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLGFBQWEsR0FBRyxPQUFPLENBQUUsUUFBUSxDQUFDLEVBQUUsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUNsRixDQUNELEtBQ0ksQ0FDSixDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBRSxHQUFHLENBQUMsR0FBRyxhQUFhLEdBQUcsQ0FBQyxDQUFDLEFBRTFELEdBQUksQ0FBQyxHQUFHLFNBQVMsR0FBRyxhQUFhLEdBQUcsT0FBTyxLQUFLLGNBQWMsS0FBSyxRQUFRLElBQUksY0FBYyxLQUFLLFNBQVMsQ0FBQSxBQUFDLENBQUUsQ0FDN0csQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFFLFFBQVEsQ0FB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M0IsTUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDOztBQUVoQixNQUFJLEFBQUMsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSyxJQUFJLENBQUMsZUFBZSxFQUFFO0FBQzFFLFFBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUM7Ozs7OztBQUFDLEdBTTFJOztBQUVELE1BQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7O0FBRXBDLE9BQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7O0FBRXZELFFBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQyxRQUFJLElBQUksQ0FBQyxlQUFlLEtBQUssT0FBTyxFQUNsQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsS0FDL0MsSUFBSSxJQUFJLENBQUMsZUFBZSxLQUFLLE1BQU0sRUFDdEMsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsS0FDckIsSUFBSSxJQUFJLENBQUMsZUFBZSxLQUFLLFFBQVEsRUFDeEMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQSxHQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDOztBQUVqRixRQUFJLENBQUMs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QUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGFBQWEsS0FBSyxXQUFXLEVBQUU7QUFDckQsT0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQSxHQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxNQUFNLElBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUEsQUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQztLQUMzTSxNQUNJO0FBQ0gsT0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQSxHQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxLQUFLLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUEsQUFBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQztLQUN4TTs7QUFFRCxRQUFJLGFBQWEsR0FBRyxFQUFFLENBQUM7O0FBRXZCLFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDL0MsVUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQzs7QUFFeEQsVUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQUU7QUFDN0IsYUFBSyxD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V0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFNVcsY0FBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLEFBQUMsSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLENBQUMsZUFBZSxLQUFLLENBQUMsR0FBSSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDOztBQUVsSSxjQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxZQUFZLEdBQUcsQUFBQyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssQ0FBQyxHQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDMUgsY0FBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQzs7QUFHdkUsY0FBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLEFBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLENBQUMsR0FBSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDO0FBQzNHLGNB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LEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUM7R0FDMUUsQ0FBQTtBQUNELGNBQVksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDOztBQUd4QyxZQUFVLEdBQUcsQ0FBQyxDQUFDO0FBQ2YsSUFBRSxHQUFHLFVBQVUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsR0FBRyxDQUFDLENBQUM7QUFDM0MsSUFBRSxHQUFHLFVBQVUsS0FBSyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxVQUFVLEdBQUcsVUFBVSxHQUFHLENBQUMsQ0FBQzs7QUFFcEUsTUFBSSxJQUFJLEdBQUc7QUFDVixJQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUEsR0FBSSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFBLEdBQUksT0FBTztHQUN0RixDQUFBO0FBQ0QsTUFBSSxHQUFHLEdBQUc7QUFDVCxJQUFDLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUM7R0FDMUUsQ0FBQTtBQUNELGNBQVksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDOztBQUV4QyxjQUFZLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFD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LElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQztDQUU5QixDQUFDOztBQUVLLElBQU0sY0FBYyxXQUFkLGNBQWMsR0FBRyxTQUFqQixjQUFjLENBQUksSUFBSSxFQUFFLFdBQVcsRUFBSzs7QUFFakQsYUE5QkksUUFBUSxDQThCSCxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUM7Q0FFaEMsQ0FBQzs7QUFFSyxJQUFNLFlBQVksV0FBWixZQUFZLEdBQUcsU0FBZixZQUFZLENBQUksTUFBTSxFQUFFLFlBQVksRUFBRSxPQUFPLEVBQUs7O0FBRTNELFdBQU8sR0FBRyxPQUFPLElBQUksSUFBSSxDQUFDO0FBQzFCLGdCQUFZLEdBQUcsWUFBWSxJQUFJLFVBQVUsQ0FBQzs7QUFFMUMsUUFBSSxDQUFDLFNBdkNELFFBQVEsQ0F1Q0UsT0FBTyxDQUFDLEVBQUMsTUFBTSxzQkFBc0IsQ0FBQyxLQUMvQyxXQXZDRCxZQUFZLEVBdUNFLE1BQU0sRUFBRSxZQUFZLEVBQUUsMkJBQWdCLE9BQU8sQ0FBQyxDQUFDLENBQUM7Q0FFckUsQ0FBQzs7QUFFSyxJQUFNLFVBQVUsV0FBVixVQUFVLEdBQUcsU0FBYixVQUFVLENBQUksSUFBSSxFQUFFLFlBQVksRUFBRSxPQUFPLEVBQUs7O0FBRXZELFdBQU8sR0FBRyxPQUFPLElBQUksSUFBSSxDQUFDO0FBQzFCLGdCQUFZLEdBQUcsWUFBWSxJQUFJLGFBQWEsQ0FBQzs7QUFFN0MsUUFBSSxDQUFDLFNBakRELFFBQVEsQ0FpREUsT0FBTyxDQUFDLEVBQUMsTUFBTSxzQkFBc0IsQ0FBQyxLQUMvQyxXQWpEYSxVQUFVLEVBaURaLElBQUksRUFBRSxZQUFZLEVBQUUsMkJBQWdCLE9BQU8sQ0FBQyxDQUFDLENBQUM7Q0FFakUsQ0FBQzs7QUFFRixLQUFLLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgbm93ID0gcmVxdWlyZSgnZGF0ZS1ub3cnKTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4gKiBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gKiBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbiAqIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG4gKlxuICogQHNvdXJjZSB1bmRlcnNjb3JlLmpzXG4gKiBAc2VlIGh0dHA6Ly91bnNjcmlwdGFibGUuY29tLzIwMDkvMDMvMjAvZGVib3VuY2luZy1qYXZhc2NyaXB0LW1ldGhvZHMvXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jdGlvbiB0byB3cmFwXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZW91dCBpbiBtcyAoYDEwMGApXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHdoZXRoZXIgdG8gZXhlY3V0ZSBhdCB0aGUgYmVnaW5uaW5nIChgZmFsc2VgKVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSl7XG4gIHZhciB0aW1lb3V0LCBhcmdzLCBjb250ZXh0LCB0aW1lc3RhbXAsIHJlc3VsdDtcbiAgaWYgKG51bGwgPT0gd2FpdCkgd2FpdCA9IDEwMDtcblxuICBmdW5jdGlvbiBsYXRlcigpIHtcbiAgICB2YXIgbGFzdCA9IG5vdygpIC0gdGltZXN0YW1wO1xuXG4gICAgaWYgKGxhc3QgPCB3YWl0ICYmIGxhc3QgPiAwKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdGltZXN0YW1wID0gbm93KCk7XG4gICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgaWYgKCF0aW1lb3V0KSB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IERhdGUubm93IHx8IG5vd1xuXG5mdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG59XG4iLCIvLyAgUmFtZGEgdjAuMTguMFxuLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9yYW1kYS9yYW1kYVxuLy8gIChjKSAyMDEzLTIwMTUgU2NvdHQgU2F1eWV0LCBNaWNoYWVsIEh1cmxleSwgYW5kIERhdmlkIENoYW1iZXJzXG4vLyAgUmFtZGEgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbjsoZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgICAqIEEgc3BlY2lhbCBwbGFjZWhvbGRlciB2YWx1ZSB1c2VkIHRvIHNwZWNpZnkgXCJnYXBzXCIgd2l0aGluIGN1cnJpZWQgZnVuY3Rpb25zLFxuICAgICAqIGFsbG93aW5nIHBhcnRpYWwgYXBwbGljYXRpb24gb2YgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyxcbiAgICAgKiByZWdhcmRsZXNzIG9mIHRoZWlyIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIElmIGBnYCBpcyBhIGN1cnJpZWQgdGVybmFyeSBmdW5jdGlvbiBhbmQgYF9gIGlzIGBSLl9fYCwgdGhlIGZvbGxvd2luZyBhcmUgZXF1aXZhbGVudDpcbiAgICAgKlxuICAgICAqICAgLSBgZygxLCAyLCAzKWBcbiAgICAgKiAgIC0gYGcoXywgMiwgMykoMSlgXG4gICAgICogICAtIGBnKF8sIF8sIDMpKDEpKDIpYFxuICAgICAqICAgLSBgZyhfLCBfLCAzKSgxLCAyKWBcbiAgICAgKiAgIC0gYGcoXywgMiwgXykoMSwgMylgXG4gICAgICogICAtIGBnKF8sIDIpKDEpKDMpYFxuICAgICAqICAgLSBgZyhfLCAyKSgxLCAzKWBcbiAgICAgKiAgIC0gYGcoXywgMikoXywgMykoMSlgXG4gICAgICpcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgZ3JlZXQgPSBSLnJlcGxhY2UoJ3tuYW1lfScsIFIuX18sICdIZWxsbywge25hbWV9IScpO1xuICAgICAqICAgICAgZ3JlZXQoJ0FsaWNlJyk7IC8vPT4gJ0hlbGxvLCBBbGljZSEnXG4gICAgICovXG4gICAgdmFyIF9fID0geyAnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJzogdHJ1ZSB9O1xuXG4gICAgLy8ganNoaW50IHVudXNlZDp2YXJzXG4gICAgdmFyIF9hcml0eSA9IGZ1bmN0aW9uIF9hcml0eShuLCBmbikge1xuICAgICAgICAvLyBqc2hpbnQgdW51c2VkOnZhcnNcbiAgICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEsIGEyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmlyc3QgYXJndW1lbnQgdG8gX2FyaXR5IG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlciBubyBncmVhdGVyIHRoYW4gdGVuJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIF9hcnJheUZyb21JdGVyYXRvciA9IGZ1bmN0aW9uIF9hcnJheUZyb21JdGVyYXRvcihpdGVyKSB7XG4gICAgICAgIHZhciBsaXN0ID0gW107XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB3aGlsZSAoIShuZXh0ID0gaXRlci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGxpc3QucHVzaChuZXh0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9O1xuXG4gICAgdmFyIF9jbG9uZVJlZ0V4cCA9IGZ1bmN0aW9uIF9jbG9uZVJlZ0V4cChwYXR0ZXJuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHBhdHRlcm4uc291cmNlLCAocGF0dGVybi5nbG9iYWwgPyAnZycgOiAnJykgKyAocGF0dGVybi5pZ25vcmVDYXNlID8gJ2knIDogJycpICsgKHBhdHRlcm4ubXVsdGlsaW5lID8gJ20nIDogJycpICsgKHBhdHRlcm4uc3RpY2t5ID8gJ3knIDogJycpICsgKHBhdHRlcm4udW5pY29kZSA/ICd1JyA6ICcnKSk7XG4gICAgfTtcblxuICAgIHZhciBfY29tcGxlbWVudCA9IGZ1bmN0aW9uIF9jb21wbGVtZW50KGYpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcml2YXRlIGBjb25jYXRgIGZ1bmN0aW9uIHRvIG1lcmdlIHR3byBhcnJheS1saWtlIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8QXJndW1lbnRzfSBbc2V0MT1bXV0gQW4gYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtBcnJheXxBcmd1bWVudHN9IFtzZXQyPVtdXSBBbiBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQSBuZXcsIG1lcmdlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBfY29uY2F0KFs0LCA1LCA2XSwgWzEsIDIsIDNdKTsgLy89PiBbNCwgNSwgNiwgMSwgMiwgM11cbiAgICAgKi9cbiAgICB2YXIgX2NvbmNhdCA9IGZ1bmN0aW9uIF9jb25jYXQoc2V0MSwgc2V0Mikge1xuICAgICAgICBzZXQxID0gc2V0MSB8fCBbXTtcbiAgICAgICAgc2V0MiA9IHNldDIgfHwgW107XG4gICAgICAgIHZhciBpZHg7XG4gICAgICAgIHZhciBsZW4xID0gc2V0MS5sZW5ndGg7XG4gICAgICAgIHZhciBsZW4yID0gc2V0Mi5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGxlbjEpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHNldDFbaWR4XTtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4yKSB7XG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSBzZXQyW2lkeF07XG4gICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICB2YXIgX2NvbnRhaW5zV2l0aCA9IGZ1bmN0aW9uIF9jb250YWluc1dpdGgocHJlZCwgeCwgbGlzdCkge1xuICAgICAgICB2YXIgaWR4ID0gMCwgbGVuID0gbGlzdC5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChwcmVkKHgsIGxpc3RbaWR4XSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogT3B0aW1pemVkIGludGVybmFsIG9uZS1hcml0eSBjdXJyeSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgX2N1cnJ5MSA9IGZ1bmN0aW9uIF9jdXJyeTEoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGYxKGEpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGYxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhICE9IG51bGwgJiYgYVsnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJ10gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZjE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBPcHRpbWl6ZWQgaW50ZXJuYWwgdHdvLWFyaXR5IGN1cnJ5IGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBfY3VycnkyID0gZnVuY3Rpb24gX2N1cnJ5Mihmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZjIoYSwgYikge1xuICAgICAgICAgICAgdmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG4gPT09IDEgJiYgYSAhPSBudWxsICYmIGFbJ0BAZnVuY3Rpb25hbC9wbGFjZWhvbGRlciddID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jdXJyeTEoZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGEsIGIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuID09PSAyICYmIGEgIT0gbnVsbCAmJiBhWydAQGZ1bmN0aW9uYWwvcGxhY2Vob2xkZXInXSA9PT0gdHJ1ZSAmJiBiICE9IG51bGwgJiYgYlsnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJ10gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG4gPT09IDIgJiYgYSAhPSBudWxsICYmIGFbJ0BAZnVuY3Rpb25hbC9wbGFjZWhvbGRlciddID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jdXJyeTEoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGEsIGIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuID09PSAyICYmIGIgIT0gbnVsbCAmJiBiWydAQGZ1bmN0aW9uYWwvcGxhY2Vob2xkZXInXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfY3VycnkxKGZ1bmN0aW9uIChiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbihhLCBiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKGEsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBPcHRpbWl6ZWQgaW50ZXJuYWwgdGhyZWUtYXJpdHkgY3VycnkgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdmFyIF9jdXJyeTMgPSBmdW5jdGlvbiBfY3VycnkzKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBmMyhhLCBiLCBjKSB7XG4gICAgICAgICAgICB2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmMztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobiA9PT0gMSAmJiBhICE9IG51bGwgJiYgYVsnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJ10gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZjM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG4gPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2N1cnJ5MihmdW5jdGlvbiAoYiwgYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4oYSwgYiwgYyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG4gPT09IDIgJiYgYSAhPSBudWxsICYmIGFbJ0BAZnVuY3Rpb25hbC9wbGFjZWhvbGRlciddID09PSB0cnVlICYmIGIgIT0gbnVsbCAmJiBiWydAQGZ1bmN0aW9uYWwvcGxhY2Vob2xkZXInXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmMztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobiA9PT0gMiAmJiBhICE9IG51bGwgJiYgYVsnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJ10gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2N1cnJ5MihmdW5jdGlvbiAoYSwgYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4oYSwgYiwgYyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG4gPT09IDIgJiYgYiAhPSBudWxsICYmIGJbJ0BAZnVuY3Rpb25hbC9wbGFjZWhvbGRlciddID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jdXJyeTIoZnVuY3Rpb24gKGIsIGMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGEsIGIsIGMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jdXJyeTEoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGEsIGIsIGMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuID09PSAzICYmIGEgIT0gbnVsbCAmJiBhWydAQGZ1bmN0aW9uYWwvcGxhY2Vob2xkZXInXSA9PT0gdHJ1ZSAmJiBiICE9IG51bGwgJiYgYlsnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJ10gPT09IHRydWUgJiYgYyAhPSBudWxsICYmIGNbJ0BAZnVuY3Rpb25hbC9wbGFjZWhvbGRlciddID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGYzO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuID09PSAzICYmIGEgIT0gbnVsbCAmJiBhWydAQGZ1bmN0aW9uYWwvcGxhY2Vob2xkZXInXSA9PT0gdHJ1ZSAmJiBiICE9IG51bGwgJiYgYlsnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJ10gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2N1cnJ5MihmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4oYSwgYiwgYyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG4gPT09IDMgJiYgYSAhPSBudWxsICYmIGFbJ0BAZnVuY3Rpb25hbC9wbGFjZWhvbGRlciddID09PSB0cnVlICYmIGMgIT0gbnVsbCAmJiBjWydAQGZ1bmN0aW9uYWwvcGxhY2Vob2xkZXInXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfY3VycnkyKGZ1bmN0aW9uIChhLCBjKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbihhLCBiLCBjKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobiA9PT0gMyAmJiBiICE9IG51bGwgJiYgYlsnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJ10gPT09IHRydWUgJiYgYyAhPSBudWxsICYmIGNbJ0BAZnVuY3Rpb25hbC9wbGFjZWhvbGRlciddID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jdXJyeTIoZnVuY3Rpb24gKGIsIGMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGEsIGIsIGMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuID09PSAzICYmIGEgIT0gbnVsbCAmJiBhWydAQGZ1bmN0aW9uYWwvcGxhY2Vob2xkZXInXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfY3VycnkxKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbihhLCBiLCBjKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobiA9PT0gMyAmJiBiICE9IG51bGwgJiYgYlsnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJ10gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2N1cnJ5MShmdW5jdGlvbiAoYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4oYSwgYiwgYyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG4gPT09IDMgJiYgYyAhPSBudWxsICYmIGNbJ0BAZnVuY3Rpb25hbC9wbGFjZWhvbGRlciddID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jdXJyeTEoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGEsIGIsIGMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oYSwgYiwgYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGN1cnJ5TiBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgYXJpdHkgb2YgdGhlIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7YXJyYXl9IEFuIGFycmF5IG9mIGFyZ3VtZW50cyByZWNlaXZlZCB0aHVzIGZhci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICovXG4gICAgdmFyIF9jdXJyeU4gPSBmdW5jdGlvbiBfY3VycnlOKGxlbmd0aCwgcmVjZWl2ZWQsIGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29tYmluZWQgPSBbXTtcbiAgICAgICAgICAgIHZhciBhcmdzSWR4ID0gMDtcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gbGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGNvbWJpbmVkSWR4ID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChjb21iaW5lZElkeCA8IHJlY2VpdmVkLmxlbmd0aCB8fCBhcmdzSWR4IDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKGNvbWJpbmVkSWR4IDwgcmVjZWl2ZWQubGVuZ3RoICYmIChyZWNlaXZlZFtjb21iaW5lZElkeF0gPT0gbnVsbCB8fCByZWNlaXZlZFtjb21iaW5lZElkeF1bJ0BAZnVuY3Rpb25hbC9wbGFjZWhvbGRlciddICE9PSB0cnVlIHx8IGFyZ3NJZHggPj0gYXJndW1lbnRzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVjZWl2ZWRbY29tYmluZWRJZHhdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGFyZ3VtZW50c1thcmdzSWR4XTtcbiAgICAgICAgICAgICAgICAgICAgYXJnc0lkeCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb21iaW5lZFtjb21iaW5lZElkeF0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSBudWxsIHx8IHJlc3VsdFsnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJ10gIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCAtPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb21iaW5lZElkeCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxlZnQgPD0gMCA/IGZuLmFwcGx5KHRoaXMsIGNvbWJpbmVkKSA6IF9hcml0eShsZWZ0LCBfY3VycnlOKGxlbmd0aCwgY29tYmluZWQsIGZuKSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBfZmlsdGVyID0gZnVuY3Rpb24gX2ZpbHRlcihmbiwgbGlzdCkge1xuICAgICAgICB2YXIgaWR4ID0gMCwgbGVuID0gbGlzdC5sZW5ndGgsIHJlc3VsdCA9IFtdO1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoZm4obGlzdFtpZHhdKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IGxpc3RbaWR4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIHZhciBfZm9yY2VSZWR1Y2VkID0gZnVuY3Rpb24gX2ZvcmNlUmVkdWNlZCh4KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnQEB0cmFuc2R1Y2VyL3ZhbHVlJzogeCxcbiAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvcmVkdWNlZCc6IHRydWVcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgc3RyYXRlZ3kgZm9yIGV4dHJhY3RpbmcgZnVuY3Rpb24gbmFtZXMgZnJvbSBhbiBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIG9iamVjdCBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKi9cbiAgICB2YXIgX2Z1bmN0aW9uc1dpdGggPSBmdW5jdGlvbiBfZnVuY3Rpb25zV2l0aChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIF9maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygb2JqW2tleV0gPT09ICdmdW5jdGlvbic7XG4gICAgICAgICAgICB9LCBmbihvYmopKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIF9oYXMgPSBmdW5jdGlvbiBfaGFzKHByb3AsIG9iaikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG4gICAgfTtcblxuICAgIHZhciBfaWRlbnRpdHkgPSBmdW5jdGlvbiBfaWRlbnRpdHkoeCkge1xuICAgICAgICByZXR1cm4geDtcbiAgICB9O1xuXG4gICAgdmFyIF9pc0FyZ3VtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJndW1lbnRzKSA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXScgPyBmdW5jdGlvbiBfaXNBcmd1bWVudHMoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuICAgICAgICB9IDogZnVuY3Rpb24gX2lzQXJndW1lbnRzKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBfaGFzKCdjYWxsZWUnLCB4KTtcbiAgICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCBhbiBvYmplY3QgaXMgYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsIFRoZSBvYmplY3QgdG8gdGVzdC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgYHZhbGAgaXMgYW4gYXJyYXksIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIF9pc0FycmF5KFtdKTsgLy89PiB0cnVlXG4gICAgICogICAgICBfaXNBcnJheShudWxsKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgX2lzQXJyYXkoe30pOyAvLz0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBfaXNBcnJheSh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbCAhPSBudWxsICYmIHZhbC5sZW5ndGggPj0gMCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIHRoZSBwYXNzZWQgYXJndW1lbnQgaXMgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBuXG4gICAgICogQGNhdGVnb3J5IFR5cGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIHZhciBfaXNJbnRlZ2VyID0gTnVtYmVyLmlzSW50ZWdlciB8fCBmdW5jdGlvbiBfaXNJbnRlZ2VyKG4pIHtcbiAgICAgICAgcmV0dXJuIG4gPDwgMCA9PT0gbjtcbiAgICB9O1xuXG4gICAgdmFyIF9pc051bWJlciA9IGZ1bmN0aW9uIF9pc051bWJlcih4KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuICAgIH07XG5cbiAgICB2YXIgX2lzT2JqZWN0ID0gZnVuY3Rpb24gX2lzT2JqZWN0KHgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gICAgfTtcblxuICAgIHZhciBfaXNSZWdFeHAgPSBmdW5jdGlvbiBfaXNSZWdFeHAoeCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBSZWdFeHBdJztcbiAgICB9O1xuXG4gICAgdmFyIF9pc1N0cmluZyA9IGZ1bmN0aW9uIF9pc1N0cmluZyh4KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuICAgIH07XG5cbiAgICB2YXIgX2lzVHJhbnNmb3JtZXIgPSBmdW5jdGlvbiBfaXNUcmFuc2Zvcm1lcihvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmpbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPT09ICdmdW5jdGlvbic7XG4gICAgfTtcblxuICAgIHZhciBfbWFwID0gZnVuY3Rpb24gX21hcChmbiwgZnVuY3Rvcikge1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIGxlbiA9IGZ1bmN0b3IubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuKTtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgICAgICAgICAgcmVzdWx0W2lkeF0gPSBmbihmdW5jdG9yW2lkeF0pO1xuICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgdmFyIF9vZiA9IGZ1bmN0aW9uIF9vZih4KSB7XG4gICAgICAgIHJldHVybiBbeF07XG4gICAgfTtcblxuICAgIHZhciBfcGlwZSA9IGZ1bmN0aW9uIF9waXBlKGYsIGcpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnLmNhbGwodGhpcywgZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIF9waXBlUCA9IGZ1bmN0aW9uIF9waXBlUChmLCBnKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBmLmFwcGx5KGN0eCwgYXJndW1lbnRzKS50aGVuKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGcuY2FsbChjdHgsIHgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIFxcYiBtYXRjaGVzIHdvcmQgYm91bmRhcnk7IFtcXGJdIG1hdGNoZXMgYmFja3NwYWNlXG4gICAgdmFyIF9xdW90ZSA9IGZ1bmN0aW9uIF9xdW90ZShzKSB7XG4gICAgICAgIHZhciBlc2NhcGVkID0gcy5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpLnJlcGxhY2UoL1tcXGJdL2csICdcXFxcYicpICAgIC8vIFxcYiBtYXRjaGVzIHdvcmQgYm91bmRhcnk7IFtcXGJdIG1hdGNoZXMgYmFja3NwYWNlXG4gICAgLnJlcGxhY2UoL1xcZi9nLCAnXFxcXGYnKS5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJykucmVwbGFjZSgvXFxyL2csICdcXFxccicpLnJlcGxhY2UoL1xcdC9nLCAnXFxcXHQnKS5yZXBsYWNlKC9cXHYvZywgJ1xcXFx2JykucmVwbGFjZSgvXFwwL2csICdcXFxcMCcpO1xuICAgICAgICByZXR1cm4gJ1wiJyArIGVzY2FwZWQucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpICsgJ1wiJztcbiAgICB9O1xuXG4gICAgdmFyIF9yZWR1Y2VkID0gZnVuY3Rpb24gX3JlZHVjZWQoeCkge1xuICAgICAgICByZXR1cm4geCAmJiB4WydAQHRyYW5zZHVjZXIvcmVkdWNlZCddID8geCA6IHtcbiAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvdmFsdWUnOiB4LFxuICAgICAgICAgICAgJ0BAdHJhbnNkdWNlci9yZWR1Y2VkJzogdHJ1ZVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbiBvcHRpbWl6ZWQsIHByaXZhdGUgYXJyYXkgYHNsaWNlYCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcmd1bWVudHN8QXJyYXl9IGFyZ3MgVGhlIGFycmF5IG9yIGFyZ3VtZW50cyBvYmplY3QgdG8gY29uc2lkZXIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtmcm9tPTBdIFRoZSBhcnJheSBpbmRleCB0byBzbGljZSBmcm9tLCBpbmNsdXNpdmUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0bz1hcmdzLmxlbmd0aF0gVGhlIGFycmF5IGluZGV4IHRvIHNsaWNlIHRvLCBleGNsdXNpdmUuXG4gICAgICogQHJldHVybiB7QXJyYXl9IEEgbmV3LCBzbGljZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgX3NsaWNlKFsxLCAyLCAzLCA0LCA1XSwgMSwgMyk7IC8vPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBmaXJzdFRocmVlQXJncyA9IGZ1bmN0aW9uKGEsIGIsIGMsIGQpIHtcbiAgICAgKiAgICAgICAgcmV0dXJuIF9zbGljZShhcmd1bWVudHMsIDAsIDMpO1xuICAgICAqICAgICAgfTtcbiAgICAgKiAgICAgIGZpcnN0VGhyZWVBcmdzKDEsIDIsIDMsIDQpOyAvLz0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIHZhciBfc2xpY2UgPSBmdW5jdGlvbiBfc2xpY2UoYXJncywgZnJvbSwgdG8pIHtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBfc2xpY2UoYXJncywgMCwgYXJncy5sZW5ndGgpO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gX3NsaWNlKGFyZ3MsIGZyb20sIGFyZ3MubGVuZ3RoKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHZhciBsaXN0ID0gW107XG4gICAgICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihhcmdzLmxlbmd0aCwgdG8pIC0gZnJvbSk7XG4gICAgICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgbGlzdFtpZHhdID0gYXJnc1tmcm9tICsgaWR4XTtcbiAgICAgICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvbHlmaWxsIGZyb20gPGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvdG9JU09TdHJpbmc+LlxuICAgICAqL1xuICAgIHZhciBfdG9JU09TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYWQgPSBmdW5jdGlvbiBwYWQobikge1xuICAgICAgICAgICAgcmV0dXJuIChuIDwgMTAgPyAnMCcgOiAnJykgKyBuO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdHlwZW9mIERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nID09PSAnZnVuY3Rpb24nID8gZnVuY3Rpb24gX3RvSVNPU3RyaW5nKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gOiBmdW5jdGlvbiBfdG9JU09TdHJpbmcoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQuZ2V0VVRDRnVsbFllYXIoKSArICctJyArIHBhZChkLmdldFVUQ01vbnRoKCkgKyAxKSArICctJyArIHBhZChkLmdldFVUQ0RhdGUoKSkgKyAnVCcgKyBwYWQoZC5nZXRVVENIb3VycygpKSArICc6JyArIHBhZChkLmdldFVUQ01pbnV0ZXMoKSkgKyAnOicgKyBwYWQoZC5nZXRVVENTZWNvbmRzKCkpICsgJy4nICsgKGQuZ2V0VVRDTWlsbGlzZWNvbmRzKCkgLyAxMDAwKS50b0ZpeGVkKDMpLnNsaWNlKDIsIDUpICsgJ1onO1xuICAgICAgICB9O1xuICAgIH0oKTtcblxuICAgIHZhciBfeGRyb3BSZXBlYXRzV2l0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gWERyb3BSZXBlYXRzV2l0aChwcmVkLCB4Zikge1xuICAgICAgICAgICAgdGhpcy54ZiA9IHhmO1xuICAgICAgICAgICAgdGhpcy5wcmVkID0gcHJlZDtcbiAgICAgICAgICAgIHRoaXMubGFzdFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5zZWVuRmlyc3RWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFhEcm9wUmVwZWF0c1dpdGgucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueGZbJ0BAdHJhbnNkdWNlci9pbml0J10oKTtcbiAgICAgICAgfTtcbiAgICAgICAgWERyb3BSZXBlYXRzV2l0aC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10ocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgWERyb3BSZXBlYXRzV2l0aC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgICAgICAgICAgdmFyIHNhbWVBc0xhc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZWVuRmlyc3RWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VlbkZpcnN0VmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZWQodGhpcy5sYXN0VmFsdWUsIGlucHV0KSkge1xuICAgICAgICAgICAgICAgIHNhbWVBc0xhc3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSBpbnB1dDtcbiAgICAgICAgICAgIHJldHVybiBzYW1lQXNMYXN0ID8gcmVzdWx0IDogdGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXShyZXN1bHQsIGlucHV0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9jdXJyeTIoZnVuY3Rpb24gX3hkcm9wUmVwZWF0c1dpdGgocHJlZCwgeGYpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWERyb3BSZXBlYXRzV2l0aChwcmVkLCB4Zik7XG4gICAgICAgIH0pO1xuICAgIH0oKTtcblxuICAgIHZhciBfeGZCYXNlID0ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ZlsnQEB0cmFuc2R1Y2VyL2luaXQnXSgpO1xuICAgICAgICB9LFxuICAgICAgICByZXN1bHQ6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10ocmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgX3hmaWx0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFhGaWx0ZXIoZiwgeGYpIHtcbiAgICAgICAgICAgIHRoaXMueGYgPSB4ZjtcbiAgICAgICAgICAgIHRoaXMuZiA9IGY7XG4gICAgICAgIH1cbiAgICAgICAgWEZpbHRlci5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBfeGZCYXNlLmluaXQ7XG4gICAgICAgIFhGaWx0ZXIucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBfeGZCYXNlLnJlc3VsdDtcbiAgICAgICAgWEZpbHRlci5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZihpbnB1dCkgPyB0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgaW5wdXQpIDogcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX2N1cnJ5MihmdW5jdGlvbiBfeGZpbHRlcihmLCB4Zikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBYRmlsdGVyKGYsIHhmKTtcbiAgICAgICAgfSk7XG4gICAgfSgpO1xuXG4gICAgdmFyIF94ZmluZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gWEZpbmQoZiwgeGYpIHtcbiAgICAgICAgICAgIHRoaXMueGYgPSB4ZjtcbiAgICAgICAgICAgIHRoaXMuZiA9IGY7XG4gICAgICAgICAgICB0aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgWEZpbmQucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gX3hmQmFzZS5pbml0O1xuICAgICAgICBYRmluZC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5mb3VuZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMueGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCB2b2lkIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueGZbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXShyZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICBYRmluZC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZihpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBfcmVkdWNlZCh0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgaW5wdXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfY3VycnkyKGZ1bmN0aW9uIF94ZmluZChmLCB4Zikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBYRmluZChmLCB4Zik7XG4gICAgICAgIH0pO1xuICAgIH0oKTtcblxuICAgIHZhciBfeGZpbmRJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gWEZpbmRJbmRleChmLCB4Zikge1xuICAgICAgICAgICAgdGhpcy54ZiA9IHhmO1xuICAgICAgICAgICAgdGhpcy5mID0gZjtcbiAgICAgICAgICAgIHRoaXMuaWR4ID0gLTE7XG4gICAgICAgICAgICB0aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgWEZpbmRJbmRleC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBfeGZCYXNlLmluaXQ7XG4gICAgICAgIFhGaW5kSW5kZXgucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZm91bmQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueGZbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXShyZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICBYRmluZEluZGV4LnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgICAgICAgICB0aGlzLmlkeCArPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuZihpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBfcmVkdWNlZCh0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgdGhpcy5pZHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfY3VycnkyKGZ1bmN0aW9uIF94ZmluZEluZGV4KGYsIHhmKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFhGaW5kSW5kZXgoZiwgeGYpO1xuICAgICAgICB9KTtcbiAgICB9KCk7XG5cbiAgICB2YXIgX3hmaW5kTGFzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gWEZpbmRMYXN0KGYsIHhmKSB7XG4gICAgICAgICAgICB0aGlzLnhmID0geGY7XG4gICAgICAgICAgICB0aGlzLmYgPSBmO1xuICAgICAgICB9XG4gICAgICAgIFhGaW5kTGFzdC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBfeGZCYXNlLmluaXQ7XG4gICAgICAgIFhGaW5kTGFzdC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10odGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXShyZXN1bHQsIHRoaXMubGFzdCkpO1xuICAgICAgICB9O1xuICAgICAgICBYRmluZExhc3QucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKHJlc3VsdCwgaW5wdXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmYoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0ID0gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX2N1cnJ5MihmdW5jdGlvbiBfeGZpbmRMYXN0KGYsIHhmKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFhGaW5kTGFzdChmLCB4Zik7XG4gICAgICAgIH0pO1xuICAgIH0oKTtcblxuICAgIHZhciBfeGZpbmRMYXN0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFhGaW5kTGFzdEluZGV4KGYsIHhmKSB7XG4gICAgICAgICAgICB0aGlzLnhmID0geGY7XG4gICAgICAgICAgICB0aGlzLmYgPSBmO1xuICAgICAgICAgICAgdGhpcy5pZHggPSAtMTtcbiAgICAgICAgICAgIHRoaXMubGFzdElkeCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIFhGaW5kTGFzdEluZGV4LnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL2luaXQnXSA9IF94ZkJhc2UuaW5pdDtcbiAgICAgICAgWEZpbmRMYXN0SW5kZXgucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddKHRoaXMueGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCB0aGlzLmxhc3RJZHgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgWEZpbmRMYXN0SW5kZXgucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKHJlc3VsdCwgaW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuaWR4ICs9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5mKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdElkeCA9IHRoaXMuaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9jdXJyeTIoZnVuY3Rpb24gX3hmaW5kTGFzdEluZGV4KGYsIHhmKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFhGaW5kTGFzdEluZGV4KGYsIHhmKTtcbiAgICAgICAgfSk7XG4gICAgfSgpO1xuXG4gICAgdmFyIF94bWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBYTWFwKGYsIHhmKSB7XG4gICAgICAgICAgICB0aGlzLnhmID0geGY7XG4gICAgICAgICAgICB0aGlzLmYgPSBmO1xuICAgICAgICB9XG4gICAgICAgIFhNYXAucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gX3hmQmFzZS5pbml0O1xuICAgICAgICBYTWFwLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddID0gX3hmQmFzZS5yZXN1bHQ7XG4gICAgICAgIFhNYXAucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKHJlc3VsdCwgaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgdGhpcy5mKGlucHV0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfY3VycnkyKGZ1bmN0aW9uIF94bWFwKGYsIHhmKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFhNYXAoZiwgeGYpO1xuICAgICAgICB9KTtcbiAgICB9KCk7XG5cbiAgICB2YXIgX3h0YWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBYVGFrZShuLCB4Zikge1xuICAgICAgICAgICAgdGhpcy54ZiA9IHhmO1xuICAgICAgICAgICAgdGhpcy5uID0gbjtcbiAgICAgICAgfVxuICAgICAgICBYVGFrZS5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBfeGZCYXNlLmluaXQ7XG4gICAgICAgIFhUYWtlLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddID0gX3hmQmFzZS5yZXN1bHQ7XG4gICAgICAgIFhUYWtlLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWR1Y2VkKHJlc3VsdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubiAtPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX2N1cnJ5MihmdW5jdGlvbiBfeHRha2UobiwgeGYpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWFRha2UobiwgeGYpO1xuICAgICAgICB9KTtcbiAgICB9KCk7XG5cbiAgICB2YXIgX3h0YWtlV2hpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFhUYWtlV2hpbGUoZiwgeGYpIHtcbiAgICAgICAgICAgIHRoaXMueGYgPSB4ZjtcbiAgICAgICAgICAgIHRoaXMuZiA9IGY7XG4gICAgICAgIH1cbiAgICAgICAgWFRha2VXaGlsZS5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBfeGZCYXNlLmluaXQ7XG4gICAgICAgIFhUYWtlV2hpbGUucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBfeGZCYXNlLnJlc3VsdDtcbiAgICAgICAgWFRha2VXaGlsZS5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZihpbnB1dCkgPyB0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgaW5wdXQpIDogX3JlZHVjZWQocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9jdXJyeTIoZnVuY3Rpb24gX3h0YWtlV2hpbGUoZiwgeGYpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWFRha2VXaGlsZShmLCB4Zik7XG4gICAgICAgIH0pO1xuICAgIH0oKTtcblxuICAgIHZhciBfeHdyYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFhXcmFwKGZuKSB7XG4gICAgICAgICAgICB0aGlzLmYgPSBmbjtcbiAgICAgICAgfVxuICAgICAgICBYV3JhcC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2luaXQgbm90IGltcGxlbWVudGVkIG9uIFhXcmFwJyk7XG4gICAgICAgIH07XG4gICAgICAgIFhXcmFwLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddID0gZnVuY3Rpb24gKGFjYykge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfTtcbiAgICAgICAgWFdyYXAucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKGFjYywgeCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZihhY2MsIHgpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX3h3cmFwKGZuKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFhXcmFwKGZuKTtcbiAgICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBudW1iZXJzLiBFcXVpdmFsZW50IHRvIGBhICsgYmAgYnV0IGN1cnJpZWQuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHNpZyBOdW1iZXIgLT4gTnVtYmVyIC0+IE51bWJlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICogQHNlZSBSLnN1YnRyYWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5hZGQoMiwgMyk7ICAgICAgIC8vPT4gIDVcbiAgICAgKiAgICAgIFIuYWRkKDcpKDEwKTsgICAgICAvLz0+IDE3XG4gICAgICovXG4gICAgdmFyIGFkZCA9IF9jdXJyeTIoZnVuY3Rpb24gYWRkKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgKyBiO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGZ1bmN0aW9uIHRvIHRoZSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gaW5kZXggb2YgYW4gYXJyYXksXG4gICAgICogcmV0dXJuaW5nIGEgbmV3IGNvcHkgb2YgdGhlIGFycmF5IHdpdGggdGhlIGVsZW1lbnQgYXQgdGhlIGdpdmVuXG4gICAgICogaW5kZXggcmVwbGFjZWQgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBmdW5jdGlvbiBhcHBsaWNhdGlvbi5cbiAgICAgKiBAc2VlIFIudXBkYXRlXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEgLT4gYSkgLT4gTnVtYmVyIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gYXBwbHkuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGlkeCBUaGUgaW5kZXguXG4gICAgICogQHBhcmFtIHtBcnJheXxBcmd1bWVudHN9IGxpc3QgQW4gYXJyYXktbGlrZSBvYmplY3Qgd2hvc2UgdmFsdWVcbiAgICAgKiAgICAgICAgYXQgdGhlIHN1cHBsaWVkIGluZGV4IHdpbGwgYmUgcmVwbGFjZWQuXG4gICAgICogQHJldHVybiB7QXJyYXl9IEEgY29weSBvZiB0aGUgc3VwcGxpZWQgYXJyYXktbGlrZSBvYmplY3Qgd2l0aFxuICAgICAqICAgICAgICAgdGhlIGVsZW1lbnQgYXQgaW5kZXggYGlkeGAgcmVwbGFjZWQgd2l0aCB0aGUgdmFsdWVcbiAgICAgKiAgICAgICAgIHJldHVybmVkIGJ5IGFwcGx5aW5nIGBmbmAgdG8gdGhlIGV4aXN0aW5nIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5hZGp1c3QoUi5hZGQoMTApLCAxLCBbMCwgMSwgMl0pOyAgICAgLy89PiBbMCwgMTEsIDJdXG4gICAgICogICAgICBSLmFkanVzdChSLmFkZCgxMCkpKDEpKFswLCAxLCAyXSk7ICAgICAvLz0+IFswLCAxMSwgMl1cbiAgICAgKi9cbiAgICB2YXIgYWRqdXN0ID0gX2N1cnJ5MyhmdW5jdGlvbiBhZGp1c3QoZm4sIGlkeCwgbGlzdCkge1xuICAgICAgICBpZiAoaWR4ID49IGxpc3QubGVuZ3RoIHx8IGlkeCA8IC1saXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0ID0gaWR4IDwgMCA/IGxpc3QubGVuZ3RoIDogMDtcbiAgICAgICAgdmFyIF9pZHggPSBzdGFydCArIGlkeDtcbiAgICAgICAgdmFyIF9saXN0ID0gX2NvbmNhdChsaXN0KTtcbiAgICAgICAgX2xpc3RbX2lkeF0gPSBmbihsaXN0W19pZHhdKTtcbiAgICAgICAgcmV0dXJuIF9saXN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWx3YXlzIHJldHVybnMgdGhlIGdpdmVuIHZhbHVlLiBOb3RlIHRoYXQgZm9yXG4gICAgICogbm9uLXByaW1pdGl2ZXMgdGhlIHZhbHVlIHJldHVybmVkIGlzIGEgcmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMga25vd24gYXMgYGNvbnN0YCwgYGNvbnN0YW50YCwgb3IgYEtgIChmb3IgSyBjb21iaW5hdG9yKVxuICAgICAqIGluIG90aGVyIGxhbmd1YWdlcyBhbmQgbGlicmFyaWVzLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnIGEgLT4gKCogLT4gYSlcbiAgICAgKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IEEgRnVuY3Rpb24gOjogKiAtPiB2YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHQgPSBSLmFsd2F5cygnVGVlJyk7XG4gICAgICogICAgICB0KCk7IC8vPT4gJ1RlZSdcbiAgICAgKi9cbiAgICB2YXIgYWx3YXlzID0gX2N1cnJ5MShmdW5jdGlvbiBhbHdheXModmFsKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYm90aCBhcmd1bWVudHMgYXJlIGB0cnVlYDsgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMb2dpY1xuICAgICAqIEBzaWcgKiAtPiAqIC0+ICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGEgQSBib29sZWFuIHZhbHVlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBiIEEgYm9vbGVhbiB2YWx1ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBib3RoIGFyZ3VtZW50cyBhcmUgYHRydWVgLCBgZmFsc2VgIG90aGVyd2lzZVxuICAgICAqIEBzZWUgUi5ib3RoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5hbmQodHJ1ZSwgdHJ1ZSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5hbmQodHJ1ZSwgZmFsc2UpOyAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLmFuZChmYWxzZSwgdHJ1ZSk7IC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIFIuYW5kKGZhbHNlLCBmYWxzZSk7IC8vPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgYW5kID0gX2N1cnJ5MihmdW5jdGlvbiBhbmQoYSwgYikge1xuICAgICAgICByZXR1cm4gYSAmJiBiO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhlIGNvbnRlbnRzIG9mIHRoZSBnaXZlbiBsaXN0LCBmb2xsb3dlZCBieSB0aGUgZ2l2ZW5cbiAgICAgKiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgYSAtPiBbYV0gLT4gW2FdXG4gICAgICogQHBhcmFtIHsqfSBlbCBUaGUgZWxlbWVudCB0byBhZGQgdG8gdGhlIGVuZCBvZiB0aGUgbmV3IGxpc3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgbGlzdCB3aG9zZSBjb250ZW50cyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIG91dHB1dFxuICAgICAqICAgICAgICBsaXN0LlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBBIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhlIGNvbnRlbnRzIG9mIHRoZSBvbGQgbGlzdCBmb2xsb3dlZCBieSBgZWxgLlxuICAgICAqIEBzZWUgUi5wcmVwZW5kXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5hcHBlbmQoJ3Rlc3RzJywgWyd3cml0ZScsICdtb3JlJ10pOyAvLz0+IFsnd3JpdGUnLCAnbW9yZScsICd0ZXN0cyddXG4gICAgICogICAgICBSLmFwcGVuZCgndGVzdHMnLCBbXSk7IC8vPT4gWyd0ZXN0cyddXG4gICAgICogICAgICBSLmFwcGVuZChbJ3Rlc3RzJ10sIFsnd3JpdGUnLCAnbW9yZSddKTsgLy89PiBbJ3dyaXRlJywgJ21vcmUnLCBbJ3Rlc3RzJ11dXG4gICAgICovXG4gICAgdmFyIGFwcGVuZCA9IF9jdXJyeTIoZnVuY3Rpb24gYXBwZW5kKGVsLCBsaXN0KSB7XG4gICAgICAgIHJldHVybiBfY29uY2F0KGxpc3QsIFtlbF0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBmdW5jdGlvbiBgZm5gIHRvIHRoZSBhcmd1bWVudCBsaXN0IGBhcmdzYC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gICAgICogY3JlYXRpbmcgYSBmaXhlZC1hcml0eSBmdW5jdGlvbiBmcm9tIGEgdmFyaWFkaWMgZnVuY3Rpb24uIGBmbmAgc2hvdWxkXG4gICAgICogYmUgYSBib3VuZCBmdW5jdGlvbiBpZiBjb250ZXh0IGlzIHNpZ25pZmljYW50LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnICgqLi4uIC0+IGEpIC0+IFsqXSAtPiBhXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKiBAc2VlIFIuY2FsbCwgUi51bmFwcGx5XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIG51bXMgPSBbMSwgMiwgMywgLTk5LCA0MiwgNiwgN107XG4gICAgICogICAgICBSLmFwcGx5KE1hdGgubWF4LCBudW1zKTsgLy89PiA0MlxuICAgICAqL1xuICAgIHZhciBhcHBseSA9IF9jdXJyeTIoZnVuY3Rpb24gYXBwbHkoZm4sIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBzaGFsbG93IGNsb25lIG9mIGFuIG9iamVjdCwgc2V0dGluZyBvciBvdmVycmlkaW5nIHRoZSBzcGVjaWZpZWRcbiAgICAgKiBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiB2YWx1ZS4gIE5vdGUgdGhhdCB0aGlzIGNvcGllcyBhbmQgZmxhdHRlbnNcbiAgICAgKiBwcm90b3R5cGUgcHJvcGVydGllcyBvbnRvIHRoZSBuZXcgb2JqZWN0IGFzIHdlbGwuICBBbGwgbm9uLXByaW1pdGl2ZVxuICAgICAqIHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSByZWZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjguMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIFN0cmluZyAtPiBhIC0+IHtrOiB2fSAtPiB7azogdn1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcCB0aGUgcHJvcGVydHkgbmFtZSB0byBzZXRcbiAgICAgKiBAcGFyYW0geyp9IHZhbCB0aGUgbmV3IHZhbHVlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiB0aGUgb2JqZWN0IHRvIGNsb25lXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBhIG5ldyBvYmplY3Qgc2ltaWxhciB0byB0aGUgb3JpZ2luYWwgZXhjZXB0IGZvciB0aGUgc3BlY2lmaWVkIHByb3BlcnR5LlxuICAgICAqIEBzZWUgUi5kaXNzb2NcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLmFzc29jKCdjJywgMywge2E6IDEsIGI6IDJ9KTsgLy89PiB7YTogMSwgYjogMiwgYzogM31cbiAgICAgKi9cbiAgICB2YXIgYXNzb2MgPSBfY3VycnkzKGZ1bmN0aW9uIGFzc29jKHByb3AsIHZhbCwgb2JqKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBvYmopIHtcbiAgICAgICAgICAgIHJlc3VsdFtwXSA9IG9ialtwXTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbcHJvcF0gPSB2YWw7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYW4gb2JqZWN0LCBzZXR0aW5nIG9yIG92ZXJyaWRpbmcgdGhlIG5vZGVzXG4gICAgICogcmVxdWlyZWQgdG8gY3JlYXRlIHRoZSBnaXZlbiBwYXRoLCBhbmQgcGxhY2luZyB0aGUgc3BlY2lmaWMgdmFsdWUgYXQgdGhlXG4gICAgICogdGFpbCBlbmQgb2YgdGhhdCBwYXRoLiAgTm90ZSB0aGF0IHRoaXMgY29waWVzIGFuZCBmbGF0dGVucyBwcm90b3R5cGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9udG8gdGhlIG5ldyBvYmplY3QgYXMgd2VsbC4gIEFsbCBub24tcHJpbWl0aXZlIHByb3BlcnRpZXNcbiAgICAgKiBhcmUgY29waWVkIGJ5IHJlZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBzaWcgW1N0cmluZ10gLT4gYSAtPiB7azogdn0gLT4ge2s6IHZ9XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCB0aGUgcGF0aCB0byBzZXRcbiAgICAgKiBAcGFyYW0geyp9IHZhbCB0aGUgbmV3IHZhbHVlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiB0aGUgb2JqZWN0IHRvIGNsb25lXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBhIG5ldyBvYmplY3Qgc2ltaWxhciB0byB0aGUgb3JpZ2luYWwgZXhjZXB0IGFsb25nIHRoZSBzcGVjaWZpZWQgcGF0aC5cbiAgICAgKiBAc2VlIFIuZGlzc29jUGF0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuYXNzb2NQYXRoKFsnYScsICdiJywgJ2MnXSwgNDIsIHthOiB7Yjoge2M6IDB9fX0pOyAvLz0+IHthOiB7Yjoge2M6IDQyfX19XG4gICAgICovXG4gICAgdmFyIGFzc29jUGF0aCA9IF9jdXJyeTMoZnVuY3Rpb24gYXNzb2NQYXRoKHBhdGgsIHZhbCwgb2JqKSB7XG4gICAgICAgIHN3aXRjaCAocGF0aC5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIGFzc29jKHBhdGhbMF0sIHZhbCwgb2JqKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBhc3NvYyhwYXRoWzBdLCBhc3NvY1BhdGgoX3NsaWNlKHBhdGgsIDEpLCB2YWwsIE9iamVjdChvYmpbcGF0aFswXV0pKSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgYm91bmQgdG8gYSBjb250ZXh0LlxuICAgICAqIE5vdGU6IGBSLmJpbmRgIGRvZXMgbm90IHByb3ZpZGUgdGhlIGFkZGl0aW9uYWwgYXJndW1lbnQtYmluZGluZyBjYXBhYmlsaXRpZXMgb2ZcbiAgICAgKiBbRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL2JpbmQpLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNlZSBSLnBhcnRpYWxcbiAgICAgKiBAc2lnICgqIC0+ICopIC0+IHsqfSAtPiAoKiAtPiAqKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBiaW5kIHRvIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGhpc09iaiBUaGUgY29udGV4dCB0byBiaW5kIGBmbmAgdG9cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0aGF0IHdpbGwgZXhlY3V0ZSBpbiB0aGUgY29udGV4dCBvZiBgdGhpc09iamAuXG4gICAgICovXG4gICAgdmFyIGJpbmQgPSBfY3VycnkyKGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNPYmopIHtcbiAgICAgICAgcmV0dXJuIF9hcml0eShmbi5sZW5ndGgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzT2JqLCBhcmd1bWVudHMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgY29tcGFyYXRvciBmdW5jdGlvbiBvdXQgb2YgYSBmdW5jdGlvbiB0aGF0IHJlcG9ydHMgd2hldGhlciB0aGUgZmlyc3QgZWxlbWVudCBpcyBsZXNzIHRoYW4gdGhlIHNlY29uZC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNpZyAoYSwgYiAtPiBCb29sZWFuKSAtPiAoYSwgYiAtPiBOdW1iZXIpXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZCBBIHByZWRpY2F0ZSBmdW5jdGlvbiBvZiBhcml0eSB0d28uXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IEEgRnVuY3Rpb24gOjogYSAtPiBiIC0+IEludCB0aGF0IHJldHVybnMgYC0xYCBpZiBhIDwgYiwgYDFgIGlmIGIgPCBhLCBvdGhlcndpc2UgYDBgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBjbXAgPSBSLmNvbXBhcmF0b3IoKGEsIGIpID0+IGEuYWdlIDwgYi5hZ2UpO1xuICAgICAqICAgICAgdmFyIHBlb3BsZSA9IFtcbiAgICAgKiAgICAgICAgLy8gLi4uXG4gICAgICogICAgICBdO1xuICAgICAqICAgICAgUi5zb3J0KGNtcCwgcGVvcGxlKTtcbiAgICAgKi9cbiAgICB2YXIgY29tcGFyYXRvciA9IF9jdXJyeTEoZnVuY3Rpb24gY29tcGFyYXRvcihwcmVkKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIHByZWQoYSwgYikgPyAtMSA6IHByZWQoYiwgYSkgPyAxIDogMDtcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiwgYGZuYCwgd2hpY2ggZW5jYXBzdWxhdGVzIGlmL2Vsc2UtaWYvZWxzZSBsb2dpYy5cbiAgICAgKiBgUi5jb25kYCB0YWtlcyBhIGxpc3Qgb2YgW3ByZWRpY2F0ZSwgdHJhbnNmb3JtXSBwYWlycy4gQWxsIG9mIHRoZVxuICAgICAqIGFyZ3VtZW50cyB0byBgZm5gIGFyZSBhcHBsaWVkIHRvIGVhY2ggb2YgdGhlIHByZWRpY2F0ZXMgaW4gdHVyblxuICAgICAqIHVudGlsIG9uZSByZXR1cm5zIGEgXCJ0cnV0aHlcIiB2YWx1ZSwgYXQgd2hpY2ggcG9pbnQgYGZuYCByZXR1cm5zIHRoZVxuICAgICAqIHJlc3VsdCBvZiBhcHBseWluZyBpdHMgYXJndW1lbnRzIHRvIHRoZSBjb3JyZXNwb25kaW5nIHRyYW5zZm9ybWVyLlxuICAgICAqIElmIG5vbmUgb2YgdGhlIHByZWRpY2F0ZXMgbWF0Y2hlcywgYGZuYCByZXR1cm5zIHVuZGVmaW5lZC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuNi4wXG4gICAgICogQGNhdGVnb3J5IExvZ2ljXG4gICAgICogQHNpZyBbWygqLi4uIC0+IEJvb2xlYW4pLCgqLi4uIC0+ICopXV0gLT4gKCouLi4gLT4gKilcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyc1xuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBmbiA9IFIuY29uZChbXG4gICAgICogICAgICAgIFtSLmVxdWFscygwKSwgICBSLmFsd2F5cygnd2F0ZXIgZnJlZXplcyBhdCAwwrBDJyldLFxuICAgICAqICAgICAgICBbUi5lcXVhbHMoMTAwKSwgUi5hbHdheXMoJ3dhdGVyIGJvaWxzIGF0IDEwMMKwQycpXSxcbiAgICAgKiAgICAgICAgW1IuVCwgICAgICAgICAgIHRlbXAgPT4gJ25vdGhpbmcgc3BlY2lhbCBoYXBwZW5zIGF0ICcgKyB0ZW1wICsgJ8KwQyddXG4gICAgICogICAgICBdKTtcbiAgICAgKiAgICAgIGZuKDApOyAvLz0+ICd3YXRlciBmcmVlemVzIGF0IDDCsEMnXG4gICAgICogICAgICBmbig1MCk7IC8vPT4gJ25vdGhpbmcgc3BlY2lhbCBoYXBwZW5zIGF0IDUwwrBDJ1xuICAgICAqICAgICAgZm4oMTAwKTsgLy89PiAnd2F0ZXIgYm9pbHMgYXQgMTAwwrBDJ1xuICAgICAqL1xuICAgIHZhciBjb25kID0gX2N1cnJ5MShmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpZHggPCBwYWlycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFpcnNbaWR4XVswXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWlyc1tpZHhdWzFdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB4YCBpcyBmb3VuZCBpbiB0aGUgYGxpc3RgLCB1c2luZyBgcHJlZGAgYXMgYW5cbiAgICAgKiBlcXVhbGl0eSBwcmVkaWNhdGUgZm9yIGB4YC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS41XG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhLCBhIC0+IEJvb2xlYW4pIC0+IGEgLT4gW2FdIC0+IEJvb2xlYW5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkIEEgcHJlZGljYXRlIHVzZWQgdG8gdGVzdCB3aGV0aGVyIHR3byBpdGVtcyBhcmUgZXF1YWwuXG4gICAgICogQHBhcmFtIHsqfSB4IFRoZSBpdGVtIHRvIGZpbmRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBsaXN0IHRvIGl0ZXJhdGUgb3ZlclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBgeGAgaXMgaW4gYGxpc3RgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdjAuMTguMFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBhYnNFcSA9IChhLCBiKSA9PiBNYXRoLmFicyhhKSA9PT0gTWF0aC5hYnMoYik7XG4gICAgICogICAgICBSLmNvbnRhaW5zV2l0aChhYnNFcSwgNSwgWzEsIDIsIDNdKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5jb250YWluc1dpdGgoYWJzRXEsIDUsIFs0LCA1LCA2XSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5jb250YWluc1dpdGgoYWJzRXEsIDUsIFstMSwgLTIsIC0zXSk7IC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIFIuY29udGFpbnNXaXRoKGFic0VxLCA1LCBbLTQsIC01LCAtNl0pOyAvLz0+IHRydWVcbiAgICAgKi9cbiAgICB2YXIgY29udGFpbnNXaXRoID0gX2N1cnJ5MyhfY29udGFpbnNXaXRoKTtcblxuICAgIC8qKlxuICAgICAqIENvdW50cyB0aGUgZWxlbWVudHMgb2YgYSBsaXN0IGFjY29yZGluZyB0byBob3cgbWFueSBtYXRjaCBlYWNoIHZhbHVlXG4gICAgICogb2YgYSBrZXkgZ2VuZXJhdGVkIGJ5IHRoZSBzdXBwbGllZCBmdW5jdGlvbi4gUmV0dXJucyBhbiBvYmplY3RcbiAgICAgKiBtYXBwaW5nIHRoZSBrZXlzIHByb2R1Y2VkIGJ5IGBmbmAgdG8gdGhlIG51bWJlciBvZiBvY2N1cnJlbmNlcyBpblxuICAgICAqIHRoZSBsaXN0LiBOb3RlIHRoYXQgYWxsIGtleXMgYXJlIGNvZXJjZWQgdG8gc3RyaW5ncyBiZWNhdXNlIG9mIGhvd1xuICAgICAqIEphdmFTY3JpcHQgb2JqZWN0cyB3b3JrLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgUmVsYXRpb25cbiAgICAgKiBAc2lnIChhIC0+IFN0cmluZykgLT4gW2FdIC0+IHsqfVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB1c2VkIHRvIG1hcCB2YWx1ZXMgdG8ga2V5cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBsaXN0IHRvIGNvdW50IGVsZW1lbnRzIGZyb20uXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBbiBvYmplY3QgbWFwcGluZyBrZXlzIHRvIG51bWJlciBvZiBvY2N1cnJlbmNlcyBpbiB0aGUgbGlzdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbnVtYmVycyA9IFsxLjAsIDEuMSwgMS4yLCAyLjAsIDMuMCwgMi4yXTtcbiAgICAgKiAgICAgIHZhciBsZXR0ZXJzID0gUi5zcGxpdCgnJywgJ2FiY0FCQ2FhYUJCYycpO1xuICAgICAqICAgICAgUi5jb3VudEJ5KE1hdGguZmxvb3IpKG51bWJlcnMpOyAgICAvLz0+IHsnMSc6IDMsICcyJzogMiwgJzMnOiAxfVxuICAgICAqICAgICAgUi5jb3VudEJ5KFIudG9Mb3dlcikobGV0dGVycyk7ICAgLy89PiB7J2EnOiA1LCAnYic6IDQsICdjJzogM31cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IF9jdXJyeTIoZnVuY3Rpb24gY291bnRCeShmbiwgbGlzdCkge1xuICAgICAgICB2YXIgY291bnRzID0ge307XG4gICAgICAgIHZhciBsZW4gPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBmbihsaXN0W2lkeF0pO1xuICAgICAgICAgICAgY291bnRzW2tleV0gPSAoX2hhcyhrZXksIGNvdW50cykgPyBjb3VudHNba2V5XSA6IDApICsgMTtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudHM7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY3VycmllZCBlcXVpdmFsZW50IG9mIHRoZSBwcm92aWRlZCBmdW5jdGlvbiwgd2l0aCB0aGVcbiAgICAgKiBzcGVjaWZpZWQgYXJpdHkuIFRoZSBjdXJyaWVkIGZ1bmN0aW9uIGhhcyB0d28gdW51c3VhbCBjYXBhYmlsaXRpZXMuXG4gICAgICogRmlyc3QsIGl0cyBhcmd1bWVudHMgbmVlZG4ndCBiZSBwcm92aWRlZCBvbmUgYXQgYSB0aW1lLiBJZiBgZ2AgaXNcbiAgICAgKiBgUi5jdXJyeU4oMywgZilgLCB0aGUgZm9sbG93aW5nIGFyZSBlcXVpdmFsZW50OlxuICAgICAqXG4gICAgICogICAtIGBnKDEpKDIpKDMpYFxuICAgICAqICAgLSBgZygxKSgyLCAzKWBcbiAgICAgKiAgIC0gYGcoMSwgMikoMylgXG4gICAgICogICAtIGBnKDEsIDIsIDMpYFxuICAgICAqXG4gICAgICogU2Vjb25kbHksIHRoZSBzcGVjaWFsIHBsYWNlaG9sZGVyIHZhbHVlIGBSLl9fYCBtYXkgYmUgdXNlZCB0byBzcGVjaWZ5XG4gICAgICogXCJnYXBzXCIsIGFsbG93aW5nIHBhcnRpYWwgYXBwbGljYXRpb24gb2YgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyxcbiAgICAgKiByZWdhcmRsZXNzIG9mIHRoZWlyIHBvc2l0aW9ucy4gSWYgYGdgIGlzIGFzIGFib3ZlIGFuZCBgX2AgaXMgYFIuX19gLFxuICAgICAqIHRoZSBmb2xsb3dpbmcgYXJlIGVxdWl2YWxlbnQ6XG4gICAgICpcbiAgICAgKiAgIC0gYGcoMSwgMiwgMylgXG4gICAgICogICAtIGBnKF8sIDIsIDMpKDEpYFxuICAgICAqICAgLSBgZyhfLCBfLCAzKSgxKSgyKWBcbiAgICAgKiAgIC0gYGcoXywgXywgMykoMSwgMilgXG4gICAgICogICAtIGBnKF8sIDIpKDEpKDMpYFxuICAgICAqICAgLSBgZyhfLCAyKSgxLCAzKWBcbiAgICAgKiAgIC0gYGcoXywgMikoXywgMykoMSlgXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgTnVtYmVyIC0+ICgqIC0+IGEpIC0+ICgqIC0+IGEpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgYXJpdHkgZm9yIHRoZSByZXR1cm5lZCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IEEgbmV3LCBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgUi5jdXJyeVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBzdW1BcmdzID0gKC4uLmFyZ3MpID0+IFIuc3VtKGFyZ3MpO1xuICAgICAqXG4gICAgICogICAgICB2YXIgY3VycmllZEFkZEZvdXJOdW1iZXJzID0gUi5jdXJyeU4oNCwgc3VtQXJncyk7XG4gICAgICogICAgICB2YXIgZiA9IGN1cnJpZWRBZGRGb3VyTnVtYmVycygxLCAyKTtcbiAgICAgKiAgICAgIHZhciBnID0gZigzKTtcbiAgICAgKiAgICAgIGcoNCk7IC8vPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgY3VycnlOID0gX2N1cnJ5MihmdW5jdGlvbiBjdXJyeU4obGVuZ3RoLCBmbikge1xuICAgICAgICBpZiAobGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gX2N1cnJ5MShmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9hcml0eShsZW5ndGgsIF9jdXJyeU4obGVuZ3RoLCBbXSwgZm4pKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIERlY3JlbWVudHMgaXRzIGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBzaWcgTnVtYmVyIC0+IE51bWJlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqIEBzZWUgUi5pbmNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLmRlYyg0Mik7IC8vPT4gNDFcbiAgICAgKi9cbiAgICB2YXIgZGVjID0gYWRkKC0xKTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNlY29uZCBhcmd1bWVudCBpZiBpdCBpcyBub3QgYG51bGxgLCBgdW5kZWZpbmVkYCBvciBgTmFOYFxuICAgICAqIG90aGVyd2lzZSB0aGUgZmlyc3QgYXJndW1lbnQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTG9naWNcbiAgICAgKiBAc2lnIGEgLT4gYiAtPiBhIHwgYlxuICAgICAqIEBwYXJhbSB7YX0gdmFsIFRoZSBkZWZhdWx0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Yn0gdmFsIFRoZSB2YWx1ZSB0byByZXR1cm4gaWYgaXQgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICogQHJldHVybiB7Kn0gVGhlIHRoZSBzZWNvbmQgdmFsdWUgb3IgdGhlIGRlZmF1bHQgdmFsdWVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgZGVmYXVsdFRvNDIgPSBSLmRlZmF1bHRUbyg0Mik7XG4gICAgICpcbiAgICAgKiAgICAgIGRlZmF1bHRUbzQyKG51bGwpOyAgLy89PiA0MlxuICAgICAqICAgICAgZGVmYXVsdFRvNDIodW5kZWZpbmVkKTsgIC8vPT4gNDJcbiAgICAgKiAgICAgIGRlZmF1bHRUbzQyKCdSYW1kYScpOyAgLy89PiAnUmFtZGEnXG4gICAgICogICAgICBkZWZhdWx0VG80MihwYXJzZUludCgnc3RyaW5nJykpOyAvLz0+IDQyXG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRUbyA9IF9jdXJyeTIoZnVuY3Rpb24gZGVmYXVsdFRvKGQsIHYpIHtcbiAgICAgICAgcmV0dXJuIHYgPT0gbnVsbCB8fCB2ICE9PSB2ID8gZCA6IHY7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgc2V0IChpLmUuIG5vIGR1cGxpY2F0ZXMpIG9mIGFsbCBlbGVtZW50cyBpbiB0aGUgZmlyc3QgbGlzdCBub3QgY29udGFpbmVkIGluIHRoZSBzZWNvbmQgbGlzdC5cbiAgICAgKiBEdXBsaWNhdGlvbiBpcyBkZXRlcm1pbmVkIGFjY29yZGluZyB0byB0aGUgdmFsdWUgcmV0dXJuZWQgYnkgYXBwbHlpbmcgdGhlIHN1cHBsaWVkIHByZWRpY2F0ZSB0byB0d28gbGlzdFxuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgUmVsYXRpb25cbiAgICAgKiBAc2lnIChhLGEgLT4gQm9vbGVhbikgLT4gW2FdIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkIEEgcHJlZGljYXRlIHVzZWQgdG8gdGVzdCB3aGV0aGVyIHR3byBpdGVtcyBhcmUgZXF1YWwuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdDEgVGhlIGZpcnN0IGxpc3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdDIgVGhlIHNlY29uZCBsaXN0LlxuICAgICAqIEBzZWUgUi5kaWZmZXJlbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBlbGVtZW50cyBpbiBgbGlzdDFgIHRoYXQgYXJlIG5vdCBpbiBgbGlzdDJgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIGZ1bmN0aW9uIGNtcCh4LCB5KSA9PiB4LmEgPT09IHkuYTtcbiAgICAgKiAgICAgIHZhciBsMSA9IFt7YTogMX0sIHthOiAyfSwge2E6IDN9XTtcbiAgICAgKiAgICAgIHZhciBsMiA9IFt7YTogM30sIHthOiA0fV07XG4gICAgICogICAgICBSLmRpZmZlcmVuY2VXaXRoKGNtcCwgbDEsIGwyKTsgLy89PiBbe2E6IDF9LCB7YTogMn1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gX2N1cnJ5MyhmdW5jdGlvbiBkaWZmZXJlbmNlV2l0aChwcmVkLCBmaXJzdCwgc2Vjb25kKSB7XG4gICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHZhciBmaXJzdExlbiA9IGZpcnN0Lmxlbmd0aDtcbiAgICAgICAgdmFyIGNvbnRhaW5zUHJlZCA9IGNvbnRhaW5zV2l0aChwcmVkKTtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGZpcnN0TGVuKSB7XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5zUHJlZChmaXJzdFtpZHhdLCBzZWNvbmQpICYmICFjb250YWluc1ByZWQoZmlyc3RbaWR4XSwgb3V0KSkge1xuICAgICAgICAgICAgICAgIG91dFtvdXQubGVuZ3RoXSA9IGZpcnN0W2lkeF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBvYmplY3QgdGhhdCBkb2VzIG5vdCBjb250YWluIGEgYHByb3BgIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBzaWcgU3RyaW5nIC0+IHtrOiB2fSAtPiB7azogdn1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcCB0aGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZGlzc29jaWF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogdGhlIG9iamVjdCB0byBjbG9uZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gYSBuZXcgb2JqZWN0IHNpbWlsYXIgdG8gdGhlIG9yaWdpbmFsIGJ1dCB3aXRob3V0IHRoZSBzcGVjaWZpZWQgcHJvcGVydHlcbiAgICAgKiBAc2VlIFIuYXNzb2NcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLmRpc3NvYygnYicsIHthOiAxLCBiOiAyLCBjOiAzfSk7IC8vPT4ge2E6IDEsIGM6IDN9XG4gICAgICovXG4gICAgdmFyIGRpc3NvYyA9IF9jdXJyeTIoZnVuY3Rpb24gZGlzc29jKHByb3AsIG9iaikge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgIGZvciAodmFyIHAgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAocCAhPT0gcHJvcCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtwXSA9IG9ialtwXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBzaGFsbG93IGNsb25lIG9mIGFuIG9iamVjdCwgb21pdHRpbmcgdGhlIHByb3BlcnR5IGF0IHRoZVxuICAgICAqIGdpdmVuIHBhdGguIE5vdGUgdGhhdCB0aGlzIGNvcGllcyBhbmQgZmxhdHRlbnMgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgKiBvbnRvIHRoZSBuZXcgb2JqZWN0IGFzIHdlbGwuICBBbGwgbm9uLXByaW1pdGl2ZSBwcm9wZXJ0aWVzIGFyZSBjb3BpZWRcbiAgICAgKiBieSByZWZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyBbU3RyaW5nXSAtPiB7azogdn0gLT4ge2s6IHZ9XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCB0aGUgcGF0aCB0byBzZXRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIHRoZSBvYmplY3QgdG8gY2xvbmVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGEgbmV3IG9iamVjdCB3aXRob3V0IHRoZSBwcm9wZXJ0eSBhdCBwYXRoXG4gICAgICogQHNlZSBSLmFzc29jUGF0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuZGlzc29jUGF0aChbJ2EnLCAnYicsICdjJ10sIHthOiB7Yjoge2M6IDQyfX19KTsgLy89PiB7YToge2I6IHt9fX1cbiAgICAgKi9cbiAgICB2YXIgZGlzc29jUGF0aCA9IF9jdXJyeTIoZnVuY3Rpb24gZGlzc29jUGF0aChwYXRoLCBvYmopIHtcbiAgICAgICAgc3dpdGNoIChwYXRoLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gZGlzc29jKHBhdGhbMF0sIG9iaik7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgaGVhZCA9IHBhdGhbMF07XG4gICAgICAgICAgICB2YXIgdGFpbCA9IF9zbGljZShwYXRoLCAxKTtcbiAgICAgICAgICAgIHJldHVybiBvYmpbaGVhZF0gPT0gbnVsbCA/IG9iaiA6IGFzc29jKGhlYWQsIGRpc3NvY1BhdGgodGFpbCwgb2JqW2hlYWRdKSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0d28gbnVtYmVycy4gRXF1aXZhbGVudCB0byBgYSAvIGJgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBzaWcgTnVtYmVyIC0+IE51bWJlciAtPiBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgdmFsdWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSByZXN1bHQgb2YgYGEgLyBiYC5cbiAgICAgKiBAc2VlIFIubXVsdGlwbHlcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLmRpdmlkZSg3MSwgMTAwKTsgLy89PiAwLjcxXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBoYWxmID0gUi5kaXZpZGUoUi5fXywgMik7XG4gICAgICogICAgICBoYWxmKDQyKTsgLy89PiAyMVxuICAgICAqXG4gICAgICogICAgICB2YXIgcmVjaXByb2NhbCA9IFIuZGl2aWRlKDEpO1xuICAgICAqICAgICAgcmVjaXByb2NhbCg0KTsgICAvLz0+IDAuMjVcbiAgICAgKi9cbiAgICB2YXIgZGl2aWRlID0gX2N1cnJ5MihmdW5jdGlvbiBkaXZpZGUoYSwgYikge1xuICAgICAgICByZXR1cm4gYSAvIGI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGxpc3QgY29udGFpbmluZyBhbGwgYnV0IGxhc3QgdGhlYG5gIGVsZW1lbnRzIG9mIGEgZ2l2ZW4gbGlzdCxcbiAgICAgKiBwYXNzaW5nIGVhY2ggdmFsdWUgZnJvbSB0aGUgcmlnaHQgdG8gdGhlIHN1cHBsaWVkIHByZWRpY2F0ZSBmdW5jdGlvbiwgc2tpcHBpbmdcbiAgICAgKiBlbGVtZW50cyB3aGlsZSB0aGUgcHJlZGljYXRlIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgLiBUaGUgcHJlZGljYXRlIGZ1bmN0aW9uXG4gICAgICogaXMgcGFzc2VkIG9uZSBhcmd1bWVudDogKHZhbHVlKSouXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE2LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEgLT4gQm9vbGVhbikgLT4gW2FdIC0+IFthXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQSBuZXcgYXJyYXkuXG4gICAgICogQHNlZSBSLnRha2VMYXN0V2hpbGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbHRlVGhyZWUgPSB4ID0+IHggPD0gMztcbiAgICAgKlxuICAgICAqICAgICAgUi5kcm9wTGFzdFdoaWxlKGx0ZVRocmVlLCBbMSwgMiwgMywgNCwgMywgMiwgMV0pOyAvLz0+IFsxLCAyLCAzLCA0XVxuICAgICAqL1xuICAgIHZhciBkcm9wTGFzdFdoaWxlID0gX2N1cnJ5MihmdW5jdGlvbiBkcm9wTGFzdFdoaWxlKHByZWQsIGxpc3QpIHtcbiAgICAgICAgdmFyIGlkeCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKGlkeCA+PSAwICYmIHByZWQobGlzdFtpZHhdKSkge1xuICAgICAgICAgICAgaWR4IC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zbGljZShsaXN0LCAwLCBpZHggKyAxKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGVtcHR5IHZhbHVlIG9mIGl0cyBhcmd1bWVudCdzIHR5cGUuIFJhbWRhIGRlZmluZXMgdGhlIGVtcHR5XG4gICAgICogdmFsdWUgb2YgQXJyYXkgKGBbXWApLCBPYmplY3QgKGB7fWApLCBTdHJpbmcgKGAnJ2ApLCBhbmQgQXJndW1lbnRzLlxuICAgICAqIE90aGVyIHR5cGVzIGFyZSBzdXBwb3J0ZWQgaWYgdGhleSBkZWZpbmUgYDxUeXBlPi5lbXB0eWAgYW5kL29yXG4gICAgICogYDxUeXBlPi5wcm90b3R5cGUuZW1wdHlgLlxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGVtcHR5YCBtZXRob2Qgb2YgdGhlIGZpcnN0IGFyZ3VtZW50LCBpZiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnIGEgLT4gYVxuICAgICAqIEBwYXJhbSB7Kn0geFxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5lbXB0eShKdXN0KDQyKSk7ICAgICAgLy89PiBOb3RoaW5nKClcbiAgICAgKiAgICAgIFIuZW1wdHkoWzEsIDIsIDNdKTsgICAgIC8vPT4gW11cbiAgICAgKiAgICAgIFIuZW1wdHkoJ3VuaWNvcm5zJyk7ICAgIC8vPT4gJydcbiAgICAgKiAgICAgIFIuZW1wdHkoe3g6IDEsIHk6IDJ9KTsgIC8vPT4ge31cbiAgICAgKi9cbiAgICAvLyBlbHNlXG4gICAgdmFyIGVtcHR5ID0gX2N1cnJ5MShmdW5jdGlvbiBlbXB0eSh4KSB7XG4gICAgICAgIHJldHVybiB4ICE9IG51bGwgJiYgdHlwZW9mIHguZW1wdHkgPT09ICdmdW5jdGlvbicgPyB4LmVtcHR5KCkgOiB4ICE9IG51bGwgJiYgeC5jb25zdHJ1Y3RvciAhPSBudWxsICYmIHR5cGVvZiB4LmNvbnN0cnVjdG9yLmVtcHR5ID09PSAnZnVuY3Rpb24nID8geC5jb25zdHJ1Y3Rvci5lbXB0eSgpIDogX2lzQXJyYXkoeCkgPyBbXSA6IF9pc1N0cmluZyh4KSA/ICcnIDogX2lzT2JqZWN0KHgpID8ge30gOiBfaXNBcmd1bWVudHMoeCkgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzO1xuICAgICAgICB9KCkgOiAvLyBlbHNlXG4gICAgICAgIHZvaWQgMDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IGJ5IHJlY3Vyc2l2ZWx5IGV2b2x2aW5nIGEgc2hhbGxvdyBjb3B5IG9mIGBvYmplY3RgLCBhY2NvcmRpbmcgdG8gdGhlXG4gICAgICogYHRyYW5zZm9ybWF0aW9uYCBmdW5jdGlvbnMuIEFsbCBub24tcHJpbWl0aXZlIHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSByZWZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBBIGB0cmFuc2Zvcm1hdGlvbmAgZnVuY3Rpb24gd2lsbCBub3QgYmUgaW52b2tlZCBpZiBpdHMgY29ycmVzcG9uZGluZyBrZXkgZG9lcyBub3QgZXhpc3QgaW5cbiAgICAgKiB0aGUgZXZvbHZlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjkuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIHtrOiAodiAtPiB2KX0gLT4ge2s6IHZ9IC0+IHtrOiB2fVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm1hdGlvbnMgVGhlIG9iamVjdCBzcGVjaWZ5aW5nIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyB0byBhcHBseVxuICAgICAqICAgICAgICB0byB0aGUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiZSB0cmFuc2Zvcm1lZC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSB0cmFuc2Zvcm1lZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHRvbWF0byAgPSB7Zmlyc3ROYW1lOiAnICBUb21hdG8gJywgZGF0YToge2VsYXBzZWQ6IDEwMCwgcmVtYWluaW5nOiAxNDAwfSwgaWQ6MTIzfTtcbiAgICAgKiAgICAgIHZhciB0cmFuc2Zvcm1hdGlvbnMgPSB7XG4gICAgICogICAgICAgIGZpcnN0TmFtZTogUi50cmltLFxuICAgICAqICAgICAgICBsYXN0TmFtZTogUi50cmltLCAvLyBXaWxsIG5vdCBnZXQgaW52b2tlZC5cbiAgICAgKiAgICAgICAgZGF0YToge2VsYXBzZWQ6IFIuYWRkKDEpLCByZW1haW5pbmc6IFIuYWRkKC0xKX1cbiAgICAgKiAgICAgIH07XG4gICAgICogICAgICBSLmV2b2x2ZSh0cmFuc2Zvcm1hdGlvbnMsIHRvbWF0byk7IC8vPT4ge2ZpcnN0TmFtZTogJ1RvbWF0bycsIGRhdGE6IHtlbGFwc2VkOiAxMDEsIHJlbWFpbmluZzogMTM5OX0sIGlkOjEyM31cbiAgICAgKi9cbiAgICB2YXIgZXZvbHZlID0gX2N1cnJ5MihmdW5jdGlvbiBldm9sdmUodHJhbnNmb3JtYXRpb25zLCBvYmplY3QpIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybWF0aW9uLCBrZXksIHR5cGUsIHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWF0aW9uID0gdHJhbnNmb3JtYXRpb25zW2tleV07XG4gICAgICAgICAgICB0eXBlID0gdHlwZW9mIHRyYW5zZm9ybWF0aW9uO1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB0eXBlID09PSAnZnVuY3Rpb24nID8gdHJhbnNmb3JtYXRpb24ob2JqZWN0W2tleV0pIDogdHlwZSA9PT0gJ29iamVjdCcgPyBldm9sdmUodHJhbnNmb3JtYXRpb25zW2tleV0sIG9iamVjdFtrZXldKSA6IG9iamVjdFtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IG9iamVjdCBvdXQgb2YgYSBsaXN0IGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMy4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIFtbayx2XV0gLT4ge2s6IHZ9XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgQW4gYXJyYXkgb2YgdHdvLWVsZW1lbnQgYXJyYXlzIHRoYXQgd2lsbCBiZSB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIHRoZSBvdXRwdXQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG9iamVjdCBtYWRlIGJ5IHBhaXJpbmcgdXAgYGtleXNgIGFuZCBgdmFsdWVzYC5cbiAgICAgKiBAc2VlIFIudG9QYWlycywgUi5wYWlyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXSwgIFsnYycsIDNdXSk7IC8vPT4ge2E6IDEsIGI6IDIsIGM6IDN9XG4gICAgICovXG4gICAgdmFyIGZyb21QYWlycyA9IF9jdXJyeTEoZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICAgIHZhciBpZHggPSAwLCBsZW4gPSBwYWlycy5sZW5ndGgsIG91dCA9IHt9O1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoX2lzQXJyYXkocGFpcnNbaWR4XSkgJiYgcGFpcnNbaWR4XS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvdXRbcGFpcnNbaWR4XVswXV0gPSBwYWlyc1tpZHhdWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBncmVhdGVyIHRoYW4gdGhlIHNlY29uZDtcbiAgICAgKiBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IFJlbGF0aW9uXG4gICAgICogQHNpZyBPcmQgYSA9PiBhIC0+IGEgLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7Kn0gYVxuICAgICAqIEBwYXJhbSB7Kn0gYlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICogQHNlZSBSLmx0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5ndCgyLCAxKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLmd0KDIsIDIpOyAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLmd0KDIsIDMpOyAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLmd0KCdhJywgJ3onKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5ndCgneicsICdhJyk7IC8vPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBndCA9IF9jdXJyeTIoZnVuY3Rpb24gZ3QoYSwgYikge1xuICAgICAgICByZXR1cm4gYSA+IGI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzZWNvbmQ7XG4gICAgICogYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBSZWxhdGlvblxuICAgICAqIEBzaWcgT3JkIGEgPT4gYSAtPiBhIC0+IEJvb2xlYW5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKiBAc2VlIFIubHRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5ndGUoMiwgMSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5ndGUoMiwgMik7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5ndGUoMiwgMyk7IC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIFIuZ3RlKCdhJywgJ3onKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5ndGUoJ3onLCAnYScpOyAvLz0+IHRydWVcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gX2N1cnJ5MihmdW5jdGlvbiBndGUoYSwgYikge1xuICAgICAgICByZXR1cm4gYSA+PSBiO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbiBvYmplY3QgaGFzIGFuIG93biBwcm9wZXJ0eSB3aXRoXG4gICAgICogdGhlIHNwZWNpZmllZCBuYW1lXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIHMgLT4ge3M6IHh9IC0+IEJvb2xlYW5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcCBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gY2hlY2sgZm9yLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBleGlzdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGhhc05hbWUgPSBSLmhhcygnbmFtZScpO1xuICAgICAqICAgICAgaGFzTmFtZSh7bmFtZTogJ2FsaWNlJ30pOyAgIC8vPT4gdHJ1ZVxuICAgICAqICAgICAgaGFzTmFtZSh7bmFtZTogJ2JvYid9KTsgICAgIC8vPT4gdHJ1ZVxuICAgICAqICAgICAgaGFzTmFtZSh7fSk7ICAgICAgICAgICAgICAgIC8vPT4gZmFsc2VcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHBvaW50ID0ge3g6IDAsIHk6IDB9O1xuICAgICAqICAgICAgdmFyIHBvaW50SGFzID0gUi5oYXMoUi5fXywgcG9pbnQpO1xuICAgICAqICAgICAgcG9pbnRIYXMoJ3gnKTsgIC8vPT4gdHJ1ZVxuICAgICAqICAgICAgcG9pbnRIYXMoJ3knKTsgIC8vPT4gdHJ1ZVxuICAgICAqICAgICAgcG9pbnRIYXMoJ3onKTsgIC8vPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaGFzID0gX2N1cnJ5MihfaGFzKTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciBvciBub3QgYW4gb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW4gaGFzXG4gICAgICogYSBwcm9wZXJ0eSB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZVxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyBzIC0+IHtzOiB4fSAtPiBCb29sZWFuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3AgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGNoZWNrIGZvci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gV2hldGhlciB0aGUgcHJvcGVydHkgZXhpc3RzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIGZ1bmN0aW9uIFJlY3RhbmdsZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICogICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgKiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICogICAgICB9XG4gICAgICogICAgICBSZWN0YW5nbGUucHJvdG90eXBlLmFyZWEgPSBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiB0aGlzLmhlaWdodDtcbiAgICAgKiAgICAgIH07XG4gICAgICpcbiAgICAgKiAgICAgIHZhciBzcXVhcmUgPSBuZXcgUmVjdGFuZ2xlKDIsIDIpO1xuICAgICAqICAgICAgUi5oYXNJbignd2lkdGgnLCBzcXVhcmUpOyAgLy89PiB0cnVlXG4gICAgICogICAgICBSLmhhc0luKCdhcmVhJywgc3F1YXJlKTsgIC8vPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBoYXNJbiA9IF9jdXJyeTIoZnVuY3Rpb24gaGFzSW4ocHJvcCwgb2JqKSB7XG4gICAgICAgIHJldHVybiBwcm9wIGluIG9iajtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBpdHMgYXJndW1lbnRzIGFyZSBpZGVudGljYWwsIGZhbHNlIG90aGVyd2lzZS4gVmFsdWVzIGFyZVxuICAgICAqIGlkZW50aWNhbCBpZiB0aGV5IHJlZmVyZW5jZSB0aGUgc2FtZSBtZW1vcnkuIGBOYU5gIGlzIGlkZW50aWNhbCB0byBgTmFOYDtcbiAgICAgKiBgMGAgYW5kIGAtMGAgYXJlIG5vdCBpZGVudGljYWwuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE1LjBcbiAgICAgKiBAY2F0ZWdvcnkgUmVsYXRpb25cbiAgICAgKiBAc2lnIGEgLT4gYSAtPiBCb29sZWFuXG4gICAgICogQHBhcmFtIHsqfSBhXG4gICAgICogQHBhcmFtIHsqfSBiXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbyA9IHt9O1xuICAgICAqICAgICAgUi5pZGVudGljYWwobywgbyk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5pZGVudGljYWwoMSwgMSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5pZGVudGljYWwoMSwgJzEnKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5pZGVudGljYWwoW10sIFtdKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5pZGVudGljYWwoMCwgLTApOyAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLmlkZW50aWNhbChOYU4sIE5hTik7IC8vPT4gdHJ1ZVxuICAgICAqL1xuICAgIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cbiAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgdmFyIGlkZW50aWNhbCA9IF9jdXJyeTIoZnVuY3Rpb24gaWRlbnRpY2FsKGEsIGIpIHtcbiAgICAgICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICAgICAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICAgICAgLy8gU3RlcHMgMS01LCA3LTEwXG4gICAgICAgICAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuICAgICAgICAgICAgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT09IDEgLyBiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICAgICAgICAgIHJldHVybiBhICE9PSBhICYmIGIgIT09IGI7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCBkb2VzIG5vdGhpbmcgYnV0IHJldHVybiB0aGUgcGFyYW1ldGVyIHN1cHBsaWVkIHRvIGl0LiBHb29kIGFzIGEgZGVmYXVsdFxuICAgICAqIG9yIHBsYWNlaG9sZGVyIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnIGEgLT4gYVxuICAgICAqIEBwYXJhbSB7Kn0geCBUaGUgdmFsdWUgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm4geyp9IFRoZSBpbnB1dCB2YWx1ZSwgYHhgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuaWRlbnRpdHkoMSk7IC8vPT4gMVxuICAgICAqXG4gICAgICogICAgICB2YXIgb2JqID0ge307XG4gICAgICogICAgICBSLmlkZW50aXR5KG9iaikgPT09IG9iajsgLy89PiB0cnVlXG4gICAgICovXG4gICAgdmFyIGlkZW50aXR5ID0gX2N1cnJ5MShfaWRlbnRpdHkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBwcm9jZXNzIGVpdGhlciB0aGUgYG9uVHJ1ZWAgb3IgdGhlIGBvbkZhbHNlYCBmdW5jdGlvbiBkZXBlbmRpbmdcbiAgICAgKiB1cG9uIHRoZSByZXN1bHQgb2YgdGhlIGBjb25kaXRpb25gIHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuOC4wXG4gICAgICogQGNhdGVnb3J5IExvZ2ljXG4gICAgICogQHNlZSBSLnVubGVzcywgUi53aGVuXG4gICAgICogQHNpZyAoKi4uLiAtPiBCb29sZWFuKSAtPiAoKi4uLiAtPiAqKSAtPiAoKi4uLiAtPiAqKSAtPiAoKi4uLiAtPiAqKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmRpdGlvbiBBIHByZWRpY2F0ZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uVHJ1ZSBBIGZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHRoZSBgY29uZGl0aW9uYCBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25GYWxzZSBBIGZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHRoZSBgY29uZGl0aW9uYCBldmFsdWF0ZXMgdG8gYSBmYWxzeSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBuZXcgdW5hcnkgZnVuY3Rpb24gdGhhdCB3aWxsIHByb2Nlc3MgZWl0aGVyIHRoZSBgb25UcnVlYCBvciB0aGUgYG9uRmFsc2VgXG4gICAgICogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRlcGVuZGluZyB1cG9uIHRoZSByZXN1bHQgb2YgdGhlIGBjb25kaXRpb25gIHByZWRpY2F0ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgaW5jQ291bnQgPSBSLmlmRWxzZShcbiAgICAgKiAgICAgICAgUi5oYXMoJ2NvdW50JyksXG4gICAgICogICAgICAgIFIub3ZlcihSLmxlbnNQcm9wKCdjb3VudCcpLCBSLmluYyksXG4gICAgICogICAgICAgIFIuYXNzb2MoJ2NvdW50JywgMSlcbiAgICAgKiAgICAgICk7XG4gICAgICogICAgICBpbmNDb3VudCh7fSk7ICAgICAgICAgICAvLz0+IHsgY291bnQ6IDEgfVxuICAgICAqICAgICAgaW5jQ291bnQoeyBjb3VudDogMSB9KTsgLy89PiB7IGNvdW50OiAyIH1cbiAgICAgKi9cbiAgICB2YXIgaWZFbHNlID0gX2N1cnJ5MyhmdW5jdGlvbiBpZkVsc2UoY29uZGl0aW9uLCBvblRydWUsIG9uRmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJ5TihNYXRoLm1heChjb25kaXRpb24ubGVuZ3RoLCBvblRydWUubGVuZ3RoLCBvbkZhbHNlLmxlbmd0aCksIGZ1bmN0aW9uIF9pZkVsc2UoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uZGl0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgPyBvblRydWUuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IG9uRmFsc2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJbmNyZW1lbnRzIGl0cyBhcmd1bWVudC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuOS4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAc2lnIE51bWJlciAtPiBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gblxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKiBAc2VlIFIuZGVjXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5pbmMoNDIpOyAvLz0+IDQzXG4gICAgICovXG4gICAgdmFyIGluYyA9IGFkZCgxKTtcblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhlIHN1cHBsaWVkIGVsZW1lbnQgaW50byB0aGUgbGlzdCwgYXQgaW5kZXggYGluZGV4YC4gIF9Ob3RlXG4gICAgICogdGhhdCB0aGlzIGlzIG5vdCBkZXN0cnVjdGl2ZV86IGl0IHJldHVybnMgYSBjb3B5IG9mIHRoZSBsaXN0IHdpdGggdGhlIGNoYW5nZXMuXG4gICAgICogPHNtYWxsPk5vIGxpc3RzIGhhdmUgYmVlbiBoYXJtZWQgaW4gdGhlIGFwcGxpY2F0aW9uIG9mIHRoaXMgZnVuY3Rpb24uPC9zbWFsbD5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMi4yXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIE51bWJlciAtPiBhIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggVGhlIHBvc2l0aW9uIHRvIGluc2VydCB0aGUgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7Kn0gZWx0IFRoZSBlbGVtZW50IHRvIGluc2VydCBpbnRvIHRoZSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGxpc3QgdG8gaW5zZXJ0IGludG9cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQSBuZXcgQXJyYXkgd2l0aCBgZWx0YCBpbnNlcnRlZCBhdCBgaW5kZXhgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuaW5zZXJ0KDIsICd4JywgWzEsMiwzLDRdKTsgLy89PiBbMSwyLCd4JywzLDRdXG4gICAgICovXG4gICAgdmFyIGluc2VydCA9IF9jdXJyeTMoZnVuY3Rpb24gaW5zZXJ0KGlkeCwgZWx0LCBsaXN0KSB7XG4gICAgICAgIGlkeCA9IGlkeCA8IGxpc3QubGVuZ3RoICYmIGlkeCA+PSAwID8gaWR4IDogbGlzdC5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSBfc2xpY2UobGlzdCk7XG4gICAgICAgIHJlc3VsdC5zcGxpY2UoaWR4LCAwLCBlbHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGUgc3ViLWxpc3QgaW50byB0aGUgbGlzdCwgYXQgaW5kZXggYGluZGV4YC4gIF9Ob3RlICB0aGF0IHRoaXNcbiAgICAgKiBpcyBub3QgZGVzdHJ1Y3RpdmVfOiBpdCByZXR1cm5zIGEgY29weSBvZiB0aGUgbGlzdCB3aXRoIHRoZSBjaGFuZ2VzLlxuICAgICAqIDxzbWFsbD5ObyBsaXN0cyBoYXZlIGJlZW4gaGFybWVkIGluIHRoZSBhcHBsaWNhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uLjwvc21hbGw+XG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBOdW1iZXIgLT4gW2FdIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggVGhlIHBvc2l0aW9uIHRvIGluc2VydCB0aGUgc3ViLWxpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBlbHRzIFRoZSBzdWItbGlzdCB0byBpbnNlcnQgaW50byB0aGUgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBsaXN0IHRvIGluc2VydCB0aGUgc3ViLWxpc3QgaW50b1xuICAgICAqIEByZXR1cm4ge0FycmF5fSBBIG5ldyBBcnJheSB3aXRoIGBlbHRzYCBpbnNlcnRlZCBzdGFydGluZyBhdCBgaW5kZXhgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuaW5zZXJ0QWxsKDIsIFsneCcsJ3knLCd6J10sIFsxLDIsMyw0XSk7IC8vPT4gWzEsMiwneCcsJ3knLCd6JywzLDRdXG4gICAgICovXG4gICAgdmFyIGluc2VydEFsbCA9IF9jdXJyeTMoZnVuY3Rpb24gaW5zZXJ0QWxsKGlkeCwgZWx0cywgbGlzdCkge1xuICAgICAgICBpZHggPSBpZHggPCBsaXN0Lmxlbmd0aCAmJiBpZHggPj0gMCA/IGlkeCA6IGxpc3QubGVuZ3RoO1xuICAgICAgICByZXR1cm4gX2NvbmNhdChfY29uY2F0KF9zbGljZShsaXN0LCAwLCBpZHgpLCBlbHRzKSwgX3NsaWNlKGxpc3QsIGlkeCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogU2VlIGlmIGFuIG9iamVjdCAoYHZhbGApIGlzIGFuIGluc3RhbmNlIG9mIHRoZSBzdXBwbGllZCBjb25zdHJ1Y3Rvci5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgdXAgdGhlIGluaGVyaXRhbmNlIGNoYWluLCBpZiBhbnkuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBUeXBlXG4gICAgICogQHNpZyAoKiAtPiB7Kn0pIC0+IGEgLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjdG9yIEEgY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5pcyhPYmplY3QsIHt9KTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLmlzKE51bWJlciwgMSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5pcyhPYmplY3QsIDEpOyAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLmlzKFN0cmluZywgJ3MnKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLmlzKFN0cmluZywgbmV3IFN0cmluZygnJykpOyAvLz0+IHRydWVcbiAgICAgKiAgICAgIFIuaXMoT2JqZWN0LCBuZXcgU3RyaW5nKCcnKSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5pcyhPYmplY3QsICdzJyk7IC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIFIuaXMoTnVtYmVyLCB7fSk7IC8vPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXMgPSBfY3VycnkyKGZ1bmN0aW9uIGlzKEN0b3IsIHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsICE9IG51bGwgJiYgdmFsLmNvbnN0cnVjdG9yID09PSBDdG9yIHx8IHZhbCBpbnN0YW5jZW9mIEN0b3I7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCBhbiBvYmplY3QgaXMgc2ltaWxhciB0byBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuNS4wXG4gICAgICogQGNhdGVnb3J5IFR5cGVcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKiAtPiBCb29sZWFuXG4gICAgICogQHBhcmFtIHsqfSB4IFRoZSBvYmplY3QgdG8gdGVzdC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgYHhgIGhhcyBhIG51bWVyaWMgbGVuZ3RoIHByb3BlcnR5IGFuZCBleHRyZW1lIGluZGljZXMgZGVmaW5lZDsgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5pc0FycmF5TGlrZShbXSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5pc0FycmF5TGlrZSh0cnVlKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5pc0FycmF5TGlrZSh7fSk7IC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIFIuaXNBcnJheUxpa2Uoe2xlbmd0aDogMTB9KTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5pc0FycmF5TGlrZSh7MDogJ3plcm8nLCA5OiAnbmluZScsIGxlbmd0aDogMTB9KTsgLy89PiB0cnVlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXlMaWtlID0gX2N1cnJ5MShmdW5jdGlvbiBpc0FycmF5TGlrZSh4KSB7XG4gICAgICAgIGlmIChfaXNBcnJheSh4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF4KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB4ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4IGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHgubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXgubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHguaGFzT3duUHJvcGVydHkoMCkgJiYgeC5oYXNPd25Qcm9wZXJ0eSh4Lmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgaW5wdXQgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC45LjBcbiAgICAgKiBAY2F0ZWdvcnkgVHlwZVxuICAgICAqIEBzaWcgKiAtPiBCb29sZWFuXG4gICAgICogQHBhcmFtIHsqfSB4IFRoZSB2YWx1ZSB0byB0ZXN0LlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBgeGAgaXMgYHVuZGVmaW5lZGAgb3IgYG51bGxgLCBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLmlzTmlsKG51bGwpOyAvLz0+IHRydWVcbiAgICAgKiAgICAgIFIuaXNOaWwodW5kZWZpbmVkKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLmlzTmlsKDApOyAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLmlzTmlsKFtdKTsgLy89PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc05pbCA9IF9jdXJyeTEoZnVuY3Rpb24gaXNOaWwoeCkge1xuICAgICAgICByZXR1cm4geCA9PSBudWxsO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3QgY29udGFpbmluZyB0aGUgbmFtZXMgb2YgYWxsIHRoZSBlbnVtZXJhYmxlIG93blxuICAgICAqIHByb3BlcnRpZXMgb2YgdGhlIHN1cHBsaWVkIG9iamVjdC5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9yZGVyIG9mIHRoZSBvdXRwdXQgYXJyYXkgaXMgbm90IGd1YXJhbnRlZWQgdG8gYmVcbiAgICAgKiBjb25zaXN0ZW50IGFjcm9zcyBkaWZmZXJlbnQgSlMgcGxhdGZvcm1zLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyB7azogdn0gLT4gW2tdXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGV4dHJhY3QgcHJvcGVydGllcyBmcm9tXG4gICAgICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5IG9mIHRoZSBvYmplY3QncyBvd24gcHJvcGVydGllcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLmtleXMoe2E6IDEsIGI6IDIsIGM6IDN9KTsgLy89PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICAvLyBjb3ZlciBJRSA8IDkga2V5cyBpc3N1ZXNcbiAgICB2YXIga2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY292ZXIgSUUgPCA5IGtleXMgaXNzdWVzXG4gICAgICAgIHZhciBoYXNFbnVtQnVnID0gIXsgdG9TdHJpbmc6IG51bGwgfS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKTtcbiAgICAgICAgdmFyIG5vbkVudW1lcmFibGVQcm9wcyA9IFtcbiAgICAgICAgICAgICdjb25zdHJ1Y3RvcicsXG4gICAgICAgICAgICAndmFsdWVPZicsXG4gICAgICAgICAgICAnaXNQcm90b3R5cGVPZicsXG4gICAgICAgICAgICAndG9TdHJpbmcnLFxuICAgICAgICAgICAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcbiAgICAgICAgICAgICdoYXNPd25Qcm9wZXJ0eScsXG4gICAgICAgICAgICAndG9Mb2NhbGVTdHJpbmcnXG4gICAgICAgIF07XG4gICAgICAgIHZhciBjb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKGxpc3QsIGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGlkeCA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RbaWR4XSA9PT0gaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0eXBlb2YgT2JqZWN0LmtleXMgPT09ICdmdW5jdGlvbicgPyBfY3VycnkxKGZ1bmN0aW9uIGtleXMob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0KG9iaikgIT09IG9iaiA/IFtdIDogT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgfSkgOiBfY3VycnkxKGZ1bmN0aW9uIGtleXMob2JqKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0KG9iaikgIT09IG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcm9wLCBrcyA9IFtdLCBuSWR4O1xuICAgICAgICAgICAgZm9yIChwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChfaGFzKHByb3AsIG9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAga3Nba3MubGVuZ3RoXSA9IHByb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc0VudW1CdWcpIHtcbiAgICAgICAgICAgICAgICBuSWR4ID0gbm9uRW51bWVyYWJsZVByb3BzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5JZHggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wID0gbm9uRW51bWVyYWJsZVByb3BzW25JZHhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2hhcyhwcm9wLCBvYmopICYmICFjb250YWlucyhrcywgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtzW2tzLmxlbmd0aF0gPSBwcm9wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5JZHggLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga3M7XG4gICAgICAgIH0pO1xuICAgIH0oKTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IGNvbnRhaW5pbmcgdGhlIG5hbWVzIG9mIGFsbCB0aGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIHRoZSBzdXBwbGllZCBvYmplY3QsIGluY2x1ZGluZyBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9yZGVyIG9mIHRoZSBvdXRwdXQgYXJyYXkgaXMgbm90IGd1YXJhbnRlZWQgdG8gYmVcbiAgICAgKiBjb25zaXN0ZW50IGFjcm9zcyBkaWZmZXJlbnQgSlMgcGxhdGZvcm1zLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyB7azogdn0gLT4gW2tdXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGV4dHJhY3QgcHJvcGVydGllcyBmcm9tXG4gICAgICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5IG9mIHRoZSBvYmplY3QncyBvd24gYW5kIHByb3RvdHlwZSBwcm9wZXJ0aWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBGID0gZnVuY3Rpb24oKSB7IHRoaXMueCA9ICdYJzsgfTtcbiAgICAgKiAgICAgIEYucHJvdG90eXBlLnkgPSAnWSc7XG4gICAgICogICAgICB2YXIgZiA9IG5ldyBGKCk7XG4gICAgICogICAgICBSLmtleXNJbihmKTsgLy89PiBbJ3gnLCAneSddXG4gICAgICovXG4gICAgdmFyIGtleXNJbiA9IF9jdXJyeTEoZnVuY3Rpb24ga2V5c0luKG9iaikge1xuICAgICAgICB2YXIgcHJvcCwga3MgPSBbXTtcbiAgICAgICAgZm9yIChwcm9wIGluIG9iaikge1xuICAgICAgICAgICAga3Nba3MubGVuZ3RoXSA9IHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtzO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSBieSByZXR1cm5pbmcgYGxpc3QubGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMy4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIFthXSAtPiBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gVGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5sZW5ndGgoW10pOyAvLz0+IDBcbiAgICAgKiAgICAgIFIubGVuZ3RoKFsxLCAyLCAzXSk7IC8vPT4gM1xuICAgICAqL1xuICAgIHZhciBsZW5ndGggPSBfY3VycnkxKGZ1bmN0aW9uIGxlbmd0aChsaXN0KSB7XG4gICAgICAgIHJldHVybiBsaXN0ICE9IG51bGwgJiYgaXMoTnVtYmVyLCBsaXN0Lmxlbmd0aCkgPyBsaXN0Lmxlbmd0aCA6IE5hTjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBsZXNzIHRoYW4gdGhlIHNlY29uZDtcbiAgICAgKiBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IFJlbGF0aW9uXG4gICAgICogQHNpZyBPcmQgYSA9PiBhIC0+IGEgLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7Kn0gYVxuICAgICAqIEBwYXJhbSB7Kn0gYlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICogQHNlZSBSLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5sdCgyLCAxKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5sdCgyLCAyKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5sdCgyLCAzKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLmx0KCdhJywgJ3onKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLmx0KCd6JywgJ2EnKTsgLy89PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IF9jdXJyeTIoZnVuY3Rpb24gbHQoYSwgYikge1xuICAgICAgICByZXR1cm4gYSA8IGI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzZWNvbmQ7XG4gICAgICogYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBSZWxhdGlvblxuICAgICAqIEBzaWcgT3JkIGEgPT4gYSAtPiBhIC0+IEJvb2xlYW5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKiBAc2VlIFIuZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5sdGUoMiwgMSk7IC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIFIubHRlKDIsIDIpOyAvLz0+IHRydWVcbiAgICAgKiAgICAgIFIubHRlKDIsIDMpOyAvLz0+IHRydWVcbiAgICAgKiAgICAgIFIubHRlKCdhJywgJ3onKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLmx0ZSgneicsICdhJyk7IC8vPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHRlID0gX2N1cnJ5MihmdW5jdGlvbiBsdGUoYSwgYikge1xuICAgICAgICByZXR1cm4gYSA8PSBiO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hcEFjY3VtIGZ1bmN0aW9uIGJlaGF2ZXMgbGlrZSBhIGNvbWJpbmF0aW9uIG9mIG1hcCBhbmQgcmVkdWNlOyBpdCBhcHBsaWVzIGFcbiAgICAgKiBmdW5jdGlvbiB0byBlYWNoIGVsZW1lbnQgb2YgYSBsaXN0LCBwYXNzaW5nIGFuIGFjY3VtdWxhdGluZyBwYXJhbWV0ZXIgZnJvbSBsZWZ0IHRvXG4gICAgICogcmlnaHQsIGFuZCByZXR1cm5pbmcgYSBmaW5hbCB2YWx1ZSBvZiB0aGlzIGFjY3VtdWxhdG9yIHRvZ2V0aGVyIHdpdGggdGhlIG5ldyBsaXN0LlxuICAgICAqXG4gICAgICogVGhlIGl0ZXJhdG9yIGZ1bmN0aW9uIHJlY2VpdmVzIHR3byBhcmd1bWVudHMsICphY2MqIGFuZCAqdmFsdWUqLCBhbmQgc2hvdWxkIHJldHVyblxuICAgICAqIGEgdHVwbGUgKlthY2MsIHZhbHVlXSouXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGFjYyAtPiB4IC0+IChhY2MsIHkpKSAtPiBhY2MgLT4gW3hdIC0+IChhY2MsIFt5XSlcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQgb2YgdGhlIGlucHV0IGBsaXN0YC5cbiAgICAgKiBAcGFyYW0geyp9IGFjYyBUaGUgYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgbGlzdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybiB7Kn0gVGhlIGZpbmFsLCBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgZGlnaXRzID0gWycxJywgJzInLCAnMycsICc0J107XG4gICAgICogICAgICB2YXIgYXBwZW5kID0gKGEsIGIpID0+IFthICsgYiwgYSArIGJdO1xuICAgICAqXG4gICAgICogICAgICBSLm1hcEFjY3VtKGFwcGVuZCwgMCwgZGlnaXRzKTsgLy89PiBbJzAxMjM0JywgWycwMScsICcwMTInLCAnMDEyMycsICcwMTIzNCddXVxuICAgICAqL1xuICAgIHZhciBtYXBBY2N1bSA9IF9jdXJyeTMoZnVuY3Rpb24gbWFwQWNjdW0oZm4sIGFjYywgbGlzdCkge1xuICAgICAgICB2YXIgaWR4ID0gMCwgbGVuID0gbGlzdC5sZW5ndGgsIHJlc3VsdCA9IFtdLCB0dXBsZSA9IFthY2NdO1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICB0dXBsZSA9IGZuKHR1cGxlWzBdLCBsaXN0W2lkeF0pO1xuICAgICAgICAgICAgcmVzdWx0W2lkeF0gPSB0dXBsZVsxXTtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB0dXBsZVswXSxcbiAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICBdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hcEFjY3VtUmlnaHQgZnVuY3Rpb24gYmVoYXZlcyBsaWtlIGEgY29tYmluYXRpb24gb2YgbWFwIGFuZCByZWR1Y2U7IGl0IGFwcGxpZXMgYVxuICAgICAqIGZ1bmN0aW9uIHRvIGVhY2ggZWxlbWVudCBvZiBhIGxpc3QsIHBhc3NpbmcgYW4gYWNjdW11bGF0aW5nIHBhcmFtZXRlciBmcm9tIHJpZ2h0XG4gICAgICogdG8gbGVmdCwgYW5kIHJldHVybmluZyBhIGZpbmFsIHZhbHVlIG9mIHRoaXMgYWNjdW11bGF0b3IgdG9nZXRoZXIgd2l0aCB0aGUgbmV3IGxpc3QuXG4gICAgICpcbiAgICAgKiBTaW1pbGFyIHRvIGBtYXBBY2N1bWAsIGV4Y2VwdCBtb3ZlcyB0aHJvdWdoIHRoZSBpbnB1dCBsaXN0IGZyb20gdGhlIHJpZ2h0IHRvIHRoZVxuICAgICAqIGxlZnQuXG4gICAgICpcbiAgICAgKiBUaGUgaXRlcmF0b3IgZnVuY3Rpb24gcmVjZWl2ZXMgdHdvIGFyZ3VtZW50cywgKmFjYyogYW5kICp2YWx1ZSosIGFuZCBzaG91bGQgcmV0dXJuXG4gICAgICogYSB0dXBsZSAqW2FjYywgdmFsdWVdKi5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyAoYWNjIC0+IHggLT4gKGFjYywgeSkpIC0+IGFjYyAtPiBbeF0gLT4gKGFjYywgW3ldKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXZlcnkgZWxlbWVudCBvZiB0aGUgaW5wdXQgYGxpc3RgLlxuICAgICAqIEBwYXJhbSB7Kn0gYWNjIFRoZSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBsaXN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgZmluYWwsIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBkaWdpdHMgPSBbJzEnLCAnMicsICczJywgJzQnXTtcbiAgICAgKiAgICAgIHZhciBhcHBlbmQgPSAoYSwgYikgPT4gW2EgKyBiLCBhICsgYl07XG4gICAgICpcbiAgICAgKiAgICAgIFIubWFwQWNjdW1SaWdodChhcHBlbmQsIDAsIGRpZ2l0cyk7IC8vPT4gWycwNDMyMScsIFsnMDQzMjEnLCAnMDQzMicsICcwNDMnLCAnMDQnXV1cbiAgICAgKi9cbiAgICB2YXIgbWFwQWNjdW1SaWdodCA9IF9jdXJyeTMoZnVuY3Rpb24gbWFwQWNjdW1SaWdodChmbiwgYWNjLCBsaXN0KSB7XG4gICAgICAgIHZhciBpZHggPSBsaXN0Lmxlbmd0aCAtIDEsIHJlc3VsdCA9IFtdLCB0dXBsZSA9IFthY2NdO1xuICAgICAgICB3aGlsZSAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIHR1cGxlID0gZm4odHVwbGVbMF0sIGxpc3RbaWR4XSk7XG4gICAgICAgICAgICByZXN1bHRbaWR4XSA9IHR1cGxlWzFdO1xuICAgICAgICAgICAgaWR4IC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHR1cGxlWzBdLFxuICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgIF07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhZ2FpbnN0IGEgU3RyaW5nLiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvblxuICAgICAqIHdpbGwgcmV0dXJuIGFuIGVtcHR5IGFycmF5IHdoZW4gdGhlcmUgYXJlIG5vIG1hdGNoZXMuIFRoaXMgZGlmZmVyc1xuICAgICAqIGZyb20gW2BTdHJpbmcucHJvdG90eXBlLm1hdGNoYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL21hdGNoKVxuICAgICAqIHdoaWNoIHJldHVybnMgYG51bGxgIHdoZW4gdGhlcmUgYXJlIG5vIG1hdGNoZXMuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBzZWUgUi50ZXN0XG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBzaWcgUmVnRXhwIC0+IFN0cmluZyAtPiBbU3RyaW5nIHwgVW5kZWZpbmVkXVxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSByeCBBIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdHJpbmcgdG8gbWF0Y2ggYWdhaW5zdFxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgbGlzdCBvZiBtYXRjaGVzIG9yIGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIubWF0Y2goLyhbYS16XWEpL2csICdiYW5hbmFzJyk7IC8vPT4gWydiYScsICduYScsICduYSddXG4gICAgICogICAgICBSLm1hdGNoKC9hLywgJ2InKTsgLy89PiBbXVxuICAgICAqICAgICAgUi5tYXRjaCgvYS8sIG51bGwpOyAvLz0+IFR5cGVFcnJvcjogbnVsbCBkb2VzIG5vdCBoYXZlIGEgbWV0aG9kIG5hbWVkIFwibWF0Y2hcIlxuICAgICAqL1xuICAgIHZhciBtYXRjaCA9IF9jdXJyeTIoZnVuY3Rpb24gbWF0Y2gocngsIHN0cikge1xuICAgICAgICByZXR1cm4gc3RyLm1hdGNoKHJ4KSB8fCBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIG1hdGhNb2QgYmVoYXZlcyBsaWtlIHRoZSBtb2R1bG8gb3BlcmF0b3Igc2hvdWxkIG1hdGhlbWF0aWNhbGx5LCB1bmxpa2UgdGhlIGAlYFxuICAgICAqIG9wZXJhdG9yIChhbmQgYnkgZXh0ZW5zaW9uLCBSLm1vZHVsbykuIFNvIHdoaWxlIFwiLTE3ICUgNVwiIGlzIC0yLFxuICAgICAqIG1hdGhNb2QoLTE3LCA1KSBpcyAzLiBtYXRoTW9kIHJlcXVpcmVzIEludGVnZXIgYXJndW1lbnRzLCBhbmQgcmV0dXJucyBOYU5cbiAgICAgKiB3aGVuIHRoZSBtb2R1bHVzIGlzIHplcm8gb3IgbmVnYXRpdmUuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHNpZyBOdW1iZXIgLT4gTnVtYmVyIC0+IE51bWJlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtIFRoZSBkaXZpZGVuZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcCB0aGUgbW9kdWx1cy5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSByZXN1bHQgb2YgYGIgbW9kIGFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIubWF0aE1vZCgtMTcsIDUpOyAgLy89PiAzXG4gICAgICogICAgICBSLm1hdGhNb2QoMTcsIDUpOyAgIC8vPT4gMlxuICAgICAqICAgICAgUi5tYXRoTW9kKDE3LCAtNSk7ICAvLz0+IE5hTlxuICAgICAqICAgICAgUi5tYXRoTW9kKDE3LCAwKTsgICAvLz0+IE5hTlxuICAgICAqICAgICAgUi5tYXRoTW9kKDE3LjIsIDUpOyAvLz0+IE5hTlxuICAgICAqICAgICAgUi5tYXRoTW9kKDE3LCA1LjMpOyAvLz0+IE5hTlxuICAgICAqXG4gICAgICogICAgICB2YXIgY2xvY2sgPSBSLm1hdGhNb2QoUi5fXywgMTIpO1xuICAgICAqICAgICAgY2xvY2soMTUpOyAvLz0+IDNcbiAgICAgKiAgICAgIGNsb2NrKDI0KTsgLy89PiAwXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBzZXZlbnRlZW5Nb2QgPSBSLm1hdGhNb2QoMTcpO1xuICAgICAqICAgICAgc2V2ZW50ZWVuTW9kKDMpOyAgLy89PiAyXG4gICAgICogICAgICBzZXZlbnRlZW5Nb2QoNCk7ICAvLz0+IDFcbiAgICAgKiAgICAgIHNldmVudGVlbk1vZCgxMCk7IC8vPT4gN1xuICAgICAqL1xuICAgIHZhciBtYXRoTW9kID0gX2N1cnJ5MihmdW5jdGlvbiBtYXRoTW9kKG0sIHApIHtcbiAgICAgICAgaWYgKCFfaXNJbnRlZ2VyKG0pKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX2lzSW50ZWdlcihwKSB8fCBwIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKG0gJSBwICsgcCkgJSBwO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGFyZ2VyIG9mIGl0cyB0d28gYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgUmVsYXRpb25cbiAgICAgKiBAc2lnIE9yZCBhID0+IGEgLT4gYSAtPiBhXG4gICAgICogQHBhcmFtIHsqfSBhXG4gICAgICogQHBhcmFtIHsqfSBiXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKiBAc2VlIFIubWF4QnksIFIubWluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5tYXgoNzg5LCAxMjMpOyAvLz0+IDc4OVxuICAgICAqICAgICAgUi5tYXgoJ2EnLCAnYicpOyAvLz0+ICdiJ1xuICAgICAqL1xuICAgIHZhciBtYXggPSBfY3VycnkyKGZ1bmN0aW9uIG1heChhLCBiKSB7XG4gICAgICAgIHJldHVybiBiID4gYSA/IGIgOiBhO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBmdW5jdGlvbiBhbmQgdHdvIHZhbHVlcywgYW5kIHJldHVybnMgd2hpY2hldmVyIHZhbHVlIHByb2R1Y2VzXG4gICAgICogdGhlIGxhcmdlciByZXN1bHQgd2hlbiBwYXNzZWQgdG8gdGhlIHByb3ZpZGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgUmVsYXRpb25cbiAgICAgKiBAc2lnIE9yZCBiID0+IChhIC0+IGIpIC0+IGEgLT4gYSAtPiBhXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICAgICAqIEBwYXJhbSB7Kn0gYVxuICAgICAqIEBwYXJhbSB7Kn0gYlxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICogQHNlZSBSLm1heCwgUi5taW5CeVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIC8vICBzcXVhcmUgOjogTnVtYmVyIC0+IE51bWJlclxuICAgICAqICAgICAgdmFyIHNxdWFyZSA9IG4gPT4gbiAqIG47XG4gICAgICpcbiAgICAgKiAgICAgIFIubWF4Qnkoc3F1YXJlLCAtMywgMik7IC8vPT4gLTNcbiAgICAgKlxuICAgICAqICAgICAgUi5yZWR1Y2UoUi5tYXhCeShzcXVhcmUpLCAwLCBbMywgLTUsIDQsIDEsIC0yXSk7IC8vPT4gLTVcbiAgICAgKiAgICAgIFIucmVkdWNlKFIubWF4Qnkoc3F1YXJlKSwgMCwgW10pOyAvLz0+IDBcbiAgICAgKi9cbiAgICB2YXIgbWF4QnkgPSBfY3VycnkzKGZ1bmN0aW9uIG1heEJ5KGYsIGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGYoYikgPiBmKGEpID8gYiA6IGE7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgb2JqZWN0IHdpdGggdGhlIG93biBwcm9wZXJ0aWVzIG9mIGBhYFxuICAgICAqIG1lcmdlZCB3aXRoIHRoZSBvd24gcHJvcGVydGllcyBvZiBvYmplY3QgYGJgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyB7azogdn0gLT4ge2s6IHZ9IC0+IHtrOiB2fVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5tZXJnZSh7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogMTAgfSwgeyAnYWdlJzogNDAgfSk7XG4gICAgICogICAgICAvLz0+IHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9XG4gICAgICpcbiAgICAgKiAgICAgIHZhciByZXNldFRvRGVmYXVsdCA9IFIubWVyZ2UoUi5fXywge3g6IDB9KTtcbiAgICAgKiAgICAgIHJlc2V0VG9EZWZhdWx0KHt4OiA1LCB5OiAyfSk7IC8vPT4ge3g6IDAsIHk6IDJ9XG4gICAgICovXG4gICAgdmFyIG1lcmdlID0gX2N1cnJ5MihmdW5jdGlvbiBtZXJnZShhLCBiKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgdmFyIGtzID0ga2V5cyhhKTtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChpZHggPCBrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrc1tpZHhdXSA9IGFba3NbaWR4XV07XG4gICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBrcyA9IGtleXMoYik7XG4gICAgICAgIGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChpZHggPCBrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrc1tpZHhdXSA9IGJba3NbaWR4XV07XG4gICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc21hbGxlciBvZiBpdHMgdHdvIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IFJlbGF0aW9uXG4gICAgICogQHNpZyBPcmQgYSA9PiBhIC0+IGEgLT4gYVxuICAgICAqIEBwYXJhbSB7Kn0gYVxuICAgICAqIEBwYXJhbSB7Kn0gYlxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICogQHNlZSBSLm1pbkJ5LCBSLm1heFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIubWluKDc4OSwgMTIzKTsgLy89PiAxMjNcbiAgICAgKiAgICAgIFIubWluKCdhJywgJ2InKTsgLy89PiAnYSdcbiAgICAgKi9cbiAgICB2YXIgbWluID0gX2N1cnJ5MihmdW5jdGlvbiBtaW4oYSwgYikge1xuICAgICAgICByZXR1cm4gYiA8IGEgPyBiIDogYTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgZnVuY3Rpb24gYW5kIHR3byB2YWx1ZXMsIGFuZCByZXR1cm5zIHdoaWNoZXZlciB2YWx1ZSBwcm9kdWNlc1xuICAgICAqIHRoZSBzbWFsbGVyIHJlc3VsdCB3aGVuIHBhc3NlZCB0byB0aGUgcHJvdmlkZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjguMFxuICAgICAqIEBjYXRlZ29yeSBSZWxhdGlvblxuICAgICAqIEBzaWcgT3JkIGIgPT4gKGEgLT4gYikgLT4gYSAtPiBhIC0+IGFcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gICAgICogQHBhcmFtIHsqfSBhXG4gICAgICogQHBhcmFtIHsqfSBiXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKiBAc2VlIFIubWluLCBSLm1heEJ5XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgLy8gIHNxdWFyZSA6OiBOdW1iZXIgLT4gTnVtYmVyXG4gICAgICogICAgICB2YXIgc3F1YXJlID0gbiA9PiBuICogbjtcbiAgICAgKlxuICAgICAqICAgICAgUi5taW5CeShzcXVhcmUsIC0zLCAyKTsgLy89PiAyXG4gICAgICpcbiAgICAgKiAgICAgIFIucmVkdWNlKFIubWluQnkoc3F1YXJlKSwgSW5maW5pdHksIFszLCAtNSwgNCwgMSwgLTJdKTsgLy89PiAxXG4gICAgICogICAgICBSLnJlZHVjZShSLm1pbkJ5KHNxdWFyZSksIEluZmluaXR5LCBbXSk7IC8vPT4gSW5maW5pdHlcbiAgICAgKi9cbiAgICB2YXIgbWluQnkgPSBfY3VycnkzKGZ1bmN0aW9uIG1pbkJ5KGYsIGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGYoYikgPCBmKGEpID8gYiA6IGE7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHRoZSBzZWNvbmQgcGFyYW1ldGVyIGJ5IHRoZSBmaXJzdCBhbmQgcmV0dXJucyB0aGUgcmVtYWluZGVyLlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIHByZXNlcnZlcyB0aGUgSmF2YVNjcmlwdC1zdHlsZSBiZWhhdmlvciBmb3JcbiAgICAgKiBtb2R1bG8uIEZvciBtYXRoZW1hdGljYWwgbW9kdWxvIHNlZSBgbWF0aE1vZGAuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMVxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHNpZyBOdW1iZXIgLT4gTnVtYmVyIC0+IE51bWJlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSB2YWx1ZSB0byB0aGUgZGl2aWRlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIFRoZSBwc2V1ZG8tbW9kdWx1c1xuICAgICAqIEByZXR1cm4ge051bWJlcn0gVGhlIHJlc3VsdCBvZiBgYiAlIGFgLlxuICAgICAqIEBzZWUgUi5tYXRoTW9kXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5tb2R1bG8oMTcsIDMpOyAvLz0+IDJcbiAgICAgKiAgICAgIC8vIEpTIGJlaGF2aW9yOlxuICAgICAqICAgICAgUi5tb2R1bG8oLTE3LCAzKTsgLy89PiAtMlxuICAgICAqICAgICAgUi5tb2R1bG8oMTcsIC0zKTsgLy89PiAyXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBpc09kZCA9IFIubW9kdWxvKFIuX18sIDIpO1xuICAgICAqICAgICAgaXNPZGQoNDIpOyAvLz0+IDBcbiAgICAgKiAgICAgIGlzT2RkKDIxKTsgLy89PiAxXG4gICAgICovXG4gICAgdmFyIG1vZHVsbyA9IF9jdXJyeTIoZnVuY3Rpb24gbW9kdWxvKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgJSBiO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gbnVtYmVycy4gRXF1aXZhbGVudCB0byBgYSAqIGJgIGJ1dCBjdXJyaWVkLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBzaWcgTnVtYmVyIC0+IE51bWJlciAtPiBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgdmFsdWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSByZXN1bHQgb2YgYGEgKiBiYC5cbiAgICAgKiBAc2VlIFIuZGl2aWRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGRvdWJsZSA9IFIubXVsdGlwbHkoMik7XG4gICAgICogICAgICB2YXIgdHJpcGxlID0gUi5tdWx0aXBseSgzKTtcbiAgICAgKiAgICAgIGRvdWJsZSgzKTsgICAgICAgLy89PiAgNlxuICAgICAqICAgICAgdHJpcGxlKDQpOyAgICAgICAvLz0+IDEyXG4gICAgICogICAgICBSLm11bHRpcGx5KDIsIDUpOyAgLy89PiAxMFxuICAgICAqL1xuICAgIHZhciBtdWx0aXBseSA9IF9jdXJyeTIoZnVuY3Rpb24gbXVsdGlwbHkoYSwgYikge1xuICAgICAgICByZXR1cm4gYSAqIGI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBXcmFwcyBhIGZ1bmN0aW9uIG9mIGFueSBhcml0eSAoaW5jbHVkaW5nIG51bGxhcnkpIGluIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGV4YWN0bHkgYG5gXG4gICAgICogcGFyYW1ldGVycy4gQW55IGV4dHJhbmVvdXMgcGFyYW1ldGVycyB3aWxsIG5vdCBiZSBwYXNzZWQgdG8gdGhlIHN1cHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnIE51bWJlciAtPiAoKiAtPiBhKSAtPiAoKiAtPiBhKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIFRoZSBkZXNpcmVkIGFyaXR5IG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHdyYXBwaW5nIGBmbmAuIFRoZSBuZXcgZnVuY3Rpb24gaXMgZ3VhcmFudGVlZCB0byBiZSBvZlxuICAgICAqICAgICAgICAgYXJpdHkgYG5gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciB0YWtlc1R3b0FyZ3MgPSAoYSwgYikgPT4gW2EsIGJdO1xuICAgICAqXG4gICAgICogICAgICB0YWtlc1R3b0FyZ3MubGVuZ3RoOyAvLz0+IDJcbiAgICAgKiAgICAgIHRha2VzVHdvQXJncygxLCAyKTsgLy89PiBbMSwgMl1cbiAgICAgKlxuICAgICAqICAgICAgdmFyIHRha2VzT25lQXJnID0gUi5uQXJ5KDEsIHRha2VzVHdvQXJncyk7XG4gICAgICogICAgICB0YWtlc09uZUFyZy5sZW5ndGg7IC8vPT4gMVxuICAgICAqICAgICAgLy8gT25seSBgbmAgYXJndW1lbnRzIGFyZSBwYXNzZWQgdG8gdGhlIHdyYXBwZWQgZnVuY3Rpb25cbiAgICAgKiAgICAgIHRha2VzT25lQXJnKDEsIDIpOyAvLz0+IFsxLCB1bmRlZmluZWRdXG4gICAgICovXG4gICAgdmFyIG5BcnkgPSBfY3VycnkyKGZ1bmN0aW9uIG5BcnkobiwgZm4pIHtcbiAgICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYTApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBhMCwgYTEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEsIGEyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYTAsIGExLCBhMik7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYTAsIGExLCBhMiwgYTMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBhMCwgYTEsIGEyLCBhMywgYTQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYTAsIGExLCBhMiwgYTMsIGE0LCBhNSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNywgYTgsIGE5KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IHRvIG5BcnkgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIG5vIGdyZWF0ZXIgdGhhbiB0ZW4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogTmVnYXRlcyBpdHMgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjkuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHNpZyBOdW1iZXIgLT4gTnVtYmVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5uZWdhdGUoNDIpOyAvLz0+IC00MlxuICAgICAqL1xuICAgIHZhciBuZWdhdGUgPSBfY3VycnkxKGZ1bmN0aW9uIG5lZ2F0ZShuKSB7XG4gICAgICAgIHJldHVybiAtbjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBgIWAgb2YgaXRzIGFyZ3VtZW50LiBJdCB3aWxsIHJldHVybiBgdHJ1ZWAgd2hlblxuICAgICAqIHBhc3NlZCBmYWxzZS15IHZhbHVlLCBhbmQgYGZhbHNlYCB3aGVuIHBhc3NlZCBhIHRydXRoLXkgb25lLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTG9naWNcbiAgICAgKiBAc2lnICogLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7Kn0gYSBhbnkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0aGUgbG9naWNhbCBpbnZlcnNlIG9mIHBhc3NlZCBhcmd1bWVudC5cbiAgICAgKiBAc2VlIFIuY29tcGxlbWVudFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIubm90KHRydWUpOyAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLm5vdChmYWxzZSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5ub3QoMCk7ID0+IHRydWVcbiAgICAgKiAgICAgIFIubm90KDEpOyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBub3QgPSBfY3VycnkxKGZ1bmN0aW9uIG5vdChhKSB7XG4gICAgICAgIHJldHVybiAhYTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIHRoZSBnaXZlbiBsaXN0IG9yIHN0cmluZy5cbiAgICAgKiBJZiBuIGlzIG5lZ2F0aXZlIHRoZSBlbGVtZW50IGF0IGluZGV4IGxlbmd0aCArIG4gaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBOdW1iZXIgLT4gW2FdIC0+IGEgfCBVbmRlZmluZWRcbiAgICAgKiBAc2lnIE51bWJlciAtPiBTdHJpbmcgLT4gU3RyaW5nXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFxuICAgICAqIEBwYXJhbSB7Kn0gbGlzdFxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGxpc3QgPSBbJ2ZvbycsICdiYXInLCAnYmF6JywgJ3F1dXgnXTtcbiAgICAgKiAgICAgIFIubnRoKDEsIGxpc3QpOyAvLz0+ICdiYXInXG4gICAgICogICAgICBSLm50aCgtMSwgbGlzdCk7IC8vPT4gJ3F1dXgnXG4gICAgICogICAgICBSLm50aCgtOTksIGxpc3QpOyAvLz0+IHVuZGVmaW5lZFxuICAgICAqXG4gICAgICogICAgICBSLm50aCgnYWJjJywgMik7IC8vPT4gJ2MnXG4gICAgICogICAgICBSLm50aCgnYWJjJywgMyk7IC8vPT4gJydcbiAgICAgKi9cbiAgICB2YXIgbnRoID0gX2N1cnJ5MihmdW5jdGlvbiBudGgob2Zmc2V0LCBsaXN0KSB7XG4gICAgICAgIHZhciBpZHggPSBvZmZzZXQgPCAwID8gbGlzdC5sZW5ndGggKyBvZmZzZXQgOiBvZmZzZXQ7XG4gICAgICAgIHJldHVybiBfaXNTdHJpbmcobGlzdCkgPyBsaXN0LmNoYXJBdChpZHgpIDogbGlzdFtpZHhdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgaXRzIG50aCBhcmd1bWVudC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuOS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNpZyBOdW1iZXIgLT4gKi4uLiAtPiAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLm50aEFyZygxKSgnYScsICdiJywgJ2MnKTsgLy89PiAnYidcbiAgICAgKiAgICAgIFIubnRoQXJnKC0xKSgnYScsICdiJywgJ2MnKTsgLy89PiAnYydcbiAgICAgKi9cbiAgICB2YXIgbnRoQXJnID0gX2N1cnJ5MShmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG50aChuLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29udGFpbmluZyBhIHNpbmdsZSBrZXk6dmFsdWUgcGFpci5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTguMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIFN0cmluZyAtPiBhIC0+IHtTdHJpbmc6YX1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWxcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICogQHNlZSBSLnBhaXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbWF0Y2hQaHJhc2VzID0gUi5jb21wb3NlKFxuICAgICAqICAgICAgICBSLm9iak9mKCdtdXN0JyksXG4gICAgICogICAgICAgIFIubWFwKFIub2JqT2YoJ21hdGNoX3BocmFzZScpKVxuICAgICAqICAgICAgKTtcbiAgICAgKiAgICAgIG1hdGNoUGhyYXNlcyhbJ2ZvbycsICdiYXInLCAnYmF6J10pOyAvLz0+IHttdXN0OiBbe21hdGNoX3BocmFzZTogJ2Zvbyd9LCB7bWF0Y2hfcGhyYXNlOiAnYmFyJ30sIHttYXRjaF9waHJhc2U6ICdiYXonfV19XG4gICAgICovXG4gICAgdmFyIG9iak9mID0gX2N1cnJ5MihmdW5jdGlvbiBvYmpPZihrZXksIHZhbCkge1xuICAgICAgICB2YXIgb2JqID0ge307XG4gICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHNpbmdsZXRvbiBhcnJheSBjb250YWluaW5nIHRoZSB2YWx1ZSBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBgb2ZgIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBFUzYgYG9mYDsgU2VlXG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvb2ZcbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMy4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNpZyBhIC0+IFthXVxuICAgICAqIEBwYXJhbSB7Kn0geCBhbnkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgd3JhcHBpbmcgYHhgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIub2YobnVsbCk7IC8vPT4gW251bGxdXG4gICAgICogICAgICBSLm9mKFs0Ml0pOyAvLz0+IFtbNDJdXVxuICAgICAqL1xuICAgIHZhciBvZiA9IF9jdXJyeTEoX29mKTtcblxuICAgIC8qKlxuICAgICAqIEFjY2VwdHMgYSBmdW5jdGlvbiBgZm5gIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBndWFyZHMgaW52b2NhdGlvbiBvZiBgZm5gIHN1Y2ggdGhhdFxuICAgICAqIGBmbmAgY2FuIG9ubHkgZXZlciBiZSBjYWxsZWQgb25jZSwgbm8gbWF0dGVyIGhvdyBtYW55IHRpbWVzIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBpc1xuICAgICAqIGludm9rZWQuIFRoZSBmaXJzdCB2YWx1ZSBjYWxjdWxhdGVkIGlzIHJldHVybmVkIGluIHN1YnNlcXVlbnQgaW52b2NhdGlvbnMuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKGEuLi4gLT4gYikgLT4gKGEuLi4gLT4gYilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gd3JhcCBpbiBhIGNhbGwtb25seS1vbmNlIHdyYXBwZXIuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IFRoZSB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBhZGRPbmVPbmNlID0gUi5vbmNlKHggPT4geCArIDEpO1xuICAgICAqICAgICAgYWRkT25lT25jZSgxMCk7IC8vPT4gMTFcbiAgICAgKiAgICAgIGFkZE9uZU9uY2UoYWRkT25lT25jZSg1MCkpOyAvLz0+IDExXG4gICAgICovXG4gICAgdmFyIG9uY2UgPSBfY3VycnkxKGZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlLCByZXN1bHQ7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICByZXN1bHQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIG9uZSBvciBib3RoIG9mIGl0cyBhcmd1bWVudHMgYXJlIGB0cnVlYC4gUmV0dXJucyBgZmFsc2VgXG4gICAgICogaWYgYm90aCBhcmd1bWVudHMgYXJlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMb2dpY1xuICAgICAqIEBzaWcgKiAtPiAqIC0+ICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGEgQSBib29sZWFuIHZhbHVlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBiIEEgYm9vbGVhbiB2YWx1ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBvbmUgb3IgYm90aCBhcmd1bWVudHMgYXJlIGB0cnVlYCwgYGZhbHNlYCBvdGhlcndpc2VcbiAgICAgKiBAc2VlIFIuZWl0aGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5vcih0cnVlLCB0cnVlKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLm9yKHRydWUsIGZhbHNlKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLm9yKGZhbHNlLCB0cnVlKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLm9yKGZhbHNlLCBmYWxzZSk7IC8vPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3IgPSBfY3VycnkyKGZ1bmN0aW9uIG9yKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgfHwgYjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJlc3VsdCBvZiBcInNldHRpbmdcIiB0aGUgcG9ydGlvbiBvZiB0aGUgZ2l2ZW4gZGF0YSBzdHJ1Y3R1cmVcbiAgICAgKiBmb2N1c2VkIGJ5IHRoZSBnaXZlbiBsZW5zIHRvIHRoZSByZXN1bHQgb2YgYXBwbHlpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uIHRvXG4gICAgICogdGhlIGZvY3VzZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE2LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHR5cGVkZWZuIExlbnMgcyBhID0gRnVuY3RvciBmID0+IChhIC0+IGYgYSkgLT4gcyAtPiBmIHNcbiAgICAgKiBAc2lnIExlbnMgcyBhIC0+IChhIC0+IGEpIC0+IHMgLT4gc1xuICAgICAqIEBwYXJhbSB7TGVuc30gbGVuc1xuICAgICAqIEBwYXJhbSB7Kn0gdlxuICAgICAqIEBwYXJhbSB7Kn0geFxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICogQHNlZSBSLnByb3AsIFIubGVuc0luZGV4LCBSLmxlbnNQcm9wXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGhlYWRMZW5zID0gUi5sZW5zSW5kZXgoMCk7XG4gICAgICpcbiAgICAgKiAgICAgIFIub3ZlcihoZWFkTGVucywgUi50b1VwcGVyLCBbJ2ZvbycsICdiYXInLCAnYmF6J10pOyAvLz0+IFsnRk9PJywgJ2JhcicsICdiYXonXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgSWRlbnRpdHkgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogeCxcbiAgICAgICAgICAgICAgICBtYXA6IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJZGVudGl0eShmKHgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX2N1cnJ5MyhmdW5jdGlvbiBvdmVyKGxlbnMsIGYsIHgpIHtcbiAgICAgICAgICAgIHJldHVybiBsZW5zKGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElkZW50aXR5KGYoeSkpO1xuICAgICAgICAgICAgfSkoeCkudmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH0oKTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIHR3byBhcmd1bWVudHMsIGBmc3RgIGFuZCBgc25kYCwgYW5kIHJldHVybnMgYFtmc3QsIHNuZF1gLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xOC4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIGEgLT4gYiAtPiAoYSxiKVxuICAgICAqIEBwYXJhbSB7Kn0gZnN0XG4gICAgICogQHBhcmFtIHsqfSBzbmRcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKiBAc2VlIFIuY3JlYXRlTWFwRW50cnksIFIub2ZcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBwYWlyKCdmb28nLCAnYmFyJyk7IC8vPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICB2YXIgcGFpciA9IF9jdXJyeTIoZnVuY3Rpb24gcGFpcihmc3QsIHNuZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZnN0LFxuICAgICAgICAgICAgc25kXG4gICAgICAgIF07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyBbU3RyaW5nXSAtPiB7azogdn0gLT4gdiB8IFVuZGVmaW5lZFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gdXNlLlxuICAgICAqIEByZXR1cm4geyp9IFRoZSBkYXRhIGF0IGBwYXRoYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnBhdGgoWydhJywgJ2InXSwge2E6IHtiOiAyfX0pOyAvLz0+IDJcbiAgICAgKiAgICAgIFIucGF0aChbJ2EnLCAnYiddLCB7Yzoge2I6IDJ9fSk7IC8vPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgdmFyIHBhdGggPSBfY3VycnkyKGZ1bmN0aW9uIHBhdGgocGF0aHMsIG9iaikge1xuICAgICAgICBpZiAob2JqID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBvYmo7XG4gICAgICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgICAgIHdoaWxlICh2YWwgIT0gbnVsbCAmJiBpZHggPCBwYXRocy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSB2YWxbcGF0aHNbaWR4XV07XG4gICAgICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgZ2l2ZW4sIG5vbi1udWxsIG9iamVjdCBoYXMgYSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcGF0aCwgcmV0dXJuc1xuICAgICAqIHRoZSB2YWx1ZSBhdCB0aGF0IHBhdGguIE90aGVyd2lzZSByZXR1cm5zIHRoZSBwcm92aWRlZCBkZWZhdWx0IHZhbHVlLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBzaWcgYSAtPiBbU3RyaW5nXSAtPiBPYmplY3QgLT4gYVxuICAgICAqIEBwYXJhbSB7Kn0gZCBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwIFRoZSBwYXRoIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgZGF0YSBhdCBgcGF0aGAgb2YgdGhlIHN1cHBsaWVkIG9iamVjdCBvciB0aGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnBhdGhPcignTi9BJywgWydhJywgJ2InXSwge2E6IHtiOiAyfX0pOyAvLz0+IDJcbiAgICAgKiAgICAgIFIucGF0aE9yKCdOL0EnLCBbJ2EnLCAnYiddLCB7Yzoge2I6IDJ9fSk7IC8vPT4gXCJOL0FcIlxuICAgICAqL1xuICAgIHZhciBwYXRoT3IgPSBfY3VycnkzKGZ1bmN0aW9uIHBhdGhPcihkLCBwLCBvYmopIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRUbyhkLCBwYXRoKHAsIG9iaikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHBhcnRpYWwgY29weSBvZiBhbiBvYmplY3QgY29udGFpbmluZyBvbmx5IHRoZSBrZXlzIHNwZWNpZmllZC4gIElmIHRoZSBrZXkgZG9lcyBub3QgZXhpc3QsIHRoZVxuICAgICAqIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIFtrXSAtPiB7azogdn0gLT4ge2s6IHZ9XG4gICAgICogQHBhcmFtIHtBcnJheX0gbmFtZXMgYW4gYXJyYXkgb2YgU3RyaW5nIHByb3BlcnR5IG5hbWVzIHRvIGNvcHkgb250byBhIG5ldyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gY29weSBmcm9tXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBIG5ldyBvYmplY3Qgd2l0aCBvbmx5IHByb3BlcnRpZXMgZnJvbSBgbmFtZXNgIG9uIGl0LlxuICAgICAqIEBzZWUgUi5vbWl0LCBSLnByb3BzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5waWNrKFsnYScsICdkJ10sIHthOiAxLCBiOiAyLCBjOiAzLCBkOiA0fSk7IC8vPT4ge2E6IDEsIGQ6IDR9XG4gICAgICogICAgICBSLnBpY2soWydhJywgJ2UnLCAnZiddLCB7YTogMSwgYjogMiwgYzogMywgZDogNH0pOyAvLz0+IHthOiAxfVxuICAgICAqL1xuICAgIHZhciBwaWNrID0gX2N1cnJ5MihmdW5jdGlvbiBwaWNrKG5hbWVzLCBvYmopIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGlkeCA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKG5hbWVzW2lkeF0gaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W25hbWVzW2lkeF1dID0gb2JqW25hbWVzW2lkeF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNpbWlsYXIgdG8gYHBpY2tgIGV4Y2VwdCB0aGF0IHRoaXMgb25lIGluY2x1ZGVzIGEgYGtleTogdW5kZWZpbmVkYCBwYWlyIGZvciBwcm9wZXJ0aWVzIHRoYXQgZG9uJ3QgZXhpc3QuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIFtrXSAtPiB7azogdn0gLT4ge2s6IHZ9XG4gICAgICogQHBhcmFtIHtBcnJheX0gbmFtZXMgYW4gYXJyYXkgb2YgU3RyaW5nIHByb3BlcnR5IG5hbWVzIHRvIGNvcHkgb250byBhIG5ldyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gY29weSBmcm9tXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBIG5ldyBvYmplY3Qgd2l0aCBvbmx5IHByb3BlcnRpZXMgZnJvbSBgbmFtZXNgIG9uIGl0LlxuICAgICAqIEBzZWUgUi5waWNrXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5waWNrQWxsKFsnYScsICdkJ10sIHthOiAxLCBiOiAyLCBjOiAzLCBkOiA0fSk7IC8vPT4ge2E6IDEsIGQ6IDR9XG4gICAgICogICAgICBSLnBpY2tBbGwoWydhJywgJ2UnLCAnZiddLCB7YTogMSwgYjogMiwgYzogMywgZDogNH0pOyAvLz0+IHthOiAxLCBlOiB1bmRlZmluZWQsIGY6IHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB2YXIgcGlja0FsbCA9IF9jdXJyeTIoZnVuY3Rpb24gcGlja0FsbChuYW1lcywgb2JqKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHZhciBsZW4gPSBuYW1lcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gbmFtZXNbaWR4XTtcbiAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IG9ialtuYW1lXTtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcGFydGlhbCBjb3B5IG9mIGFuIG9iamVjdCBjb250YWluaW5nIG9ubHkgdGhlIGtleXMgdGhhdFxuICAgICAqIHNhdGlzZnkgdGhlIHN1cHBsaWVkIHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBzaWcgKHYsIGsgLT4gQm9vbGVhbikgLT4ge2s6IHZ9IC0+IHtrOiB2fVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWQgQSBwcmVkaWNhdGUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IGEga2V5XG4gICAgICogICAgICAgIHNob3VsZCBiZSBpbmNsdWRlZCBvbiB0aGUgb3V0cHV0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gY29weSBmcm9tXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBIG5ldyBvYmplY3Qgd2l0aCBvbmx5IHByb3BlcnRpZXMgdGhhdCBzYXRpc2Z5IGBwcmVkYFxuICAgICAqICAgICAgICAgb24gaXQuXG4gICAgICogQHNlZSBSLnBpY2tcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgaXNVcHBlckNhc2UgPSAodmFsLCBrZXkpID0+IGtleS50b1VwcGVyQ2FzZSgpID09PSBrZXk7XG4gICAgICogICAgICBSLnBpY2tCeShpc1VwcGVyQ2FzZSwge2E6IDEsIGI6IDIsIEE6IDMsIEI6IDR9KTsgLy89PiB7QTogMywgQjogNH1cbiAgICAgKi9cbiAgICB2YXIgcGlja0J5ID0gX2N1cnJ5MihmdW5jdGlvbiBwaWNrQnkodGVzdCwgb2JqKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmICh0ZXN0KG9ialtwcm9wXSwgcHJvcCwgb2JqKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IG9ialtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBsaXN0IHdpdGggdGhlIGdpdmVuIGVsZW1lbnQgYXQgdGhlIGZyb250LCBmb2xsb3dlZCBieSB0aGUgY29udGVudHMgb2YgdGhlXG4gICAgICogbGlzdC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIGEgLT4gW2FdIC0+IFthXVxuICAgICAqIEBwYXJhbSB7Kn0gZWwgVGhlIGl0ZW0gdG8gYWRkIHRvIHRoZSBoZWFkIG9mIHRoZSBvdXRwdXQgbGlzdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBhcnJheSB0byBhZGQgdG8gdGhlIHRhaWwgb2YgdGhlIG91dHB1dCBsaXN0LlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBBIG5ldyBhcnJheS5cbiAgICAgKiBAc2VlIFIuYXBwZW5kXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5wcmVwZW5kKCdmZWUnLCBbJ2ZpJywgJ2ZvJywgJ2Z1bSddKTsgLy89PiBbJ2ZlZScsICdmaScsICdmbycsICdmdW0nXVxuICAgICAqL1xuICAgIHZhciBwcmVwZW5kID0gX2N1cnJ5MihmdW5jdGlvbiBwcmVwZW5kKGVsLCBsaXN0KSB7XG4gICAgICAgIHJldHVybiBfY29uY2F0KFtlbF0sIGxpc3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2hlbiBzdXBwbGllZCBhbiBvYmplY3QgcmV0dXJucyB0aGUgaW5kaWNhdGVkIHByb3BlcnR5IG9mIHRoYXQgb2JqZWN0LCBpZiBpdCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIHMgLT4ge3M6IGF9IC0+IGEgfCBVbmRlZmluZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcCBUaGUgcHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBxdWVyeVxuICAgICAqIEByZXR1cm4geyp9IFRoZSB2YWx1ZSBhdCBgb2JqLnBgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIucHJvcCgneCcsIHt4OiAxMDB9KTsgLy89PiAxMDBcbiAgICAgKiAgICAgIFIucHJvcCgneCcsIHt9KTsgLy89PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICB2YXIgcHJvcCA9IF9jdXJyeTIoZnVuY3Rpb24gcHJvcChwLCBvYmopIHtcbiAgICAgICAgcmV0dXJuIG9ialtwXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZSBnaXZlbiwgbm9uLW51bGwgb2JqZWN0IGhhcyBhbiBvd24gcHJvcGVydHkgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUsXG4gICAgICogcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhhdCBwcm9wZXJ0eS5cbiAgICAgKiBPdGhlcndpc2UgcmV0dXJucyB0aGUgcHJvdmlkZWQgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBzaWcgYSAtPiBTdHJpbmcgLT4gT2JqZWN0IC0+IGFcbiAgICAgKiBAcGFyYW0geyp9IHZhbCBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcCBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gcmV0dXJuLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgdmFsdWUgb2YgZ2l2ZW4gcHJvcGVydHkgb2YgdGhlIHN1cHBsaWVkIG9iamVjdCBvciB0aGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgYWxpY2UgPSB7XG4gICAgICogICAgICAgIG5hbWU6ICdBTElDRScsXG4gICAgICogICAgICAgIGFnZTogMTAxXG4gICAgICogICAgICB9O1xuICAgICAqICAgICAgdmFyIGZhdm9yaXRlID0gUi5wcm9wKCdmYXZvcml0ZUxpYnJhcnknKTtcbiAgICAgKiAgICAgIHZhciBmYXZvcml0ZVdpdGhEZWZhdWx0ID0gUi5wcm9wT3IoJ1JhbWRhJywgJ2Zhdm9yaXRlTGlicmFyeScpO1xuICAgICAqXG4gICAgICogICAgICBmYXZvcml0ZShhbGljZSk7ICAvLz0+IHVuZGVmaW5lZFxuICAgICAqICAgICAgZmF2b3JpdGVXaXRoRGVmYXVsdChhbGljZSk7ICAvLz0+ICdSYW1kYSdcbiAgICAgKi9cbiAgICB2YXIgcHJvcE9yID0gX2N1cnJ5MyhmdW5jdGlvbiBwcm9wT3IodmFsLCBwLCBvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIF9oYXMocCwgb2JqKSA/IG9ialtwXSA6IHZhbDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBzcGVjaWZpZWQgb2JqZWN0IHByb3BlcnR5IHNhdGlzZmllcyB0aGUgZ2l2ZW5cbiAgICAgKiBwcmVkaWNhdGU7IGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xNi4wXG4gICAgICogQGNhdGVnb3J5IExvZ2ljXG4gICAgICogQHNpZyAoYSAtPiBCb29sZWFuKSAtPiBTdHJpbmcgLT4ge1N0cmluZzogYX0gLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKiBAc2VlIFIucHJvcEVxXG4gICAgICogQHNlZSBSLnByb3BJc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIucHJvcFNhdGlzZmllcyh4ID0+IHggPiAwLCAneCcsIHt4OiAxLCB5OiAyfSk7IC8vPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBwcm9wU2F0aXNmaWVzID0gX2N1cnJ5MyhmdW5jdGlvbiBwcm9wU2F0aXNmaWVzKHByZWQsIG5hbWUsIG9iaikge1xuICAgICAgICByZXR1cm4gcHJlZChvYmpbbmFtZV0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWN0cyBhcyBtdWx0aXBsZSBgcHJvcGA6IGFycmF5IG9mIGtleXMgaW4sIGFycmF5IG9mIHZhbHVlcyBvdXQuIFByZXNlcnZlcyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBzaWcgW2tdIC0+IHtrOiB2fSAtPiBbdl1cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZmV0Y2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcXVlcnlcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVzIG9yIHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIucHJvcHMoWyd4JywgJ3knXSwge3g6IDEsIHk6IDJ9KTsgLy89PiBbMSwgMl1cbiAgICAgKiAgICAgIFIucHJvcHMoWydjJywgJ2EnLCAnYiddLCB7YjogMiwgYTogMX0pOyAvLz0+IFt1bmRlZmluZWQsIDEsIDJdXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBmdWxsTmFtZSA9IFIuY29tcG9zZShSLmpvaW4oJyAnKSwgUi5wcm9wcyhbJ2ZpcnN0JywgJ2xhc3QnXSkpO1xuICAgICAqICAgICAgZnVsbE5hbWUoe2xhc3Q6ICdCdWxsZXQtVG9vdGgnLCBhZ2U6IDMzLCBmaXJzdDogJ1RvbnknfSk7IC8vPT4gJ1RvbnkgQnVsbGV0LVRvb3RoJ1xuICAgICAqL1xuICAgIHZhciBwcm9wcyA9IF9jdXJyeTIoZnVuY3Rpb24gcHJvcHMocHMsIG9iaikge1xuICAgICAgICB2YXIgbGVuID0gcHMubGVuZ3RoO1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICBvdXRbaWR4XSA9IG9ialtwc1tpZHhdXTtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBudW1iZXJzIGZyb20gYGZyb21gIChpbmNsdXNpdmUpIHRvIGB0b2BcbiAgICAgKiAoZXhjbHVzaXZlKS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIE51bWJlciAtPiBOdW1iZXIgLT4gW051bWJlcl1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZnJvbSBUaGUgZmlyc3QgbnVtYmVyIGluIHRoZSBsaXN0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0byBPbmUgbW9yZSB0aGFuIHRoZSBsYXN0IG51bWJlciBpbiB0aGUgbGlzdC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGxpc3Qgb2YgbnVtYmVycyBpbiB0dGhlIHNldCBgW2EsIGIpYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnJhbmdlKDEsIDUpOyAgICAvLz0+IFsxLCAyLCAzLCA0XVxuICAgICAqICAgICAgUi5yYW5nZSg1MCwgNTMpOyAgLy89PiBbNTAsIDUxLCA1Ml1cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2UgPSBfY3VycnkyKGZ1bmN0aW9uIHJhbmdlKGZyb20sIHRvKSB7XG4gICAgICAgIGlmICghKF9pc051bWJlcihmcm9tKSAmJiBfaXNOdW1iZXIodG8pKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm90aCBhcmd1bWVudHMgdG8gcmFuZ2UgbXVzdCBiZSBudW1iZXJzJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgbiA9IGZyb207XG4gICAgICAgIHdoaWxlIChuIDwgdG8pIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG4pO1xuICAgICAgICAgICAgbiArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc2luZ2xlIGl0ZW0gYnkgaXRlcmF0aW5nIHRocm91Z2ggdGhlIGxpc3QsIHN1Y2Nlc3NpdmVseSBjYWxsaW5nIHRoZSBpdGVyYXRvclxuICAgICAqIGZ1bmN0aW9uIGFuZCBwYXNzaW5nIGl0IGFuIGFjY3VtdWxhdG9yIHZhbHVlIGFuZCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIHRoZSBhcnJheSwgYW5kXG4gICAgICogdGhlbiBwYXNzaW5nIHRoZSByZXN1bHQgdG8gdGhlIG5leHQgY2FsbC5cbiAgICAgKlxuICAgICAqIFNpbWlsYXIgdG8gYHJlZHVjZWAsIGV4Y2VwdCBtb3ZlcyB0aHJvdWdoIHRoZSBpbnB1dCBsaXN0IGZyb20gdGhlIHJpZ2h0IHRvIHRoZSBsZWZ0LlxuICAgICAqXG4gICAgICogVGhlIGl0ZXJhdG9yIGZ1bmN0aW9uIHJlY2VpdmVzIHR3byB2YWx1ZXM6ICooYWNjLCB2YWx1ZSkqXG4gICAgICpcbiAgICAgKiBOb3RlOiBgUi5yZWR1Y2VSaWdodGAgZG9lcyBub3Qgc2tpcCBkZWxldGVkIG9yIHVuYXNzaWduZWQgaW5kaWNlcyAoc3BhcnNlIGFycmF5cyksIHVubGlrZVxuICAgICAqIHRoZSBuYXRpdmUgYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VgIG1ldGhvZC4gRm9yIG1vcmUgZGV0YWlscyBvbiB0aGlzIGJlaGF2aW9yLCBzZWU6XG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcmVkdWNlUmlnaHQjRGVzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhLGIgLT4gYSkgLT4gYSAtPiBbYl0gLT4gYVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBpdGVyYXRvciBmdW5jdGlvbi4gUmVjZWl2ZXMgdHdvIHZhbHVlcywgdGhlIGFjY3VtdWxhdG9yIGFuZCB0aGVcbiAgICAgKiAgICAgICAgY3VycmVudCBlbGVtZW50IGZyb20gdGhlIGFycmF5LlxuICAgICAqIEBwYXJhbSB7Kn0gYWNjIFRoZSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBsaXN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgZmluYWwsIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBwYWlycyA9IFsgWydhJywgMV0sIFsnYicsIDJdLCBbJ2MnLCAzXSBdO1xuICAgICAqICAgICAgdmFyIGZsYXR0ZW5QYWlycyA9IChhY2MsIHBhaXIpID0+IGFjYy5jb25jYXQocGFpcik7XG4gICAgICpcbiAgICAgKiAgICAgIFIucmVkdWNlUmlnaHQoZmxhdHRlblBhaXJzLCBbXSwgcGFpcnMpOyAvLz0+IFsgJ2MnLCAzLCAnYicsIDIsICdhJywgMSBdXG4gICAgICovXG4gICAgdmFyIHJlZHVjZVJpZ2h0ID0gX2N1cnJ5MyhmdW5jdGlvbiByZWR1Y2VSaWdodChmbiwgYWNjLCBsaXN0KSB7XG4gICAgICAgIHZhciBpZHggPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIHdoaWxlIChpZHggPj0gMCkge1xuICAgICAgICAgICAgYWNjID0gZm4oYWNjLCBsaXN0W2lkeF0pO1xuICAgICAgICAgICAgaWR4IC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB2YWx1ZSB3cmFwcGVkIHRvIGluZGljYXRlIHRoYXQgaXQgaXMgdGhlIGZpbmFsIHZhbHVlIG9mIHRoZVxuICAgICAqIHJlZHVjZSBhbmQgdHJhbnNkdWNlIGZ1bmN0aW9ucy4gIFRoZSByZXR1cm5lZCB2YWx1ZVxuICAgICAqIHNob3VsZCBiZSBjb25zaWRlcmVkIGEgYmxhY2sgYm94OiB0aGUgaW50ZXJuYWwgc3RydWN0dXJlIGlzIG5vdFxuICAgICAqIGd1YXJhbnRlZWQgdG8gYmUgc3RhYmxlLlxuICAgICAqXG4gICAgICogTm90ZTogdGhpcyBvcHRpbWl6YXRpb24gaXMgdW5hdmFpbGFibGUgdG8gZnVuY3Rpb25zIG5vdCBleHBsaWNpdGx5IGxpc3RlZFxuICAgICAqIGFib3ZlLiAgRm9yIGluc3RhbmNlLCBpdCBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSByZWR1Y2VJbmRleGVkLFxuICAgICAqIHJlZHVjZVJpZ2h0LCBvciByZWR1Y2VSaWdodEluZGV4ZWQuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE1LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzZWUgUi5yZWR1Y2UsIFIudHJhbnNkdWNlXG4gICAgICogQHNpZyBhIC0+ICpcbiAgICAgKiBAcGFyYW0geyp9IHggVGhlIGZpbmFsIHZhbHVlIG9mIHRoZSByZWR1Y2UuXG4gICAgICogQHJldHVybiB7Kn0gVGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5yZWR1Y2UoXG4gICAgICogICAgICAgIFIucGlwZShSLmFkZCwgUi53aGVuKFIuZ3RlKFIuX18sIDEwKSwgUi5yZWR1Y2VkKSksXG4gICAgICogICAgICAgIDAsXG4gICAgICogICAgICAgIFsxLCAyLCAzLCA0LCA1XSkgLy8gMTBcbiAgICAgKi9cbiAgICB2YXIgcmVkdWNlZCA9IF9jdXJyeTEoX3JlZHVjZWQpO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgc3ViLWxpc3Qgb2YgYGxpc3RgIHN0YXJ0aW5nIGF0IGluZGV4IGBzdGFydGAgYW5kIGNvbnRhaW5pbmdcbiAgICAgKiBgY291bnRgIGVsZW1lbnRzLiAgX05vdGUgdGhhdCB0aGlzIGlzIG5vdCBkZXN0cnVjdGl2ZV86IGl0IHJldHVybnMgYVxuICAgICAqIGNvcHkgb2YgdGhlIGxpc3Qgd2l0aCB0aGUgY2hhbmdlcy5cbiAgICAgKiA8c21hbGw+Tm8gbGlzdHMgaGF2ZSBiZWVuIGhhcm1lZCBpbiB0aGUgYXBwbGljYXRpb24gb2YgdGhpcyBmdW5jdGlvbi48L3NtYWxsPlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4yLjJcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgTnVtYmVyIC0+IE51bWJlciAtPiBbYV0gLT4gW2FdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IFRoZSBwb3NpdGlvbiB0byBzdGFydCByZW1vdmluZyBlbGVtZW50c1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGxpc3QgdG8gcmVtb3ZlIGZyb21cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQSBuZXcgQXJyYXkgd2l0aCBgY291bnRgIGVsZW1lbnRzIGZyb20gYHN0YXJ0YCByZW1vdmVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIucmVtb3ZlKDIsIDMsIFsxLDIsMyw0LDUsNiw3LDhdKTsgLy89PiBbMSwyLDYsNyw4XVxuICAgICAqL1xuICAgIHZhciByZW1vdmUgPSBfY3VycnkzKGZ1bmN0aW9uIHJlbW92ZShzdGFydCwgY291bnQsIGxpc3QpIHtcbiAgICAgICAgcmV0dXJuIF9jb25jYXQoX3NsaWNlKGxpc3QsIDAsIE1hdGgubWluKHN0YXJ0LCBsaXN0Lmxlbmd0aCkpLCBfc2xpY2UobGlzdCwgTWF0aC5taW4obGlzdC5sZW5ndGgsIHN0YXJ0ICsgY291bnQpKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlIGEgc3Vic3RyaW5nIG9yIHJlZ2V4IG1hdGNoIGluIGEgc3RyaW5nIHdpdGggYSByZXBsYWNlbWVudC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuNy4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBzaWcgUmVnRXhwfFN0cmluZyAtPiBTdHJpbmcgLT4gU3RyaW5nIC0+IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7UmVnRXhwfFN0cmluZ30gcGF0dGVybiBBIHJlZ3VsYXIgZXhwcmVzc2lvbiBvciBhIHN1YnN0cmluZyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVwbGFjZW1lbnQgVGhlIHN0cmluZyB0byByZXBsYWNlIHRoZSBtYXRjaGVzIHdpdGguXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIGRvIHRoZSBzZWFyY2ggYW5kIHJlcGxhY2VtZW50IGluLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnJlcGxhY2UoJ2ZvbycsICdiYXInLCAnZm9vIGZvbyBmb28nKTsgLy89PiAnYmFyIGZvbyBmb28nXG4gICAgICogICAgICBSLnJlcGxhY2UoL2Zvby8sICdiYXInLCAnZm9vIGZvbyBmb28nKTsgLy89PiAnYmFyIGZvbyBmb28nXG4gICAgICpcbiAgICAgKiAgICAgIC8vIFVzZSB0aGUgXCJnXCIgKGdsb2JhbCkgZmxhZyB0byByZXBsYWNlIGFsbCBvY2N1cnJlbmNlczpcbiAgICAgKiAgICAgIFIucmVwbGFjZSgvZm9vL2csICdiYXInLCAnZm9vIGZvbyBmb28nKTsgLy89PiAnYmFyIGJhciBiYXInXG4gICAgICovXG4gICAgdmFyIHJlcGxhY2UgPSBfY3VycnkzKGZ1bmN0aW9uIHJlcGxhY2UocmVnZXgsIHJlcGxhY2VtZW50LCBzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlZ2V4LCByZXBsYWNlbWVudCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGxpc3Qgb3Igc3RyaW5nIHdpdGggdGhlIGVsZW1lbnRzIG9yIGNoYXJhY3RlcnMgaW4gcmV2ZXJzZVxuICAgICAqIG9yZGVyLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgW2FdIC0+IFthXVxuICAgICAqIEBzaWcgU3RyaW5nIC0+IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfSBsaXN0XG4gICAgICogQHJldHVybiB7QXJyYXl8U3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIucmV2ZXJzZShbMSwgMiwgM10pOyAgLy89PiBbMywgMiwgMV1cbiAgICAgKiAgICAgIFIucmV2ZXJzZShbMSwgMl0pOyAgICAgLy89PiBbMiwgMV1cbiAgICAgKiAgICAgIFIucmV2ZXJzZShbMV0pOyAgICAgICAgLy89PiBbMV1cbiAgICAgKiAgICAgIFIucmV2ZXJzZShbXSk7ICAgICAgICAgLy89PiBbXVxuICAgICAqXG4gICAgICogICAgICBSLnJldmVyc2UoJ2FiYycpOyAgICAgIC8vPT4gJ2NiYSdcbiAgICAgKiAgICAgIFIucmV2ZXJzZSgnYWInKTsgICAgICAgLy89PiAnYmEnXG4gICAgICogICAgICBSLnJldmVyc2UoJ2EnKTsgICAgICAgIC8vPT4gJ2EnXG4gICAgICogICAgICBSLnJldmVyc2UoJycpOyAgICAgICAgIC8vPT4gJydcbiAgICAgKi9cbiAgICB2YXIgcmV2ZXJzZSA9IF9jdXJyeTEoZnVuY3Rpb24gcmV2ZXJzZShsaXN0KSB7XG4gICAgICAgIHJldHVybiBfaXNTdHJpbmcobGlzdCkgPyBsaXN0LnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJykgOiBfc2xpY2UobGlzdCkucmV2ZXJzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogU2NhbiBpcyBzaW1pbGFyIHRvIHJlZHVjZSwgYnV0IHJldHVybnMgYSBsaXN0IG9mIHN1Y2Nlc3NpdmVseSByZWR1Y2VkIHZhbHVlcyBmcm9tIHRoZSBsZWZ0XG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEsYiAtPiBhKSAtPiBhIC0+IFtiXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgaXRlcmF0b3IgZnVuY3Rpb24uIFJlY2VpdmVzIHR3byB2YWx1ZXMsIHRoZSBhY2N1bXVsYXRvciBhbmQgdGhlXG4gICAgICogICAgICAgIGN1cnJlbnQgZWxlbWVudCBmcm9tIHRoZSBhcnJheVxuICAgICAqIEBwYXJhbSB7Kn0gYWNjIFRoZSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBsaXN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQSBsaXN0IG9mIGFsbCBpbnRlcm1lZGlhdGVseSByZWR1Y2VkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbnVtYmVycyA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiAgICAgIHZhciBmYWN0b3JpYWxzID0gUi5zY2FuKFIubXVsdGlwbHksIDEsIG51bWJlcnMpOyAvLz0+IFsxLCAxLCAyLCA2LCAyNF1cbiAgICAgKi9cbiAgICB2YXIgc2NhbiA9IF9jdXJyeTMoZnVuY3Rpb24gc2NhbihmbiwgYWNjLCBsaXN0KSB7XG4gICAgICAgIHZhciBpZHggPSAwLCBsZW4gPSBsaXN0Lmxlbmd0aCwgcmVzdWx0ID0gW2FjY107XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICAgICAgICAgIGFjYyA9IGZuKGFjYywgbGlzdFtpZHhdKTtcbiAgICAgICAgICAgIHJlc3VsdFtpZHggKyAxXSA9IGFjYztcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgXCJzZXR0aW5nXCIgdGhlIHBvcnRpb24gb2YgdGhlIGdpdmVuIGRhdGEgc3RydWN0dXJlXG4gICAgICogZm9jdXNlZCBieSB0aGUgZ2l2ZW4gbGVucyB0byB0aGUgZ2l2ZW4gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE2LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHR5cGVkZWZuIExlbnMgcyBhID0gRnVuY3RvciBmID0+IChhIC0+IGYgYSkgLT4gcyAtPiBmIHNcbiAgICAgKiBAc2lnIExlbnMgcyBhIC0+IGEgLT4gcyAtPiBzXG4gICAgICogQHBhcmFtIHtMZW5zfSBsZW5zXG4gICAgICogQHBhcmFtIHsqfSB2XG4gICAgICogQHBhcmFtIHsqfSB4XG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKiBAc2VlIFIucHJvcCwgUi5sZW5zSW5kZXgsIFIubGVuc1Byb3BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgeExlbnMgPSBSLmxlbnNQcm9wKCd4Jyk7XG4gICAgICpcbiAgICAgKiAgICAgIFIuc2V0KHhMZW5zLCA0LCB7eDogMSwgeTogMn0pOyAgLy89PiB7eDogNCwgeTogMn1cbiAgICAgKiAgICAgIFIuc2V0KHhMZW5zLCA4LCB7eDogMSwgeTogMn0pOyAgLy89PiB7eDogOCwgeTogMn1cbiAgICAgKi9cbiAgICB2YXIgc2V0ID0gX2N1cnJ5MyhmdW5jdGlvbiBzZXQobGVucywgdiwgeCkge1xuICAgICAgICByZXR1cm4gb3ZlcihsZW5zLCBhbHdheXModiksIHgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIGxpc3QsIHNvcnRlZCBhY2NvcmRpbmcgdG8gdGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24sIHdoaWNoIHNob3VsZCBhY2NlcHQgdHdvIHZhbHVlcyBhdCBhXG4gICAgICogdGltZSBhbmQgcmV0dXJuIGEgbmVnYXRpdmUgbnVtYmVyIGlmIHRoZSBmaXJzdCB2YWx1ZSBpcyBzbWFsbGVyLCBhIHBvc2l0aXZlIG51bWJlciBpZiBpdCdzIGxhcmdlciwgYW5kIHplcm9cbiAgICAgKiBpZiB0aGV5IGFyZSBlcXVhbC4gIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBpcyBhICoqY29weSoqIG9mIHRoZSBsaXN0LiAgSXQgZG9lcyBub3QgbW9kaWZ5IHRoZSBvcmlnaW5hbC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhLGEgLT4gTnVtYmVyKSAtPiBbYV0gLT4gW2FdXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBBIHNvcnRpbmcgZnVuY3Rpb24gOjogYSAtPiBiIC0+IEludFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGxpc3QgdG8gc29ydFxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhIG5ldyBhcnJheSB3aXRoIGl0cyBlbGVtZW50cyBzb3J0ZWQgYnkgdGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGRpZmYgPSBmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhIC0gYjsgfTtcbiAgICAgKiAgICAgIFIuc29ydChkaWZmLCBbNCwyLDcsNV0pOyAvLz0+IFsyLCA0LCA1LCA3XVxuICAgICAqL1xuICAgIHZhciBzb3J0ID0gX2N1cnJ5MihmdW5jdGlvbiBzb3J0KGNvbXBhcmF0b3IsIGxpc3QpIHtcbiAgICAgICAgcmV0dXJuIF9zbGljZShsaXN0KS5zb3J0KGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogU29ydHMgdGhlIGxpc3QgYWNjb3JkaW5nIHRvIHRoZSBzdXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IFJlbGF0aW9uXG4gICAgICogQHNpZyBPcmQgYiA9PiAoYSAtPiBiKSAtPiBbYV0gLT4gW2FdXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBsaXN0IHRvIHNvcnQuXG4gICAgICogQHJldHVybiB7QXJyYXl9IEEgbmV3IGxpc3Qgc29ydGVkIGJ5IHRoZSBrZXlzIGdlbmVyYXRlZCBieSBgZm5gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBzb3J0QnlGaXJzdEl0ZW0gPSBSLnNvcnRCeShSLnByb3AoMCkpO1xuICAgICAqICAgICAgdmFyIHNvcnRCeU5hbWVDYXNlSW5zZW5zaXRpdmUgPSBSLnNvcnRCeShSLmNvbXBvc2UoUi50b0xvd2VyLCBSLnByb3AoJ25hbWUnKSkpO1xuICAgICAqICAgICAgdmFyIHBhaXJzID0gW1stMSwgMV0sIFstMiwgMl0sIFstMywgM11dO1xuICAgICAqICAgICAgc29ydEJ5Rmlyc3RJdGVtKHBhaXJzKTsgLy89PiBbWy0zLCAzXSwgWy0yLCAyXSwgWy0xLCAxXV1cbiAgICAgKiAgICAgIHZhciBhbGljZSA9IHtcbiAgICAgKiAgICAgICAgbmFtZTogJ0FMSUNFJyxcbiAgICAgKiAgICAgICAgYWdlOiAxMDFcbiAgICAgKiAgICAgIH07XG4gICAgICogICAgICB2YXIgYm9iID0ge1xuICAgICAqICAgICAgICBuYW1lOiAnQm9iJyxcbiAgICAgKiAgICAgICAgYWdlOiAtMTBcbiAgICAgKiAgICAgIH07XG4gICAgICogICAgICB2YXIgY2xhcmEgPSB7XG4gICAgICogICAgICAgIG5hbWU6ICdjbGFyYScsXG4gICAgICogICAgICAgIGFnZTogMzE0LjE1OVxuICAgICAqICAgICAgfTtcbiAgICAgKiAgICAgIHZhciBwZW9wbGUgPSBbY2xhcmEsIGJvYiwgYWxpY2VdO1xuICAgICAqICAgICAgc29ydEJ5TmFtZUNhc2VJbnNlbnNpdGl2ZShwZW9wbGUpOyAvLz0+IFthbGljZSwgYm9iLCBjbGFyYV1cbiAgICAgKi9cbiAgICB2YXIgc29ydEJ5ID0gX2N1cnJ5MihmdW5jdGlvbiBzb3J0QnkoZm4sIGxpc3QpIHtcbiAgICAgICAgcmV0dXJuIF9zbGljZShsaXN0KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICB2YXIgYWEgPSBmbihhKTtcbiAgICAgICAgICAgIHZhciBiYiA9IGZuKGIpO1xuICAgICAgICAgICAgcmV0dXJuIGFhIDwgYmIgPyAtMSA6IGFhID4gYmIgPyAxIDogMDtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdHdvIG51bWJlcnMuIEVxdWl2YWxlbnQgdG8gYGEgLSBiYCBidXQgY3VycmllZC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAc2lnIE51bWJlciAtPiBOdW1iZXIgLT4gTnVtYmVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgVGhlIGZpcnN0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIFRoZSBzZWNvbmQgdmFsdWUuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgcmVzdWx0IG9mIGBhIC0gYmAuXG4gICAgICogQHNlZSBSLmFkZFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuc3VidHJhY3QoMTAsIDgpOyAvLz0+IDJcbiAgICAgKlxuICAgICAqICAgICAgdmFyIG1pbnVzNSA9IFIuc3VidHJhY3QoUi5fXywgNSk7XG4gICAgICogICAgICBtaW51czUoMTcpOyAvLz0+IDEyXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBjb21wbGVtZW50YXJ5QW5nbGUgPSBSLnN1YnRyYWN0KDkwKTtcbiAgICAgKiAgICAgIGNvbXBsZW1lbnRhcnlBbmdsZSgzMCk7IC8vPT4gNjBcbiAgICAgKiAgICAgIGNvbXBsZW1lbnRhcnlBbmdsZSg3Mik7IC8vPT4gMThcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBfY3VycnkyKGZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgLSBiO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhlIGxhc3QgYG5gIGVsZW1lbnRzIG9mIGEgZ2l2ZW4gbGlzdCwgcGFzc2luZyBlYWNoIHZhbHVlXG4gICAgICogdG8gdGhlIHN1cHBsaWVkIHByZWRpY2F0ZSBmdW5jdGlvbiwgYW5kIHRlcm1pbmF0aW5nIHdoZW4gdGhlIHByZWRpY2F0ZSBmdW5jdGlvbiByZXR1cm5zXG4gICAgICogYGZhbHNlYC4gRXhjbHVkZXMgdGhlIGVsZW1lbnQgdGhhdCBjYXVzZWQgdGhlIHByZWRpY2F0ZSBmdW5jdGlvbiB0byBmYWlsLiBUaGUgcHJlZGljYXRlXG4gICAgICogZnVuY3Rpb24gaXMgcGFzc2VkIG9uZSBhcmd1bWVudDogKih2YWx1ZSkqLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xNi4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhIC0+IEJvb2xlYW4pIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybiB7QXJyYXl9IEEgbmV3IGFycmF5LlxuICAgICAqIEBzZWUgUi5kcm9wTGFzdFdoaWxlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGlzTm90T25lID0geCA9PiB4ICE9PSAxO1xuICAgICAqXG4gICAgICogICAgICBSLnRha2VMYXN0V2hpbGUoaXNOb3RPbmUsIFsxLCAyLCAzLCA0XSk7IC8vPT4gWzIsIDMsIDRdXG4gICAgICovXG4gICAgdmFyIHRha2VMYXN0V2hpbGUgPSBfY3VycnkyKGZ1bmN0aW9uIHRha2VMYXN0V2hpbGUoZm4sIGxpc3QpIHtcbiAgICAgICAgdmFyIGlkeCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKGlkeCA+PSAwICYmIGZuKGxpc3RbaWR4XSkpIHtcbiAgICAgICAgICAgIGlkeCAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc2xpY2UobGlzdCwgaWR4ICsgMSwgSW5maW5pdHkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgZ2l2ZW4gZnVuY3Rpb24gd2l0aCB0aGUgc3VwcGxpZWQgb2JqZWN0LCB0aGVuIHJldHVybnMgdGhlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNpZyAoYSAtPiAqKSAtPiBhIC0+IGFcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aXRoIGB4YC4gVGhlIHJldHVybiB2YWx1ZSBvZiBgZm5gIHdpbGwgYmUgdGhyb3duIGF3YXkuXG4gICAgICogQHBhcmFtIHsqfSB4XG4gICAgICogQHJldHVybiB7Kn0gYHhgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBzYXlYID0geCA9PiBjb25zb2xlLmxvZygneCBpcyAnICsgeCk7XG4gICAgICogICAgICBSLnRhcChzYXlYLCAxMDApOyAvLz0+IDEwMFxuICAgICAqICAgICAgLy8tPiAneCBpcyAxMDAnXG4gICAgICovXG4gICAgdmFyIHRhcCA9IF9jdXJyeTIoZnVuY3Rpb24gdGFwKGZuLCB4KSB7XG4gICAgICAgIGZuKHgpO1xuICAgICAgICByZXR1cm4geDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENhbGxzIGFuIGlucHV0IGZ1bmN0aW9uIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHJlc3VsdHMgb2YgdGhvc2VcbiAgICAgKiBmdW5jdGlvbiBjYWxscy5cbiAgICAgKlxuICAgICAqIGBmbmAgaXMgcGFzc2VkIG9uZSBhcmd1bWVudDogVGhlIGN1cnJlbnQgdmFsdWUgb2YgYG5gLCB3aGljaCBiZWdpbnMgYXQgYDBgIGFuZCBpc1xuICAgICAqIGdyYWR1YWxseSBpbmNyZW1lbnRlZCB0byBgbiAtIDFgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4yLjNcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGkgLT4gYSkgLT4gaSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLiBQYXNzZWQgb25lIGFyZ3VtZW50LCB0aGUgY3VycmVudCB2YWx1ZSBvZiBgbmAuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gQSB2YWx1ZSBiZXR3ZWVuIGAwYCBhbmQgYG4gLSAxYC4gSW5jcmVtZW50cyBhZnRlciBlYWNoIGZ1bmN0aW9uIGNhbGwuXG4gICAgICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHJldHVybiB2YWx1ZXMgb2YgYWxsIGNhbGxzIHRvIGBmbmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi50aW1lcyhSLmlkZW50aXR5LCA1KTsgLy89PiBbMCwgMSwgMiwgMywgNF1cbiAgICAgKi9cbiAgICB2YXIgdGltZXMgPSBfY3VycnkyKGZ1bmN0aW9uIHRpbWVzKGZuLCBuKSB7XG4gICAgICAgIHZhciBsZW4gPSBOdW1iZXIobik7XG4gICAgICAgIHZhciBsaXN0ID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICBsaXN0W2lkeF0gPSBmbihpZHgpO1xuICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbiBvYmplY3QgaW50byBhbiBhcnJheSBvZiBrZXksIHZhbHVlIGFycmF5cy5cbiAgICAgKiBPbmx5IHRoZSBvYmplY3QncyBvd24gcHJvcGVydGllcyBhcmUgdXNlZC5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9yZGVyIG9mIHRoZSBvdXRwdXQgYXJyYXkgaXMgbm90IGd1YXJhbnRlZWQgdG8gYmVcbiAgICAgKiBjb25zaXN0ZW50IGFjcm9zcyBkaWZmZXJlbnQgSlMgcGxhdGZvcm1zLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyB7U3RyaW5nOiAqfSAtPiBbW1N0cmluZywqXV1cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gZXh0cmFjdCBmcm9tXG4gICAgICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5IG9mIGtleSwgdmFsdWUgYXJyYXlzIGZyb20gdGhlIG9iamVjdCdzIG93biBwcm9wZXJ0aWVzLlxuICAgICAqIEBzZWUgUi5mcm9tUGFpcnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnRvUGFpcnMoe2E6IDEsIGI6IDIsIGM6IDN9KTsgLy89PiBbWydhJywgMV0sIFsnYicsIDJdLCBbJ2MnLCAzXV1cbiAgICAgKi9cbiAgICB2YXIgdG9QYWlycyA9IF9jdXJyeTEoZnVuY3Rpb24gdG9QYWlycyhvYmopIHtcbiAgICAgICAgdmFyIHBhaXJzID0gW107XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoX2hhcyhwcm9wLCBvYmopKSB7XG4gICAgICAgICAgICAgICAgcGFpcnNbcGFpcnMubGVuZ3RoXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFpcnM7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbiBvYmplY3QgaW50byBhbiBhcnJheSBvZiBrZXksIHZhbHVlIGFycmF5cy5cbiAgICAgKiBUaGUgb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMgYW5kIHByb3RvdHlwZSBwcm9wZXJ0aWVzIGFyZSB1c2VkLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb3JkZXIgb2YgdGhlIG91dHB1dCBhcnJheSBpcyBub3QgZ3VhcmFudGVlZCB0byBiZVxuICAgICAqIGNvbnNpc3RlbnQgYWNyb3NzIGRpZmZlcmVudCBKUyBwbGF0Zm9ybXMuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIHtTdHJpbmc6ICp9IC0+IFtbU3RyaW5nLCpdXVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBleHRyYWN0IGZyb21cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2Yga2V5LCB2YWx1ZSBhcnJheXMgZnJvbSB0aGUgb2JqZWN0J3Mgb3duXG4gICAgICogICAgICAgICBhbmQgcHJvdG90eXBlIHByb3BlcnRpZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIEYgPSBmdW5jdGlvbigpIHsgdGhpcy54ID0gJ1gnOyB9O1xuICAgICAqICAgICAgRi5wcm90b3R5cGUueSA9ICdZJztcbiAgICAgKiAgICAgIHZhciBmID0gbmV3IEYoKTtcbiAgICAgKiAgICAgIFIudG9QYWlyc0luKGYpOyAvLz0+IFtbJ3gnLCdYJ10sIFsneScsJ1knXV1cbiAgICAgKi9cbiAgICB2YXIgdG9QYWlyc0luID0gX2N1cnJ5MShmdW5jdGlvbiB0b1BhaXJzSW4ob2JqKSB7XG4gICAgICAgIHZhciBwYWlycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgcGFpcnNbcGFpcnMubGVuZ3RoXSA9IFtcbiAgICAgICAgICAgICAgICBwcm9wLFxuICAgICAgICAgICAgICAgIG9ialtwcm9wXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFpcnM7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIChzdHJpcHMpIHdoaXRlc3BhY2UgZnJvbSBib3RoIGVuZHMgb2YgdGhlIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuNi4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBzaWcgU3RyaW5nIC0+IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVHJpbW1lZCB2ZXJzaW9uIG9mIGBzdHJgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIudHJpbSgnICAgeHl6ICAnKTsgLy89PiAneHl6J1xuICAgICAqICAgICAgUi5tYXAoUi50cmltLCBSLnNwbGl0KCcsJywgJ3gsIHksIHonKSk7IC8vPT4gWyd4JywgJ3knLCAneiddXG4gICAgICovXG4gICAgdmFyIHRyaW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3cyA9ICdcXHRcXG5cXHgwQlxcZlxcciBcXHhBMFxcdTE2ODBcXHUxODBFXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwMycgKyAnXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjgnICsgJ1xcdTIwMjlcXHVGRUZGJztcbiAgICAgICAgdmFyIHplcm9XaWR0aCA9ICdcXHUyMDBCJztcbiAgICAgICAgdmFyIGhhc1Byb3RvVHJpbSA9IHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnRyaW0gPT09ICdmdW5jdGlvbic7XG4gICAgICAgIGlmICghaGFzUHJvdG9UcmltIHx8ICh3cy50cmltKCkgfHwgIXplcm9XaWR0aC50cmltKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gX2N1cnJ5MShmdW5jdGlvbiB0cmltKHN0cikge1xuICAgICAgICAgICAgICAgIHZhciBiZWdpblJ4ID0gbmV3IFJlZ0V4cCgnXlsnICsgd3MgKyAnXVsnICsgd3MgKyAnXSonKTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kUnggPSBuZXcgUmVnRXhwKCdbJyArIHdzICsgJ11bJyArIHdzICsgJ10qJCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZShiZWdpblJ4LCAnJykucmVwbGFjZShlbmRSeCwgJycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX2N1cnJ5MShmdW5jdGlvbiB0cmltKHN0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHIudHJpbSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KCk7XG5cbiAgICAvKipcbiAgICAgKiBHaXZlcyBhIHNpbmdsZS13b3JkIHN0cmluZyBkZXNjcmlwdGlvbiBvZiB0aGUgKG5hdGl2ZSkgdHlwZSBvZiBhIHZhbHVlLCByZXR1cm5pbmcgc3VjaFxuICAgICAqIGFuc3dlcnMgYXMgJ09iamVjdCcsICdOdW1iZXInLCAnQXJyYXknLCBvciAnTnVsbCcuICBEb2VzIG5vdCBhdHRlbXB0IHRvIGRpc3Rpbmd1aXNoIHVzZXJcbiAgICAgKiBPYmplY3QgdHlwZXMgYW55IGZ1cnRoZXIsIHJlcG9ydGluZyB0aGVtIGFsbCBhcyAnT2JqZWN0Jy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuOC4wXG4gICAgICogQGNhdGVnb3J5IFR5cGVcbiAgICAgKiBAc2lnICgqIC0+IHsqfSkgLT4gU3RyaW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi50eXBlKHt9KTsgLy89PiBcIk9iamVjdFwiXG4gICAgICogICAgICBSLnR5cGUoMSk7IC8vPT4gXCJOdW1iZXJcIlxuICAgICAqICAgICAgUi50eXBlKGZhbHNlKTsgLy89PiBcIkJvb2xlYW5cIlxuICAgICAqICAgICAgUi50eXBlKCdzJyk7IC8vPT4gXCJTdHJpbmdcIlxuICAgICAqICAgICAgUi50eXBlKG51bGwpOyAvLz0+IFwiTnVsbFwiXG4gICAgICogICAgICBSLnR5cGUoW10pOyAvLz0+IFwiQXJyYXlcIlxuICAgICAqICAgICAgUi50eXBlKC9bQS16XS8pOyAvLz0+IFwiUmVnRXhwXCJcbiAgICAgKi9cbiAgICB2YXIgdHlwZSA9IF9jdXJyeTEoZnVuY3Rpb24gdHlwZSh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gbnVsbCA/ICdOdWxsJyA6IHZhbCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKS5zbGljZSg4LCAtMSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGZ1bmN0aW9uIGBmbmAsIHdoaWNoIHRha2VzIGEgc2luZ2xlIGFycmF5IGFyZ3VtZW50LCBhbmQgcmV0dXJuc1xuICAgICAqIGEgZnVuY3Rpb24gd2hpY2g6XG4gICAgICpcbiAgICAgKiAgIC0gdGFrZXMgYW55IG51bWJlciBvZiBwb3NpdGlvbmFsIGFyZ3VtZW50cztcbiAgICAgKiAgIC0gcGFzc2VzIHRoZXNlIGFyZ3VtZW50cyB0byBgZm5gIGFzIGFuIGFycmF5OyBhbmRcbiAgICAgKiAgIC0gcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogSW4gb3RoZXIgd29yZHMsIFIudW5hcHBseSBkZXJpdmVzIGEgdmFyaWFkaWMgZnVuY3Rpb24gZnJvbSBhIGZ1bmN0aW9uXG4gICAgICogd2hpY2ggdGFrZXMgYW4gYXJyYXkuIFIudW5hcHBseSBpcyB0aGUgaW52ZXJzZSBvZiBSLmFwcGx5LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnIChbKi4uLl0gLT4gYSkgLT4gKCouLi4gLT4gYSlcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgICAqIEBzZWUgUi5hcHBseVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIudW5hcHBseShKU09OLnN0cmluZ2lmeSkoMSwgMiwgMyk7IC8vPT4gJ1sxLDIsM10nXG4gICAgICovXG4gICAgdmFyIHVuYXBwbHkgPSBfY3VycnkxKGZ1bmN0aW9uIHVuYXBwbHkoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBmbihfc2xpY2UoYXJndW1lbnRzKSk7XG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBXcmFwcyBhIGZ1bmN0aW9uIG9mIGFueSBhcml0eSAoaW5jbHVkaW5nIG51bGxhcnkpIGluIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGV4YWN0bHkgMVxuICAgICAqIHBhcmFtZXRlci4gQW55IGV4dHJhbmVvdXMgcGFyYW1ldGVycyB3aWxsIG5vdCBiZSBwYXNzZWQgdG8gdGhlIHN1cHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnICgqIC0+IGIpIC0+IChhIC0+IGIpXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHdyYXBwaW5nIGBmbmAuIFRoZSBuZXcgZnVuY3Rpb24gaXMgZ3VhcmFudGVlZCB0byBiZSBvZlxuICAgICAqICAgICAgICAgYXJpdHkgMS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgdGFrZXNUd29BcmdzID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAqICAgICAgICByZXR1cm4gW2EsIGJdO1xuICAgICAqICAgICAgfTtcbiAgICAgKiAgICAgIHRha2VzVHdvQXJncy5sZW5ndGg7IC8vPT4gMlxuICAgICAqICAgICAgdGFrZXNUd29BcmdzKDEsIDIpOyAvLz0+IFsxLCAyXVxuICAgICAqXG4gICAgICogICAgICB2YXIgdGFrZXNPbmVBcmcgPSBSLnVuYXJ5KHRha2VzVHdvQXJncyk7XG4gICAgICogICAgICB0YWtlc09uZUFyZy5sZW5ndGg7IC8vPT4gMVxuICAgICAqICAgICAgLy8gT25seSAxIGFyZ3VtZW50IGlzIHBhc3NlZCB0byB0aGUgd3JhcHBlZCBmdW5jdGlvblxuICAgICAqICAgICAgdGFrZXNPbmVBcmcoMSwgMik7IC8vPT4gWzEsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICB2YXIgdW5hcnkgPSBfY3VycnkxKGZ1bmN0aW9uIHVuYXJ5KGZuKSB7XG4gICAgICAgIHJldHVybiBuQXJ5KDEsIGZuKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiBvZiBhcml0eSBgbmAgZnJvbSBhIChtYW51YWxseSkgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgTnVtYmVyIC0+IChhIC0+IGIpIC0+IChhIC0+IGMpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgYXJpdHkgZm9yIHRoZSByZXR1cm5lZCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gdW5jdXJyeS5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHNlZSBSLmN1cnJ5XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGFkZEZvdXIgPSBhID0+IGIgPT4gYyA9PiBkID0+IGEgKyBiICsgYyArIGQ7XG4gICAgICpcbiAgICAgKiAgICAgIHZhciB1bmN1cnJpZWRBZGRGb3VyID0gUi51bmN1cnJ5Tig0LCBhZGRGb3VyKTtcbiAgICAgKiAgICAgIHVuY3VycmllZEFkZEZvdXIoMSwgMiwgMywgNCk7IC8vPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgdW5jdXJyeU4gPSBfY3VycnkyKGZ1bmN0aW9uIHVuY3VycnlOKGRlcHRoLCBmbikge1xuICAgICAgICByZXR1cm4gY3VycnlOKGRlcHRoLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudERlcHRoID0gMTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGZuO1xuICAgICAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgICAgICB2YXIgZW5kSWR4O1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnREZXB0aCA8PSBkZXB0aCAmJiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBlbmRJZHggPSBjdXJyZW50RGVwdGggPT09IGRlcHRoID8gYXJndW1lbnRzLmxlbmd0aCA6IGlkeCArIHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmFwcGx5KHRoaXMsIF9zbGljZShhcmd1bWVudHMsIGlkeCwgZW5kSWR4KSk7XG4gICAgICAgICAgICAgICAgY3VycmVudERlcHRoICs9IDE7XG4gICAgICAgICAgICAgICAgaWR4ID0gZW5kSWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBhIGxpc3QgZnJvbSBhIHNlZWQgdmFsdWUuIEFjY2VwdHMgYW4gaXRlcmF0b3IgZnVuY3Rpb24sIHdoaWNoIHJldHVybnMgZWl0aGVyIGZhbHNlXG4gICAgICogdG8gc3RvcCBpdGVyYXRpb24gb3IgYW4gYXJyYXkgb2YgbGVuZ3RoIDIgY29udGFpbmluZyB0aGUgdmFsdWUgdG8gYWRkIHRvIHRoZSByZXN1bHRpbmdcbiAgICAgKiBsaXN0IGFuZCB0aGUgc2VlZCB0byBiZSB1c2VkIGluIHRoZSBuZXh0IGNhbGwgdG8gdGhlIGl0ZXJhdG9yIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogVGhlIGl0ZXJhdG9yIGZ1bmN0aW9uIHJlY2VpdmVzIG9uZSBhcmd1bWVudDogKihzZWVkKSouXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEgLT4gW2JdKSAtPiAqIC0+IFtiXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBpdGVyYXRvciBmdW5jdGlvbi4gcmVjZWl2ZXMgb25lIGFyZ3VtZW50LCBgc2VlZGAsIGFuZCByZXR1cm5zXG4gICAgICogICAgICAgIGVpdGhlciBmYWxzZSB0byBxdWl0IGl0ZXJhdGlvbiBvciBhbiBhcnJheSBvZiBsZW5ndGggdHdvIHRvIHByb2NlZWQuIFRoZSBlbGVtZW50XG4gICAgICogICAgICAgIGF0IGluZGV4IDAgb2YgdGhpcyBhcnJheSB3aWxsIGJlIGFkZGVkIHRvIHRoZSByZXN1bHRpbmcgYXJyYXksIGFuZCB0aGUgZWxlbWVudFxuICAgICAqICAgICAgICBhdCBpbmRleCAxIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBuZXh0IGNhbGwgdG8gYGZuYC5cbiAgICAgKiBAcGFyYW0geyp9IHNlZWQgVGhlIHNlZWQgdmFsdWUuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBmaW5hbCBsaXN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBmID0gbiA9PiBuID4gNTAgPyBmYWxzZSA6IFstbiwgbiArIDEwXTtcbiAgICAgKiAgICAgIFIudW5mb2xkKGYsIDEwKTsgLy89PiBbLTEwLCAtMjAsIC0zMCwgLTQwLCAtNTBdXG4gICAgICovXG4gICAgdmFyIHVuZm9sZCA9IF9jdXJyeTIoZnVuY3Rpb24gdW5mb2xkKGZuLCBzZWVkKSB7XG4gICAgICAgIHZhciBwYWlyID0gZm4oc2VlZCk7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgd2hpbGUgKHBhaXIgJiYgcGFpci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHBhaXJbMF07XG4gICAgICAgICAgICBwYWlyID0gZm4ocGFpclsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgbGlzdCBjb250YWluaW5nIG9ubHkgb25lIGNvcHkgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBvcmlnaW5hbCBsaXN0LCBiYXNlZFxuICAgICAqIHVwb24gdGhlIHZhbHVlIHJldHVybmVkIGJ5IGFwcGx5aW5nIHRoZSBzdXBwbGllZCBwcmVkaWNhdGUgdG8gdHdvIGxpc3QgZWxlbWVudHMuIFByZWZlcnNcbiAgICAgKiB0aGUgZmlyc3QgaXRlbSBpZiB0d28gaXRlbXMgY29tcGFyZSBlcXVhbCBiYXNlZCBvbiB0aGUgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEsIGEgLT4gQm9vbGVhbikgLT4gW2FdIC0+IFthXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWQgQSBwcmVkaWNhdGUgdXNlZCB0byB0ZXN0IHdoZXRoZXIgdHdvIGl0ZW1zIGFyZSBlcXVhbC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBhcnJheSB0byBjb25zaWRlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGxpc3Qgb2YgdW5pcXVlIGl0ZW1zLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBzdHJFcSA9IFIuZXFCeShTdHJpbmcpO1xuICAgICAqICAgICAgUi51bmlxV2l0aChzdHJFcSkoWzEsICcxJywgMiwgMV0pOyAvLz0+IFsxLCAyXVxuICAgICAqICAgICAgUi51bmlxV2l0aChzdHJFcSkoW3t9LCB7fV0pOyAgICAgICAvLz0+IFt7fV1cbiAgICAgKiAgICAgIFIudW5pcVdpdGgoc3RyRXEpKFsxLCAnMScsIDFdKTsgICAgLy89PiBbMV1cbiAgICAgKiAgICAgIFIudW5pcVdpdGgoc3RyRXEpKFsnMScsIDEsIDFdKTsgICAgLy89PiBbJzEnXVxuICAgICAqL1xuICAgIHZhciB1bmlxV2l0aCA9IF9jdXJyeTIoZnVuY3Rpb24gdW5pcVdpdGgocHJlZCwgbGlzdCkge1xuICAgICAgICB2YXIgaWR4ID0gMCwgbGVuID0gbGlzdC5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXSwgaXRlbTtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgICAgICAgICAgaXRlbSA9IGxpc3RbaWR4XTtcbiAgICAgICAgICAgIGlmICghX2NvbnRhaW5zV2l0aChwcmVkLCBpdGVtLCByZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyB0aGUgZmluYWwgYXJndW1lbnQgYnkgcGFzc2luZyBpdCB0byB0aGUgZ2l2ZW4gcHJlZGljYXRlIGZ1bmN0aW9uLlxuICAgICAqIElmIHRoZSBwcmVkaWNhdGUgaXMgbm90IHNhdGlzZmllZCwgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBgd2hlbkZhbHNlRm5gIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgYXJndW1lbnQuIElmIHRoZVxuICAgICAqIHByZWRpY2F0ZSBpcyBzYXRpc2ZpZWQsIHRoZSBhcmd1bWVudCBpcyByZXR1cm5lZCBhcyBpcy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTguMFxuICAgICAqIEBjYXRlZ29yeSBMb2dpY1xuICAgICAqIEBzZWUgUi5pZkVsc2UsIFIud2hlblxuICAgICAqIEBzaWcgKGEgLT4gQm9vbGVhbikgLT4gKGEgLT4gYSkgLT4gYSAtPiBhXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZCAgICAgICAgQSBwcmVkaWNhdGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3aGVuRmFsc2VGbiBBIGZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHRoZSBgcHJlZGAgZXZhbHVhdGVzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gYSBmYWxzeSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9ICAgICAgICB4ICAgICAgICAgICBBbiBvYmplY3QgdG8gdGVzdCB3aXRoIHRoZSBgcHJlZGAgZnVuY3Rpb24gYW5kXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcyB0byBgd2hlbkZhbHNlRm5gIGlmIG5lY2Vzc2FyeS5cbiAgICAgKiBAcmV0dXJuIHsqfSBFaXRoZXIgYHhgIG9yIHRoZSByZXN1bHQgb2YgYXBwbHlpbmcgYHhgIHRvIGB3aGVuRmFsc2VGbmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgLy8gY29lcmNlQXJyYXkgOjogKGF8W2FdKSAtPiBbYV1cbiAgICAgKiAgICAgIHZhciBjb2VyY2VBcnJheSA9IFIudW5sZXNzKFIuaXNBcnJheUxpa2UsIFIub2YpO1xuICAgICAqICAgICAgY29lcmNlQXJyYXkoWzEsIDIsIDNdKTsgLy89PiBbMSwgMiwgM11cbiAgICAgKiAgICAgIGNvZXJjZUFycmF5KDEpOyAgICAgICAgIC8vPT4gWzFdXG4gICAgICovXG4gICAgdmFyIHVubGVzcyA9IF9jdXJyeTMoZnVuY3Rpb24gdW5sZXNzKHByZWQsIHdoZW5GYWxzZUZuLCB4KSB7XG4gICAgICAgIHJldHVybiBwcmVkKHgpID8geCA6IHdoZW5GYWxzZUZuKHgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBjb3B5IG9mIHRoZSBhcnJheSB3aXRoIHRoZSBlbGVtZW50IGF0IHRoZVxuICAgICAqIHByb3ZpZGVkIGluZGV4IHJlcGxhY2VkIHdpdGggdGhlIGdpdmVuIHZhbHVlLlxuICAgICAqIEBzZWUgUi5hZGp1c3RcbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBOdW1iZXIgLT4gYSAtPiBbYV0gLT4gW2FdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGlkeCBUaGUgaW5kZXggdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7Kn0geCBUaGUgdmFsdWUgdG8gZXhpc3QgYXQgdGhlIGdpdmVuIGluZGV4IG9mIHRoZSByZXR1cm5lZCBhcnJheS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fEFyZ3VtZW50c30gbGlzdCBUaGUgc291cmNlIGFycmF5LWxpa2Ugb2JqZWN0IHRvIGJlIHVwZGF0ZWQuXG4gICAgICogQHJldHVybiB7QXJyYXl9IEEgY29weSBvZiBgbGlzdGAgd2l0aCB0aGUgdmFsdWUgYXQgaW5kZXggYGlkeGAgcmVwbGFjZWQgd2l0aCBgeGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi51cGRhdGUoMSwgMTEsIFswLCAxLCAyXSk7ICAgICAvLz0+IFswLCAxMSwgMl1cbiAgICAgKiAgICAgIFIudXBkYXRlKDEpKDExKShbMCwgMSwgMl0pOyAgICAgLy89PiBbMCwgMTEsIDJdXG4gICAgICovXG4gICAgdmFyIHVwZGF0ZSA9IF9jdXJyeTMoZnVuY3Rpb24gdXBkYXRlKGlkeCwgeCwgbGlzdCkge1xuICAgICAgICByZXR1cm4gYWRqdXN0KGFsd2F5cyh4KSwgaWR4LCBsaXN0KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGFsbCB0aGUgZW51bWVyYWJsZSBvd24gcHJvcGVydGllcyBvZiB0aGUgc3VwcGxpZWQgb2JqZWN0LlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb3JkZXIgb2YgdGhlIG91dHB1dCBhcnJheSBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3NcbiAgICAgKiBkaWZmZXJlbnQgSlMgcGxhdGZvcm1zLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyB7azogdn0gLT4gW3ZdXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGV4dHJhY3QgdmFsdWVzIGZyb21cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2YgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi52YWx1ZXMoe2E6IDEsIGI6IDIsIGM6IDN9KTsgLy89PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICB2YXIgdmFsdWVzID0gX2N1cnJ5MShmdW5jdGlvbiB2YWx1ZXMob2JqKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXMob2JqKTtcbiAgICAgICAgdmFyIGxlbiA9IHByb3BzLmxlbmd0aDtcbiAgICAgICAgdmFyIHZhbHMgPSBbXTtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICAgICAgICAgIHZhbHNbaWR4XSA9IG9ialtwcm9wc1tpZHhdXTtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxzO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgYWxsIHRoZSBwcm9wZXJ0aWVzLCBpbmNsdWRpbmcgcHJvdG90eXBlIHByb3BlcnRpZXMsXG4gICAgICogb2YgdGhlIHN1cHBsaWVkIG9iamVjdC5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9yZGVyIG9mIHRoZSBvdXRwdXQgYXJyYXkgaXMgbm90IGd1YXJhbnRlZWQgdG8gYmVcbiAgICAgKiBjb25zaXN0ZW50IGFjcm9zcyBkaWZmZXJlbnQgSlMgcGxhdGZvcm1zLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyB7azogdn0gLT4gW3ZdXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGV4dHJhY3QgdmFsdWVzIGZyb21cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2YgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0J3Mgb3duIGFuZCBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgRiA9IGZ1bmN0aW9uKCkgeyB0aGlzLnggPSAnWCc7IH07XG4gICAgICogICAgICBGLnByb3RvdHlwZS55ID0gJ1knO1xuICAgICAqICAgICAgdmFyIGYgPSBuZXcgRigpO1xuICAgICAqICAgICAgUi52YWx1ZXNJbihmKTsgLy89PiBbJ1gnLCAnWSddXG4gICAgICovXG4gICAgdmFyIHZhbHVlc0luID0gX2N1cnJ5MShmdW5jdGlvbiB2YWx1ZXNJbihvYmopIHtcbiAgICAgICAgdmFyIHByb3AsIHZzID0gW107XG4gICAgICAgIGZvciAocHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIHZzW3ZzLmxlbmd0aF0gPSBvYmpbcHJvcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZzO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFwidmlld1wiIG9mIHRoZSBnaXZlbiBkYXRhIHN0cnVjdHVyZSwgZGV0ZXJtaW5lZCBieSB0aGUgZ2l2ZW4gbGVucy5cbiAgICAgKiBUaGUgbGVucydzIGZvY3VzIGRldGVybWluZXMgd2hpY2ggcG9ydGlvbiBvZiB0aGUgZGF0YSBzdHJ1Y3R1cmUgaXMgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAdHlwZWRlZm4gTGVucyBzIGEgPSBGdW5jdG9yIGYgPT4gKGEgLT4gZiBhKSAtPiBzIC0+IGYgc1xuICAgICAqIEBzaWcgTGVucyBzIGEgLT4gcyAtPiBhXG4gICAgICogQHBhcmFtIHtMZW5zfSBsZW5zXG4gICAgICogQHBhcmFtIHsqfSB4XG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKiBAc2VlIFIucHJvcCwgUi5sZW5zSW5kZXgsIFIubGVuc1Byb3BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgeExlbnMgPSBSLmxlbnNQcm9wKCd4Jyk7XG4gICAgICpcbiAgICAgKiAgICAgIFIudmlldyh4TGVucywge3g6IDEsIHk6IDJ9KTsgIC8vPT4gMVxuICAgICAqICAgICAgUi52aWV3KHhMZW5zLCB7eDogNCwgeTogMn0pOyAgLy89PiA0XG4gICAgICovXG4gICAgdmFyIHZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBDb25zdCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB4LFxuICAgICAgICAgICAgICAgIG1hcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX2N1cnJ5MihmdW5jdGlvbiB2aWV3KGxlbnMsIHgpIHtcbiAgICAgICAgICAgIHJldHVybiBsZW5zKENvbnN0KSh4KS52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfSgpO1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgdGhlIGZpbmFsIGFyZ3VtZW50IGJ5IHBhc3NpbmcgaXQgdG8gdGhlIGdpdmVuIHByZWRpY2F0ZSBmdW5jdGlvbi5cbiAgICAgKiBJZiB0aGUgcHJlZGljYXRlIGlzIHNhdGlzZmllZCwgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSByZXN1bHRcbiAgICAgKiBvZiBjYWxsaW5nIHRoZSBgd2hlblRydWVGbmAgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBhcmd1bWVudC4gSWYgdGhlIHByZWRpY2F0ZVxuICAgICAqIGlzIG5vdCBzYXRpc2ZpZWQsIHRoZSBhcmd1bWVudCBpcyByZXR1cm5lZCBhcyBpcy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTguMFxuICAgICAqIEBjYXRlZ29yeSBMb2dpY1xuICAgICAqIEBzZWUgUi5pZkVsc2UsIFIudW5sZXNzXG4gICAgICogQHNpZyAoYSAtPiBCb29sZWFuKSAtPiAoYSAtPiBhKSAtPiBhIC0+IGFcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkICAgICAgIEEgcHJlZGljYXRlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd2hlblRydWVGbiBBIGZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHRoZSBgY29uZGl0aW9uYFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gICAgICAgIHggICAgICAgICAgQW4gb2JqZWN0IHRvIHRlc3Qgd2l0aCB0aGUgYHByZWRgIGZ1bmN0aW9uIGFuZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcyB0byBgd2hlblRydWVGbmAgaWYgbmVjZXNzYXJ5LlxuICAgICAqIEByZXR1cm4geyp9IEVpdGhlciBgeGAgb3IgdGhlIHJlc3VsdCBvZiBhcHBseWluZyBgeGAgdG8gYHdoZW5UcnVlRm5gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIC8vIHRydW5jYXRlIDo6IFN0cmluZyAtPiBTdHJpbmdcbiAgICAgKiAgICAgIHZhciB0cnVuY2F0ZSA9IFIud2hlbihcbiAgICAgKiAgICAgICAgUi5wcm9wU2F0aXNmaWVzKFIuZ3QoUi5fXywgMTApLCAnbGVuZ3RoJyksXG4gICAgICogICAgICAgIFIucGlwZShSLnRha2UoMTApLCBSLmFwcGVuZCgn4oCmJyksIFIuam9pbignJykpXG4gICAgICogICAgICApO1xuICAgICAqICAgICAgdHJ1bmNhdGUoJzEyMzQ1Jyk7ICAgICAgICAgLy89PiAnMTIzNDUnXG4gICAgICogICAgICB0cnVuY2F0ZSgnMDEyMzQ1Njc4OUFCQycpOyAvLz0+ICcwMTIzNDU2Nzg54oCmJ1xuICAgICAqL1xuICAgIHZhciB3aGVuID0gX2N1cnJ5MyhmdW5jdGlvbiB3aGVuKHByZWQsIHdoZW5UcnVlRm4sIHgpIHtcbiAgICAgICAgcmV0dXJuIHByZWQoeCkgPyB3aGVuVHJ1ZUZuKHgpIDogeDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgc3BlYyBvYmplY3QgYW5kIGEgdGVzdCBvYmplY3Q7IHJldHVybnMgdHJ1ZSBpZiB0aGUgdGVzdCBzYXRpc2ZpZXNcbiAgICAgKiB0aGUgc3BlYy4gRWFjaCBvZiB0aGUgc3BlYydzIG93biBwcm9wZXJ0aWVzIG11c3QgYmUgYSBwcmVkaWNhdGUgZnVuY3Rpb24uXG4gICAgICogRWFjaCBwcmVkaWNhdGUgaXMgYXBwbGllZCB0byB0aGUgdmFsdWUgb2YgdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgb2ZcbiAgICAgKiB0aGUgdGVzdCBvYmplY3QuIGB3aGVyZWAgcmV0dXJucyB0cnVlIGlmIGFsbCB0aGUgcHJlZGljYXRlcyByZXR1cm4gdHJ1ZSxcbiAgICAgKiBmYWxzZSBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBgd2hlcmVgIGlzIHdlbGwgc3VpdGVkIHRvIGRlY2xhcmF0aXZlbHkgZXhwcmVzc2luZyBjb25zdHJhaW50cyBmb3Igb3RoZXJcbiAgICAgKiBmdW5jdGlvbnMgc3VjaCBhcyBgZmlsdGVyYCBhbmQgYGZpbmRgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjFcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyB7U3RyaW5nOiAoKiAtPiBCb29sZWFuKX0gLT4ge1N0cmluZzogKn0gLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzcGVjXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRlc3RPYmpcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIC8vIHByZWQgOjogT2JqZWN0IC0+IEJvb2xlYW5cbiAgICAgKiAgICAgIHZhciBwcmVkID0gUi53aGVyZSh7XG4gICAgICogICAgICAgIGE6IFIuZXF1YWxzKCdmb28nKSxcbiAgICAgKiAgICAgICAgYjogUi5jb21wbGVtZW50KFIuZXF1YWxzKCdiYXInKSksXG4gICAgICogICAgICAgIHg6IFIuZ3QoXywgMTApLFxuICAgICAqICAgICAgICB5OiBSLmx0KF8sIDIwKVxuICAgICAqICAgICAgfSk7XG4gICAgICpcbiAgICAgKiAgICAgIHByZWQoe2E6ICdmb28nLCBiOiAneHh4JywgeDogMTEsIHk6IDE5fSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgcHJlZCh7YTogJ3h4eCcsIGI6ICd4eHgnLCB4OiAxMSwgeTogMTl9KTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgcHJlZCh7YTogJ2ZvbycsIGI6ICdiYXInLCB4OiAxMSwgeTogMTl9KTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgcHJlZCh7YTogJ2ZvbycsIGI6ICd4eHgnLCB4OiAxMCwgeTogMTl9KTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgcHJlZCh7YTogJ2ZvbycsIGI6ICd4eHgnLCB4OiAxMSwgeTogMjB9KTsgLy89PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciB3aGVyZSA9IF9jdXJyeTIoZnVuY3Rpb24gd2hlcmUoc3BlYywgdGVzdE9iaikge1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNwZWMpIHtcbiAgICAgICAgICAgIGlmIChfaGFzKHByb3AsIHNwZWMpICYmICFzcGVjW3Byb3BdKHRlc3RPYmpbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogV3JhcCBhIGZ1bmN0aW9uIGluc2lkZSBhbm90aGVyIHRvIGFsbG93IHlvdSB0byBtYWtlIGFkanVzdG1lbnRzIHRvIHRoZSBwYXJhbWV0ZXJzLCBvciBkb1xuICAgICAqIG90aGVyIHByb2Nlc3NpbmcgZWl0aGVyIGJlZm9yZSB0aGUgaW50ZXJuYWwgZnVuY3Rpb24gaXMgY2FsbGVkIG9yIHdpdGggaXRzIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKGEuLi4gLT4gYikgLT4gKChhLi4uIC0+IGIpIC0+IGEuLi4gLT4gYykgLT4gKGEuLi4gLT4gYylcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgZ3JlZXQgPSBuYW1lID0+ICdIZWxsbyAnICsgbmFtZTtcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHNob3V0ZWRHcmVldCA9IFIud3JhcChncmVldCwgKGdyLCBuYW1lKSA9PiBncihuYW1lKS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgKlxuICAgICAqICAgICAgc2hvdXRlZEdyZWV0KFwiS2F0aHlcIik7IC8vPT4gXCJIRUxMTyBLQVRIWVwiXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBzaG9ydGVuZWRHcmVldCA9IFIud3JhcChncmVldCwgZnVuY3Rpb24oZ3IsIG5hbWUpIHtcbiAgICAgKiAgICAgICAgcmV0dXJuIGdyKG5hbWUuc3Vic3RyaW5nKDAsIDMpKTtcbiAgICAgKiAgICAgIH0pO1xuICAgICAqICAgICAgc2hvcnRlbmVkR3JlZXQoXCJSb2JlcnRcIik7IC8vPT4gXCJIZWxsbyBSb2JcIlxuICAgICAqL1xuICAgIHZhciB3cmFwID0gX2N1cnJ5MihmdW5jdGlvbiB3cmFwKGZuLCB3cmFwcGVyKSB7XG4gICAgICAgIHJldHVybiBjdXJyeU4oZm4ubGVuZ3RoLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5hcHBseSh0aGlzLCBfY29uY2F0KFtmbl0sIGFyZ3VtZW50cykpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbGlzdCBvdXQgb2YgdGhlIHR3byBzdXBwbGllZCBieSBjcmVhdGluZyBlYWNoIHBvc3NpYmxlXG4gICAgICogcGFpciBmcm9tIHRoZSBsaXN0cy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIFthXSAtPiBbYl0gLT4gW1thLGJdXVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFzIFRoZSBmaXJzdCBsaXN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGJzIFRoZSBzZWNvbmQgbGlzdC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGxpc3QgbWFkZSBieSBjb21iaW5pbmcgZWFjaCBwb3NzaWJsZSBwYWlyIGZyb21cbiAgICAgKiAgICAgICAgIGBhc2AgYW5kIGBic2AgaW50byBwYWlycyAoYFthLCBiXWApLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIueHByb2QoWzEsIDJdLCBbJ2EnLCAnYiddKTsgLy89PiBbWzEsICdhJ10sIFsxLCAnYiddLCBbMiwgJ2EnXSwgWzIsICdiJ11dXG4gICAgICovXG4gICAgLy8gPSB4cHJvZFdpdGgocHJlcGVuZCk7ICh0YWtlcyBhYm91dCAzIHRpbWVzIGFzIGxvbmcuLi4pXG4gICAgdmFyIHhwcm9kID0gX2N1cnJ5MihmdW5jdGlvbiB4cHJvZChhLCBiKSB7XG4gICAgICAgIC8vID0geHByb2RXaXRoKHByZXBlbmQpOyAodGFrZXMgYWJvdXQgMyB0aW1lcyBhcyBsb25nLi4uKVxuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIGlsZW4gPSBhLmxlbmd0aDtcbiAgICAgICAgdmFyIGo7XG4gICAgICAgIHZhciBqbGVuID0gYi5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGlsZW4pIHtcbiAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGogPCBqbGVuKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gW1xuICAgICAgICAgICAgICAgICAgICBhW2lkeF0sXG4gICAgICAgICAgICAgICAgICAgIGJbal1cbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGxpc3Qgb3V0IG9mIHRoZSB0d28gc3VwcGxpZWQgYnkgcGFpcmluZyB1cFxuICAgICAqIGVxdWFsbHktcG9zaXRpb25lZCBpdGVtcyBmcm9tIGJvdGggbGlzdHMuICBUaGUgcmV0dXJuZWQgbGlzdCBpc1xuICAgICAqIHRydW5jYXRlZCB0byB0aGUgbGVuZ3RoIG9mIHRoZSBzaG9ydGVyIG9mIHRoZSB0d28gaW5wdXQgbGlzdHMuXG4gICAgICogTm90ZTogYHppcGAgaXMgZXF1aXZhbGVudCB0byBgemlwV2l0aChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBbYSwgYl0gfSlgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgW2FdIC0+IFtiXSAtPiBbW2EsYl1dXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdDEgVGhlIGZpcnN0IGFycmF5IHRvIGNvbnNpZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QyIFRoZSBzZWNvbmQgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG1hZGUgYnkgcGFpcmluZyB1cCBzYW1lLWluZGV4ZWQgZWxlbWVudHMgb2YgYGxpc3QxYCBhbmQgYGxpc3QyYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnppcChbMSwgMiwgM10sIFsnYScsICdiJywgJ2MnXSk7IC8vPT4gW1sxLCAnYSddLCBbMiwgJ2InXSwgWzMsICdjJ11dXG4gICAgICovXG4gICAgdmFyIHppcCA9IF9jdXJyeTIoZnVuY3Rpb24gemlwKGEsIGIpIHtcbiAgICAgICAgdmFyIHJ2ID0gW107XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgICAgICAgICAgcnZbaWR4XSA9IFtcbiAgICAgICAgICAgICAgICBhW2lkeF0sXG4gICAgICAgICAgICAgICAgYltpZHhdXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBvYmplY3Qgb3V0IG9mIGEgbGlzdCBvZiBrZXlzIGFuZCBhIGxpc3Qgb2YgdmFsdWVzLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgW1N0cmluZ10gLT4gWypdIC0+IHtTdHJpbmc6ICp9XG4gICAgICogQHBhcmFtIHtBcnJheX0ga2V5cyBUaGUgYXJyYXkgdGhhdCB3aWxsIGJlIHByb3BlcnRpZXMgb24gdGhlIG91dHB1dCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBsaXN0IG9mIHZhbHVlcyBvbiB0aGUgb3V0cHV0IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBvYmplY3QgbWFkZSBieSBwYWlyaW5nIHVwIHNhbWUtaW5kZXhlZCBlbGVtZW50cyBvZiBga2V5c2AgYW5kIGB2YWx1ZXNgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuemlwT2JqKFsnYScsICdiJywgJ2MnXSwgWzEsIDIsIDNdKTsgLy89PiB7YTogMSwgYjogMiwgYzogM31cbiAgICAgKi9cbiAgICB2YXIgemlwT2JqID0gX2N1cnJ5MihmdW5jdGlvbiB6aXBPYmooa2V5cywgdmFsdWVzKSB7XG4gICAgICAgIHZhciBpZHggPSAwLCBsZW4gPSBrZXlzLmxlbmd0aCwgb3V0ID0ge307XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICAgICAgICAgIG91dFtrZXlzW2lkeF1dID0gdmFsdWVzW2lkeF07XG4gICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBsaXN0IG91dCBvZiB0aGUgdHdvIHN1cHBsaWVkIGJ5IGFwcGx5aW5nIHRoZSBmdW5jdGlvbiB0b1xuICAgICAqIGVhY2ggZXF1YWxseS1wb3NpdGlvbmVkIHBhaXIgaW4gdGhlIGxpc3RzLiBUaGUgcmV0dXJuZWQgbGlzdCBpc1xuICAgICAqIHRydW5jYXRlZCB0byB0aGUgbGVuZ3RoIG9mIHRoZSBzaG9ydGVyIG9mIHRoZSB0d28gaW5wdXQgbGlzdHMuXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEsYiAtPiBjKSAtPiBbYV0gLT4gW2JdIC0+IFtjXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB1c2VkIHRvIGNvbWJpbmUgdGhlIHR3byBlbGVtZW50cyBpbnRvIG9uZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0MSBUaGUgZmlyc3QgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdDIgVGhlIHNlY29uZCBhcnJheSB0byBjb25zaWRlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGxpc3QgbWFkZSBieSBjb21iaW5pbmcgc2FtZS1pbmRleGVkIGVsZW1lbnRzIG9mIGBsaXN0MWAgYW5kIGBsaXN0MmBcbiAgICAgKiAgICAgICAgIHVzaW5nIGBmbmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGYgPSAoeCwgeSkgPT4ge1xuICAgICAqICAgICAgICAvLyAuLi5cbiAgICAgKiAgICAgIH07XG4gICAgICogICAgICBSLnppcFdpdGgoZiwgWzEsIDIsIDNdLCBbJ2EnLCAnYicsICdjJ10pO1xuICAgICAqICAgICAgLy89PiBbZigxLCAnYScpLCBmKDIsICdiJyksIGYoMywgJ2MnKV1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IF9jdXJyeTMoZnVuY3Rpb24gemlwV2l0aChmbiwgYSwgYikge1xuICAgICAgICB2YXIgcnYgPSBbXSwgaWR4ID0gMCwgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgICAgICAgICAgcnZbaWR4XSA9IGZuKGFbaWR4XSwgYltpZHhdKTtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCBhbHdheXMgcmV0dXJucyBgZmFsc2VgLiBBbnkgcGFzc2VkIGluIHBhcmFtZXRlcnMgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjkuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKiAtPiBCb29sZWFuXG4gICAgICogQHBhcmFtIHsqfVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICogQHNlZSBSLmFsd2F5cywgUi5UXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5GKCk7IC8vPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgRiA9IGFsd2F5cyhmYWxzZSk7XG5cbiAgICAvKipcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgYWx3YXlzIHJldHVybnMgYHRydWVgLiBBbnkgcGFzc2VkIGluIHBhcmFtZXRlcnMgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjkuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKiAtPiBCb29sZWFuXG4gICAgICogQHBhcmFtIHsqfVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICogQHNlZSBSLmFsd2F5cywgUi5GXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5UKCk7IC8vPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBUID0gYWx3YXlzKHRydWUpO1xuXG4gICAgdmFyIF9hcGVydHVyZSA9IGZ1bmN0aW9uIF9hcGVydHVyZShuLCBsaXN0KSB7XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB2YXIgbGltaXQgPSBsaXN0Lmxlbmd0aCAtIChuIC0gMSk7XG4gICAgICAgIHZhciBhY2MgPSBuZXcgQXJyYXkobGltaXQgPj0gMCA/IGxpbWl0IDogMCk7XG4gICAgICAgIHdoaWxlIChpZHggPCBsaW1pdCkge1xuICAgICAgICAgICAgYWNjW2lkeF0gPSBfc2xpY2UobGlzdCwgaWR4LCBpZHggKyBuKTtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNpbWlsYXIgdG8gaGFzTWV0aG9kLCB0aGlzIGNoZWNrcyB3aGV0aGVyIGEgZnVuY3Rpb24gaGFzIGEgW21ldGhvZG5hbWVdXG4gICAgICogZnVuY3Rpb24uIElmIGl0IGlzbid0IGFuIGFycmF5IGl0IHdpbGwgZXhlY3V0ZSB0aGF0IGZ1bmN0aW9uIG90aGVyd2lzZSBpdCB3aWxsXG4gICAgICogZGVmYXVsdCB0byB0aGUgcmFtZGEgaW1wbGVtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIHJhbWRhIGltcGxlbXRhdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2RuYW1lIHByb3BlcnR5IHRvIGNoZWNrIGZvciBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvblxuICAgICAqIEByZXR1cm4ge09iamVjdH0gV2hhdGV2ZXIgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgbWV0aG9kIGlzLlxuICAgICAqL1xuICAgIHZhciBfY2hlY2tGb3JNZXRob2QgPSBmdW5jdGlvbiBfY2hlY2tGb3JNZXRob2QobWV0aG9kbmFtZSwgZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9iaiA9IGFyZ3VtZW50c1tsZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHJldHVybiBfaXNBcnJheShvYmopIHx8IHR5cGVvZiBvYmpbbWV0aG9kbmFtZV0gIT09ICdmdW5jdGlvbicgPyBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogb2JqW21ldGhvZG5hbWVdLmFwcGx5KG9iaiwgX3NsaWNlKGFyZ3VtZW50cywgMCwgbGVuZ3RoIC0gMSkpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBiZSBjb3BpZWRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSByZWZGcm9tIEFycmF5IGNvbnRhaW5pbmcgdGhlIHNvdXJjZSByZWZlcmVuY2VzXG4gICAgICogQHBhcmFtIHtBcnJheX0gcmVmVG8gQXJyYXkgY29udGFpbmluZyB0aGUgY29waWVkIHNvdXJjZSByZWZlcmVuY2VzXG4gICAgICogQHJldHVybiB7Kn0gVGhlIGNvcGllZCB2YWx1ZS5cbiAgICAgKi9cbiAgICB2YXIgX2Nsb25lID0gZnVuY3Rpb24gX2Nsb25lKHZhbHVlLCByZWZGcm9tLCByZWZUbykge1xuICAgICAgICB2YXIgY29weSA9IGZ1bmN0aW9uIGNvcHkoY29waWVkVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSByZWZGcm9tLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcmVmRnJvbVtpZHhdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWZUb1tpZHhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlZkZyb21baWR4ICsgMV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJlZlRvW2lkeCArIDFdID0gY29waWVkVmFsdWU7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb3BpZWRWYWx1ZVtrZXldID0gX2Nsb25lKHZhbHVlW2tleV0sIHJlZkZyb20sIHJlZlRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb3BpZWRWYWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoICh0eXBlKHZhbHVlKSkge1xuICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIGNvcHkoe30pO1xuICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gY29weShbXSk7XG4gICAgICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgICAgICAgIHJldHVybiBfY2xvbmVSZWdFeHAodmFsdWUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBfY3JlYXRlUGFydGlhbEFwcGxpY2F0b3IgPSBmdW5jdGlvbiBfY3JlYXRlUGFydGlhbEFwcGxpY2F0b3IoY29uY2F0KSB7XG4gICAgICAgIHJldHVybiBfY3VycnkyKGZ1bmN0aW9uIChmbiwgYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIF9hcml0eShNYXRoLm1heCgwLCBmbi5sZW5ndGggLSBhcmdzLmxlbmd0aCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgY29uY2F0KGFyZ3MsIGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBkaXNwYXRjaGVzIHdpdGggZGlmZmVyZW50IHN0cmF0ZWdpZXMgYmFzZWQgb24gdGhlXG4gICAgICogb2JqZWN0IGluIGxpc3QgcG9zaXRpb24gKGxhc3QgYXJndW1lbnQpLiBJZiBpdCBpcyBhbiBhcnJheSwgZXhlY3V0ZXMgW2ZuXS5cbiAgICAgKiBPdGhlcndpc2UsIGlmIGl0IGhhcyBhICBmdW5jdGlvbiB3aXRoIFttZXRob2RuYW1lXSwgaXQgd2lsbCBleGVjdXRlIHRoYXRcbiAgICAgKiBmdW5jdGlvbiAoZnVuY3RvciBjYXNlKS4gT3RoZXJ3aXNlLCBpZiBpdCBpcyBhIHRyYW5zZm9ybWVyLCB1c2VzIHRyYW5zZHVjZXJcbiAgICAgKiBbeGZdIHRvIHJldHVybiBhIG5ldyB0cmFuc2Zvcm1lciAodHJhbnNkdWNlciBjYXNlKS4gT3RoZXJ3aXNlLCBpdCB3aWxsXG4gICAgICogZGVmYXVsdCB0byBleGVjdXRpbmcgW2ZuXS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZG5hbWUgcHJvcGVydHkgdG8gY2hlY2sgZm9yIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0geGYgdHJhbnNkdWNlciB0byBpbml0aWFsaXplIGlmIG9iamVjdCBpcyB0cmFuc2Zvcm1lclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIGRlZmF1bHQgcmFtZGEgaW1wbGVtZW50YXRpb25cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0aGF0IGRpc3BhdGNoZXMgb24gb2JqZWN0IGluIGxpc3QgcG9zaXRpb25cbiAgICAgKi9cbiAgICB2YXIgX2Rpc3BhdGNoYWJsZSA9IGZ1bmN0aW9uIF9kaXNwYXRjaGFibGUobWV0aG9kbmFtZSwgeGYsIGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvYmogPSBhcmd1bWVudHNbbGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAoIV9pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IF9zbGljZShhcmd1bWVudHMsIDAsIGxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW21ldGhvZG5hbWVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmpbbWV0aG9kbmFtZV0uYXBwbHkob2JqLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc1RyYW5zZm9ybWVyKG9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zZHVjZXIgPSB4Zi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zZHVjZXIob2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gVmFsdWVzIG9mIG90aGVyIHR5cGVzIGFyZSBvbmx5IGVxdWFsIGlmIGlkZW50aWNhbC5cbiAgICB2YXIgX2VxdWFscyA9IGZ1bmN0aW9uIF9lcXVhbHMoYSwgYiwgc3RhY2tBLCBzdGFja0IpIHtcbiAgICAgICAgaWYgKGlkZW50aWNhbChhLCBiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUoYSkgIT09IHR5cGUoYikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYS5lcXVhbHMgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGIuZXF1YWxzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGEuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmIGEuZXF1YWxzKGIpICYmIHR5cGVvZiBiLmVxdWFscyA9PT0gJ2Z1bmN0aW9uJyAmJiBiLmVxdWFscyhhKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHR5cGUoYSkpIHtcbiAgICAgICAgY2FzZSAnQXJndW1lbnRzJzpcbiAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICBjYXNlICdOdW1iZXInOlxuICAgICAgICBjYXNlICdTdHJpbmcnOlxuICAgICAgICAgICAgaWYgKCEodHlwZW9mIGEgPT09IHR5cGVvZiBiICYmIGlkZW50aWNhbChhLnZhbHVlT2YoKSwgYi52YWx1ZU9mKCkpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgICAgIGlmICghaWRlbnRpY2FsKGEudmFsdWVPZigpLCBiLnZhbHVlT2YoKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgICAgICAgIGlmICghKGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmdsb2JhbCA9PT0gYi5nbG9iYWwgJiYgYS5pZ25vcmVDYXNlID09PSBiLmlnbm9yZUNhc2UgJiYgYS5tdWx0aWxpbmUgPT09IGIubXVsdGlsaW5lICYmIGEuc3RpY2t5ID09PSBiLnN0aWNreSAmJiBhLnVuaWNvZGUgPT09IGIudW5pY29kZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTWFwJzpcbiAgICAgICAgY2FzZSAnU2V0JzpcbiAgICAgICAgICAgIGlmICghX2VxdWFscyhfYXJyYXlGcm9tSXRlcmF0b3IoYS5lbnRyaWVzKCkpLCBfYXJyYXlGcm9tSXRlcmF0b3IoYi5lbnRyaWVzKCkpLCBzdGFja0EsIHN0YWNrQikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnSW50OEFycmF5JzpcbiAgICAgICAgY2FzZSAnVWludDhBcnJheSc6XG4gICAgICAgIGNhc2UgJ1VpbnQ4Q2xhbXBlZEFycmF5JzpcbiAgICAgICAgY2FzZSAnSW50MTZBcnJheSc6XG4gICAgICAgIGNhc2UgJ1VpbnQxNkFycmF5JzpcbiAgICAgICAgY2FzZSAnSW50MzJBcnJheSc6XG4gICAgICAgIGNhc2UgJ1VpbnQzMkFycmF5JzpcbiAgICAgICAgY2FzZSAnRmxvYXQzMkFycmF5JzpcbiAgICAgICAgY2FzZSAnRmxvYXQ2NEFycmF5JzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnJheUJ1ZmZlcic6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIFZhbHVlcyBvZiBvdGhlciB0eXBlcyBhcmUgb25seSBlcXVhbCBpZiBpZGVudGljYWwuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleXNBID0ga2V5cyhhKTtcbiAgICAgICAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5cyhiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWR4ID0gc3RhY2tBLmxlbmd0aCAtIDE7XG4gICAgICAgIHdoaWxlIChpZHggPj0gMCkge1xuICAgICAgICAgICAgaWYgKHN0YWNrQVtpZHhdID09PSBhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrQltpZHhdID09PSBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWR4IC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2tBLnB1c2goYSk7XG4gICAgICAgIHN0YWNrQi5wdXNoKGIpO1xuICAgICAgICBpZHggPSBrZXlzQS5sZW5ndGggLSAxO1xuICAgICAgICB3aGlsZSAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzQVtpZHhdO1xuICAgICAgICAgICAgaWYgKCEoX2hhcyhrZXksIGIpICYmIF9lcXVhbHMoYltrZXldLCBhW2tleV0sIHN0YWNrQSwgc3RhY2tCKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZHggLT0gMTtcbiAgICAgICAgfVxuICAgICAgICBzdGFja0EucG9wKCk7XG4gICAgICAgIHN0YWNrQi5wb3AoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGBfbWFrZUZsYXRgIGlzIGEgaGVscGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIG9uZS1sZXZlbCBvciBmdWxseSByZWN1cnNpdmUgZnVuY3Rpb25cbiAgICAgKiBiYXNlZCBvbiB0aGUgZmxhZyBwYXNzZWQgaW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHZhciBfbWFrZUZsYXQgPSBmdW5jdGlvbiBfbWFrZUZsYXQocmVjdXJzaXZlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBmbGF0dChsaXN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUsIHJlc3VsdCA9IFtdLCBpZHggPSAwLCBqLCBpbGVuID0gbGlzdC5sZW5ndGgsIGpsZW47XG4gICAgICAgICAgICB3aGlsZSAoaWR4IDwgaWxlbikge1xuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5TGlrZShsaXN0W2lkeF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcmVjdXJzaXZlID8gZmxhdHQobGlzdFtpZHhdKSA6IGxpc3RbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgaiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGpsZW4gPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgamxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWVbal07XG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSBsaXN0W2lkeF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIF9yZWR1Y2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIF9hcnJheVJlZHVjZSh4ZiwgYWNjLCBsaXN0KSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gMCwgbGVuID0gbGlzdC5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgYWNjID0geGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10oYWNjLCBsaXN0W2lkeF0pO1xuICAgICAgICAgICAgICAgIGlmIChhY2MgJiYgYWNjWydAQHRyYW5zZHVjZXIvcmVkdWNlZCddKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjYyA9IGFjY1snQEB0cmFuc2R1Y2VyL3ZhbHVlJ107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB4ZlsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddKGFjYyk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gX2l0ZXJhYmxlUmVkdWNlKHhmLCBhY2MsIGl0ZXIpIHtcbiAgICAgICAgICAgIHZhciBzdGVwID0gaXRlci5uZXh0KCk7XG4gICAgICAgICAgICB3aGlsZSAoIXN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgICAgIGFjYyA9IHhmWydAQHRyYW5zZHVjZXIvc3RlcCddKGFjYywgc3RlcC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGFjYyAmJiBhY2NbJ0BAdHJhbnNkdWNlci9yZWR1Y2VkJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjID0gYWNjWydAQHRyYW5zZHVjZXIvdmFsdWUnXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0ZXAgPSBpdGVyLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB4ZlsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddKGFjYyk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gX21ldGhvZFJlZHVjZSh4ZiwgYWNjLCBvYmopIHtcbiAgICAgICAgICAgIHJldHVybiB4ZlsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddKG9iai5yZWR1Y2UoYmluZCh4ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSwgeGYpLCBhY2MpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3ltSXRlcmF0b3IgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbC5pdGVyYXRvciA6ICdAQGl0ZXJhdG9yJztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9yZWR1Y2UoZm4sIGFjYywgbGlzdCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGZuID0gX3h3cmFwKGZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0FycmF5TGlrZShsaXN0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfYXJyYXlSZWR1Y2UoZm4sIGFjYywgbGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxpc3QucmVkdWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9tZXRob2RSZWR1Y2UoZm4sIGFjYywgbGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGlzdFtzeW1JdGVyYXRvcl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfaXRlcmFibGVSZWR1Y2UoZm4sIGFjYywgbGlzdFtzeW1JdGVyYXRvcl0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxpc3QubmV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfaXRlcmFibGVSZWR1Y2UoZm4sIGFjYywgbGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdyZWR1Y2U6IGxpc3QgbXVzdCBiZSBhcnJheSBvciBpdGVyYWJsZScpO1xuICAgICAgICB9O1xuICAgIH0oKTtcblxuICAgIHZhciBfeGFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gWEFsbChmLCB4Zikge1xuICAgICAgICAgICAgdGhpcy54ZiA9IHhmO1xuICAgICAgICAgICAgdGhpcy5mID0gZjtcbiAgICAgICAgICAgIHRoaXMuYWxsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBYQWxsLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL2luaXQnXSA9IF94ZkJhc2UuaW5pdDtcbiAgICAgICAgWEFsbC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMueGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10ocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgWEFsbC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmYoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBfcmVkdWNlZCh0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgZmFsc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfY3VycnkyKGZ1bmN0aW9uIF94YWxsKGYsIHhmKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFhBbGwoZiwgeGYpO1xuICAgICAgICB9KTtcbiAgICB9KCk7XG5cbiAgICB2YXIgX3hhbnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFhBbnkoZiwgeGYpIHtcbiAgICAgICAgICAgIHRoaXMueGYgPSB4ZjtcbiAgICAgICAgICAgIHRoaXMuZiA9IGY7XG4gICAgICAgICAgICB0aGlzLmFueSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFhBbnkucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gX3hmQmFzZS5pbml0O1xuICAgICAgICBYQW55LnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFueSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMueGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddKHJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICAgIFhBbnkucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKHJlc3VsdCwgaW5wdXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmYoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9yZWR1Y2VkKHRoaXMueGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCB0cnVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX2N1cnJ5MihmdW5jdGlvbiBfeGFueShmLCB4Zikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBYQW55KGYsIHhmKTtcbiAgICAgICAgfSk7XG4gICAgfSgpO1xuXG4gICAgdmFyIF94YXBlcnR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFhBcGVydHVyZShuLCB4Zikge1xuICAgICAgICAgICAgdGhpcy54ZiA9IHhmO1xuICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICAgICAgdGhpcy5mdWxsID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFjYyA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgfVxuICAgICAgICBYQXBlcnR1cmUucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gX3hmQmFzZS5pbml0O1xuICAgICAgICBYQXBlcnR1cmUucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBfeGZCYXNlLnJlc3VsdDtcbiAgICAgICAgWEFwZXJ0dXJlLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlKGlucHV0KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZ1bGwgPyB0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgdGhpcy5nZXRDb3B5KCkpIDogcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICBYQXBlcnR1cmUucHJvdG90eXBlLnN0b3JlID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICB0aGlzLmFjY1t0aGlzLnBvc10gPSBpbnB1dDtcbiAgICAgICAgICAgIHRoaXMucG9zICs9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPT09IHRoaXMuYWNjLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmZ1bGwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBYQXBlcnR1cmUucHJvdG90eXBlLmdldENvcHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvbmNhdChfc2xpY2UodGhpcy5hY2MsIHRoaXMucG9zKSwgX3NsaWNlKHRoaXMuYWNjLCAwLCB0aGlzLnBvcykpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX2N1cnJ5MihmdW5jdGlvbiBfeGFwZXJ0dXJlKG4sIHhmKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFhBcGVydHVyZShuLCB4Zik7XG4gICAgICAgIH0pO1xuICAgIH0oKTtcblxuICAgIHZhciBfeGRyb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFhEcm9wKG4sIHhmKSB7XG4gICAgICAgICAgICB0aGlzLnhmID0geGY7XG4gICAgICAgICAgICB0aGlzLm4gPSBuO1xuICAgICAgICB9XG4gICAgICAgIFhEcm9wLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL2luaXQnXSA9IF94ZkJhc2UuaW5pdDtcbiAgICAgICAgWERyb3AucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBfeGZCYXNlLnJlc3VsdDtcbiAgICAgICAgWERyb3AucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKHJlc3VsdCwgaW5wdXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm4gPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uIC09IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgaW5wdXQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX2N1cnJ5MihmdW5jdGlvbiBfeGRyb3AobiwgeGYpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWERyb3AobiwgeGYpO1xuICAgICAgICB9KTtcbiAgICB9KCk7XG5cbiAgICB2YXIgX3hkcm9wV2hpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFhEcm9wV2hpbGUoZiwgeGYpIHtcbiAgICAgICAgICAgIHRoaXMueGYgPSB4ZjtcbiAgICAgICAgICAgIHRoaXMuZiA9IGY7XG4gICAgICAgIH1cbiAgICAgICAgWERyb3BXaGlsZS5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBfeGZCYXNlLmluaXQ7XG4gICAgICAgIFhEcm9wV2hpbGUucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBfeGZCYXNlLnJlc3VsdDtcbiAgICAgICAgWERyb3BXaGlsZS5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmYoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXShyZXN1bHQsIGlucHV0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9jdXJyeTIoZnVuY3Rpb24gX3hkcm9wV2hpbGUoZiwgeGYpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWERyb3BXaGlsZShmLCB4Zik7XG4gICAgICAgIH0pO1xuICAgIH0oKTtcblxuICAgIHZhciBfeGdyb3VwQnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFhHcm91cEJ5KGYsIHhmKSB7XG4gICAgICAgICAgICB0aGlzLnhmID0geGY7XG4gICAgICAgICAgICB0aGlzLmYgPSBmO1xuICAgICAgICAgICAgdGhpcy5pbnB1dHMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBYR3JvdXBCeS5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBfeGZCYXNlLmluaXQ7XG4gICAgICAgIFhHcm91cEJ5LnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIGtleTtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIHRoaXMuaW5wdXRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9oYXMoa2V5LCB0aGlzLmlucHV0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXShyZXN1bHQsIHRoaXMuaW5wdXRzW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0WydAQHRyYW5zZHVjZXIvcmVkdWNlZCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbJ0BAdHJhbnNkdWNlci92YWx1ZSddO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddKHJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICAgIFhHcm91cEJ5LnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gdGhpcy5mKGlucHV0KTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRzW2tleV0gPSB0aGlzLmlucHV0c1trZXldIHx8IFtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgW11cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICB0aGlzLmlucHV0c1trZXldWzFdID0gYXBwZW5kKGlucHV0LCB0aGlzLmlucHV0c1trZXldWzFdKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfY3VycnkyKGZ1bmN0aW9uIF94Z3JvdXBCeShmLCB4Zikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBYR3JvdXBCeShmLCB4Zik7XG4gICAgICAgIH0pO1xuICAgIH0oKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbGlzdCBpdGVyYXRpb24gZnVuY3Rpb24gZnJvbSBhbiBleGlzdGluZyBvbmUgYnkgYWRkaW5nIHR3byBuZXcgcGFyYW1ldGVyc1xuICAgICAqIHRvIGl0cyBjYWxsYmFjayBmdW5jdGlvbjogdGhlIGN1cnJlbnQgaW5kZXgsIGFuZCB0aGUgZW50aXJlIGxpc3QuXG4gICAgICpcbiAgICAgKiBUaGlzIHdvdWxkIHR1cm4sIGZvciBpbnN0YW5jZSwgUmFtZGEncyBzaW1wbGUgYG1hcGAgZnVuY3Rpb24gaW50byBvbmUgdGhhdCBtb3JlIGNsb3NlbHlcbiAgICAgKiByZXNlbWJsZXMgYEFycmF5LnByb3RvdHlwZS5tYXBgLiAgTm90ZSB0aGF0IHRoaXMgd2lsbCBvbmx5IHdvcmsgZm9yIGZ1bmN0aW9ucyBpbiB3aGljaFxuICAgICAqIHRoZSBpdGVyYXRpb24gY2FsbGJhY2sgZnVuY3Rpb24gaXMgdGhlIGZpcnN0IHBhcmFtZXRlciwgYW5kIHdoZXJlIHRoZSBsaXN0IGlzIHRoZSBsYXN0XG4gICAgICogcGFyYW1ldGVyLiAgKFRoaXMgbGF0dGVyIG1pZ2h0IGJlIHVuaW1wb3J0YW50IGlmIHRoZSBsaXN0IHBhcmFtZXRlciBpcyBub3QgdXNlZC4pXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE1LjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKChhIC4uLiAtPiBiKSAuLi4gLT4gW2FdIC0+ICopIC0+IChhIC4uLiwgSW50LCBbYV0gLT4gYikgLi4uIC0+IFthXSAtPiAqKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEEgbGlzdCBpdGVyYXRpb24gZnVuY3Rpb24gdGhhdCBkb2VzIG5vdCBwYXNzIGluZGV4IG9yIGxpc3QgdG8gaXRzIGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IEFuIGFsdGVyZWQgbGlzdCBpdGVyYXRpb24gZnVuY3Rpb24gdGhhdCBwYXNzZXMgKGl0ZW0sIGluZGV4LCBsaXN0KSB0byBpdHMgY2FsbGJhY2tcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbWFwSW5kZXhlZCA9IFIuYWRkSW5kZXgoUi5tYXApO1xuICAgICAqICAgICAgbWFwSW5kZXhlZCgodmFsLCBpZHgpID0+IGlkeCArICctJyArIHZhbCwgWydmJywgJ28nLCAnbycsICdiJywgJ2EnLCAnciddKTtcbiAgICAgKiAgICAgIC8vPT4gWycwLWYnLCAnMS1vJywgJzItbycsICczLWInLCAnNC1hJywgJzUtciddXG4gICAgICovXG4gICAgdmFyIGFkZEluZGV4ID0gX2N1cnJ5MShmdW5jdGlvbiBhZGRJbmRleChmbikge1xuICAgICAgICByZXR1cm4gY3VycnlOKGZuLmxlbmd0aCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgICAgICB2YXIgb3JpZ0ZuID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFyIGxpc3QgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBfc2xpY2UoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGFyZ3NbMF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9yaWdGbi5hcHBseSh0aGlzLCBfY29uY2F0KGFyZ3VtZW50cywgW1xuICAgICAgICAgICAgICAgICAgICBpZHgsXG4gICAgICAgICAgICAgICAgICAgIGxpc3RcbiAgICAgICAgICAgICAgICBdKSk7XG4gICAgICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIG9mIHRoZSBsaXN0IG1hdGNoIHRoZSBwcmVkaWNhdGUsIGBmYWxzZWAgaWYgdGhlcmUgYXJlIGFueVxuICAgICAqIHRoYXQgZG9uJ3QuXG4gICAgICpcbiAgICAgKiBEaXNwYXRjaGVzIHRvIHRoZSBgYWxsYCBtZXRob2Qgb2YgdGhlIHNlY29uZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEFjdHMgYXMgYSB0cmFuc2R1Y2VyIGlmIGEgdHJhbnNmb3JtZXIgaXMgZ2l2ZW4gaW4gbGlzdCBwb3NpdGlvbi5cbiAgICAgKiBAc2VlIFIudHJhbnNkdWNlXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyAoYSAtPiBCb29sZWFuKSAtPiBbYV0gLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBwcmVkaWNhdGUgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBwcmVkaWNhdGUgaXMgc2F0aXNmaWVkIGJ5IGV2ZXJ5IGVsZW1lbnQsIGBmYWxzZWBcbiAgICAgKiAgICAgICAgIG90aGVyd2lzZS5cbiAgICAgKiBAc2VlIFIuYW55LCBSLm5vbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbGVzc1RoYW4yID0gUi5mbGlwKFIubHQpKDIpO1xuICAgICAqICAgICAgdmFyIGxlc3NUaGFuMyA9IFIuZmxpcChSLmx0KSgzKTtcbiAgICAgKiAgICAgIFIuYWxsKGxlc3NUaGFuMikoWzEsIDJdKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5hbGwobGVzc1RoYW4zKShbMSwgMl0pOyAvLz0+IHRydWVcbiAgICAgKi9cbiAgICB2YXIgYWxsID0gX2N1cnJ5MihfZGlzcGF0Y2hhYmxlKCdhbGwnLCBfeGFsbCwgZnVuY3Rpb24gYWxsKGZuLCBsaXN0KSB7XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghZm4obGlzdFtpZHhdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pKTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGF0IGxlYXN0IG9uZSBvZiBlbGVtZW50cyBvZiB0aGUgbGlzdCBtYXRjaCB0aGUgcHJlZGljYXRlLCBgZmFsc2VgXG4gICAgICogb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGFueWAgbWV0aG9kIG9mIHRoZSBzZWNvbmQgYXJndW1lbnQsIGlmIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBBY3RzIGFzIGEgdHJhbnNkdWNlciBpZiBhIHRyYW5zZm9ybWVyIGlzIGdpdmVuIGluIGxpc3QgcG9zaXRpb24uXG4gICAgICogQHNlZSBSLnRyYW5zZHVjZVxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEgLT4gQm9vbGVhbikgLT4gW2FdIC0+IEJvb2xlYW5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgcHJlZGljYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGFycmF5IHRvIGNvbnNpZGVyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcHJlZGljYXRlIGlzIHNhdGlzZmllZCBieSBhdCBsZWFzdCBvbmUgZWxlbWVudCwgYGZhbHNlYFxuICAgICAqICAgICAgICAgb3RoZXJ3aXNlLlxuICAgICAqIEBzZWUgUi5hbGwsIFIubm9uZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBsZXNzVGhhbjAgPSBSLmZsaXAoUi5sdCkoMCk7XG4gICAgICogICAgICB2YXIgbGVzc1RoYW4yID0gUi5mbGlwKFIubHQpKDIpO1xuICAgICAqICAgICAgUi5hbnkobGVzc1RoYW4wKShbMSwgMl0pOyAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLmFueShsZXNzVGhhbjIpKFsxLCAyXSk7IC8vPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBhbnkgPSBfY3VycnkyKF9kaXNwYXRjaGFibGUoJ2FueScsIF94YW55LCBmdW5jdGlvbiBhbnkoZm4sIGxpc3QpIHtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChpZHggPCBsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGZuKGxpc3RbaWR4XSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGxpc3QsIGNvbXBvc2VkIG9mIG4tdHVwbGVzIG9mIGNvbnNlY3V0aXZlIGVsZW1lbnRzXG4gICAgICogSWYgYG5gIGlzIGdyZWF0ZXIgdGhhbiB0aGUgbGVuZ3RoIG9mIHRoZSBsaXN0LCBhbiBlbXB0eSBsaXN0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGFwZXJ0dXJlYCBtZXRob2Qgb2YgdGhlIHNlY29uZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEFjdHMgYXMgYSB0cmFuc2R1Y2VyIGlmIGEgdHJhbnNmb3JtZXIgaXMgZ2l2ZW4gaW4gbGlzdCBwb3NpdGlvbi5cbiAgICAgKiBAc2VlIFIudHJhbnNkdWNlXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgTnVtYmVyIC0+IFthXSAtPiBbW2FdXVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIFRoZSBzaXplIG9mIHRoZSB0dXBsZXMgdG8gY3JlYXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgbGlzdCB0byBzcGxpdCBpbnRvIGBuYC10dXBsZXNcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIG5ldyBsaXN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuYXBlcnR1cmUoMiwgWzEsIDIsIDMsIDQsIDVdKTsgLy89PiBbWzEsIDJdLCBbMiwgM10sIFszLCA0XSwgWzQsIDVdXVxuICAgICAqICAgICAgUi5hcGVydHVyZSgzLCBbMSwgMiwgMywgNCwgNV0pOyAvLz0+IFtbMSwgMiwgM10sIFsyLCAzLCA0XSwgWzMsIDQsIDVdXVxuICAgICAqICAgICAgUi5hcGVydHVyZSg3LCBbMSwgMiwgMywgNCwgNV0pOyAvLz0+IFtdXG4gICAgICovXG4gICAgdmFyIGFwZXJ0dXJlID0gX2N1cnJ5MihfZGlzcGF0Y2hhYmxlKCdhcGVydHVyZScsIF94YXBlcnR1cmUsIF9hcGVydHVyZSkpO1xuXG4gICAgLyoqXG4gICAgICogV3JhcHMgYSBmdW5jdGlvbiBvZiBhbnkgYXJpdHkgKGluY2x1ZGluZyBudWxsYXJ5KSBpbiBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBleGFjdGx5IDJcbiAgICAgKiBwYXJhbWV0ZXJzLiBBbnkgZXh0cmFuZW91cyBwYXJhbWV0ZXJzIHdpbGwgbm90IGJlIHBhc3NlZCB0byB0aGUgc3VwcGxpZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKCogLT4gYykgLT4gKGEsIGIgLT4gYylcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBuZXcgZnVuY3Rpb24gd3JhcHBpbmcgYGZuYC4gVGhlIG5ldyBmdW5jdGlvbiBpcyBndWFyYW50ZWVkIHRvIGJlIG9mXG4gICAgICogICAgICAgICBhcml0eSAyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciB0YWtlc1RocmVlQXJncyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgICAgICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiAgICAgIH07XG4gICAgICogICAgICB0YWtlc1RocmVlQXJncy5sZW5ndGg7IC8vPT4gM1xuICAgICAqICAgICAgdGFrZXNUaHJlZUFyZ3MoMSwgMiwgMyk7IC8vPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAgICAgIHZhciB0YWtlc1R3b0FyZ3MgPSBSLmJpbmFyeSh0YWtlc1RocmVlQXJncyk7XG4gICAgICogICAgICB0YWtlc1R3b0FyZ3MubGVuZ3RoOyAvLz0+IDJcbiAgICAgKiAgICAgIC8vIE9ubHkgMiBhcmd1bWVudHMgYXJlIHBhc3NlZCB0byB0aGUgd3JhcHBlZCBmdW5jdGlvblxuICAgICAqICAgICAgdGFrZXNUd29BcmdzKDEsIDIsIDMpOyAvLz0+IFsxLCAyLCB1bmRlZmluZWRdXG4gICAgICovXG4gICAgdmFyIGJpbmFyeSA9IF9jdXJyeTEoZnVuY3Rpb24gYmluYXJ5KGZuKSB7XG4gICAgICAgIHJldHVybiBuQXJ5KDIsIGZuKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWVwIGNvcHkgb2YgdGhlIHZhbHVlIHdoaWNoIG1heSBjb250YWluIChuZXN0ZWQpIGBBcnJheWBzIGFuZCBgT2JqZWN0YHMsIGBOdW1iZXJgcyxcbiAgICAgKiBgU3RyaW5nYHMsIGBCb29sZWFuYHMgYW5kIGBEYXRlYHMuIGBGdW5jdGlvbmBzIGFyZSBub3QgY29waWVkLCBidXQgYXNzaWduZWQgYnkgdGhlaXJcbiAgICAgKiByZWZlcmVuY2UuIERpc3BhdGNoZXMgdG8gYSBgY2xvbmVgIG1ldGhvZCBpZiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyB7Kn0gLT4geyp9XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgb2JqZWN0IG9yIGFycmF5IHRvIGNsb25lXG4gICAgICogQHJldHVybiB7Kn0gQSBuZXcgb2JqZWN0IG9yIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBvYmplY3RzID0gW3t9LCB7fSwge31dO1xuICAgICAqICAgICAgdmFyIG9iamVjdHNDbG9uZSA9IFIuY2xvbmUob2JqZWN0cyk7XG4gICAgICogICAgICBvYmplY3RzWzBdID09PSBvYmplY3RzQ2xvbmVbMF07IC8vPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgY2xvbmUgPSBfY3VycnkxKGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS5jbG9uZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLmNsb25lKCkgOiBfY2xvbmUodmFsdWUsIFtdLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb250YWluaW5nIGEgc2luZ2xlIGtleTp2YWx1ZSBwYWlyLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyBTdHJpbmcgLT4gYSAtPiB7U3RyaW5nOmF9XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqIEBzZWUgUi5wYWlyLCBSLm9iak9mXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdjAuMTguMFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBtYXRjaFBocmFzZXMgPSBSLmNvbXBvc2UoXG4gICAgICogICAgICAgIFIuY3JlYXRlTWFwRW50cnkoJ211c3QnKSxcbiAgICAgKiAgICAgICAgUi5tYXAoUi5jcmVhdGVNYXBFbnRyeSgnbWF0Y2hfcGhyYXNlJykpXG4gICAgICogICAgICApO1xuICAgICAqICAgICAgbWF0Y2hQaHJhc2VzKFsnZm9vJywgJ2JhcicsICdiYXonXSk7IC8vPT4ge211c3Q6IFt7bWF0Y2hfcGhyYXNlOiAnZm9vJ30sIHttYXRjaF9waHJhc2U6ICdiYXInfSwge21hdGNoX3BocmFzZTogJ2Jheid9XX1cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlTWFwRW50cnkgPSBvYmpPZjtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBjdXJyaWVkIGVxdWl2YWxlbnQgb2YgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uLiBUaGUgY3VycmllZFxuICAgICAqIGZ1bmN0aW9uIGhhcyB0d28gdW51c3VhbCBjYXBhYmlsaXRpZXMuIEZpcnN0LCBpdHMgYXJndW1lbnRzIG5lZWRuJ3RcbiAgICAgKiBiZSBwcm92aWRlZCBvbmUgYXQgYSB0aW1lLiBJZiBgZmAgaXMgYSB0ZXJuYXJ5IGZ1bmN0aW9uIGFuZCBgZ2AgaXNcbiAgICAgKiBgUi5jdXJyeShmKWAsIHRoZSBmb2xsb3dpbmcgYXJlIGVxdWl2YWxlbnQ6XG4gICAgICpcbiAgICAgKiAgIC0gYGcoMSkoMikoMylgXG4gICAgICogICAtIGBnKDEpKDIsIDMpYFxuICAgICAqICAgLSBgZygxLCAyKSgzKWBcbiAgICAgKiAgIC0gYGcoMSwgMiwgMylgXG4gICAgICpcbiAgICAgKiBTZWNvbmRseSwgdGhlIHNwZWNpYWwgcGxhY2Vob2xkZXIgdmFsdWUgYFIuX19gIG1heSBiZSB1c2VkIHRvIHNwZWNpZnlcbiAgICAgKiBcImdhcHNcIiwgYWxsb3dpbmcgcGFydGlhbCBhcHBsaWNhdGlvbiBvZiBhbnkgY29tYmluYXRpb24gb2YgYXJndW1lbnRzLFxuICAgICAqIHJlZ2FyZGxlc3Mgb2YgdGhlaXIgcG9zaXRpb25zLiBJZiBgZ2AgaXMgYXMgYWJvdmUgYW5kIGBfYCBpcyBgUi5fX2AsXG4gICAgICogdGhlIGZvbGxvd2luZyBhcmUgZXF1aXZhbGVudDpcbiAgICAgKlxuICAgICAqICAgLSBgZygxLCAyLCAzKWBcbiAgICAgKiAgIC0gYGcoXywgMiwgMykoMSlgXG4gICAgICogICAtIGBnKF8sIF8sIDMpKDEpKDIpYFxuICAgICAqICAgLSBgZyhfLCBfLCAzKSgxLCAyKWBcbiAgICAgKiAgIC0gYGcoXywgMikoMSkoMylgXG4gICAgICogICAtIGBnKF8sIDIpKDEsIDMpYFxuICAgICAqICAgLSBgZyhfLCAyKShfLCAzKSgxKWBcbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNpZyAoKiAtPiBhKSAtPiAoKiAtPiBhKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBuZXcsIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHNlZSBSLmN1cnJ5TlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBhZGRGb3VyTnVtYmVycyA9IChhLCBiLCBjLCBkKSA9PiBhICsgYiArIGMgKyBkO1xuICAgICAqXG4gICAgICogICAgICB2YXIgY3VycmllZEFkZEZvdXJOdW1iZXJzID0gUi5jdXJyeShhZGRGb3VyTnVtYmVycyk7XG4gICAgICogICAgICB2YXIgZiA9IGN1cnJpZWRBZGRGb3VyTnVtYmVycygxLCAyKTtcbiAgICAgKiAgICAgIHZhciBnID0gZigzKTtcbiAgICAgKiAgICAgIGcoNCk7IC8vPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgY3VycnkgPSBfY3VycnkxKGZ1bmN0aW9uIGN1cnJ5KGZuKSB7XG4gICAgICAgIHJldHVybiBjdXJyeU4oZm4ubGVuZ3RoLCBmbik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGxpc3QgY29udGFpbmluZyB0aGUgbGFzdCBgbmAgZWxlbWVudHMgb2YgYSBnaXZlbiBsaXN0LCBwYXNzaW5nIGVhY2ggdmFsdWVcbiAgICAgKiB0byB0aGUgc3VwcGxpZWQgcHJlZGljYXRlIGZ1bmN0aW9uLCBza2lwcGluZyBlbGVtZW50cyB3aGlsZSB0aGUgcHJlZGljYXRlIGZ1bmN0aW9uIHJldHVybnNcbiAgICAgKiBgdHJ1ZWAuIFRoZSBwcmVkaWNhdGUgZnVuY3Rpb24gaXMgcGFzc2VkIG9uZSBhcmd1bWVudDogKih2YWx1ZSkqLlxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGRyb3BXaGlsZWAgbWV0aG9kIG9mIHRoZSBzZWNvbmQgYXJndW1lbnQsIGlmIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBBY3RzIGFzIGEgdHJhbnNkdWNlciBpZiBhIHRyYW5zZm9ybWVyIGlzIGdpdmVuIGluIGxpc3QgcG9zaXRpb24uXG4gICAgICogQHNlZSBSLnRyYW5zZHVjZVxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEgLT4gQm9vbGVhbikgLT4gW2FdIC0+IFthXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQSBuZXcgYXJyYXkuXG4gICAgICogQHNlZSBSLnRha2VXaGlsZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBsdGVUd28gPSB4ID0+IHggPD0gMjtcbiAgICAgKlxuICAgICAqICAgICAgUi5kcm9wV2hpbGUobHRlVHdvLCBbMSwgMiwgMywgNCwgMywgMiwgMV0pOyAvLz0+IFszLCA0LCAzLCAyLCAxXVxuICAgICAqL1xuICAgIHZhciBkcm9wV2hpbGUgPSBfY3VycnkyKF9kaXNwYXRjaGFibGUoJ2Ryb3BXaGlsZScsIF94ZHJvcFdoaWxlLCBmdW5jdGlvbiBkcm9wV2hpbGUocHJlZCwgbGlzdCkge1xuICAgICAgICB2YXIgaWR4ID0gMCwgbGVuID0gbGlzdC5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4gJiYgcHJlZChsaXN0W2lkeF0pKSB7XG4gICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3NsaWNlKGxpc3QsIGlkeCk7XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgaXRzIGFyZ3VtZW50cyBhcmUgZXF1aXZhbGVudCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogRGlzcGF0Y2hlcyB0byBhbiBgZXF1YWxzYCBtZXRob2QgaWYgcHJlc2VudC4gSGFuZGxlcyBjeWNsaWNhbCBkYXRhXG4gICAgICogc3RydWN0dXJlcy5cbiAgICAgKlxuICAgICAqIERpc3BhdGNoZXMgdG8gdGhlIGBlcXVhbHNgIG1ldGhvZCBvZiBib3RoIGFyZ3VtZW50cywgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTUuMFxuICAgICAqIEBjYXRlZ29yeSBSZWxhdGlvblxuICAgICAqIEBzaWcgYSAtPiBiIC0+IEJvb2xlYW5cbiAgICAgKiBAcGFyYW0geyp9IGFcbiAgICAgKiBAcGFyYW0geyp9IGJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuZXF1YWxzKDEsIDEpOyAvLz0+IHRydWVcbiAgICAgKiAgICAgIFIuZXF1YWxzKDEsICcxJyk7IC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIFIuZXF1YWxzKFsxLCAyLCAzXSwgWzEsIDIsIDNdKTsgLy89PiB0cnVlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBhID0ge307IGEudiA9IGE7XG4gICAgICogICAgICB2YXIgYiA9IHt9OyBiLnYgPSBiO1xuICAgICAqICAgICAgUi5lcXVhbHMoYSwgYik7IC8vPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBlcXVhbHMgPSBfY3VycnkyKGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBfZXF1YWxzKGEsIGIsIFtdLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGxpc3QgY29udGFpbmluZyBvbmx5IHRob3NlIGl0ZW1zIHRoYXQgbWF0Y2ggYSBnaXZlbiBwcmVkaWNhdGUgZnVuY3Rpb24uXG4gICAgICogVGhlIHByZWRpY2F0ZSBmdW5jdGlvbiBpcyBwYXNzZWQgb25lIGFyZ3VtZW50OiAqKHZhbHVlKSouXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgYFIuZmlsdGVyYCBkb2VzIG5vdCBza2lwIGRlbGV0ZWQgb3IgdW5hc3NpZ25lZCBpbmRpY2VzLCB1bmxpa2UgdGhlIG5hdGl2ZVxuICAgICAqIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2QuIEZvciBtb3JlIGRldGFpbHMgb24gdGhpcyBiZWhhdmlvciwgc2VlOlxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbHRlciNEZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGZpbHRlcmAgbWV0aG9kIG9mIHRoZSBzZWNvbmQgYXJndW1lbnQsIGlmIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBBY3RzIGFzIGEgdHJhbnNkdWNlciBpZiBhIHRyYW5zZm9ybWVyIGlzIGdpdmVuIGluIGxpc3QgcG9zaXRpb24uXG4gICAgICogQHNlZSBSLnRyYW5zZHVjZVxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEgLT4gQm9vbGVhbikgLT4gW2FdIC0+IFthXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIFIucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGlzRXZlbiA9IG4gPT4gbiAlIDIgPT09IDA7XG4gICAgICpcbiAgICAgKiAgICAgIFIuZmlsdGVyKGlzRXZlbiwgWzEsIDIsIDMsIDRdKTsgLy89PiBbMiwgNF1cbiAgICAgKi9cbiAgICB2YXIgZmlsdGVyID0gX2N1cnJ5MihfZGlzcGF0Y2hhYmxlKCdmaWx0ZXInLCBfeGZpbHRlciwgX2ZpbHRlcikpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgbGlzdCB3aGljaCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUsIG9yIGB1bmRlZmluZWRgIGlmIG5vXG4gICAgICogZWxlbWVudCBtYXRjaGVzLlxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGZpbmRgIG1ldGhvZCBvZiB0aGUgc2Vjb25kIGFyZ3VtZW50LCBpZiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQWN0cyBhcyBhIHRyYW5zZHVjZXIgaWYgYSB0cmFuc2Zvcm1lciBpcyBnaXZlbiBpbiBsaXN0IHBvc2l0aW9uLlxuICAgICAqIEBzZWUgUi50cmFuc2R1Y2VcbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhIC0+IEJvb2xlYW4pIC0+IFthXSAtPiBhIHwgdW5kZWZpbmVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIHByZWRpY2F0ZSBmdW5jdGlvbiB1c2VkIHRvIGRldGVybWluZSBpZiB0aGUgZWxlbWVudCBpcyB0aGVcbiAgICAgKiAgICAgICAgZGVzaXJlZCBvbmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZWxlbWVudCBmb3VuZCwgb3IgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHhzID0gW3thOiAxfSwge2E6IDJ9LCB7YTogM31dO1xuICAgICAqICAgICAgUi5maW5kKFIucHJvcEVxKCdhJywgMikpKHhzKTsgLy89PiB7YTogMn1cbiAgICAgKiAgICAgIFIuZmluZChSLnByb3BFcSgnYScsIDQpKSh4cyk7IC8vPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBfY3VycnkyKF9kaXNwYXRjaGFibGUoJ2ZpbmQnLCBfeGZpbmQsIGZ1bmN0aW9uIGZpbmQoZm4sIGxpc3QpIHtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHZhciBsZW4gPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGZuKGxpc3RbaWR4XSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdFtpZHhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgIH1cbiAgICB9KSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgbGlzdCB3aGljaCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUsIG9yIGAtMWBcbiAgICAgKiBpZiBubyBlbGVtZW50IG1hdGNoZXMuXG4gICAgICpcbiAgICAgKiBEaXNwYXRjaGVzIHRvIHRoZSBgZmluZEluZGV4YCBtZXRob2Qgb2YgdGhlIHNlY29uZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEFjdHMgYXMgYSB0cmFuc2R1Y2VyIGlmIGEgdHJhbnNmb3JtZXIgaXMgZ2l2ZW4gaW4gbGlzdCBwb3NpdGlvbi5cbiAgICAgKiBAc2VlIFIudHJhbnNkdWNlXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMVxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyAoYSAtPiBCb29sZWFuKSAtPiBbYV0gLT4gTnVtYmVyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIHByZWRpY2F0ZSBmdW5jdGlvbiB1c2VkIHRvIGRldGVybWluZSBpZiB0aGUgZWxlbWVudCBpcyB0aGVcbiAgICAgKiBkZXNpcmVkIG9uZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBhcnJheSB0byBjb25zaWRlci5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCBmb3VuZCwgb3IgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgeHMgPSBbe2E6IDF9LCB7YTogMn0sIHthOiAzfV07XG4gICAgICogICAgICBSLmZpbmRJbmRleChSLnByb3BFcSgnYScsIDIpKSh4cyk7IC8vPT4gMVxuICAgICAqICAgICAgUi5maW5kSW5kZXgoUi5wcm9wRXEoJ2EnLCA0KSkoeHMpOyAvLz0+IC0xXG4gICAgICovXG4gICAgdmFyIGZpbmRJbmRleCA9IF9jdXJyeTIoX2Rpc3BhdGNoYWJsZSgnZmluZEluZGV4JywgX3hmaW5kSW5kZXgsIGZ1bmN0aW9uIGZpbmRJbmRleChmbiwgbGlzdCkge1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoZm4obGlzdFtpZHhdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSBsaXN0IHdoaWNoIG1hdGNoZXMgdGhlIHByZWRpY2F0ZSwgb3IgYHVuZGVmaW5lZGAgaWYgbm9cbiAgICAgKiBlbGVtZW50IG1hdGNoZXMuXG4gICAgICpcbiAgICAgKiBEaXNwYXRjaGVzIHRvIHRoZSBgZmluZExhc3RgIG1ldGhvZCBvZiB0aGUgc2Vjb25kIGFyZ3VtZW50LCBpZiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQWN0cyBhcyBhIHRyYW5zZHVjZXIgaWYgYSB0cmFuc2Zvcm1lciBpcyBnaXZlbiBpbiBsaXN0IHBvc2l0aW9uLlxuICAgICAqIEBzZWUgUi50cmFuc2R1Y2VcbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4xXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhIC0+IEJvb2xlYW4pIC0+IFthXSAtPiBhIHwgdW5kZWZpbmVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIHByZWRpY2F0ZSBmdW5jdGlvbiB1c2VkIHRvIGRldGVybWluZSBpZiB0aGUgZWxlbWVudCBpcyB0aGVcbiAgICAgKiBkZXNpcmVkIG9uZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBhcnJheSB0byBjb25zaWRlci5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBlbGVtZW50IGZvdW5kLCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgeHMgPSBbe2E6IDEsIGI6IDB9LCB7YToxLCBiOiAxfV07XG4gICAgICogICAgICBSLmZpbmRMYXN0KFIucHJvcEVxKCdhJywgMSkpKHhzKTsgLy89PiB7YTogMSwgYjogMX1cbiAgICAgKiAgICAgIFIuZmluZExhc3QoUi5wcm9wRXEoJ2EnLCA0KSkoeHMpOyAvLz0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHZhciBmaW5kTGFzdCA9IF9jdXJyeTIoX2Rpc3BhdGNoYWJsZSgnZmluZExhc3QnLCBfeGZpbmRMYXN0LCBmdW5jdGlvbiBmaW5kTGFzdChmbiwgbGlzdCkge1xuICAgICAgICB2YXIgaWR4ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICB3aGlsZSAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIGlmIChmbihsaXN0W2lkeF0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RbaWR4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCAtPSAxO1xuICAgICAgICB9XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgbGlzdCB3aGljaCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUsIG9yXG4gICAgICogYC0xYCBpZiBubyBlbGVtZW50IG1hdGNoZXMuXG4gICAgICpcbiAgICAgKiBEaXNwYXRjaGVzIHRvIHRoZSBgZmluZExhc3RJbmRleGAgbWV0aG9kIG9mIHRoZSBzZWNvbmQgYXJndW1lbnQsIGlmIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBBY3RzIGFzIGEgdHJhbnNkdWNlciBpZiBhIHRyYW5zZm9ybWVyIGlzIGdpdmVuIGluIGxpc3QgcG9zaXRpb24uXG4gICAgICogQHNlZSBSLnRyYW5zZHVjZVxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjFcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEgLT4gQm9vbGVhbikgLT4gW2FdIC0+IE51bWJlclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBwcmVkaWNhdGUgZnVuY3Rpb24gdXNlZCB0byBkZXRlcm1pbmUgaWYgdGhlIGVsZW1lbnQgaXMgdGhlXG4gICAgICogZGVzaXJlZCBvbmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgZm91bmQsIG9yIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHhzID0gW3thOiAxLCBiOiAwfSwge2E6MSwgYjogMX1dO1xuICAgICAqICAgICAgUi5maW5kTGFzdEluZGV4KFIucHJvcEVxKCdhJywgMSkpKHhzKTsgLy89PiAxXG4gICAgICogICAgICBSLmZpbmRMYXN0SW5kZXgoUi5wcm9wRXEoJ2EnLCA0KSkoeHMpOyAvLz0+IC0xXG4gICAgICovXG4gICAgdmFyIGZpbmRMYXN0SW5kZXggPSBfY3VycnkyKF9kaXNwYXRjaGFibGUoJ2ZpbmRMYXN0SW5kZXgnLCBfeGZpbmRMYXN0SW5kZXgsIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoZm4sIGxpc3QpIHtcbiAgICAgICAgdmFyIGlkeCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICBpZiAoZm4obGlzdFtpZHhdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZHggLT0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBsaXN0IGJ5IHB1bGxpbmcgZXZlcnkgaXRlbSBvdXQgb2YgaXQgKGFuZCBhbGwgaXRzIHN1Yi1hcnJheXMpIGFuZCBwdXR0aW5nXG4gICAgICogdGhlbSBpbiBhIG5ldyBhcnJheSwgZGVwdGgtZmlyc3QuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBbYV0gLT4gW2JdXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBmbGF0dGVuZWQgbGlzdC5cbiAgICAgKiBAc2VlIFIudW5uZXN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5mbGF0dGVuKFsxLCAyLCBbMywgNF0sIDUsIFs2LCBbNywgOCwgWzksIFsxMCwgMTFdLCAxMl1dXV0pO1xuICAgICAqICAgICAgLy89PiBbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMl1cbiAgICAgKi9cbiAgICB2YXIgZmxhdHRlbiA9IF9jdXJyeTEoX21ha2VGbGF0KHRydWUpKTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgZnVuY3Rpb24gbXVjaCBsaWtlIHRoZSBzdXBwbGllZCBvbmUsIGV4Y2VwdCB0aGF0IHRoZSBmaXJzdCB0d28gYXJndW1lbnRzJ1xuICAgICAqIG9yZGVyIGlzIHJldmVyc2VkLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnIChhIC0+IGIgLT4gYyAtPiAuLi4gLT4geikgLT4gKGIgLT4gYSAtPiBjIC0+IC4uLiAtPiB6KVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBpbnZva2Ugd2l0aCBpdHMgZmlyc3QgdHdvIHBhcmFtZXRlcnMgcmV2ZXJzZWQuXG4gICAgICogQHJldHVybiB7Kn0gVGhlIHJlc3VsdCBvZiBpbnZva2luZyBgZm5gIHdpdGggaXRzIGZpcnN0IHR3byBwYXJhbWV0ZXJzJyBvcmRlciByZXZlcnNlZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbWVyZ2VUaHJlZSA9IChhLCBiLCBjKSA9PiBbXS5jb25jYXQoYSwgYiwgYyk7XG4gICAgICpcbiAgICAgKiAgICAgIG1lcmdlVGhyZWUoMSwgMiwgMyk7IC8vPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAgICAgIFIuZmxpcChtZXJnZVRocmVlKSgxLCAyLCAzKTsgLy89PiBbMiwgMSwgM11cbiAgICAgKi9cbiAgICB2YXIgZmxpcCA9IF9jdXJyeTEoZnVuY3Rpb24gZmxpcChmbikge1xuICAgICAgICByZXR1cm4gY3VycnkoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gX3NsaWNlKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBhcmdzWzBdID0gYjtcbiAgICAgICAgICAgIGFyZ3NbMV0gPSBhO1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBhbiBpbnB1dCBgbGlzdGAsIGNhbGxpbmcgYSBwcm92aWRlZCBmdW5jdGlvbiBgZm5gIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlXG4gICAgICogbGlzdC5cbiAgICAgKlxuICAgICAqIGBmbmAgcmVjZWl2ZXMgb25lIGFyZ3VtZW50OiAqKHZhbHVlKSouXG4gICAgICpcbiAgICAgKiBOb3RlOiBgUi5mb3JFYWNoYCBkb2VzIG5vdCBza2lwIGRlbGV0ZWQgb3IgdW5hc3NpZ25lZCBpbmRpY2VzIChzcGFyc2UgYXJyYXlzKSwgdW5saWtlXG4gICAgICogdGhlIG5hdGl2ZSBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZC4gRm9yIG1vcmUgZGV0YWlscyBvbiB0aGlzIGJlaGF2aW9yLCBzZWU6XG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZm9yRWFjaCNEZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogQWxzbyBub3RlIHRoYXQsIHVubGlrZSBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgLCBSYW1kYSdzIGBmb3JFYWNoYCByZXR1cm5zIHRoZSBvcmlnaW5hbFxuICAgICAqIGFycmF5LiBJbiBzb21lIGxpYnJhcmllcyB0aGlzIGZ1bmN0aW9uIGlzIG5hbWVkIGBlYWNoYC5cbiAgICAgKlxuICAgICAqIERpc3BhdGNoZXMgdG8gdGhlIGBmb3JFYWNoYCBtZXRob2Qgb2YgdGhlIHNlY29uZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4xXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhIC0+ICopIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLiBSZWNlaXZlcyBvbmUgYXJndW1lbnQsIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgbGlzdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBvcmlnaW5hbCBsaXN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBwcmludFhQbHVzRml2ZSA9IHggPT4gY29uc29sZS5sb2coeCArIDUpO1xuICAgICAqICAgICAgUi5mb3JFYWNoKHByaW50WFBsdXNGaXZlLCBbMSwgMiwgM10pOyAvLz0+IFsxLCAyLCAzXVxuICAgICAqICAgICAgLy8tPiA2XG4gICAgICogICAgICAvLy0+IDdcbiAgICAgKiAgICAgIC8vLT4gOFxuICAgICAqL1xuICAgIHZhciBmb3JFYWNoID0gX2N1cnJ5MihfY2hlY2tGb3JNZXRob2QoJ2ZvckVhY2gnLCBmdW5jdGlvbiBmb3JFYWNoKGZuLCBsaXN0KSB7XG4gICAgICAgIHZhciBsZW4gPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICAgICAgICAgIGZuKGxpc3RbaWR4XSk7XG4gICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9KSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBmdW5jdGlvbiBuYW1lcyBvZiBvYmplY3QncyBvd24gZnVuY3Rpb25zXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIHsqfSAtPiBbU3RyaW5nXVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdHMgd2l0aCBmdW5jdGlvbnMgaW4gaXRcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQSBsaXN0IG9mIHRoZSBvYmplY3QncyBvd24gcHJvcGVydGllcyB0aGF0IG1hcCB0byBmdW5jdGlvbnMuXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdjAuMTguMFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuZnVuY3Rpb25zKFIpOyAvLyByZXR1cm5zIGxpc3Qgb2YgcmFtZGEncyBvd24gZnVuY3Rpb24gbmFtZXNcbiAgICAgKlxuICAgICAqICAgICAgdmFyIEYgPSBmdW5jdGlvbigpIHsgdGhpcy54ID0gZnVuY3Rpb24oKXt9OyB0aGlzLnkgPSAxOyB9XG4gICAgICogICAgICBGLnByb3RvdHlwZS56ID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgKiAgICAgIEYucHJvdG90eXBlLmEgPSAxMDA7XG4gICAgICogICAgICBSLmZ1bmN0aW9ucyhuZXcgRigpKTsgLy89PiBbXCJ4XCJdXG4gICAgICovXG4gICAgdmFyIGZ1bmN0aW9ucyA9IF9jdXJyeTEoX2Z1bmN0aW9uc1dpdGgoa2V5cykpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgZnVuY3Rpb24gbmFtZXMgb2Ygb2JqZWN0J3Mgb3duIGFuZCBwcm90b3R5cGUgZnVuY3Rpb25zXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIHsqfSAtPiBbU3RyaW5nXVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdHMgd2l0aCBmdW5jdGlvbnMgaW4gaXRcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQSBsaXN0IG9mIHRoZSBvYmplY3QncyBvd24gcHJvcGVydGllcyBhbmQgcHJvdG90eXBlXG4gICAgICogICAgICAgICBwcm9wZXJ0aWVzIHRoYXQgbWFwIHRvIGZ1bmN0aW9ucy5cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2MC4xOC4wXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5mdW5jdGlvbnNJbihSKTsgLy8gcmV0dXJucyBsaXN0IG9mIHJhbWRhJ3Mgb3duIGFuZCBwcm90b3R5cGUgZnVuY3Rpb24gbmFtZXNcbiAgICAgKlxuICAgICAqICAgICAgdmFyIEYgPSBmdW5jdGlvbigpIHsgdGhpcy54ID0gZnVuY3Rpb24oKXt9OyB0aGlzLnkgPSAxOyB9XG4gICAgICogICAgICBGLnByb3RvdHlwZS56ID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgKiAgICAgIEYucHJvdG90eXBlLmEgPSAxMDA7XG4gICAgICogICAgICBSLmZ1bmN0aW9uc0luKG5ldyBGKCkpOyAvLz0+IFtcInhcIiwgXCJ6XCJdXG4gICAgICovXG4gICAgdmFyIGZ1bmN0aW9uc0luID0gX2N1cnJ5MShfZnVuY3Rpb25zV2l0aChrZXlzSW4pKTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBhIGxpc3QgaW50byBzdWItbGlzdHMgc3RvcmVkIGluIGFuIG9iamVjdCwgYmFzZWQgb24gdGhlIHJlc3VsdCBvZiBjYWxsaW5nIGEgU3RyaW5nLXJldHVybmluZyBmdW5jdGlvblxuICAgICAqIG9uIGVhY2ggZWxlbWVudCwgYW5kIGdyb3VwaW5nIHRoZSByZXN1bHRzIGFjY29yZGluZyB0byB2YWx1ZXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBEaXNwYXRjaGVzIHRvIHRoZSBgZ3JvdXBCeWAgbWV0aG9kIG9mIHRoZSBzZWNvbmQgYXJndW1lbnQsIGlmIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBBY3RzIGFzIGEgdHJhbnNkdWNlciBpZiBhIHRyYW5zZm9ybWVyIGlzIGdpdmVuIGluIGxpc3QgcG9zaXRpb24uXG4gICAgICogQHNlZSBSLnRyYW5zZHVjZVxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEgLT4gU3RyaW5nKSAtPiBbYV0gLT4ge1N0cmluZzogW2FdfVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIDo6IGEgLT4gU3RyaW5nXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gZ3JvdXBcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIHRoZSBvdXRwdXQgb2YgYGZuYCBmb3Iga2V5cywgbWFwcGVkIHRvIGFycmF5cyBvZiBlbGVtZW50c1xuICAgICAqICAgICAgICAgdGhhdCBwcm9kdWNlZCB0aGF0IGtleSB3aGVuIHBhc3NlZCB0byBgZm5gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBieUdyYWRlID0gUi5ncm91cEJ5KGZ1bmN0aW9uKHN0dWRlbnQpIHtcbiAgICAgKiAgICAgICAgdmFyIHNjb3JlID0gc3R1ZGVudC5zY29yZTtcbiAgICAgKiAgICAgICAgcmV0dXJuIHNjb3JlIDwgNjUgPyAnRicgOlxuICAgICAqICAgICAgICAgICAgICAgc2NvcmUgPCA3MCA/ICdEJyA6XG4gICAgICogICAgICAgICAgICAgICBzY29yZSA8IDgwID8gJ0MnIDpcbiAgICAgKiAgICAgICAgICAgICAgIHNjb3JlIDwgOTAgPyAnQicgOiAnQSc7XG4gICAgICogICAgICB9KTtcbiAgICAgKiAgICAgIHZhciBzdHVkZW50cyA9IFt7bmFtZTogJ0FiYnknLCBzY29yZTogODR9LFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnRWRkeScsIHNjb3JlOiA1OH0sXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgLy8gLi4uXG4gICAgICogICAgICAgICAgICAgICAgICAgICAge25hbWU6ICdKYWNrJywgc2NvcmU6IDY5fV07XG4gICAgICogICAgICBieUdyYWRlKHN0dWRlbnRzKTtcbiAgICAgKiAgICAgIC8vIHtcbiAgICAgKiAgICAgIC8vICAgJ0EnOiBbe25hbWU6ICdEaWFubmUnLCBzY29yZTogOTl9XSxcbiAgICAgKiAgICAgIC8vICAgJ0InOiBbe25hbWU6ICdBYmJ5Jywgc2NvcmU6IDg0fV1cbiAgICAgKiAgICAgIC8vICAgLy8gLi4uLFxuICAgICAqICAgICAgLy8gICAnRic6IFt7bmFtZTogJ0VkZHknLCBzY29yZTogNTh9XVxuICAgICAqICAgICAgLy8gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gX2N1cnJ5MihfZGlzcGF0Y2hhYmxlKCdncm91cEJ5JywgX3hncm91cEJ5LCBmdW5jdGlvbiBncm91cEJ5KGZuLCBsaXN0KSB7XG4gICAgICAgIHJldHVybiBfcmVkdWNlKGZ1bmN0aW9uIChhY2MsIGVsdCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGZuKGVsdCk7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGFwcGVuZChlbHQsIGFjY1trZXldIHx8IChhY2Nba2V5XSA9IFtdKSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSwgbGlzdCk7XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gbGlzdCBvciBzdHJpbmcuIEluIHNvbWUgbGlicmFyaWVzXG4gICAgICogdGhpcyBmdW5jdGlvbiBpcyBuYW1lZCBgZmlyc3RgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzZWUgUi50YWlsLCBSLmluaXQsIFIubGFzdFxuICAgICAqIEBzaWcgW2FdIC0+IGEgfCBVbmRlZmluZWRcbiAgICAgKiBAc2lnIFN0cmluZyAtPiBTdHJpbmdcbiAgICAgKiBAcGFyYW0geyp9IGxpc3RcbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuaGVhZChbJ2ZpJywgJ2ZvJywgJ2Z1bSddKTsgLy89PiAnZmknXG4gICAgICogICAgICBSLmhlYWQoW10pOyAvLz0+IHVuZGVmaW5lZFxuICAgICAqXG4gICAgICogICAgICBSLmhlYWQoJ2FiYycpOyAvLz0+ICdhJ1xuICAgICAqICAgICAgUi5oZWFkKCcnKTsgLy89PiAnJ1xuICAgICAqL1xuICAgIHZhciBoZWFkID0gbnRoKDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tYmluZXMgdHdvIGxpc3RzIGludG8gYSBzZXQgKGkuZS4gbm8gZHVwbGljYXRlcykgY29tcG9zZWQgb2YgdGhvc2VcbiAgICAgKiBlbGVtZW50cyBjb21tb24gdG8gYm90aCBsaXN0cy4gIER1cGxpY2F0aW9uIGlzIGRldGVybWluZWQgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIHZhbHVlIHJldHVybmVkIGJ5IGFwcGx5aW5nIHRoZSBzdXBwbGllZCBwcmVkaWNhdGUgdG8gdHdvIGxpc3RcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IFJlbGF0aW9uXG4gICAgICogQHNpZyAoYSxhIC0+IEJvb2xlYW4pIC0+IFthXSAtPiBbYV0gLT4gW2FdXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZCBBIHByZWRpY2F0ZSBmdW5jdGlvbiB0aGF0IGRldGVybWluZXMgd2hldGhlclxuICAgICAqICAgICAgICB0aGUgdHdvIHN1cHBsaWVkIGVsZW1lbnRzIGFyZSBlcXVhbC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0MSBPbmUgbGlzdCBvZiBpdGVtcyB0byBjb21wYXJlXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdDIgQSBzZWNvbmQgbGlzdCBvZiBpdGVtcyB0byBjb21wYXJlXG4gICAgICogQHNlZSBSLmludGVyc2VjdGlvblxuICAgICAqIEByZXR1cm4ge0FycmF5fSBBIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhvc2UgZWxlbWVudHMgY29tbW9uIHRvIGJvdGggbGlzdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGJ1ZmZhbG9TcHJpbmdmaWVsZCA9IFtcbiAgICAgKiAgICAgICAge2lkOiA4MjQsIG5hbWU6ICdSaWNoaWUgRnVyYXknfSxcbiAgICAgKiAgICAgICAge2lkOiA5NTYsIG5hbWU6ICdEZXdleSBNYXJ0aW4nfSxcbiAgICAgKiAgICAgICAge2lkOiAzMTMsIG5hbWU6ICdCcnVjZSBQYWxtZXInfSxcbiAgICAgKiAgICAgICAge2lkOiA0NTYsIG5hbWU6ICdTdGVwaGVuIFN0aWxscyd9LFxuICAgICAqICAgICAgICB7aWQ6IDE3NywgbmFtZTogJ05laWwgWW91bmcnfVxuICAgICAqICAgICAgXTtcbiAgICAgKiAgICAgIHZhciBjc255ID0gW1xuICAgICAqICAgICAgICB7aWQ6IDIwNCwgbmFtZTogJ0RhdmlkIENyb3NieSd9LFxuICAgICAqICAgICAgICB7aWQ6IDQ1NiwgbmFtZTogJ1N0ZXBoZW4gU3RpbGxzJ30sXG4gICAgICogICAgICAgIHtpZDogNTM5LCBuYW1lOiAnR3JhaGFtIE5hc2gnfSxcbiAgICAgKiAgICAgICAge2lkOiAxNzcsIG5hbWU6ICdOZWlsIFlvdW5nJ31cbiAgICAgKiAgICAgIF07XG4gICAgICpcbiAgICAgKiAgICAgIFIuaW50ZXJzZWN0aW9uV2l0aChSLmVxQnkoUi5wcm9wKCdpZCcpKSwgYnVmZmFsb1NwcmluZ2ZpZWxkLCBjc255KTtcbiAgICAgKiAgICAgIC8vPT4gW3tpZDogNDU2LCBuYW1lOiAnU3RlcGhlbiBTdGlsbHMnfSwge2lkOiAxNzcsIG5hbWU6ICdOZWlsIFlvdW5nJ31dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBfY3VycnkzKGZ1bmN0aW9uIGludGVyc2VjdGlvbldpdGgocHJlZCwgbGlzdDEsIGxpc3QyKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW10sIGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChpZHggPCBsaXN0MS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChfY29udGFpbnNXaXRoKHByZWQsIGxpc3QxW2lkeF0sIGxpc3QyKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNbcmVzdWx0cy5sZW5ndGhdID0gbGlzdDFbaWR4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmlxV2l0aChwcmVkLCByZXN1bHRzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbGlzdCB3aXRoIHRoZSBzZXBhcmF0b3IgaW50ZXJwb3NlZCBiZXR3ZWVuIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGludGVyc3BlcnNlYCBtZXRob2Qgb2YgdGhlIHNlY29uZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBhIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0geyp9IHNlcGFyYXRvciBUaGUgZWxlbWVudCB0byBhZGQgdG8gdGhlIGxpc3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgbGlzdCB0byBiZSBpbnRlcnBvc2VkLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgbmV3IGxpc3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5pbnRlcnNwZXJzZSgnbicsIFsnYmEnLCAnYScsICdhJ10pOyAvLz0+IFsnYmEnLCAnbicsICdhJywgJ24nLCAnYSddXG4gICAgICovXG4gICAgdmFyIGludGVyc3BlcnNlID0gX2N1cnJ5MihfY2hlY2tGb3JNZXRob2QoJ2ludGVyc3BlcnNlJywgZnVuY3Rpb24gaW50ZXJzcGVyc2Uoc2VwYXJhdG9yLCBsaXN0KSB7XG4gICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHZhciBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKGxpc3RbaWR4XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKGxpc3RbaWR4XSwgc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyBSLmludmVydE9iaiwgaG93ZXZlciB0aGlzIGFjY291bnRzIGZvciBvYmplY3RzXG4gICAgICogd2l0aCBkdXBsaWNhdGUgdmFsdWVzIGJ5IHB1dHRpbmcgdGhlIHZhbHVlcyBpbnRvIGFuXG4gICAgICogYXJyYXkuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjkuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIHtzOiB4fSAtPiB7eDogWyBzLCAuLi4gXX1cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gaW52ZXJ0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvdXQgQSBuZXcgb2JqZWN0IHdpdGgga2V5c1xuICAgICAqIGluIGFuIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciByYWNlUmVzdWx0c0J5Rmlyc3ROYW1lID0ge1xuICAgICAqICAgICAgICBmaXJzdDogJ2FsaWNlJyxcbiAgICAgKiAgICAgICAgc2Vjb25kOiAnamFrZScsXG4gICAgICogICAgICAgIHRoaXJkOiAnYWxpY2UnLFxuICAgICAqICAgICAgfTtcbiAgICAgKiAgICAgIFIuaW52ZXJ0KHJhY2VSZXN1bHRzQnlGaXJzdE5hbWUpO1xuICAgICAqICAgICAgLy89PiB7ICdhbGljZSc6IFsnZmlyc3QnLCAndGhpcmQnXSwgJ2pha2UnOlsnc2Vjb25kJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnQgPSBfY3VycnkxKGZ1bmN0aW9uIGludmVydChvYmopIHtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5cyhvYmopO1xuICAgICAgICB2YXIgbGVuID0gcHJvcHMubGVuZ3RoO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIG91dCA9IHt9O1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbaWR4XTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBvYmpba2V5XTtcbiAgICAgICAgICAgIHZhciBsaXN0ID0gX2hhcyh2YWwsIG91dCkgPyBvdXRbdmFsXSA6IG91dFt2YWxdID0gW107XG4gICAgICAgICAgICBsaXN0W2xpc3QubGVuZ3RoXSA9IGtleTtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBrZXlzIG9mIHRoZSBnaXZlbiBvYmplY3RcbiAgICAgKiBhcyB2YWx1ZXMsIGFuZCB0aGUgdmFsdWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsIHdoaWNoIGFyZVxuICAgICAqIGNvZXJjZWQgdG8gc3RyaW5ncywgYXMga2V5cy5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIGxhc3Qga2V5IGZvdW5kIGlzIHByZWZlcnJlZCB3aGVuIGhhbmRsaW5nXG4gICAgICogdGhlIHNhbWUgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjkuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAc2lnIHtzOiB4fSAtPiB7eDogc31cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gaW52ZXJ0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvdXQgQSBuZXcgb2JqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHJhY2VSZXN1bHRzID0ge1xuICAgICAqICAgICAgICBmaXJzdDogJ2FsaWNlJyxcbiAgICAgKiAgICAgICAgc2Vjb25kOiAnamFrZSdcbiAgICAgKiAgICAgIH07XG4gICAgICogICAgICBSLmludmVydE9iaihyYWNlUmVzdWx0cyk7XG4gICAgICogICAgICAvLz0+IHsgJ2FsaWNlJzogJ2ZpcnN0JywgJ2pha2UnOidzZWNvbmQnIH1cbiAgICAgKlxuICAgICAqICAgICAgLy8gQWx0ZXJuYXRpdmVseTpcbiAgICAgKiAgICAgIHZhciByYWNlUmVzdWx0cyA9IFsnYWxpY2UnLCAnamFrZSddO1xuICAgICAqICAgICAgUi5pbnZlcnRPYmoocmFjZVJlc3VsdHMpO1xuICAgICAqICAgICAgLy89PiB7ICdhbGljZSc6ICcwJywgJ2pha2UnOicxJyB9XG4gICAgICovXG4gICAgdmFyIGludmVydE9iaiA9IF9jdXJyeTEoZnVuY3Rpb24gaW52ZXJ0T2JqKG9iaikge1xuICAgICAgICB2YXIgcHJvcHMgPSBrZXlzKG9iaik7XG4gICAgICAgIHZhciBsZW4gPSBwcm9wcy5sZW5ndGg7XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB2YXIgb3V0ID0ge307XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tpZHhdO1xuICAgICAgICAgICAgb3V0W29ialtrZXldXSA9IGtleTtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgaXRzIHR5cGUncyBlbXB0eSB2YWx1ZTsgYGZhbHNlYFxuICAgICAqIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExvZ2ljXG4gICAgICogQHNpZyBhIC0+IEJvb2xlYW5cbiAgICAgKiBAcGFyYW0geyp9IHhcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqIEBzZWUgUi5lbXB0eVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuaXNFbXB0eShbMSwgMiwgM10pOyAgIC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIFIuaXNFbXB0eShbXSk7ICAgICAgICAgIC8vPT4gdHJ1ZVxuICAgICAqICAgICAgUi5pc0VtcHR5KCcnKTsgICAgICAgICAgLy89PiB0cnVlXG4gICAgICogICAgICBSLmlzRW1wdHkobnVsbCk7ICAgICAgICAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLmlzRW1wdHkoe30pOyAgICAgICAgICAvLz0+IHRydWVcbiAgICAgKiAgICAgIFIuaXNFbXB0eSh7bGVuZ3RoOiAwfSk7IC8vPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNFbXB0eSA9IF9jdXJyeTEoZnVuY3Rpb24gaXNFbXB0eSh4KSB7XG4gICAgICAgIHJldHVybiB4ICE9IG51bGwgJiYgZXF1YWxzKHgsIGVtcHR5KHgpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gbGlzdCBvciBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuNFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNlZSBSLmluaXQsIFIuaGVhZCwgUi50YWlsXG4gICAgICogQHNpZyBbYV0gLT4gYSB8IFVuZGVmaW5lZFxuICAgICAqIEBzaWcgU3RyaW5nIC0+IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7Kn0gbGlzdFxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5sYXN0KFsnZmknLCAnZm8nLCAnZnVtJ10pOyAvLz0+ICdmdW0nXG4gICAgICogICAgICBSLmxhc3QoW10pOyAvLz0+IHVuZGVmaW5lZFxuICAgICAqXG4gICAgICogICAgICBSLmxhc3QoJ2FiYycpOyAvLz0+ICdjJ1xuICAgICAqICAgICAgUi5sYXN0KCcnKTsgLy89PiAnJ1xuICAgICAqL1xuICAgIHZhciBsYXN0ID0gbnRoKC0xKTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpblxuICAgICAqIGFuIGFycmF5LCBvciAtMSBpZiB0aGUgaXRlbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGFycmF5LlxuICAgICAqIGBSLmVxdWFsc2AgaXMgdXNlZCB0byBkZXRlcm1pbmUgZXF1YWxpdHkuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBhIC0+IFthXSAtPiBOdW1iZXJcbiAgICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgaXRlbSB0byBmaW5kLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHhzIFRoZSBhcnJheSB0byBzZWFyY2ggaW4uXG4gICAgICogQHJldHVybiB7TnVtYmVyfSB0aGUgaW5kZXggb2YgdGhlIHRhcmdldCwgb3IgLTEgaWYgdGhlIHRhcmdldCBpcyBub3QgZm91bmQuXG4gICAgICogQHNlZSBSLmluZGV4T2ZcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLmxhc3RJbmRleE9mKDMsIFstMSwzLDMsMCwxLDIsMyw0XSk7IC8vPT4gNlxuICAgICAqICAgICAgUi5sYXN0SW5kZXhPZigxMCwgWzEsMiwzLDRdKTsgLy89PiAtMVxuICAgICAqL1xuICAgIHZhciBsYXN0SW5kZXhPZiA9IF9jdXJyeTIoZnVuY3Rpb24gbGFzdEluZGV4T2YodGFyZ2V0LCB4cykge1xuICAgICAgICBpZiAodHlwZW9mIHhzLmxhc3RJbmRleE9mID09PSAnZnVuY3Rpb24nICYmICFfaXNBcnJheSh4cykpIHtcbiAgICAgICAgICAgIHJldHVybiB4cy5sYXN0SW5kZXhPZih0YXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGlkeCA9IHhzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoaWR4ID49IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoZXF1YWxzKHhzW2lkeF0sIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkeDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWR4IC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgbGlzdCwgY29uc3RydWN0ZWQgYnkgYXBwbHlpbmcgdGhlIHN1cHBsaWVkIGZ1bmN0aW9uIHRvIGV2ZXJ5IGVsZW1lbnQgb2YgdGhlXG4gICAgICogc3VwcGxpZWQgbGlzdC5cbiAgICAgKlxuICAgICAqIE5vdGU6IGBSLm1hcGAgZG9lcyBub3Qgc2tpcCBkZWxldGVkIG9yIHVuYXNzaWduZWQgaW5kaWNlcyAoc3BhcnNlIGFycmF5cyksIHVubGlrZSB0aGVcbiAgICAgKiBuYXRpdmUgYEFycmF5LnByb3RvdHlwZS5tYXBgIG1ldGhvZC4gRm9yIG1vcmUgZGV0YWlscyBvbiB0aGlzIGJlaGF2aW9yLCBzZWU6XG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbWFwI0Rlc2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBEaXNwYXRjaGVzIHRvIHRoZSBgbWFwYCBtZXRob2Qgb2YgdGhlIHNlY29uZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEFjdHMgYXMgYSB0cmFuc2R1Y2VyIGlmIGEgdHJhbnNmb3JtZXIgaXMgZ2l2ZW4gaW4gbGlzdCBwb3NpdGlvbi5cbiAgICAgKiBAc2VlIFIudHJhbnNkdWNlXG4gICAgICpcbiAgICAgKiBNYXAgdHJlYXRzIGFsc28gdHJlYXRzIGZ1bmN0aW9ucyBhcyBmdW5jdG9ycyBhbmQgd2lsbCBjb21wb3NlIHRoZW0gdG9nZXRoZXIuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBGdW5jdG9yIGYgPT4gKGEgLT4gYikgLT4gZiBhIC0+IGYgYlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXZlcnkgZWxlbWVudCBvZiB0aGUgaW5wdXQgYGxpc3RgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGxpc3QgdG8gYmUgaXRlcmF0ZWQgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIG5ldyBsaXN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBkb3VibGUgPSB4ID0+IHggKiAyO1xuICAgICAqXG4gICAgICogICAgICBSLm1hcChkb3VibGUsIFsxLCAyLCAzXSk7IC8vPT4gWzIsIDQsIDZdXG4gICAgICpcbiAgICAgKiAgICAgIFIubWFwKGRvdWJsZSwge3g6IDEsIHk6IDIsIHo6IDN9KTsgLy89PiB7eDogMiwgeTogNCwgejogNn1cbiAgICAgKi9cbiAgICB2YXIgbWFwID0gX2N1cnJ5MihfZGlzcGF0Y2hhYmxlKCdtYXAnLCBfeG1hcCwgZnVuY3Rpb24gbWFwKGZuLCBmdW5jdG9yKSB7XG4gICAgICAgIHN3aXRjaCAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGZ1bmN0b3IpKSB7XG4gICAgICAgIGNhc2UgJ1tvYmplY3QgRnVuY3Rpb25dJzpcbiAgICAgICAgICAgIHJldHVybiBjdXJyeU4oZnVuY3Rvci5sZW5ndGgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBmdW5jdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgJ1tvYmplY3QgT2JqZWN0XSc6XG4gICAgICAgICAgICByZXR1cm4gX3JlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IGZuKGZ1bmN0b3Jba2V5XSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9LCBrZXlzKGZ1bmN0b3IpKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBfbWFwKGZuLCBmdW5jdG9yKTtcbiAgICAgICAgfVxuICAgIH0pKTtcblxuICAgIC8qKlxuICAgICAqIE1hcCwgYnV0IGZvciBvYmplY3RzLiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamAgYW5kIHZhbHVlc1xuICAgICAqIGdlbmVyYXRlZCBieSBydW5uaW5nIGVhY2ggcHJvcGVydHkgb2YgYG9iamAgdGhyb3VnaCBgZm5gLiBgZm5gIGlzIHBhc3NlZCBvbmUgYXJndW1lbnQ6XG4gICAgICogKih2YWx1ZSkqLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjRcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHNpZyAodiAtPiB2KSAtPiB7azogdn0gLT4ge2s6IHZ9XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gQSBmdW5jdGlvbiBjYWxsZWQgZm9yIGVhY2ggcHJvcGVydHkgaW4gYG9iamAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgICAqIGJlY29tZSBhIG5ldyBwcm9wZXJ0eSBvbiB0aGUgcmV0dXJuIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqYCBhbmQgdmFsdWVzIHRoYXQgYXJlIHRoZSByZXN1bHRcbiAgICAgKiAgICAgICAgIG9mIHJ1bm5pbmcgZWFjaCBwcm9wZXJ0eSB0aHJvdWdoIGBmbmAuXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdjAuMTguMFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciB2YWx1ZXMgPSB7IHg6IDEsIHk6IDIsIHo6IDMgfTtcbiAgICAgKiAgICAgIHZhciBkb3VibGUgPSBudW0gPT4gbnVtICogMjtcbiAgICAgKlxuICAgICAqICAgICAgUi5tYXBPYmooZG91YmxlLCB2YWx1ZXMpOyAvLz0+IHsgeDogMiwgeTogNCwgejogNiB9XG4gICAgICovXG4gICAgdmFyIG1hcE9iaiA9IF9jdXJyeTIoZnVuY3Rpb24gbWFwT2JqKGZuLCBvYmopIHtcbiAgICAgICAgcmV0dXJuIF9yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGZuKG9ialtrZXldKTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9LCBrZXlzKG9iaikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogTGlrZSBgbWFwT2JqYCwgYnV0IHBhc3NlcyBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byB0aGUgcHJlZGljYXRlIGZ1bmN0aW9uLiBUaGVcbiAgICAgKiBwcmVkaWNhdGUgZnVuY3Rpb24gaXMgcGFzc2VkIHRocmVlIGFyZ3VtZW50czogKih2YWx1ZSwga2V5LCBvYmopKi5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuOS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBzaWcgKHYsIGssIHtrOiB2fSAtPiB2KSAtPiB7azogdn0gLT4ge2s6IHZ9XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gQSBmdW5jdGlvbiBjYWxsZWQgZm9yIGVhY2ggcHJvcGVydHkgaW4gYG9iamAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgICAqICAgICAgICBiZWNvbWUgYSBuZXcgcHJvcGVydHkgb24gdGhlIHJldHVybiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEEgbmV3IG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamAgYW5kIHZhbHVlcyB0aGF0IGFyZSB0aGUgcmVzdWx0XG4gICAgICogICAgICAgICBvZiBydW5uaW5nIGVhY2ggcHJvcGVydHkgdGhyb3VnaCBgZm5gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciB2YWx1ZXMgPSB7IHg6IDEsIHk6IDIsIHo6IDMgfTtcbiAgICAgKiAgICAgIHZhciBwcmVwZW5kS2V5QW5kRG91YmxlID0gKG51bSwga2V5LCBvYmopID0+IGtleSArIChudW0gKiAyKTtcbiAgICAgKlxuICAgICAqICAgICAgUi5tYXBPYmpJbmRleGVkKHByZXBlbmRLZXlBbmREb3VibGUsIHZhbHVlcyk7IC8vPT4geyB4OiAneDInLCB5OiAneTQnLCB6OiAnejYnIH1cbiAgICAgKi9cbiAgICB2YXIgbWFwT2JqSW5kZXhlZCA9IF9jdXJyeTIoZnVuY3Rpb24gbWFwT2JqSW5kZXhlZChmbiwgb2JqKSB7XG4gICAgICAgIHJldHVybiBfcmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBmbihvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30sIGtleXMob2JqKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBubyBlbGVtZW50cyBvZiB0aGUgbGlzdCBtYXRjaCB0aGUgcHJlZGljYXRlLFxuICAgICAqIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGFueWAgbWV0aG9kIG9mIHRoZSBzZWNvbmQgYXJndW1lbnQsIGlmIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEgLT4gQm9vbGVhbikgLT4gW2FdIC0+IEJvb2xlYW5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgcHJlZGljYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGFycmF5IHRvIGNvbnNpZGVyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcHJlZGljYXRlIGlzIG5vdCBzYXRpc2ZpZWQgYnkgZXZlcnkgZWxlbWVudCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogQHNlZSBSLmFsbCwgUi5hbnlcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLm5vbmUoUi5pc05hTiwgWzEsIDIsIDNdKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLm5vbmUoUi5pc05hTiwgWzEsIDIsIDMsIE5hTl0pOyAvLz0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIG5vbmUgPSBfY3VycnkyKF9jb21wbGVtZW50KF9kaXNwYXRjaGFibGUoJ2FueScsIF94YW55LCBhbnkpKSk7XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGZ1bmN0aW9uIGBmYCBhbmQgYSBsaXN0IG9mIGFyZ3VtZW50cywgYW5kIHJldHVybnMgYSBmdW5jdGlvbiBgZ2AuXG4gICAgICogV2hlbiBhcHBsaWVkLCBgZ2AgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGFwcGx5aW5nIGBmYCB0byB0aGUgYXJndW1lbnRzXG4gICAgICogcHJvdmlkZWQgaW5pdGlhbGx5IGZvbGxvd2VkIGJ5IHRoZSBhcmd1bWVudHMgcHJvdmlkZWQgdG8gYGdgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNpZyAoKGEsIGIsIGMsIC4uLiwgbikgLT4geCkgLT4gW2EsIGIsIGMsIC4uLl0gLT4gKChkLCBlLCBmLCAuLi4sIG4pIC0+IHgpXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3NcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICAgKiBAc2VlIFIucGFydGlhbFJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIG11bHRpcGx5ID0gKGEsIGIpID0+IGEgKiBiO1xuICAgICAqICAgICAgdmFyIGRvdWJsZSA9IFIucGFydGlhbChtdWx0aXBseSwgWzJdKTtcbiAgICAgKiAgICAgIGRvdWJsZSgyKTsgLy89PiA0XG4gICAgICpcbiAgICAgKiAgICAgIHZhciBncmVldCA9IChzYWx1dGF0aW9uLCB0aXRsZSwgZmlyc3ROYW1lLCBsYXN0TmFtZSkgPT5cbiAgICAgKiAgICAgICAgc2FsdXRhdGlvbiArICcsICcgKyB0aXRsZSArICcgJyArIGZpcnN0TmFtZSArICcgJyArIGxhc3ROYW1lICsgJyEnO1xuICAgICAqXG4gICAgICogICAgICB2YXIgc2F5SGVsbG8gPSBSLnBhcnRpYWwoZ3JlZXQsIFsnSGVsbG8nXSk7XG4gICAgICogICAgICB2YXIgc2F5SGVsbG9Ub01zID0gUi5wYXJ0aWFsKHNheUhlbGxvLCBbJ01zLiddKTtcbiAgICAgKiAgICAgIHNheUhlbGxvVG9NcygnSmFuZScsICdKb25lcycpOyAvLz0+ICdIZWxsbywgTXMuIEphbmUgSm9uZXMhJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsID0gX2NyZWF0ZVBhcnRpYWxBcHBsaWNhdG9yKF9jb25jYXQpO1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBmdW5jdGlvbiBgZmAgYW5kIGEgbGlzdCBvZiBhcmd1bWVudHMsIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gYGdgLlxuICAgICAqIFdoZW4gYXBwbGllZCwgYGdgIHJldHVybnMgdGhlIHJlc3VsdCBvZiBhcHBseWluZyBgZmAgdG8gdGhlIGFyZ3VtZW50c1xuICAgICAqIHByb3ZpZGVkIHRvIGBnYCBmb2xsb3dlZCBieSB0aGUgYXJndW1lbnRzIHByb3ZpZGVkIGluaXRpYWxseS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKChhLCBiLCBjLCAuLi4sIG4pIC0+IHgpIC0+IFtkLCBlLCBmLCAuLi4sIG5dIC0+ICgoYSwgYiwgYywgLi4uKSAtPiB4KVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAgICogQHNlZSBSLnBhcnRpYWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgZ3JlZXQgPSAoc2FsdXRhdGlvbiwgdGl0bGUsIGZpcnN0TmFtZSwgbGFzdE5hbWUpID0+XG4gICAgICogICAgICAgIHNhbHV0YXRpb24gKyAnLCAnICsgdGl0bGUgKyAnICcgKyBmaXJzdE5hbWUgKyAnICcgKyBsYXN0TmFtZSArICchJztcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGdyZWV0TXNKYW5lSm9uZXMgPSBSLnBhcnRpYWxSaWdodChncmVldCwgWydNcy4nLCAnSmFuZScsICdKb25lcyddKTtcbiAgICAgKlxuICAgICAqICAgICAgZ3JlZXRNc0phbmVKb25lcygnSGVsbG8nKTsgLy89PiAnSGVsbG8sIE1zLiBKYW5lIEpvbmVzISdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbFJpZ2h0ID0gX2NyZWF0ZVBhcnRpYWxBcHBsaWNhdG9yKGZsaXAoX2NvbmNhdCkpO1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBwcmVkaWNhdGUgYW5kIGEgbGlzdCBhbmQgcmV0dXJucyB0aGUgcGFpciBvZiBsaXN0cyBvZlxuICAgICAqIGVsZW1lbnRzIHdoaWNoIGRvIGFuZCBkbyBub3Qgc2F0aXNmeSB0aGUgcHJlZGljYXRlLCByZXNwZWN0aXZlbHkuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuNFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyAoYSAtPiBCb29sZWFuKSAtPiBbYV0gLT4gW1thXSxbYV1dXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZCBBIHByZWRpY2F0ZSB0byBkZXRlcm1pbmUgd2hpY2ggYXJyYXkgdGhlIGVsZW1lbnQgYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBhcnJheSB0byBwYXJ0aXRpb24uXG4gICAgICogQHJldHVybiB7QXJyYXl9IEEgbmVzdGVkIGFycmF5LCBjb250YWluaW5nIGZpcnN0IGFuIGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgc2F0aXNmaWVkIHRoZSBwcmVkaWNhdGUsXG4gICAgICogICAgICAgICBhbmQgc2Vjb25kIGFuIGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgZGlkIG5vdCBzYXRpc2Z5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIucGFydGl0aW9uKFIuY29udGFpbnMoJ3MnKSwgWydzc3MnLCAndHR0JywgJ2ZvbycsICdiYXJzJ10pO1xuICAgICAqICAgICAgLy89PiBbIFsgJ3NzcycsICdiYXJzJyBdLCAgWyAndHR0JywgJ2ZvbycgXSBdXG4gICAgICovXG4gICAgdmFyIHBhcnRpdGlvbiA9IF9jdXJyeTIoZnVuY3Rpb24gcGFydGl0aW9uKHByZWQsIGxpc3QpIHtcbiAgICAgICAgcmV0dXJuIF9yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZWx0KSB7XG4gICAgICAgICAgICB2YXIgeHMgPSBhY2NbcHJlZChlbHQpID8gMCA6IDFdO1xuICAgICAgICAgICAgeHNbeHMubGVuZ3RoXSA9IGVsdDtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIFtcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgW11cbiAgICAgICAgXSwgbGlzdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBuZXN0ZWQgcGF0aCBvbiBhbiBvYmplY3QgaGFzIGEgc3BlY2lmaWMgdmFsdWUsXG4gICAgICogaW4gYFIuZXF1YWxzYCB0ZXJtcy4gTW9zdCBsaWtlbHkgdXNlZCB0byBmaWx0ZXIgYSBsaXN0LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgUmVsYXRpb25cbiAgICAgKiBAc2lnIFtTdHJpbmddIC0+ICogLT4ge1N0cmluZzogKn0gLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggb2YgdGhlIG5lc3RlZCBwcm9wZXJ0eSB0byB1c2VcbiAgICAgKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gY29tcGFyZSB0aGUgbmVzdGVkIHByb3BlcnR5IHdpdGhcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gY2hlY2sgdGhlIG5lc3RlZCBwcm9wZXJ0eSBpblxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmFsdWUgZXF1YWxzIHRoZSBuZXN0ZWQgb2JqZWN0IHByb3BlcnR5LFxuICAgICAqICAgICAgICAgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHVzZXIxID0geyBhZGRyZXNzOiB7IHppcENvZGU6IDkwMjEwIH0gfTtcbiAgICAgKiAgICAgIHZhciB1c2VyMiA9IHsgYWRkcmVzczogeyB6aXBDb2RlOiA1NTU1NSB9IH07XG4gICAgICogICAgICB2YXIgdXNlcjMgPSB7IG5hbWU6ICdCb2InIH07XG4gICAgICogICAgICB2YXIgdXNlcnMgPSBbIHVzZXIxLCB1c2VyMiwgdXNlcjMgXTtcbiAgICAgKiAgICAgIHZhciBpc0ZhbW91cyA9IFIucGF0aEVxKFsnYWRkcmVzcycsICd6aXBDb2RlJ10sIDkwMjEwKTtcbiAgICAgKiAgICAgIFIuZmlsdGVyKGlzRmFtb3VzLCB1c2Vycyk7IC8vPT4gWyB1c2VyMSBdXG4gICAgICovXG4gICAgdmFyIHBhdGhFcSA9IF9jdXJyeTMoZnVuY3Rpb24gcGF0aEVxKF9wYXRoLCB2YWwsIG9iaikge1xuICAgICAgICByZXR1cm4gZXF1YWxzKHBhdGgoX3BhdGgsIG9iaiksIHZhbCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGxpc3QgYnkgcGx1Y2tpbmcgdGhlIHNhbWUgbmFtZWQgcHJvcGVydHkgb2ZmIGFsbCBvYmplY3RzIGluIHRoZSBsaXN0IHN1cHBsaWVkLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgayAtPiBbe2s6IHZ9XSAtPiBbdl1cbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IGtleSBUaGUga2V5IG5hbWUgdG8gcGx1Y2sgb2ZmIG9mIGVhY2ggb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGFycmF5IHRvIGNvbnNpZGVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgbGlzdCBvZiB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBrZXkuXG4gICAgICogQHNlZSBSLnByb3BzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5wbHVjaygnYScpKFt7YTogMX0sIHthOiAyfV0pOyAvLz0+IFsxLCAyXVxuICAgICAqICAgICAgUi5wbHVjaygwKShbWzEsIDJdLCBbMywgNF1dKTsgICAvLz0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciBwbHVjayA9IF9jdXJyeTIoZnVuY3Rpb24gcGx1Y2socCwgbGlzdCkge1xuICAgICAgICByZXR1cm4gbWFwKHByb3AocCksIGxpc3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNwZWNpZmllZCBvYmplY3QgcHJvcGVydHkgaXMgZXF1YWwsIGluIGBSLmVxdWFsc2BcbiAgICAgKiB0ZXJtcywgdG8gdGhlIGdpdmVuIHZhbHVlOyBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IFJlbGF0aW9uXG4gICAgICogQHNpZyBTdHJpbmcgLT4gYSAtPiBPYmplY3QgLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gICAgICogQHBhcmFtIHsqfSB2YWxcbiAgICAgKiBAcGFyYW0geyp9IG9ialxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICogQHNlZSBSLmVxdWFscywgUi5wcm9wU2F0aXNmaWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGFiYnkgPSB7bmFtZTogJ0FiYnknLCBhZ2U6IDcsIGhhaXI6ICdibG9uZCd9O1xuICAgICAqICAgICAgdmFyIGZyZWQgPSB7bmFtZTogJ0ZyZWQnLCBhZ2U6IDEyLCBoYWlyOiAnYnJvd24nfTtcbiAgICAgKiAgICAgIHZhciBydXN0eSA9IHtuYW1lOiAnUnVzdHknLCBhZ2U6IDEwLCBoYWlyOiAnYnJvd24nfTtcbiAgICAgKiAgICAgIHZhciBhbG9pcyA9IHtuYW1lOiAnQWxvaXMnLCBhZ2U6IDE1LCBkaXNwb3NpdGlvbjogJ3N1cmx5J307XG4gICAgICogICAgICB2YXIga2lkcyA9IFthYmJ5LCBmcmVkLCBydXN0eSwgYWxvaXNdO1xuICAgICAqICAgICAgdmFyIGhhc0Jyb3duSGFpciA9IFIucHJvcEVxKCdoYWlyJywgJ2Jyb3duJyk7XG4gICAgICogICAgICBSLmZpbHRlcihoYXNCcm93bkhhaXIsIGtpZHMpOyAvLz0+IFtmcmVkLCBydXN0eV1cbiAgICAgKi9cbiAgICB2YXIgcHJvcEVxID0gX2N1cnJ5MyhmdW5jdGlvbiBwcm9wRXEobmFtZSwgdmFsLCBvYmopIHtcbiAgICAgICAgcmV0dXJuIHByb3BTYXRpc2ZpZXMoZXF1YWxzKHZhbCksIG5hbWUsIG9iaik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgc3BlY2lmaWVkIG9iamVjdCBwcm9wZXJ0eSBpcyBvZiB0aGUgZ2l2ZW4gdHlwZTtcbiAgICAgKiBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTYuMFxuICAgICAqIEBjYXRlZ29yeSBUeXBlXG4gICAgICogQHNpZyBUeXBlIC0+IFN0cmluZyAtPiBPYmplY3QgLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKiBAc2VlIFIuaXNcbiAgICAgKiBAc2VlIFIucHJvcFNhdGlzZmllc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIucHJvcElzKE51bWJlciwgJ3gnLCB7eDogMSwgeTogMn0pOyAgLy89PiB0cnVlXG4gICAgICogICAgICBSLnByb3BJcyhOdW1iZXIsICd4Jywge3g6ICdmb28nfSk7ICAgIC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIFIucHJvcElzKE51bWJlciwgJ3gnLCB7fSk7ICAgICAgICAgICAgLy89PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBwcm9wSXMgPSBfY3VycnkzKGZ1bmN0aW9uIHByb3BJcyh0eXBlLCBuYW1lLCBvYmopIHtcbiAgICAgICAgcmV0dXJuIHByb3BTYXRpc2ZpZXMoaXModHlwZSksIG5hbWUsIG9iaik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc2luZ2xlIGl0ZW0gYnkgaXRlcmF0aW5nIHRocm91Z2ggdGhlIGxpc3QsIHN1Y2Nlc3NpdmVseSBjYWxsaW5nIHRoZSBpdGVyYXRvclxuICAgICAqIGZ1bmN0aW9uIGFuZCBwYXNzaW5nIGl0IGFuIGFjY3VtdWxhdG9yIHZhbHVlIGFuZCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIHRoZSBhcnJheSwgYW5kXG4gICAgICogdGhlbiBwYXNzaW5nIHRoZSByZXN1bHQgdG8gdGhlIG5leHQgY2FsbC5cbiAgICAgKlxuICAgICAqIFRoZSBpdGVyYXRvciBmdW5jdGlvbiByZWNlaXZlcyB0d28gdmFsdWVzOiAqKGFjYywgdmFsdWUpKi4gIEl0IG1heSB1c2UgYFIucmVkdWNlZGAgdG9cbiAgICAgKiBzaG9ydGN1dCB0aGUgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogTm90ZTogYFIucmVkdWNlYCBkb2VzIG5vdCBza2lwIGRlbGV0ZWQgb3IgdW5hc3NpZ25lZCBpbmRpY2VzIChzcGFyc2UgYXJyYXlzKSwgdW5saWtlXG4gICAgICogdGhlIG5hdGl2ZSBgQXJyYXkucHJvdG90eXBlLnJlZHVjZWAgbWV0aG9kLiBGb3IgbW9yZSBkZXRhaWxzIG9uIHRoaXMgYmVoYXZpb3IsIHNlZTpcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9yZWR1Y2UjRGVzY3JpcHRpb25cbiAgICAgKiBAc2VlIFIucmVkdWNlZFxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYHJlZHVjZWAgbWV0aG9kIG9mIHRoZSB0aGlyZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhLGIgLT4gYSkgLT4gYSAtPiBbYl0gLT4gYVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBpdGVyYXRvciBmdW5jdGlvbi4gUmVjZWl2ZXMgdHdvIHZhbHVlcywgdGhlIGFjY3VtdWxhdG9yIGFuZCB0aGVcbiAgICAgKiAgICAgICAgY3VycmVudCBlbGVtZW50IGZyb20gdGhlIGFycmF5LlxuICAgICAqIEBwYXJhbSB7Kn0gYWNjIFRoZSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBsaXN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgZmluYWwsIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBudW1iZXJzID0gWzEsIDIsIDNdO1xuICAgICAqICAgICAgdmFyIGFkZCA9IChhLCBiKSA9PiBhICsgYjtcbiAgICAgKlxuICAgICAqICAgICAgUi5yZWR1Y2UoYWRkLCAxMCwgbnVtYmVycyk7IC8vPT4gMTZcbiAgICAgKi9cbiAgICB2YXIgcmVkdWNlID0gX2N1cnJ5MyhfcmVkdWNlKTtcblxuICAgIC8qKlxuICAgICAqIFNpbWlsYXIgdG8gYGZpbHRlcmAsIGV4Y2VwdCB0aGF0IGl0IGtlZXBzIG9ubHkgdmFsdWVzIGZvciB3aGljaCB0aGUgZ2l2ZW4gcHJlZGljYXRlXG4gICAgICogZnVuY3Rpb24gcmV0dXJucyBmYWxzeS4gVGhlIHByZWRpY2F0ZSBmdW5jdGlvbiBpcyBwYXNzZWQgb25lIGFyZ3VtZW50OiAqKHZhbHVlKSouXG4gICAgICpcbiAgICAgKiBBY3RzIGFzIGEgdHJhbnNkdWNlciBpZiBhIHRyYW5zZm9ybWVyIGlzIGdpdmVuIGluIGxpc3QgcG9zaXRpb24uXG4gICAgICogQHNlZSBSLnRyYW5zZHVjZVxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgKGEgLT4gQm9vbGVhbikgLT4gW2FdIC0+IFthXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIFIuZmlsdGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGlzT2RkID0gKG4pID0+IG4gJSAyID09PSAxO1xuICAgICAqXG4gICAgICogICAgICBSLnJlamVjdChpc09kZCwgWzEsIDIsIDMsIDRdKTsgLy89PiBbMiwgNF1cbiAgICAgKi9cbiAgICB2YXIgcmVqZWN0ID0gX2N1cnJ5MihmdW5jdGlvbiByZWplY3QoZm4sIGxpc3QpIHtcbiAgICAgICAgcmV0dXJuIGZpbHRlcihfY29tcGxlbWVudChmbiksIGxpc3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZpeGVkIGxpc3Qgb2Ygc2l6ZSBgbmAgY29udGFpbmluZyBhIHNwZWNpZmllZCBpZGVudGljYWwgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMVxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBhIC0+IG4gLT4gW2FdXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIFRoZSBkZXNpcmVkIHNpemUgb2YgdGhlIG91dHB1dCBsaXN0LlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBBIG5ldyBhcnJheSBjb250YWluaW5nIGBuYCBgdmFsdWVgcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnJlcGVhdCgnaGknLCA1KTsgLy89PiBbJ2hpJywgJ2hpJywgJ2hpJywgJ2hpJywgJ2hpJ11cbiAgICAgKlxuICAgICAqICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAqICAgICAgdmFyIHJlcGVhdGVkT2JqcyA9IFIucmVwZWF0KG9iaiwgNSk7IC8vPT4gW3t9LCB7fSwge30sIHt9LCB7fV1cbiAgICAgKiAgICAgIHJlcGVhdGVkT2Jqc1swXSA9PT0gcmVwZWF0ZWRPYmpzWzFdOyAvLz0+IHRydWVcbiAgICAgKi9cbiAgICB2YXIgcmVwZWF0ID0gX2N1cnJ5MihmdW5jdGlvbiByZXBlYXQodmFsdWUsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRpbWVzKGFsd2F5cyh2YWx1ZSksIG4pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGxpc3Qgb3Igc3RyaW5nIChvciBvYmplY3Qgd2l0aCBhIGBzbGljZWBcbiAgICAgKiBtZXRob2QpIGZyb20gYGZyb21JbmRleGAgKGluY2x1c2l2ZSkgdG8gYHRvSW5kZXhgIChleGNsdXNpdmUpLlxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYHNsaWNlYCBtZXRob2Qgb2YgdGhlIHRoaXJkIGFyZ3VtZW50LCBpZiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjRcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgTnVtYmVyIC0+IE51bWJlciAtPiBbYV0gLT4gW2FdXG4gICAgICogQHNpZyBOdW1iZXIgLT4gTnVtYmVyIC0+IFN0cmluZyAtPiBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZnJvbUluZGV4IFRoZSBzdGFydCBpbmRleCAoaW5jbHVzaXZlKS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdG9JbmRleCBUaGUgZW5kIGluZGV4IChleGNsdXNpdmUpLlxuICAgICAqIEBwYXJhbSB7Kn0gbGlzdFxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5zbGljZSgxLCAzLCBbJ2EnLCAnYicsICdjJywgJ2QnXSk7ICAgICAgICAvLz0+IFsnYicsICdjJ11cbiAgICAgKiAgICAgIFIuc2xpY2UoMSwgSW5maW5pdHksIFsnYScsICdiJywgJ2MnLCAnZCddKTsgLy89PiBbJ2InLCAnYycsICdkJ11cbiAgICAgKiAgICAgIFIuc2xpY2UoMCwgLTEsIFsnYScsICdiJywgJ2MnLCAnZCddKTsgICAgICAgLy89PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKiAgICAgIFIuc2xpY2UoLTMsIC0xLCBbJ2EnLCAnYicsICdjJywgJ2QnXSk7ICAgICAgLy89PiBbJ2InLCAnYyddXG4gICAgICogICAgICBSLnNsaWNlKDAsIDMsICdyYW1kYScpOyAgICAgICAgICAgICAgICAgICAgIC8vPT4gJ3JhbSdcbiAgICAgKi9cbiAgICB2YXIgc2xpY2UgPSBfY3VycnkzKF9jaGVja0Zvck1ldGhvZCgnc2xpY2UnLCBmdW5jdGlvbiBzbGljZShmcm9tSW5kZXgsIHRvSW5kZXgsIGxpc3QpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGxpc3QsIGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGEgY29sbGVjdGlvbiBpbnRvIHNsaWNlcyBvZiB0aGUgc3BlY2lmaWVkIGxlbmd0aC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTYuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBOdW1iZXIgLT4gW2FdIC0+IFtbYV1dXG4gICAgICogQHNpZyBOdW1iZXIgLT4gU3RyaW5nIC0+IFtTdHJpbmddXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0XG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5zcGxpdEV2ZXJ5KDMsIFsxLCAyLCAzLCA0LCA1LCA2LCA3XSk7IC8vPT4gW1sxLCAyLCAzXSwgWzQsIDUsIDZdLCBbN11dXG4gICAgICogICAgICBSLnNwbGl0RXZlcnkoMywgJ2Zvb2JhcmJheicpOyAvLz0+IFsnZm9vJywgJ2JhcicsICdiYXonXVxuICAgICAqL1xuICAgIHZhciBzcGxpdEV2ZXJ5ID0gX2N1cnJ5MihmdW5jdGlvbiBzcGxpdEV2ZXJ5KG4sIGxpc3QpIHtcbiAgICAgICAgaWYgKG4gPD0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCB0byBzcGxpdEV2ZXJ5IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChzbGljZShpZHgsIGlkeCArPSBuLCBsaXN0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdG9nZXRoZXIgYWxsIHRoZSBlbGVtZW50cyBvZiBhIGxpc3QuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHNpZyBbTnVtYmVyXSAtPiBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IEFuIGFycmF5IG9mIG51bWJlcnNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBzdW0gb2YgYWxsIHRoZSBudW1iZXJzIGluIHRoZSBsaXN0LlxuICAgICAqIEBzZWUgUi5yZWR1Y2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnN1bShbMiw0LDYsOCwxMDAsMV0pOyAvLz0+IDEyMVxuICAgICAqL1xuICAgIHZhciBzdW0gPSByZWR1Y2UoYWRkLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gbGlzdCBvciBzdHJpbmcgKG9yIG9iamVjdFxuICAgICAqIHdpdGggYSBgdGFpbGAgbWV0aG9kKS5cbiAgICAgKlxuICAgICAqIERpc3BhdGNoZXMgdG8gdGhlIGBzbGljZWAgbWV0aG9kIG9mIHRoZSBmaXJzdCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2VlIFIuaGVhZCwgUi5pbml0LCBSLmxhc3RcbiAgICAgKiBAc2lnIFthXSAtPiBbYV1cbiAgICAgKiBAc2lnIFN0cmluZyAtPiBTdHJpbmdcbiAgICAgKiBAcGFyYW0geyp9IGxpc3RcbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIudGFpbChbMSwgMiwgM10pOyAgLy89PiBbMiwgM11cbiAgICAgKiAgICAgIFIudGFpbChbMSwgMl0pOyAgICAgLy89PiBbMl1cbiAgICAgKiAgICAgIFIudGFpbChbMV0pOyAgICAgICAgLy89PiBbXVxuICAgICAqICAgICAgUi50YWlsKFtdKTsgICAgICAgICAvLz0+IFtdXG4gICAgICpcbiAgICAgKiAgICAgIFIudGFpbCgnYWJjJyk7ICAvLz0+ICdiYydcbiAgICAgKiAgICAgIFIudGFpbCgnYWInKTsgICAvLz0+ICdiJ1xuICAgICAqICAgICAgUi50YWlsKCdhJyk7ICAgIC8vPT4gJydcbiAgICAgKiAgICAgIFIudGFpbCgnJyk7ICAgICAvLz0+ICcnXG4gICAgICovXG4gICAgdmFyIHRhaWwgPSBfY2hlY2tGb3JNZXRob2QoJ3RhaWwnLCBzbGljZSgxLCBJbmZpbml0eSkpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3QgYG5gIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBsaXN0LCBzdHJpbmcsIG9yXG4gICAgICogdHJhbnNkdWNlci90cmFuc2Zvcm1lciAob3Igb2JqZWN0IHdpdGggYSBgdGFrZWAgbWV0aG9kKS5cbiAgICAgKlxuICAgICAqIERpc3BhdGNoZXMgdG8gdGhlIGB0YWtlYCBtZXRob2Qgb2YgdGhlIHNlY29uZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIE51bWJlciAtPiBbYV0gLT4gW2FdXG4gICAgICogQHNpZyBOdW1iZXIgLT4gU3RyaW5nIC0+IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gICAgICogQHBhcmFtIHsqfSBsaXN0XG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKiBAc2VlIFIuZHJvcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIudGFrZSgxLCBbJ2ZvbycsICdiYXInLCAnYmF6J10pOyAvLz0+IFsnZm9vJ11cbiAgICAgKiAgICAgIFIudGFrZSgyLCBbJ2ZvbycsICdiYXInLCAnYmF6J10pOyAvLz0+IFsnZm9vJywgJ2JhciddXG4gICAgICogICAgICBSLnRha2UoMywgWydmb28nLCAnYmFyJywgJ2JheiddKTsgLy89PiBbJ2ZvbycsICdiYXInLCAnYmF6J11cbiAgICAgKiAgICAgIFIudGFrZSg0LCBbJ2ZvbycsICdiYXInLCAnYmF6J10pOyAvLz0+IFsnZm9vJywgJ2JhcicsICdiYXonXVxuICAgICAqICAgICAgUi50YWtlKDMsICdyYW1kYScpOyAgICAgICAgICAgICAgIC8vPT4gJ3JhbSdcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHBlcnNvbm5lbCA9IFtcbiAgICAgKiAgICAgICAgJ0RhdmUgQnJ1YmVjaycsXG4gICAgICogICAgICAgICdQYXVsIERlc21vbmQnLFxuICAgICAqICAgICAgICAnRXVnZW5lIFdyaWdodCcsXG4gICAgICogICAgICAgICdKb2UgTW9yZWxsbycsXG4gICAgICogICAgICAgICdHZXJyeSBNdWxsaWdhbicsXG4gICAgICogICAgICAgICdCb2IgQmF0ZXMnLFxuICAgICAqICAgICAgICAnSm9lIERvZGdlJyxcbiAgICAgKiAgICAgICAgJ1JvbiBDcm90dHknXG4gICAgICogICAgICBdO1xuICAgICAqXG4gICAgICogICAgICB2YXIgdGFrZUZpdmUgPSBSLnRha2UoNSk7XG4gICAgICogICAgICB0YWtlRml2ZShwZXJzb25uZWwpO1xuICAgICAqICAgICAgLy89PiBbJ0RhdmUgQnJ1YmVjaycsICdQYXVsIERlc21vbmQnLCAnRXVnZW5lIFdyaWdodCcsICdKb2UgTW9yZWxsbycsICdHZXJyeSBNdWxsaWdhbiddXG4gICAgICovXG4gICAgdmFyIHRha2UgPSBfY3VycnkyKF9kaXNwYXRjaGFibGUoJ3Rha2UnLCBfeHRha2UsIGZ1bmN0aW9uIHRha2UobiwgeHMpIHtcbiAgICAgICAgcmV0dXJuIHNsaWNlKDAsIG4gPCAwID8gSW5maW5pdHkgOiBuLCB4cyk7XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhlIGZpcnN0IGBuYCBlbGVtZW50cyBvZiBhIGdpdmVuIGxpc3QsIHBhc3NpbmcgZWFjaCB2YWx1ZVxuICAgICAqIHRvIHRoZSBzdXBwbGllZCBwcmVkaWNhdGUgZnVuY3Rpb24sIGFuZCB0ZXJtaW5hdGluZyB3aGVuIHRoZSBwcmVkaWNhdGUgZnVuY3Rpb24gcmV0dXJuc1xuICAgICAqIGBmYWxzZWAuIEV4Y2x1ZGVzIHRoZSBlbGVtZW50IHRoYXQgY2F1c2VkIHRoZSBwcmVkaWNhdGUgZnVuY3Rpb24gdG8gZmFpbC4gVGhlIHByZWRpY2F0ZVxuICAgICAqIGZ1bmN0aW9uIGlzIHBhc3NlZCBvbmUgYXJndW1lbnQ6ICoodmFsdWUpKi5cbiAgICAgKlxuICAgICAqIERpc3BhdGNoZXMgdG8gdGhlIGB0YWtlV2hpbGVgIG1ldGhvZCBvZiB0aGUgc2Vjb25kIGFyZ3VtZW50LCBpZiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQWN0cyBhcyBhIHRyYW5zZHVjZXIgaWYgYSB0cmFuc2Zvcm1lciBpcyBnaXZlbiBpbiBsaXN0IHBvc2l0aW9uLlxuICAgICAqIEBzZWUgUi50cmFuc2R1Y2VcbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhIC0+IEJvb2xlYW4pIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybiB7QXJyYXl9IEEgbmV3IGFycmF5LlxuICAgICAqIEBzZWUgUi5kcm9wV2hpbGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgaXNOb3RGb3VyID0geCA9PiB4ICE9PSA0O1xuICAgICAqXG4gICAgICogICAgICBSLnRha2VXaGlsZShpc05vdEZvdXIsIFsxLCAyLCAzLCA0XSk7IC8vPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgdmFyIHRha2VXaGlsZSA9IF9jdXJyeTIoX2Rpc3BhdGNoYWJsZSgndGFrZVdoaWxlJywgX3h0YWtlV2hpbGUsIGZ1bmN0aW9uIHRha2VXaGlsZShmbiwgbGlzdCkge1xuICAgICAgICB2YXIgaWR4ID0gMCwgbGVuID0gbGlzdC5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpZHggPCBsZW4gJiYgZm4obGlzdFtpZHhdKSkge1xuICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zbGljZShsaXN0LCAwLCBpZHgpO1xuICAgIH0pKTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGEgdHJhbnNkdWNlciB1c2luZyBzdXBwbGllZCBpdGVyYXRvciBmdW5jdGlvbi4gUmV0dXJucyBhIHNpbmdsZSBpdGVtIGJ5XG4gICAgICogaXRlcmF0aW5nIHRocm91Z2ggdGhlIGxpc3QsIHN1Y2Nlc3NpdmVseSBjYWxsaW5nIHRoZSB0cmFuc2Zvcm1lZCBpdGVyYXRvciBmdW5jdGlvbiBhbmRcbiAgICAgKiBwYXNzaW5nIGl0IGFuIGFjY3VtdWxhdG9yIHZhbHVlIGFuZCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIHRoZSBhcnJheSwgYW5kIHRoZW4gcGFzc2luZ1xuICAgICAqIHRoZSByZXN1bHQgdG8gdGhlIG5leHQgY2FsbC5cbiAgICAgKlxuICAgICAqIFRoZSBpdGVyYXRvciBmdW5jdGlvbiByZWNlaXZlcyB0d28gdmFsdWVzOiAqKGFjYywgdmFsdWUpKi4gSXQgd2lsbCBiZSB3cmFwcGVkIGFzIGFcbiAgICAgKiB0cmFuc2Zvcm1lciB0byBpbml0aWFsaXplIHRoZSB0cmFuc2R1Y2VyLiBBIHRyYW5zZm9ybWVyIGNhbiBiZSBwYXNzZWQgZGlyZWN0bHkgaW4gcGxhY2VcbiAgICAgKiBvZiBhbiBpdGVyYXRvciBmdW5jdGlvbi4gIEluIGJvdGggY2FzZXMsIGl0ZXJhdGlvbiBtYXkgYmUgc3RvcHBlZCBlYXJseSB3aXRoIHRoZVxuICAgICAqIGBSLnJlZHVjZWRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQSB0cmFuc2R1Y2VyIGlzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgdHJhbnNmb3JtZXIgYW5kIHJldHVybnMgYSB0cmFuc2Zvcm1lciBhbmQgY2FuXG4gICAgICogYmUgY29tcG9zZWQgZGlyZWN0bHkuXG4gICAgICpcbiAgICAgKiBBIHRyYW5zZm9ybWVyIGlzIGFuIGFuIG9iamVjdCB0aGF0IHByb3ZpZGVzIGEgMi1hcml0eSByZWR1Y2luZyBpdGVyYXRvciBmdW5jdGlvbiwgc3RlcCxcbiAgICAgKiAwLWFyaXR5IGluaXRpYWwgdmFsdWUgZnVuY3Rpb24sIGluaXQsIGFuZCAxLWFyaXR5IHJlc3VsdCBleHRyYWN0aW9uIGZ1bmN0aW9uLCByZXN1bHQuXG4gICAgICogVGhlIHN0ZXAgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgaXRlcmF0b3IgZnVuY3Rpb24gaW4gcmVkdWNlLiBUaGUgcmVzdWx0IGZ1bmN0aW9uIGlzIHVzZWRcbiAgICAgKiB0byBjb252ZXJ0IHRoZSBmaW5hbCBhY2N1bXVsYXRvciBpbnRvIHRoZSByZXR1cm4gdHlwZSBhbmQgaW4gbW9zdCBjYXNlcyBpcyBSLmlkZW50aXR5LlxuICAgICAqIFRoZSBpbml0IGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYW4gaW5pdGlhbCBhY2N1bXVsYXRvciwgYnV0IGlzIGlnbm9yZWQgYnkgdHJhbnNkdWNlLlxuICAgICAqXG4gICAgICogVGhlIGl0ZXJhdGlvbiBpcyBwZXJmb3JtZWQgd2l0aCBSLnJlZHVjZSBhZnRlciBpbml0aWFsaXppbmcgdGhlIHRyYW5zZHVjZXIuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzZWUgUi5yZWR1Y2UsIFIucmVkdWNlZCwgUi5pbnRvXG4gICAgICogQHNpZyAoYyAtPiBjKSAtPiAoYSxiIC0+IGEpIC0+IGEgLT4gW2JdIC0+IGFcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB4ZiBUaGUgdHJhbnNkdWNlciBmdW5jdGlvbi4gUmVjZWl2ZXMgYSB0cmFuc2Zvcm1lciBhbmQgcmV0dXJucyBhIHRyYW5zZm9ybWVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBpdGVyYXRvciBmdW5jdGlvbi4gUmVjZWl2ZXMgdHdvIHZhbHVlcywgdGhlIGFjY3VtdWxhdG9yIGFuZCB0aGVcbiAgICAgKiAgICAgICAgY3VycmVudCBlbGVtZW50IGZyb20gdGhlIGFycmF5LiBXcmFwcGVkIGFzIHRyYW5zZm9ybWVyLCBpZiBuZWNlc3NhcnksIGFuZCB1c2VkIHRvXG4gICAgICogICAgICAgIGluaXRpYWxpemUgdGhlIHRyYW5zZHVjZXJcbiAgICAgKiBAcGFyYW0geyp9IGFjYyBUaGUgaW5pdGlhbCBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBsaXN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgZmluYWwsIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBudW1iZXJzID0gWzEsIDIsIDMsIDRdO1xuICAgICAqICAgICAgdmFyIHRyYW5zZHVjZXIgPSBSLmNvbXBvc2UoUi5tYXAoUi5hZGQoMSkpLCBSLnRha2UoMikpO1xuICAgICAqXG4gICAgICogICAgICBSLnRyYW5zZHVjZSh0cmFuc2R1Y2VyLCBSLmZsaXAoUi5hcHBlbmQpLCBbXSwgbnVtYmVycyk7IC8vPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIHRyYW5zZHVjZSA9IGN1cnJ5Tig0LCBmdW5jdGlvbiB0cmFuc2R1Y2UoeGYsIGZuLCBhY2MsIGxpc3QpIHtcbiAgICAgICAgcmV0dXJuIF9yZWR1Y2UoeGYodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nID8gX3h3cmFwKGZuKSA6IGZuKSwgYWNjLCBsaXN0KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbWJpbmVzIHR3byBsaXN0cyBpbnRvIGEgc2V0IChpLmUuIG5vIGR1cGxpY2F0ZXMpIGNvbXBvc2VkIG9mIHRoZSBlbGVtZW50cyBvZiBlYWNoIGxpc3QuICBEdXBsaWNhdGlvbiBpc1xuICAgICAqIGRldGVybWluZWQgYWNjb3JkaW5nIHRvIHRoZSB2YWx1ZSByZXR1cm5lZCBieSBhcHBseWluZyB0aGUgc3VwcGxpZWQgcHJlZGljYXRlIHRvIHR3byBsaXN0IGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgUmVsYXRpb25cbiAgICAgKiBAc2lnIChhLGEgLT4gQm9vbGVhbikgLT4gW2FdIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkIEEgcHJlZGljYXRlIHVzZWQgdG8gdGVzdCB3aGV0aGVyIHR3byBpdGVtcyBhcmUgZXF1YWwuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdDEgVGhlIGZpcnN0IGxpc3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdDIgVGhlIHNlY29uZCBsaXN0LlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgZmlyc3QgYW5kIHNlY29uZCBsaXN0cyBjb25jYXRlbmF0ZWQsIHdpdGhcbiAgICAgKiAgICAgICAgIGR1cGxpY2F0ZXMgcmVtb3ZlZC5cbiAgICAgKiBAc2VlIFIudW5pb25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbDEgPSBbe2E6IDF9LCB7YTogMn1dO1xuICAgICAqICAgICAgdmFyIGwyID0gW3thOiAxfSwge2E6IDR9XTtcbiAgICAgKiAgICAgIFIudW5pb25XaXRoKFIuZXFCeShSLnByb3AoJ2EnKSksIGwxLCBsMik7IC8vPT4gW3thOiAxfSwge2E6IDJ9LCB7YTogNH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uV2l0aCA9IF9jdXJyeTMoZnVuY3Rpb24gdW5pb25XaXRoKHByZWQsIGxpc3QxLCBsaXN0Mikge1xuICAgICAgICByZXR1cm4gdW5pcVdpdGgocHJlZCwgX2NvbmNhdChsaXN0MSwgbGlzdDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgbGlzdCBjb250YWluaW5nIG9ubHkgb25lIGNvcHkgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBvcmlnaW5hbCBsaXN0LlxuICAgICAqIGBSLmVxdWFsc2AgaXMgdXNlZCB0byBkZXRlcm1pbmUgZXF1YWxpdHkuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBbYV0gLT4gW2FdXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG9mIHVuaXF1ZSBpdGVtcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnVuaXEoWzEsIDEsIDIsIDFdKTsgLy89PiBbMSwgMl1cbiAgICAgKiAgICAgIFIudW5pcShbMSwgJzEnXSk7ICAgICAvLz0+IFsxLCAnMSddXG4gICAgICogICAgICBSLnVuaXEoW1s0Ml0sIFs0Ml1dKTsgLy89PiBbWzQyXV1cbiAgICAgKi9cbiAgICB2YXIgdW5pcSA9IHVuaXFXaXRoKGVxdWFscyk7XG5cbiAgICAvKipcbiAgICAgKiBBY2NlcHRzIGEgZnVuY3Rpb24gYGZuYCBhbmQgYSBsaXN0IG9mIHRyYW5zZm9ybWVyIGZ1bmN0aW9ucyBhbmQgcmV0dXJucyBhIG5ldyBjdXJyaWVkXG4gICAgICogZnVuY3Rpb24uIFdoZW4gdGhlIG5ldyBmdW5jdGlvbiBpcyBpbnZva2VkLCBpdCBjYWxscyB0aGUgZnVuY3Rpb24gYGZuYCB3aXRoIHBhcmFtZXRlcnNcbiAgICAgKiBjb25zaXN0aW5nIG9mIHRoZSByZXN1bHQgb2YgY2FsbGluZyBlYWNoIHN1cHBsaWVkIGhhbmRsZXIgb24gc3VjY2Vzc2l2ZSBhcmd1bWVudHMgdG8gdGhlXG4gICAgICogbmV3IGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogSWYgbW9yZSBhcmd1bWVudHMgYXJlIHBhc3NlZCB0byB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gdGhhbiB0cmFuc2Zvcm1lciBmdW5jdGlvbnMsIHRob3NlXG4gICAgICogYXJndW1lbnRzIGFyZSBwYXNzZWQgZGlyZWN0bHkgdG8gYGZuYCBhcyBhZGRpdGlvbmFsIHBhcmFtZXRlcnMuIElmIHlvdSBleHBlY3QgYWRkaXRpb25hbFxuICAgICAqIGFyZ3VtZW50cyB0aGF0IGRvbid0IG5lZWQgdG8gYmUgdHJhbnNmb3JtZWQsIGFsdGhvdWdoIHlvdSBjYW4gaWdub3JlIHRoZW0sIGl0J3MgYmVzdCB0b1xuICAgICAqIHBhc3MgYW4gaWRlbnRpdHkgZnVuY3Rpb24gc28gdGhhdCB0aGUgbmV3IGZ1bmN0aW9uIHJlcG9ydHMgdGhlIGNvcnJlY3QgYXJpdHkuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKHgxIC0+IHgyIC0+IC4uLiAtPiB6KSAtPiBbKGEgLT4geDEpLCAoYiAtPiB4MiksIC4uLl0gLT4gKGEgLT4gYiAtPiAuLi4gLT4geilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1lcnMgQSBsaXN0IG9mIHRyYW5zZm9ybWVyIGZ1bmN0aW9uc1xuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnVzZVdpdGgoTWF0aC5wb3csIFtSLmlkZW50aXR5LCBSLmlkZW50aXR5XSkoMywgNCk7IC8vPT4gODFcbiAgICAgKiAgICAgIFIudXNlV2l0aChNYXRoLnBvdywgW1IuaWRlbnRpdHksIFIuaWRlbnRpdHldKSgzKSg0KTsgLy89PiA4MVxuICAgICAqICAgICAgUi51c2VXaXRoKE1hdGgucG93LCBbUi5kZWMsIFIuaW5jXSkoMywgNCk7IC8vPT4gMzJcbiAgICAgKiAgICAgIFIudXNlV2l0aChNYXRoLnBvdywgW1IuZGVjLCBSLmluY10pKDMpKDQpOyAvLz0+IDMyXG4gICAgICovXG4gICAgdmFyIHVzZVdpdGggPSBfY3VycnkyKGZ1bmN0aW9uIHVzZVdpdGgoZm4sIHRyYW5zZm9ybWVycykge1xuICAgICAgICByZXR1cm4gY3VycnkoX2FyaXR5KHRyYW5zZm9ybWVycy5sZW5ndGgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGlkeCA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaWR4IDwgdHJhbnNmb3JtZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGFyZ3MucHVzaCh0cmFuc2Zvcm1lcnNbaWR4XS5jYWxsKHRoaXMsIGFyZ3VtZW50c1tpZHhdKSk7XG4gICAgICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncy5jb25jYXQoX3NsaWNlKGFyZ3VtZW50cywgdHJhbnNmb3JtZXJzLmxlbmd0aCkpKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBzcGVjIG9iamVjdCBhbmQgYSB0ZXN0IG9iamVjdDsgcmV0dXJucyB0cnVlIGlmIHRoZSB0ZXN0IHNhdGlzZmllc1xuICAgICAqIHRoZSBzcGVjLCBmYWxzZSBvdGhlcndpc2UuIEFuIG9iamVjdCBzYXRpc2ZpZXMgdGhlIHNwZWMgaWYsIGZvciBlYWNoIG9mIHRoZVxuICAgICAqIHNwZWMncyBvd24gcHJvcGVydGllcywgYWNjZXNzaW5nIHRoYXQgcHJvcGVydHkgb2YgdGhlIG9iamVjdCBnaXZlcyB0aGUgc2FtZVxuICAgICAqIHZhbHVlIChpbiBgUi5lcXVhbHNgIHRlcm1zKSBhcyBhY2Nlc3NpbmcgdGhhdCBwcm9wZXJ0eSBvZiB0aGUgc3BlYy5cbiAgICAgKlxuICAgICAqIGB3aGVyZUVxYCBpcyBhIHNwZWNpYWxpemF0aW9uIG9mIFtgd2hlcmVgXSgjd2hlcmUpLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBzaWcge1N0cmluZzogKn0gLT4ge1N0cmluZzogKn0gLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzcGVjXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRlc3RPYmpcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqIEBzZWUgUi53aGVyZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIC8vIHByZWQgOjogT2JqZWN0IC0+IEJvb2xlYW5cbiAgICAgKiAgICAgIHZhciBwcmVkID0gUi53aGVyZUVxKHthOiAxLCBiOiAyfSk7XG4gICAgICpcbiAgICAgKiAgICAgIHByZWQoe2E6IDF9KTsgICAgICAgICAgICAgIC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIHByZWQoe2E6IDEsIGI6IDJ9KTsgICAgICAgIC8vPT4gdHJ1ZVxuICAgICAqICAgICAgcHJlZCh7YTogMSwgYjogMiwgYzogM30pOyAgLy89PiB0cnVlXG4gICAgICogICAgICBwcmVkKHthOiAxLCBiOiAxfSk7ICAgICAgICAvLz0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIHdoZXJlRXEgPSBfY3VycnkyKGZ1bmN0aW9uIHdoZXJlRXEoc3BlYywgdGVzdE9iaikge1xuICAgICAgICByZXR1cm4gd2hlcmUobWFwT2JqKGVxdWFscywgc3BlYyksIHRlc3RPYmopO1xuICAgIH0pO1xuXG4gICAgdmFyIF9mbGF0Q2F0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJlc2VydmluZ1JlZHVjZWQgPSBmdW5jdGlvbiAoeGYpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJ0BAdHJhbnNkdWNlci9pbml0JzogX3hmQmFzZS5pbml0LFxuICAgICAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvcmVzdWx0JzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geGZbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ0BAdHJhbnNkdWNlci9zdGVwJzogZnVuY3Rpb24gKHJlc3VsdCwgaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IHhmWydAQHRyYW5zZHVjZXIvc3RlcCddKHJlc3VsdCwgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0WydAQHRyYW5zZHVjZXIvcmVkdWNlZCddID8gX2ZvcmNlUmVkdWNlZChyZXQpIDogcmV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfeGNhdCh4Zikge1xuICAgICAgICAgICAgdmFyIHJ4ZiA9IHByZXNlcnZpbmdSZWR1Y2VkKHhmKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJ0BAdHJhbnNkdWNlci9pbml0JzogX3hmQmFzZS5pbml0LFxuICAgICAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvcmVzdWx0JzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10ocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvc3RlcCc6IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhaXNBcnJheUxpa2UoaW5wdXQpID8gX3JlZHVjZShyeGYsIHJlc3VsdCwgW2lucHV0XSkgOiBfcmVkdWNlKHJ4ZiwgcmVzdWx0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICB2YXIgX2luZGV4T2YgPSBmdW5jdGlvbiBfaW5kZXhPZihsaXN0LCBpdGVtLCBmcm9tKSB7XG4gICAgICAgIHZhciBpZHggPSBmcm9tO1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChlcXVhbHMobGlzdFtpZHhdLCBpdGVtKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuICAgIHZhciBfc3RlcENhdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9zdGVwQ2F0QXJyYXkgPSB7XG4gICAgICAgICAgICAnQEB0cmFuc2R1Y2VyL2luaXQnOiBBcnJheSxcbiAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvc3RlcCc6IGZ1bmN0aW9uICh4cywgeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29uY2F0KHhzLCBbeF0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvcmVzdWx0JzogX2lkZW50aXR5XG4gICAgICAgIH07XG4gICAgICAgIHZhciBfc3RlcENhdFN0cmluZyA9IHtcbiAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvaW5pdCc6IFN0cmluZyxcbiAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvc3RlcCc6IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEgKyBiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvcmVzdWx0JzogX2lkZW50aXR5XG4gICAgICAgIH07XG4gICAgICAgIHZhciBfc3RlcENhdE9iamVjdCA9IHtcbiAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvaW5pdCc6IE9iamVjdCxcbiAgICAgICAgICAgICdAQHRyYW5zZHVjZXIvc3RlcCc6IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lcmdlKHJlc3VsdCwgaXNBcnJheUxpa2UoaW5wdXQpID8gY3JlYXRlTWFwRW50cnkoaW5wdXRbMF0sIGlucHV0WzFdKSA6IGlucHV0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnQEB0cmFuc2R1Y2VyL3Jlc3VsdCc6IF9pZGVudGl0eVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX3N0ZXBDYXQob2JqKSB7XG4gICAgICAgICAgICBpZiAoX2lzVHJhbnNmb3JtZXIob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3RlcENhdEFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdGVwQ2F0U3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdGVwQ2F0T2JqZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIHRyYW5zZm9ybWVyIGZvciAnICsgb2JqKTtcbiAgICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICB2YXIgX3hjaGFpbiA9IF9jdXJyeTIoZnVuY3Rpb24gX3hjaGFpbihmLCB4Zikge1xuICAgICAgICByZXR1cm4gbWFwKGYsIF9mbGF0Q2F0KHhmKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGxpc3Qgb2YgcHJlZGljYXRlcyBhbmQgcmV0dXJucyBhIHByZWRpY2F0ZSB0aGF0IHJldHVybnMgdHJ1ZVxuICAgICAqIGZvciBhIGdpdmVuIGxpc3Qgb2YgYXJndW1lbnRzIGlmIGV2ZXJ5IG9uZSBvZiB0aGUgcHJvdmlkZWQgcHJlZGljYXRlc1xuICAgICAqIGlzIHNhdGlzZmllZCBieSB0aG9zZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBUaGUgZnVuY3Rpb24gcmV0dXJuZWQgaXMgYSBjdXJyaWVkIGZ1bmN0aW9uIHdob3NlIGFyaXR5IG1hdGNoZXMgdGhhdCBvZlxuICAgICAqIHRoZSBoaWdoZXN0LWFyaXR5IHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuOS4wXG4gICAgICogQGNhdGVnb3J5IExvZ2ljXG4gICAgICogQHNpZyBbKCouLi4gLT4gQm9vbGVhbildIC0+ICgqLi4uIC0+IEJvb2xlYW4pXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJlZHNcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICAgKiBAc2VlIFIuYW55UGFzc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBpc1F1ZWVuID0gUi5wcm9wRXEoJ3JhbmsnLCAnUScpO1xuICAgICAqICAgICAgdmFyIGlzU3BhZGUgPSBSLnByb3BFcSgnc3VpdCcsICfimaDvuI4nKTtcbiAgICAgKiAgICAgIHZhciBpc1F1ZWVuT2ZTcGFkZXMgPSBSLmFsbFBhc3MoW2lzUXVlZW4sIGlzU3BhZGVdKTtcbiAgICAgKlxuICAgICAqICAgICAgaXNRdWVlbk9mU3BhZGVzKHtyYW5rOiAnUScsIHN1aXQ6ICfimaPvuI4nfSk7IC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIGlzUXVlZW5PZlNwYWRlcyh7cmFuazogJ1EnLCBzdWl0OiAn4pmg77iOJ30pOyAvLz0+IHRydWVcbiAgICAgKi9cbiAgICB2YXIgYWxsUGFzcyA9IF9jdXJyeTEoZnVuY3Rpb24gYWxsUGFzcyhwcmVkcykge1xuICAgICAgICByZXR1cm4gY3VycnlOKHJlZHVjZShtYXgsIDAsIHBsdWNrKCdsZW5ndGgnLCBwcmVkcykpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgICAgIHZhciBsZW4gPSBwcmVkcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcmVkc1tpZHhdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBhcmUgdW5pcXVlLCBpbiBgUi5lcXVhbHNgIHRlcm1zLFxuICAgICAqIG90aGVyd2lzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xOC4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIFthXSAtPiBCb29sZWFuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIGFsbCBlbGVtZW50cyBhcmUgdW5pcXVlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5hbGxVbmlxKFsnMScsIDFdKTsgLy89PiB0cnVlXG4gICAgICogICAgICBSLmFsbFVuaXEoWzEsIDFdKTsgICAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLmFsbFVuaXEoW1s0Ml0sIFs0Ml1dKTsgLy89PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBhbGxVbmlxID0gX2N1cnJ5MShmdW5jdGlvbiBhbGxVbmlxKGxpc3QpIHtcbiAgICAgICAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKF9pbmRleE9mKGxpc3QsIGxpc3RbaWR4XSwgaWR4ICsgMSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBsaXN0IG9mIHByZWRpY2F0ZXMgYW5kIHJldHVybnMgYSBwcmVkaWNhdGUgdGhhdCByZXR1cm5zIHRydWUgZm9yXG4gICAgICogYSBnaXZlbiBsaXN0IG9mIGFyZ3VtZW50cyBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIHByb3ZpZGVkIHByZWRpY2F0ZXMgaXNcbiAgICAgKiBzYXRpc2ZpZWQgYnkgdGhvc2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogVGhlIGZ1bmN0aW9uIHJldHVybmVkIGlzIGEgY3VycmllZCBmdW5jdGlvbiB3aG9zZSBhcml0eSBtYXRjaGVzIHRoYXQgb2ZcbiAgICAgKiB0aGUgaGlnaGVzdC1hcml0eSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMb2dpY1xuICAgICAqIEBzaWcgWygqLi4uIC0+IEJvb2xlYW4pXSAtPiAoKi4uLiAtPiBCb29sZWFuKVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByZWRzXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAgICogQHNlZSBSLmFsbFBhc3NcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgZ3RlID0gUi5hbnlQYXNzKFtSLmd0LCBSLmVxdWFsc10pO1xuICAgICAqXG4gICAgICogICAgICBndGUoMywgMik7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgZ3RlKDIsIDIpOyAvLz0+IHRydWVcbiAgICAgKiAgICAgIGd0ZSgyLCAzKTsgLy89PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBhbnlQYXNzID0gX2N1cnJ5MShmdW5jdGlvbiBhbnlQYXNzKHByZWRzKSB7XG4gICAgICAgIHJldHVybiBjdXJyeU4ocmVkdWNlKG1heCwgMCwgcGx1Y2soJ2xlbmd0aCcsIHByZWRzKSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICAgICAgdmFyIGxlbiA9IHByZWRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocHJlZHNbaWR4XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZHggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBhcCBhcHBsaWVzIGEgbGlzdCBvZiBmdW5jdGlvbnMgdG8gYSBsaXN0IG9mIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIERpc3BhdGNoZXMgdG8gdGhlIGBhcGAgbWV0aG9kIG9mIHRoZSBzZWNvbmQgYXJndW1lbnQsIGlmIHByZXNlbnQuIEFsc28gdHJlYXRzXG4gICAgICogZnVuY3Rpb25zIGFzIGFwcGxpY2F0aXZlcy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMy4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNpZyBbZl0gLT4gW2FdIC0+IFtmIGFdXG4gICAgICogQHBhcmFtIHtBcnJheX0gZm5zIEFuIGFycmF5IG9mIGZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZzIEFuIGFycmF5IG9mIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvZiByZXN1bHRzIG9mIGFwcGx5aW5nIGVhY2ggb2YgYGZuc2AgdG8gYWxsIG9mIGB2c2AgaW4gdHVybi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLmFwKFtSLm11bHRpcGx5KDIpLCBSLmFkZCgzKV0sIFsxLDIsM10pOyAvLz0+IFsyLCA0LCA2LCA0LCA1LCA2XVxuICAgICAqL1xuICAgIC8vIGVsc2VcbiAgICB2YXIgYXAgPSBfY3VycnkyKGZ1bmN0aW9uIGFwKGFwcGxpY2F0aXZlLCBmbikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGFwcGxpY2F0aXZlLmFwID09PSAnZnVuY3Rpb24nID8gYXBwbGljYXRpdmUuYXAoZm4pIDogdHlwZW9mIGFwcGxpY2F0aXZlID09PSAnZnVuY3Rpb24nID8gY3VycnlOKE1hdGgubWF4KGFwcGxpY2F0aXZlLmxlbmd0aCwgZm4ubGVuZ3RoKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGxpY2F0aXZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykoZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH0pIDogLy8gZWxzZVxuICAgICAgICBfcmVkdWNlKGZ1bmN0aW9uIChhY2MsIGYpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29uY2F0KGFjYywgbWFwKGYsIGZuKSk7XG4gICAgICAgIH0sIFtdLCBhcHBsaWNhdGl2ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgY2FsbGluZyBpdHMgZmlyc3QgYXJndW1lbnQgd2l0aCB0aGUgcmVtYWluaW5nXG4gICAgICogYXJndW1lbnRzLiBUaGlzIGlzIG9jY2FzaW9uYWxseSB1c2VmdWwgYXMgYSBjb252ZXJnaW5nIGZ1bmN0aW9uIGZvclxuICAgICAqIGBSLmNvbnZlcmdlYDogdGhlIGxlZnQgYnJhbmNoIGNhbiBwcm9kdWNlIGEgZnVuY3Rpb24gd2hpbGUgdGhlIHJpZ2h0XG4gICAgICogYnJhbmNoIHByb2R1Y2VzIGEgdmFsdWUgdG8gYmUgcGFzc2VkIHRvIHRoYXQgZnVuY3Rpb24gYXMgYW4gYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjkuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKCouLi4gLT4gYSksKi4uLiAtPiBhXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIHRoZSByZW1haW5pbmcgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBBbnkgbnVtYmVyIG9mIHBvc2l0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICogQHNlZSBSLmFwcGx5XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGluZGVudE4gPSBSLnBpcGUoUi50aW1lcyhSLmFsd2F5cygnICcpKSxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFIuam9pbignJyksXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBSLnJlcGxhY2UoL14oPyEkKS9nbSkpO1xuICAgICAqXG4gICAgICogICAgICB2YXIgZm9ybWF0ID0gUi5jb252ZXJnZShSLmNhbGwsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLnBpcGUoUi5wcm9wKCdpbmRlbnQnKSwgaW5kZW50TiksXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLnByb3AoJ3ZhbHVlJykpO1xuICAgICAqXG4gICAgICogICAgICBmb3JtYXQoe2luZGVudDogMiwgdmFsdWU6ICdmb29cXG5iYXJcXG5iYXpcXG4nfSk7IC8vPT4gJyAgZm9vXFxuICBiYXJcXG4gIGJhelxcbidcbiAgICAgKi9cbiAgICB2YXIgY2FsbCA9IGN1cnJ5KGZ1bmN0aW9uIGNhbGwoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIF9zbGljZShhcmd1bWVudHMsIDEpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIGBjaGFpbmAgbWFwcyBhIGZ1bmN0aW9uIG92ZXIgYSBsaXN0IGFuZCBjb25jYXRlbmF0ZXMgdGhlIHJlc3VsdHMuXG4gICAgICogYGNoYWluYCBpcyBhbHNvIGtub3duIGFzIGBmbGF0TWFwYCBpbiBzb21lIGxpYnJhcmllc1xuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGNoYWluYCBtZXRob2Qgb2YgdGhlIHNlY29uZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMy4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhIC0+IFtiXSkgLT4gW2FdIC0+IFtiXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdFxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBkdXBsaWNhdGUgPSBuID0+IFtuLCBuXTtcbiAgICAgKiAgICAgIFIuY2hhaW4oZHVwbGljYXRlLCBbMSwgMiwgM10pOyAvLz0+IFsxLCAxLCAyLCAyLCAzLCAzXVxuICAgICAqL1xuICAgIHZhciBjaGFpbiA9IF9jdXJyeTIoX2Rpc3BhdGNoYWJsZSgnY2hhaW4nLCBfeGNoYWluLCBmdW5jdGlvbiBjaGFpbihmbiwgbW9uYWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtb25hZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9uYWQuY2FsbCh0aGlzLCBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX21ha2VGbGF0KGZhbHNlKShtYXAoZm4sIG1vbmFkKSk7XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogVHVybnMgYSBsaXN0IG9mIEZ1bmN0b3JzIGludG8gYSBGdW5jdG9yIG9mIGEgbGlzdCwgYXBwbHlpbmdcbiAgICAgKiBhIG1hcHBpbmcgZnVuY3Rpb24gdG8gdGhlIGVsZW1lbnRzIG9mIHRoZSBsaXN0IGFsb25nIHRoZSB3YXkuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNlZSBSLmNvbW11dGVcbiAgICAgKiBAc2lnIEZ1bmN0b3IgZiA9PiAoYSAtPiBmIGIpIC0+ICh4IC0+IGYgeCkgLT4gW2FdIC0+IGYgW2JdXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb2YgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGRhdGEgdHlwZSB0byByZXR1cm5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IEFuIGFycmF5IG9mIGZ1bmN0b3JzIG9mIHRoZSBzYW1lIHR5cGVcbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBhZGQxMCA9IFIubWFwKFIuYWRkKDEwKSk7XG4gICAgICogICAgICBSLmNvbW11dGVNYXAoYWRkMTAsIFIub2YsIFtbMV0sIFsyLCAzXV0pOyAgIC8vPT4gW1sxMSwgMTJdLCBbMTEsIDEzXV1cbiAgICAgKiAgICAgIFIuY29tbXV0ZU1hcChhZGQxMCwgUi5vZiwgW1sxLCAyXSwgWzNdXSk7ICAgLy89PiBbWzExLCAxM10sIFsxMiwgMTNdXVxuICAgICAqICAgICAgUi5jb21tdXRlTWFwKGFkZDEwLCBSLm9mLCBbWzFdLCBbMl0sIFszXV0pOyAvLz0+IFtbMTEsIDEyLCAxM11dXG4gICAgICogICAgICBSLmNvbW11dGVNYXAoYWRkMTAsIE1heWJlLm9mLCBbSnVzdCgxKSwgSnVzdCgyKSwgSnVzdCgzKV0pOyAgIC8vPT4gSnVzdChbMTEsIDEyLCAxM10pXG4gICAgICogICAgICBSLmNvbW11dGVNYXAoYWRkMTAsIE1heWJlLm9mLCBbSnVzdCgxKSwgSnVzdCgyKSwgTm90aGluZygpXSk7IC8vPT4gTm90aGluZygpXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBmZXRjaCA9IHVybCA9PiBGdXR1cmUoKHJlaiwgcmVzKSA9PiBodHRwLmdldCh1cmwsIHJlcykub24oJ2Vycm9yJywgcmVqKSk7XG4gICAgICogICAgICBSLmNvbW11dGVNYXAoZmV0Y2gsIEZ1dHVyZS5vZiwgW1xuICAgICAqICAgICAgICAnaHR0cDovL3JhbWRhanMuY29tJyxcbiAgICAgKiAgICAgICAgJ2h0dHA6Ly9naXRodWIuY29tL3JhbWRhJ1xuICAgICAqICAgICAgXSk7IC8vPT4gRnV0dXJlKFtJbmNvbWluZ01lc3NhZ2UsIEluY29taW5nTWVzc2FnZV0pXG4gICAgICovXG4gICAgdmFyIGNvbW11dGVNYXAgPSBfY3VycnkzKGZ1bmN0aW9uIGNvbW11dGVNYXAoZm4sIG9mLCBsaXN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGNvbnNGKGFjYywgeCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwKG1hcChwcmVwZW5kLCBmbih4KSksIGFjYyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZHVjZVJpZ2h0KGNvbnNGLCBvZihbXSksIGxpc3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogV3JhcHMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBpbnNpZGUgYSBjdXJyaWVkIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB3aXRoIHRoZSBzYW1lXG4gICAgICogYXJndW1lbnRzIGFuZCByZXR1cm5zIHRoZSBzYW1lIHR5cGUuIFRoZSBhcml0eSBvZiB0aGUgZnVuY3Rpb24gcmV0dXJuZWQgaXMgc3BlY2lmaWVkXG4gICAgICogdG8gYWxsb3cgdXNpbmcgdmFyaWFkaWMgY29uc3RydWN0b3IgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnIE51bWJlciAtPiAoKiAtPiB7Kn0pIC0+ICgqIC0+IHsqfSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbiBUaGUgYXJpdHkgb2YgdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEZuIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIHdyYXBwZWQsIGN1cnJpZWQgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgLy8gVmFyaWFkaWMgY29uc3RydWN0b3IgZnVuY3Rpb25cbiAgICAgKiAgICAgIHZhciBXaWRnZXQgPSAoKSA9PiB7XG4gICAgICogICAgICAgIHRoaXMuY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAqICAgICAgICAvLyAuLi5cbiAgICAgKiAgICAgIH07XG4gICAgICogICAgICBXaWRnZXQucHJvdG90eXBlID0ge1xuICAgICAqICAgICAgICAvLyAuLi5cbiAgICAgKiAgICAgIH07XG4gICAgICogICAgICB2YXIgYWxsQ29uZmlncyA9IFtcbiAgICAgKiAgICAgICAgLy8gLi4uXG4gICAgICogICAgICBdO1xuICAgICAqICAgICAgUi5tYXAoUi5jb25zdHJ1Y3ROKDEsIFdpZGdldCksIGFsbENvbmZpZ3MpOyAvLyBhIGxpc3Qgb2YgV2lkZ2V0c1xuICAgICAqL1xuICAgIHZhciBjb25zdHJ1Y3ROID0gX2N1cnJ5MihmdW5jdGlvbiBjb25zdHJ1Y3ROKG4sIEZuKSB7XG4gICAgICAgIGlmIChuID4gMTApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29uc3RydWN0b3Igd2l0aCBncmVhdGVyIHRoYW4gdGVuIGFyZ3VtZW50cycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm4oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJ5KG5BcnkobiwgZnVuY3Rpb24gKCQwLCAkMSwgJDIsICQzLCAkNCwgJDUsICQ2LCAkNywgJDgsICQ5KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZuKCQwKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZuKCQwLCAkMSk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGbigkMCwgJDEsICQyKTtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZuKCQwLCAkMSwgJDIsICQzKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZuKCQwLCAkMSwgJDIsICQzLCAkNCk7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGbigkMCwgJDEsICQyLCAkMywgJDQsICQ1KTtcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZuKCQwLCAkMSwgJDIsICQzLCAkNCwgJDUsICQ2KTtcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZuKCQwLCAkMSwgJDIsICQzLCAkNCwgJDUsICQ2LCAkNyk7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGbigkMCwgJDEsICQyLCAkMywgJDQsICQ1LCAkNiwgJDcsICQ4KTtcbiAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGbigkMCwgJDEsICQyLCAkMywgJDQsICQ1LCAkNiwgJDcsICQ4LCAkOSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFjY2VwdHMgYSBjb252ZXJnaW5nIGZ1bmN0aW9uIGFuZCBhIGxpc3Qgb2YgYnJhbmNoaW5nIGZ1bmN0aW9ucyBhbmQgcmV0dXJucyBhIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBXaGVuIGludm9rZWQsIHRoaXMgbmV3IGZ1bmN0aW9uIGlzIGFwcGxpZWQgdG8gc29tZSBhcmd1bWVudHMsIGVhY2ggYnJhbmNoaW5nXG4gICAgICogZnVuY3Rpb24gaXMgYXBwbGllZCB0byB0aG9zZSBzYW1lIGFyZ3VtZW50cy4gVGhlIHJlc3VsdHMgb2YgZWFjaCBicmFuY2hpbmdcbiAgICAgKiBmdW5jdGlvbiBhcmUgcGFzc2VkIGFzIGFyZ3VtZW50cyB0byB0aGUgY29udmVyZ2luZyBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSByZXR1cm4gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjQuMlxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKHgxIC0+IHgyIC0+IC4uLiAtPiB6KSAtPiBbKGEgLT4gYiAtPiAuLi4gLT4geDEpLCAoYSAtPiBiIC0+IC4uLiAtPiB4MiksIC4uLl0gLT4gKGEgLT4gYiAtPiAuLi4gLT4geilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhZnRlciBBIGZ1bmN0aW9uLiBgYWZ0ZXJgIHdpbGwgYmUgaW52b2tlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWVzIG9mXG4gICAgICogICAgICAgIGBmbjFgIGFuZCBgZm4yYCBhcyBpdHMgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZ1bmN0aW9ucyBBIGxpc3Qgb2YgZnVuY3Rpb25zLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgYWRkID0gKGEsIGIpID0+IGEgKyBiO1xuICAgICAqICAgICAgdmFyIG11bHRpcGx5ID0gKGEsIGIpID0+IGEgKiBiO1xuICAgICAqICAgICAgdmFyIHN1YnRyYWN0ID0gKGEsIGIpID0+IGEgLSBiO1xuICAgICAqXG4gICAgICogICAgICAvL+KJhSBtdWx0aXBseSggYWRkKDEsIDIpLCBzdWJ0cmFjdCgxLCAyKSApO1xuICAgICAqICAgICAgUi5jb252ZXJnZShtdWx0aXBseSwgW2FkZCwgc3VidHJhY3RdKSgxLCAyKTsgLy89PiAtM1xuICAgICAqXG4gICAgICogICAgICB2YXIgYWRkMyA9IChhLCBiLCBjKSA9PiBhICsgYiArIGM7XG4gICAgICogICAgICBSLmNvbnZlcmdlKGFkZDMsIFttdWx0aXBseSwgYWRkLCBzdWJ0cmFjdF0pKDEsIDIpOyAvLz0+IDRcbiAgICAgKi9cbiAgICB2YXIgY29udmVyZ2UgPSBfY3VycnkyKGZ1bmN0aW9uIGNvbnZlcmdlKGFmdGVyLCBmbnMpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJ5TihNYXRoLm1heC5hcHBseShNYXRoLCBwbHVjaygnbGVuZ3RoJywgZm5zKSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIGFmdGVyLmFwcGx5KGNvbnRleHQsIF9tYXAoZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgfSwgZm5zKSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgYnV0IHRoZSBmaXJzdCBgbmAgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGxpc3QsIHN0cmluZywgb3JcbiAgICAgKiB0cmFuc2R1Y2VyL3RyYW5zZm9ybWVyIChvciBvYmplY3Qgd2l0aCBhIGBkcm9wYCBtZXRob2QpLlxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGRyb3BgIG1ldGhvZCBvZiB0aGUgc2Vjb25kIGFyZ3VtZW50LCBpZiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzZWUgUi50cmFuc2R1Y2VcbiAgICAgKiBAc2lnIE51bWJlciAtPiBbYV0gLT4gW2FdXG4gICAgICogQHNpZyBOdW1iZXIgLT4gU3RyaW5nIC0+IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gICAgICogQHBhcmFtIHsqfSBsaXN0XG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKiBAc2VlIFIudGFrZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuZHJvcCgxLCBbJ2ZvbycsICdiYXInLCAnYmF6J10pOyAvLz0+IFsnYmFyJywgJ2JheiddXG4gICAgICogICAgICBSLmRyb3AoMiwgWydmb28nLCAnYmFyJywgJ2JheiddKTsgLy89PiBbJ2JheiddXG4gICAgICogICAgICBSLmRyb3AoMywgWydmb28nLCAnYmFyJywgJ2JheiddKTsgLy89PiBbXVxuICAgICAqICAgICAgUi5kcm9wKDQsIFsnZm9vJywgJ2JhcicsICdiYXonXSk7IC8vPT4gW11cbiAgICAgKiAgICAgIFIuZHJvcCgzLCAncmFtZGEnKTsgICAgICAgICAgICAgICAvLz0+ICdkYSdcbiAgICAgKi9cbiAgICB2YXIgZHJvcCA9IF9jdXJyeTIoX2Rpc3BhdGNoYWJsZSgnZHJvcCcsIF94ZHJvcCwgZnVuY3Rpb24gZHJvcChuLCB4cykge1xuICAgICAgICByZXR1cm4gc2xpY2UoTWF0aC5tYXgoMCwgbiksIEluZmluaXR5LCB4cyk7XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3QgY29udGFpbmluZyBhbGwgYnV0IHRoZSBsYXN0IGBuYCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYGxpc3RgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xNi4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIE51bWJlciAtPiBbYV0gLT4gW2FdXG4gICAgICogQHNpZyBOdW1iZXIgLT4gU3RyaW5nIC0+IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgb2YgYHhzYCB0byBza2lwLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHhzIFRoZSBjb2xsZWN0aW9uIHRvIGNvbnNpZGVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqIEBzZWUgUi50YWtlTGFzdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuZHJvcExhc3QoMSwgWydmb28nLCAnYmFyJywgJ2JheiddKTsgLy89PiBbJ2ZvbycsICdiYXInXVxuICAgICAqICAgICAgUi5kcm9wTGFzdCgyLCBbJ2ZvbycsICdiYXInLCAnYmF6J10pOyAvLz0+IFsnZm9vJ11cbiAgICAgKiAgICAgIFIuZHJvcExhc3QoMywgWydmb28nLCAnYmFyJywgJ2JheiddKTsgLy89PiBbXVxuICAgICAqICAgICAgUi5kcm9wTGFzdCg0LCBbJ2ZvbycsICdiYXInLCAnYmF6J10pOyAvLz0+IFtdXG4gICAgICogICAgICBSLmRyb3BMYXN0KDMsICdyYW1kYScpOyAgICAgICAgICAgICAgIC8vPT4gJ3JhJ1xuICAgICAqL1xuICAgIHZhciBkcm9wTGFzdCA9IF9jdXJyeTIoZnVuY3Rpb24gZHJvcExhc3QobiwgeHMpIHtcbiAgICAgICAgcmV0dXJuIHRha2UobiA8IHhzLmxlbmd0aCA/IHhzLmxlbmd0aCAtIG4gOiAwLCB4cyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGxpc3Qgd2l0aG91dCBhbnkgY29uc2VjdXRpdmVseSByZXBlYXRpbmcgZWxlbWVudHMuIEVxdWFsaXR5IGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSBhcHBseWluZyB0aGUgc3VwcGxpZWQgcHJlZGljYXRlIHR3byBjb25zZWN1dGl2ZSBlbGVtZW50cy5cbiAgICAgKiBUaGUgZmlyc3QgZWxlbWVudCBpbiBhIHNlcmllcyBvZiBlcXVhbCBlbGVtZW50IGlzIHRoZSBvbmUgYmVpbmcgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogRGlzcGF0Y2hlcyB0byB0aGUgYGRyb3BSZXBlYXRzV2l0aGAgbWV0aG9kIG9mIHRoZSBzZWNvbmQgYXJndW1lbnQsIGlmIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBBY3RzIGFzIGEgdHJhbnNkdWNlciBpZiBhIHRyYW5zZm9ybWVyIGlzIGdpdmVuIGluIGxpc3QgcG9zaXRpb24uXG4gICAgICogQHNlZSBSLnRyYW5zZHVjZVxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xNC4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhLCBhIC0+IEJvb2xlYW4pIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkIEEgcHJlZGljYXRlIHVzZWQgdG8gdGVzdCB3aGV0aGVyIHR3byBpdGVtcyBhcmUgZXF1YWwuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHJldHVybiB7QXJyYXl9IGBsaXN0YCB3aXRob3V0IHJlcGVhdGluZyBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbGVuZ3RoRXEgPSAoeCwgeSkgPT4gTWF0aC5hYnMoeCkgPT09IE1hdGguYWJzKHkpO1xuICAgICAqICAgICAgdmFyIGwgPSBbMSwgLTEsIDEsIDMsIDQsIC00LCAtNCwgLTUsIDUsIDMsIDNdO1xuICAgICAqICAgICAgUi5kcm9wUmVwZWF0c1dpdGgoUi5lcUJ5KE1hdGguYWJzKSwgbCk7IC8vPT4gWzEsIDMsIDQsIC01LCAzXVxuICAgICAqL1xuICAgIHZhciBkcm9wUmVwZWF0c1dpdGggPSBfY3VycnkyKF9kaXNwYXRjaGFibGUoJ2Ryb3BSZXBlYXRzV2l0aCcsIF94ZHJvcFJlcGVhdHNXaXRoLCBmdW5jdGlvbiBkcm9wUmVwZWF0c1dpdGgocHJlZCwgbGlzdCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHZhciBpZHggPSAxO1xuICAgICAgICB2YXIgbGVuID0gbGlzdC5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gIT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdFswXSA9IGxpc3RbMF07XG4gICAgICAgICAgICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcmVkKGxhc3QocmVzdWx0KSwgbGlzdFtpZHhdKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSBsaXN0W2lkeF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSkpO1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBmdW5jdGlvbiBhbmQgdHdvIHZhbHVlcyBpbiBpdHMgZG9tYWluIGFuZCByZXR1cm5zIGB0cnVlYCBpZlxuICAgICAqIHRoZSB2YWx1ZXMgbWFwIHRvIHRoZSBzYW1lIHZhbHVlIGluIHRoZSBjb2RvbWFpbjsgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE4LjBcbiAgICAgKiBAY2F0ZWdvcnkgUmVsYXRpb25cbiAgICAgKiBAc2lnIChhIC0+IGIpIC0+IGEgLT4gYSAtPiBCb29sZWFuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICAgICAqIEBwYXJhbSB7Kn0geFxuICAgICAqIEBwYXJhbSB7Kn0geVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5lcUJ5KE1hdGguYWJzLCA1LCAtNSk7IC8vPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBlcUJ5ID0gX2N1cnJ5MyhmdW5jdGlvbiBlcUJ5KGYsIHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIGVxdWFscyhmKHgpLCBmKHkpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlcG9ydHMgd2hldGhlciB0d28gb2JqZWN0cyBoYXZlIHRoZSBzYW1lIHZhbHVlLCBpbiBgUi5lcXVhbHNgIHRlcm1zLFxuICAgICAqIGZvciB0aGUgc3BlY2lmaWVkIHByb3BlcnR5LiBVc2VmdWwgYXMgYSBjdXJyaWVkIHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBzaWcgayAtPiB7azogdn0gLT4ge2s6IHZ9IC0+IEJvb2xlYW5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcCBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gY29tcGFyZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iajJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIG8xID0geyBhOiAxLCBiOiAyLCBjOiAzLCBkOiA0IH07XG4gICAgICogICAgICB2YXIgbzIgPSB7IGE6IDEwLCBiOiAyMCwgYzogMywgZDogNDAgfTtcbiAgICAgKiAgICAgIFIuZXFQcm9wcygnYScsIG8xLCBvMik7IC8vPT4gZmFsc2VcbiAgICAgKiAgICAgIFIuZXFQcm9wcygnYycsIG8xLCBvMik7IC8vPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBlcVByb3BzID0gX2N1cnJ5MyhmdW5jdGlvbiBlcVByb3BzKHByb3AsIG9iajEsIG9iajIpIHtcbiAgICAgICAgcmV0dXJuIGVxdWFscyhvYmoxW3Byb3BdLCBvYmoyW3Byb3BdKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFuIGl0ZW0gaW4gYW4gYXJyYXksXG4gICAgICogb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS4gYFIuZXF1YWxzYCBpcyB1c2VkIHRvXG4gICAgICogZGV0ZXJtaW5lIGVxdWFsaXR5LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgYSAtPiBbYV0gLT4gTnVtYmVyXG4gICAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIGl0ZW0gdG8gZmluZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB4cyBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gdGhlIGluZGV4IG9mIHRoZSB0YXJnZXQsIG9yIC0xIGlmIHRoZSB0YXJnZXQgaXMgbm90IGZvdW5kLlxuICAgICAqIEBzZWUgUi5sYXN0SW5kZXhPZlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuaW5kZXhPZigzLCBbMSwyLDMsNF0pOyAvLz0+IDJcbiAgICAgKiAgICAgIFIuaW5kZXhPZigxMCwgWzEsMiwzLDRdKTsgLy89PiAtMVxuICAgICAqL1xuICAgIHZhciBpbmRleE9mID0gX2N1cnJ5MihmdW5jdGlvbiBpbmRleE9mKHRhcmdldCwgeHMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB4cy5pbmRleE9mID09PSAnZnVuY3Rpb24nICYmICFfaXNBcnJheSh4cykgPyB4cy5pbmRleE9mKHRhcmdldCkgOiBfaW5kZXhPZih4cywgdGFyZ2V0LCAwKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSBnaXZlbiBsaXN0IG9yIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuOS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2VlIFIubGFzdCwgUi5oZWFkLCBSLnRhaWxcbiAgICAgKiBAc2lnIFthXSAtPiBbYV1cbiAgICAgKiBAc2lnIFN0cmluZyAtPiBTdHJpbmdcbiAgICAgKiBAcGFyYW0geyp9IGxpc3RcbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuaW5pdChbMSwgMiwgM10pOyAgLy89PiBbMSwgMl1cbiAgICAgKiAgICAgIFIuaW5pdChbMSwgMl0pOyAgICAgLy89PiBbMV1cbiAgICAgKiAgICAgIFIuaW5pdChbMV0pOyAgICAgICAgLy89PiBbXVxuICAgICAqICAgICAgUi5pbml0KFtdKTsgICAgICAgICAvLz0+IFtdXG4gICAgICpcbiAgICAgKiAgICAgIFIuaW5pdCgnYWJjJyk7ICAvLz0+ICdhYidcbiAgICAgKiAgICAgIFIuaW5pdCgnYWInKTsgICAvLz0+ICdhJ1xuICAgICAqICAgICAgUi5pbml0KCdhJyk7ICAgIC8vPT4gJydcbiAgICAgKiAgICAgIFIuaW5pdCgnJyk7ICAgICAvLz0+ICcnXG4gICAgICovXG4gICAgdmFyIGluaXQgPSBzbGljZSgwLCAtMSk7XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBpdGVtcyBvZiB0aGUgbGlzdCB3aXRoIHRoZSB0cmFuc2R1Y2VyIGFuZCBhcHBlbmRzIHRoZSB0cmFuc2Zvcm1lZCBpdGVtcyB0b1xuICAgICAqIHRoZSBhY2N1bXVsYXRvciB1c2luZyBhbiBhcHByb3ByaWF0ZSBpdGVyYXRvciBmdW5jdGlvbiBiYXNlZCBvbiB0aGUgYWNjdW11bGF0b3IgdHlwZS5cbiAgICAgKlxuICAgICAqIFRoZSBhY2N1bXVsYXRvciBjYW4gYmUgYW4gYXJyYXksIHN0cmluZywgb2JqZWN0IG9yIGEgdHJhbnNmb3JtZXIuIEl0ZXJhdGVkIGl0ZW1zIHdpbGxcbiAgICAgKiBiZSBhcHBlbmRlZCB0byBhcnJheXMgYW5kIGNvbmNhdGVuYXRlZCB0byBzdHJpbmdzLiBPYmplY3RzIHdpbGwgYmUgbWVyZ2VkIGRpcmVjdGx5IG9yIDItaXRlbVxuICAgICAqIGFycmF5cyB3aWxsIGJlIG1lcmdlZCBhcyBrZXksIHZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogVGhlIGFjY3VtdWxhdG9yIGNhbiBhbHNvIGJlIGEgdHJhbnNmb3JtZXIgb2JqZWN0IHRoYXQgcHJvdmlkZXMgYSAyLWFyaXR5IHJlZHVjaW5nIGl0ZXJhdG9yXG4gICAgICogZnVuY3Rpb24sIHN0ZXAsIDAtYXJpdHkgaW5pdGlhbCB2YWx1ZSBmdW5jdGlvbiwgaW5pdCwgYW5kIDEtYXJpdHkgcmVzdWx0IGV4dHJhY3Rpb24gZnVuY3Rpb25cbiAgICAgKiByZXN1bHQuIFRoZSBzdGVwIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIGl0ZXJhdG9yIGZ1bmN0aW9uIGluIHJlZHVjZS4gVGhlIHJlc3VsdCBmdW5jdGlvbiBpc1xuICAgICAqIHVzZWQgdG8gY29udmVydCB0aGUgZmluYWwgYWNjdW11bGF0b3IgaW50byB0aGUgcmV0dXJuIHR5cGUgYW5kIGluIG1vc3QgY2FzZXMgaXMgUi5pZGVudGl0eS5cbiAgICAgKiBUaGUgaW5pdCBmdW5jdGlvbiBpcyB1c2VkIHRvIHByb3ZpZGUgdGhlIGluaXRpYWwgYWNjdW11bGF0b3IuXG4gICAgICpcbiAgICAgKiBUaGUgaXRlcmF0aW9uIGlzIHBlcmZvcm1lZCB3aXRoIFIucmVkdWNlIGFmdGVyIGluaXRpYWxpemluZyB0aGUgdHJhbnNkdWNlci5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBhIC0+IChiIC0+IGIpIC0+IFtjXSAtPiBhXG4gICAgICogQHBhcmFtIHsqfSBhY2MgVGhlIGluaXRpYWwgYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0geGYgVGhlIHRyYW5zZHVjZXIgZnVuY3Rpb24uIFJlY2VpdmVzIGEgdHJhbnNmb3JtZXIgYW5kIHJldHVybnMgYSB0cmFuc2Zvcm1lci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBsaXN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgZmluYWwsIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBudW1iZXJzID0gWzEsIDIsIDMsIDRdO1xuICAgICAqICAgICAgdmFyIHRyYW5zZHVjZXIgPSBSLmNvbXBvc2UoUi5tYXAoUi5hZGQoMSkpLCBSLnRha2UoMikpO1xuICAgICAqXG4gICAgICogICAgICBSLmludG8oW10sIHRyYW5zZHVjZXIsIG51bWJlcnMpOyAvLz0+IFsyLCAzXVxuICAgICAqXG4gICAgICogICAgICB2YXIgaW50b0FycmF5ID0gUi5pbnRvKFtdKTtcbiAgICAgKiAgICAgIGludG9BcnJheSh0cmFuc2R1Y2VyLCBudW1iZXJzKTsgLy89PiBbMiwgM11cbiAgICAgKi9cbiAgICB2YXIgaW50byA9IF9jdXJyeTMoZnVuY3Rpb24gaW50byhhY2MsIHhmLCBsaXN0KSB7XG4gICAgICAgIHJldHVybiBfaXNUcmFuc2Zvcm1lcihhY2MpID8gX3JlZHVjZSh4ZihhY2MpLCBhY2NbJ0BAdHJhbnNkdWNlci9pbml0J10oKSwgbGlzdCkgOiBfcmVkdWNlKHhmKF9zdGVwQ2F0KGFjYykpLCBhY2MsIGxpc3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIGFyZSB1bmlxdWUsIGluIGBSLmVxdWFsc2AgdGVybXMsXG4gICAgICogb3RoZXJ3aXNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMVxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBbYV0gLT4gQm9vbGVhblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGFycmF5IHRvIGNvbnNpZGVyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgYXJlIHVuaXF1ZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgUi5hbGxVbmlxXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdjAuMTguMFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuaXNTZXQoWycxJywgMV0pOyAvLz0+IHRydWVcbiAgICAgKiAgICAgIFIuaXNTZXQoWzEsIDFdKTsgICAvLz0+IGZhbHNlXG4gICAgICogICAgICBSLmlzU2V0KFtbNDJdLCBbNDJdXSk7IC8vPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNTZXQgPSBhbGxVbmlxO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxlbnMgZm9yIHRoZSBnaXZlbiBnZXR0ZXIgYW5kIHNldHRlciBmdW5jdGlvbnMuIFRoZSBnZXR0ZXIgXCJnZXRzXCJcbiAgICAgKiB0aGUgdmFsdWUgb2YgdGhlIGZvY3VzOyB0aGUgc2V0dGVyIFwic2V0c1wiIHRoZSB2YWx1ZSBvZiB0aGUgZm9jdXMuIFRoZSBzZXR0ZXJcbiAgICAgKiBzaG91bGQgbm90IG11dGF0ZSB0aGUgZGF0YSBzdHJ1Y3R1cmUuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjguMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAdHlwZWRlZm4gTGVucyBzIGEgPSBGdW5jdG9yIGYgPT4gKGEgLT4gZiBhKSAtPiBzIC0+IGYgc1xuICAgICAqIEBzaWcgKHMgLT4gYSkgLT4gKChhLCBzKSAtPiBzKSAtPiBMZW5zIHMgYVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGdldHRlclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlclxuICAgICAqIEByZXR1cm4ge0xlbnN9XG4gICAgICogQHNlZSBSLnZpZXcsIFIuc2V0LCBSLm92ZXIsIFIubGVuc0luZGV4LCBSLmxlbnNQcm9wXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHhMZW5zID0gUi5sZW5zKFIucHJvcCgneCcpLCBSLmFzc29jKCd4JykpO1xuICAgICAqXG4gICAgICogICAgICBSLnZpZXcoeExlbnMsIHt4OiAxLCB5OiAyfSk7ICAgICAgICAgICAgLy89PiAxXG4gICAgICogICAgICBSLnNldCh4TGVucywgNCwge3g6IDEsIHk6IDJ9KTsgICAgICAgICAgLy89PiB7eDogNCwgeTogMn1cbiAgICAgKiAgICAgIFIub3Zlcih4TGVucywgUi5uZWdhdGUsIHt4OiAxLCB5OiAyfSk7ICAvLz0+IHt4OiAtMSwgeTogMn1cbiAgICAgKi9cbiAgICB2YXIgbGVucyA9IF9jdXJyeTIoZnVuY3Rpb24gbGVucyhnZXR0ZXIsIHNldHRlcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHRlcih2LCBzKTtcbiAgICAgICAgICAgICAgICB9LCBmKGdldHRlcihzKSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsZW5zIHdob3NlIGZvY3VzIGlzIHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHR5cGVkZWZuIExlbnMgcyBhID0gRnVuY3RvciBmID0+IChhIC0+IGYgYSkgLT4gcyAtPiBmIHNcbiAgICAgKiBAc2lnIE51bWJlciAtPiBMZW5zIHMgYVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gICAgICogQHJldHVybiB7TGVuc31cbiAgICAgKiBAc2VlIFIudmlldywgUi5zZXQsIFIub3ZlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBoZWFkTGVucyA9IFIubGVuc0luZGV4KDApO1xuICAgICAqXG4gICAgICogICAgICBSLnZpZXcoaGVhZExlbnMsIFsnYScsICdiJywgJ2MnXSk7ICAgICAgICAgICAgLy89PiAnYSdcbiAgICAgKiAgICAgIFIuc2V0KGhlYWRMZW5zLCAneCcsIFsnYScsICdiJywgJ2MnXSk7ICAgICAgICAvLz0+IFsneCcsICdiJywgJ2MnXVxuICAgICAqICAgICAgUi5vdmVyKGhlYWRMZW5zLCBSLnRvVXBwZXIsIFsnYScsICdiJywgJ2MnXSk7IC8vPT4gWydBJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIGxlbnNJbmRleCA9IF9jdXJyeTEoZnVuY3Rpb24gbGVuc0luZGV4KG4pIHtcbiAgICAgICAgcmV0dXJuIGxlbnMobnRoKG4pLCB1cGRhdGUobikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxlbnMgd2hvc2UgZm9jdXMgaXMgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAdHlwZWRlZm4gTGVucyBzIGEgPSBGdW5jdG9yIGYgPT4gKGEgLT4gZiBhKSAtPiBzIC0+IGYgc1xuICAgICAqIEBzaWcgU3RyaW5nIC0+IExlbnMgcyBhXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtcbiAgICAgKiBAcmV0dXJuIHtMZW5zfVxuICAgICAqIEBzZWUgUi52aWV3LCBSLnNldCwgUi5vdmVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIHhMZW5zID0gUi5sZW5zUHJvcCgneCcpO1xuICAgICAqXG4gICAgICogICAgICBSLnZpZXcoeExlbnMsIHt4OiAxLCB5OiAyfSk7ICAgICAgICAgICAgLy89PiAxXG4gICAgICogICAgICBSLnNldCh4TGVucywgNCwge3g6IDEsIHk6IDJ9KTsgICAgICAgICAgLy89PiB7eDogNCwgeTogMn1cbiAgICAgKiAgICAgIFIub3Zlcih4TGVucywgUi5uZWdhdGUsIHt4OiAxLCB5OiAyfSk7ICAvLz0+IHt4OiAtMSwgeTogMn1cbiAgICAgKi9cbiAgICB2YXIgbGVuc1Byb3AgPSBfY3VycnkxKGZ1bmN0aW9uIGxlbnNQcm9wKGspIHtcbiAgICAgICAgcmV0dXJuIGxlbnMocHJvcChrKSwgYXNzb2MoaykpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogXCJsaWZ0c1wiIGEgZnVuY3Rpb24gdG8gYmUgdGhlIHNwZWNpZmllZCBhcml0eSwgc28gdGhhdCBpdCBtYXkgXCJtYXAgb3ZlclwiIHRoYXQgbWFueVxuICAgICAqIGxpc3RzIChvciBvdGhlciBGdW5jdG9ycykuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjcuMFxuICAgICAqIEBzZWUgUi5saWZ0XG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNpZyBOdW1iZXIgLT4gKCouLi4gLT4gKikgLT4gKFsqXS4uLiAtPiBbKl0pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGxpZnQgaW50byBoaWdoZXIgY29udGV4dFxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgZnVuY3Rpb24gYGZuYCBhcHBsaWNhYmxlIHRvIG1hcHBhYmxlIG9iamVjdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIG1hZGQzID0gUi5saWZ0TigzLCBSLmN1cnJ5TigzLCAoKSA9PiBSLnJlZHVjZShSLmFkZCwgMCwgYXJndW1lbnRzKSkpO1xuICAgICAqICAgICAgbWFkZDMoWzEsMiwzXSwgWzEsMiwzXSwgWzFdKTsgLy89PiBbMywgNCwgNSwgNCwgNSwgNiwgNSwgNiwgN11cbiAgICAgKi9cbiAgICB2YXIgbGlmdE4gPSBfY3VycnkyKGZ1bmN0aW9uIGxpZnROKGFyaXR5LCBmbikge1xuICAgICAgICB2YXIgbGlmdGVkID0gY3VycnlOKGFyaXR5LCBmbik7XG4gICAgICAgIHJldHVybiBjdXJyeU4oYXJpdHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVkdWNlKGFwLCBtYXAobGlmdGVkLCBhcmd1bWVudHNbMF0pLCBfc2xpY2UoYXJndW1lbnRzLCAxKSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWVhbiBvZiB0aGUgZ2l2ZW4gbGlzdCBvZiBudW1iZXJzLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAc2lnIFtOdW1iZXJdIC0+IE51bWJlclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3RcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5tZWFuKFsyLCA3LCA5XSk7IC8vPT4gNlxuICAgICAqICAgICAgUi5tZWFuKFtdKTsgLy89PiBOYU5cbiAgICAgKi9cbiAgICB2YXIgbWVhbiA9IF9jdXJyeTEoZnVuY3Rpb24gbWVhbihsaXN0KSB7XG4gICAgICAgIHJldHVybiBzdW0obGlzdCkgLyBsaXN0Lmxlbmd0aDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1lZGlhbiBvZiB0aGUgZ2l2ZW4gbGlzdCBvZiBudW1iZXJzLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAc2lnIFtOdW1iZXJdIC0+IE51bWJlclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3RcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5tZWRpYW4oWzIsIDksIDddKTsgLy89PiA3XG4gICAgICogICAgICBSLm1lZGlhbihbNywgMiwgMTAsIDldKTsgLy89PiA4XG4gICAgICogICAgICBSLm1lZGlhbihbXSk7IC8vPT4gTmFOXG4gICAgICovXG4gICAgdmFyIG1lZGlhbiA9IF9jdXJyeTEoZnVuY3Rpb24gbWVkaWFuKGxpc3QpIHtcbiAgICAgICAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IDIgLSBsZW4gJSAyO1xuICAgICAgICB2YXIgaWR4ID0gKGxlbiAtIHdpZHRoKSAvIDI7XG4gICAgICAgIHJldHVybiBtZWFuKF9zbGljZShsaXN0KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDA7XG4gICAgICAgIH0pLnNsaWNlKGlkeCwgaWR4ICsgd2lkdGgpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyBhIGxpc3Qgb2Ygb2JqZWN0cyB0b2dldGhlciBpbnRvIG9uZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgW3trOiB2fV0gLT4ge2s6IHZ9XG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBBbiBhcnJheSBvZiBvYmplY3RzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBIG1lcmdlZCBvYmplY3QuXG4gICAgICogQHNlZSBSLnJlZHVjZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIubWVyZ2VBbGwoW3tmb286MX0se2JhcjoyfSx7YmF6OjN9XSk7IC8vPT4ge2ZvbzoxLGJhcjoyLGJhejozfVxuICAgICAqICAgICAgUi5tZXJnZUFsbChbe2ZvbzoxfSx7Zm9vOjJ9LHtiYXI6Mn1dKTsgLy89PiB7Zm9vOjIsYmFyOjJ9XG4gICAgICovXG4gICAgdmFyIG1lcmdlQWxsID0gX2N1cnJ5MShmdW5jdGlvbiBtZXJnZUFsbChsaXN0KSB7XG4gICAgICAgIHJldHVybiByZWR1Y2UobWVyZ2UsIHt9LCBsaXN0KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGxlZnQtdG8tcmlnaHQgZnVuY3Rpb24gY29tcG9zaXRpb24uIFRoZSBsZWZ0bW9zdCBmdW5jdGlvbiBtYXkgaGF2ZVxuICAgICAqIGFueSBhcml0eTsgdGhlIHJlbWFpbmluZyBmdW5jdGlvbnMgbXVzdCBiZSB1bmFyeS5cbiAgICAgKlxuICAgICAqIEluIHNvbWUgbGlicmFyaWVzIHRoaXMgZnVuY3Rpb24gaXMgbmFtZWQgYHNlcXVlbmNlYC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNpZyAoKChhLCBiLCAuLi4sIG4pIC0+IG8pLCAobyAtPiBwKSwgLi4uLCAoeCAtPiB5KSwgKHkgLT4geikpIC0+ICgoYSwgYiwgLi4uLCBuKSAtPiB6KVxuICAgICAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZ1bmN0aW9uc1xuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgICAqIEBzZWUgUi5jb21wb3NlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGYgPSBSLnBpcGUoTWF0aC5wb3csIFIubmVnYXRlLCBSLmluYyk7XG4gICAgICpcbiAgICAgKiAgICAgIGYoMywgNCk7IC8vIC0oM140KSArIDFcbiAgICAgKi9cbiAgICB2YXIgcGlwZSA9IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BpcGUgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIGFyZ3VtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9hcml0eShhcmd1bWVudHNbMF0ubGVuZ3RoLCByZWR1Y2UoX3BpcGUsIGFyZ3VtZW50c1swXSwgdGFpbChhcmd1bWVudHMpKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGxlZnQtdG8tcmlnaHQgY29tcG9zaXRpb24gb2Ygb25lIG9yIG1vcmUgUHJvbWlzZS1yZXR1cm5pbmdcbiAgICAgKiBmdW5jdGlvbnMuIFRoZSBsZWZ0bW9zdCBmdW5jdGlvbiBtYXkgaGF2ZSBhbnkgYXJpdHk7IHRoZSByZW1haW5pbmdcbiAgICAgKiBmdW5jdGlvbnMgbXVzdCBiZSB1bmFyeS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKChhIC0+IFByb21pc2UgYiksIChiIC0+IFByb21pc2UgYyksIC4uLiwgKHkgLT4gUHJvbWlzZSB6KSkgLT4gKGEgLT4gUHJvbWlzZSB6KVxuICAgICAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZ1bmN0aW9uc1xuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgICAqIEBzZWUgUi5jb21wb3NlUFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIC8vICBmb2xsb3dlcnNGb3JVc2VyIDo6IFN0cmluZyAtPiBQcm9taXNlIFtVc2VyXVxuICAgICAqICAgICAgdmFyIGZvbGxvd2Vyc0ZvclVzZXIgPSBSLnBpcGVQKGRiLmdldFVzZXJCeUlkLCBkYi5nZXRGb2xsb3dlcnMpO1xuICAgICAqL1xuICAgIHZhciBwaXBlUCA9IGZ1bmN0aW9uIHBpcGVQKCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwaXBlUCByZXF1aXJlcyBhdCBsZWFzdCBvbmUgYXJndW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2FyaXR5KGFyZ3VtZW50c1swXS5sZW5ndGgsIHJlZHVjZShfcGlwZVAsIGFyZ3VtZW50c1swXSwgdGFpbChhcmd1bWVudHMpKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdG9nZXRoZXIgYWxsIHRoZSBlbGVtZW50cyBvZiBhIGxpc3QuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHNpZyBbTnVtYmVyXSAtPiBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IEFuIGFycmF5IG9mIG51bWJlcnNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBwcm9kdWN0IG9mIGFsbCB0aGUgbnVtYmVycyBpbiB0aGUgbGlzdC5cbiAgICAgKiBAc2VlIFIucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5wcm9kdWN0KFsyLDQsNiw4LDEwMCwxXSk7IC8vPT4gMzg0MDBcbiAgICAgKi9cbiAgICB2YXIgcHJvZHVjdCA9IHJlZHVjZShtdWx0aXBseSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWFzb25hYmxlIGFuYWxvZyB0byBTUUwgYHNlbGVjdGAgc3RhdGVtZW50LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQGNhdGVnb3J5IFJlbGF0aW9uXG4gICAgICogQHNpZyBba10gLT4gW3trOiB2fV0gLT4gW3trOiB2fV1cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gcHJvamVjdFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG9ianMgVGhlIG9iamVjdHMgdG8gcXVlcnlcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoIGp1c3QgdGhlIGBwcm9wc2AgcHJvcGVydGllcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgYWJieSA9IHtuYW1lOiAnQWJieScsIGFnZTogNywgaGFpcjogJ2Jsb25kJywgZ3JhZGU6IDJ9O1xuICAgICAqICAgICAgdmFyIGZyZWQgPSB7bmFtZTogJ0ZyZWQnLCBhZ2U6IDEyLCBoYWlyOiAnYnJvd24nLCBncmFkZTogN307XG4gICAgICogICAgICB2YXIga2lkcyA9IFthYmJ5LCBmcmVkXTtcbiAgICAgKiAgICAgIFIucHJvamVjdChbJ25hbWUnLCAnZ3JhZGUnXSwga2lkcyk7IC8vPT4gW3tuYW1lOiAnQWJieScsIGdyYWRlOiAyfSwge25hbWU6ICdGcmVkJywgZ3JhZGU6IDd9XVxuICAgICAqL1xuICAgIC8vIHBhc3NpbmcgYGlkZW50aXR5YCBnaXZlcyBjb3JyZWN0IGFyaXR5XG4gICAgdmFyIHByb2plY3QgPSB1c2VXaXRoKF9tYXAsIFtcbiAgICAgICAgcGlja0FsbCxcbiAgICAgICAgaWRlbnRpdHlcbiAgICBdKTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgbGlzdCBjb250YWluaW5nIHRoZSBsYXN0IGBuYCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gbGlzdC5cbiAgICAgKiBJZiBgbiA+IGxpc3QubGVuZ3RoYCwgcmV0dXJucyBhIGxpc3Qgb2YgYGxpc3QubGVuZ3RoYCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTYuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBOdW1iZXIgLT4gW2FdIC0+IFthXVxuICAgICAqIEBzaWcgTnVtYmVyIC0+IFN0cmluZyAtPiBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJldHVybi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB4cyBUaGUgY29sbGVjdGlvbiB0byBjb25zaWRlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKiBAc2VlIFIuZHJvcExhc3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnRha2VMYXN0KDEsIFsnZm9vJywgJ2JhcicsICdiYXonXSk7IC8vPT4gWydiYXonXVxuICAgICAqICAgICAgUi50YWtlTGFzdCgyLCBbJ2ZvbycsICdiYXInLCAnYmF6J10pOyAvLz0+IFsnYmFyJywgJ2JheiddXG4gICAgICogICAgICBSLnRha2VMYXN0KDMsIFsnZm9vJywgJ2JhcicsICdiYXonXSk7IC8vPT4gWydmb28nLCAnYmFyJywgJ2JheiddXG4gICAgICogICAgICBSLnRha2VMYXN0KDQsIFsnZm9vJywgJ2JhcicsICdiYXonXSk7IC8vPT4gWydmb28nLCAnYmFyJywgJ2JheiddXG4gICAgICogICAgICBSLnRha2VMYXN0KDMsICdyYW1kYScpOyAgICAgICAgICAgICAgIC8vPT4gJ21kYSdcbiAgICAgKi9cbiAgICB2YXIgdGFrZUxhc3QgPSBfY3VycnkyKGZ1bmN0aW9uIHRha2VMYXN0KG4sIHhzKSB7XG4gICAgICAgIHJldHVybiBkcm9wKG4gPj0gMCA/IHhzLmxlbmd0aCAtIG4gOiAwLCB4cyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTaG9ydGhhbmQgZm9yIGBSLmNoYWluKFIuaWRlbnRpdHkpYCwgd2hpY2ggcmVtb3ZlcyBvbmUgbGV2ZWwgb2YgbmVzdGluZ1xuICAgICAqIGZyb20gYW55IFtDaGFpbl0oaHR0cHM6Ly9naXRodWIuY29tL2ZhbnRhc3lsYW5kL2ZhbnRhc3ktbGFuZCNjaGFpbikuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNpZyBDaGFpbiBjID0+IGMgKGMgYSkgLT4gYyBhXG4gICAgICogQHBhcmFtIHsqfSBsaXN0XG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKiBAc2VlIFIuZmxhdHRlbiwgUi5jaGFpblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIudW5uZXN0KFsxLCBbMl0sIFtbM11dXSk7IC8vPT4gWzEsIDIsIFszXV1cbiAgICAgKiAgICAgIFIudW5uZXN0KFtbMSwgMl0sIFszLCA0XSwgWzUsIDZdXSk7IC8vPT4gWzEsIDIsIDMsIDQsIDUsIDZdXG4gICAgICovXG4gICAgdmFyIHVubmVzdCA9IGNoYWluKF9pZGVudGl0eSk7XG5cbiAgICB2YXIgX2NvbnRhaW5zID0gZnVuY3Rpb24gX2NvbnRhaW5zKGEsIGxpc3QpIHtcbiAgICAgICAgcmV0dXJuIF9pbmRleE9mKGxpc3QsIGEsIDApID49IDA7XG4gICAgfTtcblxuICAgIC8vICBtYXBQYWlycyA6OiAoT2JqZWN0LCBbU3RyaW5nXSkgLT4gW1N0cmluZ11cbiAgICAvLyBGdW5jdGlvbiwgUmVnRXhwLCB1c2VyLWRlZmluZWQgdHlwZXNcbiAgICB2YXIgX3RvU3RyaW5nID0gZnVuY3Rpb24gX3RvU3RyaW5nKHgsIHNlZW4pIHtcbiAgICAgICAgdmFyIHJlY3VyID0gZnVuY3Rpb24gcmVjdXIoeSkge1xuICAgICAgICAgICAgdmFyIHhzID0gc2Vlbi5jb25jYXQoW3hdKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGFpbnMoeSwgeHMpID8gJzxDaXJjdWxhcj4nIDogX3RvU3RyaW5nKHksIHhzKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gIG1hcFBhaXJzIDo6IChPYmplY3QsIFtTdHJpbmddKSAtPiBbU3RyaW5nXVxuICAgICAgICB2YXIgbWFwUGFpcnMgPSBmdW5jdGlvbiAob2JqLCBrZXlzKSB7XG4gICAgICAgICAgICByZXR1cm4gX21hcChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcXVvdGUoaykgKyAnOiAnICsgcmVjdXIob2JqW2tdKTtcbiAgICAgICAgICAgIH0sIGtleXMuc2xpY2UoKS5zb3J0KCkpO1xuICAgICAgICB9O1xuICAgICAgICBzd2l0Y2ggKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSkge1xuICAgICAgICBjYXNlICdbb2JqZWN0IEFyZ3VtZW50c10nOlxuICAgICAgICAgICAgcmV0dXJuICcoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oJyArIF9tYXAocmVjdXIsIHgpLmpvaW4oJywgJykgKyAnKSknO1xuICAgICAgICBjYXNlICdbb2JqZWN0IEFycmF5XSc6XG4gICAgICAgICAgICByZXR1cm4gJ1snICsgX21hcChyZWN1ciwgeCkuY29uY2F0KG1hcFBhaXJzKHgsIHJlamVjdChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgICAgIHJldHVybiAvXlxcZCskLy50ZXN0KGspO1xuICAgICAgICAgICAgfSwga2V5cyh4KSkpKS5qb2luKCcsICcpICsgJ10nO1xuICAgICAgICBjYXNlICdbb2JqZWN0IEJvb2xlYW5dJzpcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgPyAnbmV3IEJvb2xlYW4oJyArIHJlY3VyKHgudmFsdWVPZigpKSArICcpJyA6IHgudG9TdHJpbmcoKTtcbiAgICAgICAgY2FzZSAnW29iamVjdCBEYXRlXSc6XG4gICAgICAgICAgICByZXR1cm4gJ25ldyBEYXRlKCcgKyBfcXVvdGUoX3RvSVNPU3RyaW5nKHgpKSArICcpJztcbiAgICAgICAgY2FzZSAnW29iamVjdCBOdWxsXSc6XG4gICAgICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyA/ICduZXcgTnVtYmVyKCcgKyByZWN1cih4LnZhbHVlT2YoKSkgKyAnKScgOiAxIC8geCA9PT0gLUluZmluaXR5ID8gJy0wJyA6IHgudG9TdHJpbmcoMTApO1xuICAgICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyA/ICduZXcgU3RyaW5nKCcgKyByZWN1cih4LnZhbHVlT2YoKSkgKyAnKScgOiBfcXVvdGUoeCk7XG4gICAgICAgIGNhc2UgJ1tvYmplY3QgVW5kZWZpbmVkXSc6XG4gICAgICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHguY29uc3RydWN0b3IgPT09ICdmdW5jdGlvbicgJiYgeC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0JyAmJiB0eXBlb2YgeC50b1N0cmluZyA9PT0gJ2Z1bmN0aW9uJyAmJiB4LnRvU3RyaW5nKCkgIT09ICdbb2JqZWN0IE9iamVjdF0nID8geC50b1N0cmluZygpIDogLy8gRnVuY3Rpb24sIFJlZ0V4cCwgdXNlci1kZWZpbmVkIHR5cGVzXG4gICAgICAgICAgICAneycgKyBtYXBQYWlycyh4LCBrZXlzKHgpKS5qb2luKCcsICcpICsgJ30nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFR1cm5zIGEgbGlzdCBvZiBGdW5jdG9ycyBpbnRvIGEgRnVuY3RvciBvZiBhIGxpc3QuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMaXN0XG4gICAgICogQHNlZSBSLmNvbW11dGVNYXBcbiAgICAgKiBAc2lnIEZ1bmN0b3IgZiA9PiAoeCAtPiBmIHgpIC0+IFtmIGFdIC0+IGYgW2FdXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb2YgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGRhdGEgdHlwZSB0byByZXR1cm5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IEFuIGFycmF5IG9mIGZ1bmN0b3JzIG9mIHRoZSBzYW1lIHR5cGVcbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuY29tbXV0ZShSLm9mLCBbWzFdLCBbMiwgM11dKTsgICAvLz0+IFtbMSwgMl0sIFsxLCAzXV1cbiAgICAgKiAgICAgIFIuY29tbXV0ZShSLm9mLCBbWzEsIDJdLCBbM11dKTsgICAvLz0+IFtbMSwgM10sIFsyLCAzXV1cbiAgICAgKiAgICAgIFIuY29tbXV0ZShSLm9mLCBbWzFdLCBbMl0sIFszXV0pOyAvLz0+IFtbMSwgMiwgM11dXG4gICAgICogICAgICBSLmNvbW11dGUoTWF5YmUub2YsIFtKdXN0KDEpLCBKdXN0KDIpLCBKdXN0KDMpXSk7ICAgLy89PiBKdXN0KFsxLCAyLCAzXSlcbiAgICAgKiAgICAgIFIuY29tbXV0ZShNYXliZS5vZiwgW0p1c3QoMSksIEp1c3QoMiksIE5vdGhpbmcoKV0pOyAvLz0+IE5vdGhpbmcoKVxuICAgICAqL1xuICAgIHZhciBjb21tdXRlID0gY29tbXV0ZU1hcChpZGVudGl0eSk7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyByaWdodC10by1sZWZ0IGZ1bmN0aW9uIGNvbXBvc2l0aW9uLiBUaGUgcmlnaHRtb3N0IGZ1bmN0aW9uIG1heSBoYXZlXG4gICAgICogYW55IGFyaXR5OyB0aGUgcmVtYWluaW5nIGZ1bmN0aW9ucyBtdXN0IGJlIHVuYXJ5LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnICgoeSAtPiB6KSwgKHggLT4geSksIC4uLiwgKG8gLT4gcCksICgoYSwgYiwgLi4uLCBuKSAtPiBvKSkgLT4gKChhLCBiLCAuLi4sIG4pIC0+IHopXG4gICAgICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3Rpb25zXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAgICogQHNlZSBSLnBpcGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgZiA9IFIuY29tcG9zZShSLmluYywgUi5uZWdhdGUsIE1hdGgucG93KTtcbiAgICAgKlxuICAgICAqICAgICAgZigzLCA0KTsgLy8gLSgzXjQpICsgMVxuICAgICAqL1xuICAgIHZhciBjb21wb3NlID0gZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY29tcG9zZSByZXF1aXJlcyBhdCBsZWFzdCBvbmUgYXJndW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZS5hcHBseSh0aGlzLCByZXZlcnNlKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByaWdodC10by1sZWZ0IEtsZWlzbGkgY29tcG9zaXRpb24gb2YgdGhlIHByb3ZpZGVkIGZ1bmN0aW9ucyxcbiAgICAgKiBlYWNoIG9mIHdoaWNoIG11c3QgcmV0dXJuIGEgdmFsdWUgb2YgYSB0eXBlIHN1cHBvcnRlZCBieSBbYGNoYWluYF0oI2NoYWluKS5cbiAgICAgKlxuICAgICAqIGBSLmNvbXBvc2VLKGgsIGcsIGYpYCBpcyBlcXVpdmFsZW50IHRvIGBSLmNvbXBvc2UoUi5jaGFpbihoKSwgUi5jaGFpbihnKSwgUi5jaGFpbihmKSlgLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xNi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNlZSBSLnBpcGVLXG4gICAgICogQHNpZyBDaGFpbiBtID0+ICgoeSAtPiBtIHopLCAoeCAtPiBtIHkpLCAuLi4sIChhIC0+IG0gYikpIC0+IChtIGEgLT4gbSB6KVxuICAgICAqIEBwYXJhbSB7Li4uRnVuY3Rpb259XG4gICAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgLy8gIHBhcnNlSnNvbiA6OiBTdHJpbmcgLT4gTWF5YmUgKlxuICAgICAqICAgICAgLy8gIGdldCA6OiBTdHJpbmcgLT4gT2JqZWN0IC0+IE1heWJlICpcbiAgICAgKlxuICAgICAqICAgICAgLy8gIGdldFN0YXRlQ29kZSA6OiBNYXliZSBTdHJpbmcgLT4gTWF5YmUgU3RyaW5nXG4gICAgICogICAgICB2YXIgZ2V0U3RhdGVDb2RlID0gUi5jb21wb3NlSyhcbiAgICAgKiAgICAgICAgUi5jb21wb3NlKE1heWJlLm9mLCBSLnRvVXBwZXIpLFxuICAgICAqICAgICAgICBnZXQoJ3N0YXRlJyksXG4gICAgICogICAgICAgIGdldCgnYWRkcmVzcycpLFxuICAgICAqICAgICAgICBnZXQoJ3VzZXInKSxcbiAgICAgKiAgICAgICAgcGFyc2VKc29uXG4gICAgICogICAgICApO1xuICAgICAqXG4gICAgICogICAgICBnZXRTdGF0ZUNvZGUoTWF5YmUub2YoJ3tcInVzZXJcIjp7XCJhZGRyZXNzXCI6e1wic3RhdGVcIjpcIm55XCJ9fX0nKSk7XG4gICAgICogICAgICAvLz0+IEp1c3QoJ05ZJylcbiAgICAgKiAgICAgIGdldFN0YXRlQ29kZShNYXliZS5vZignW0ludmFsaWQgSlNPTl0nKSk7XG4gICAgICogICAgICAvLz0+IE5vdGhpbmcoKVxuICAgICAqL1xuICAgIHZhciBjb21wb3NlSyA9IGZ1bmN0aW9uIGNvbXBvc2VLKCkge1xuICAgICAgICByZXR1cm4gY29tcG9zZS5hcHBseSh0aGlzLCBwcmVwZW5kKGlkZW50aXR5LCBtYXAoY2hhaW4sIGFyZ3VtZW50cykpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgcmlnaHQtdG8tbGVmdCBjb21wb3NpdGlvbiBvZiBvbmUgb3IgbW9yZSBQcm9taXNlLXJldHVybmluZ1xuICAgICAqIGZ1bmN0aW9ucy4gVGhlIHJpZ2h0bW9zdCBmdW5jdGlvbiBtYXkgaGF2ZSBhbnkgYXJpdHk7IHRoZSByZW1haW5pbmdcbiAgICAgKiBmdW5jdGlvbnMgbXVzdCBiZSB1bmFyeS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKCh5IC0+IFByb21pc2UgeiksICh4IC0+IFByb21pc2UgeSksIC4uLiwgKGEgLT4gUHJvbWlzZSBiKSkgLT4gKGEgLT4gUHJvbWlzZSB6KVxuICAgICAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZ1bmN0aW9uc1xuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgICAqIEBzZWUgUi5waXBlUFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIC8vICBmb2xsb3dlcnNGb3JVc2VyIDo6IFN0cmluZyAtPiBQcm9taXNlIFtVc2VyXVxuICAgICAqICAgICAgdmFyIGZvbGxvd2Vyc0ZvclVzZXIgPSBSLmNvbXBvc2VQKGRiLmdldEZvbGxvd2VycywgZGIuZ2V0VXNlckJ5SWQpO1xuICAgICAqL1xuICAgIHZhciBjb21wb3NlUCA9IGZ1bmN0aW9uIGNvbXBvc2VQKCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb21wb3NlUCByZXF1aXJlcyBhdCBsZWFzdCBvbmUgYXJndW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZVAuYXBwbHkodGhpcywgcmV2ZXJzZShhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV3JhcHMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBpbnNpZGUgYSBjdXJyaWVkIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB3aXRoIHRoZSBzYW1lXG4gICAgICogYXJndW1lbnRzIGFuZCByZXR1cm5zIHRoZSBzYW1lIHR5cGUuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBzaWcgKCogLT4geyp9KSAtPiAoKiAtPiB7Kn0pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gRm4gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IEEgd3JhcHBlZCwgY3VycmllZCBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICAvLyBDb25zdHJ1Y3RvciBmdW5jdGlvblxuICAgICAqICAgICAgdmFyIFdpZGdldCA9IGNvbmZpZyA9PiB7XG4gICAgICogICAgICAgIC8vIC4uLlxuICAgICAqICAgICAgfTtcbiAgICAgKiAgICAgIFdpZGdldC5wcm90b3R5cGUgPSB7XG4gICAgICogICAgICAgIC8vIC4uLlxuICAgICAqICAgICAgfTtcbiAgICAgKiAgICAgIHZhciBhbGxDb25maWdzID0gW1xuICAgICAqICAgICAgICAvLyAuLi5cbiAgICAgKiAgICAgIF07XG4gICAgICogICAgICBSLm1hcChSLmNvbnN0cnVjdChXaWRnZXQpLCBhbGxDb25maWdzKTsgLy8gYSBsaXN0IG9mIFdpZGdldHNcbiAgICAgKi9cbiAgICB2YXIgY29uc3RydWN0ID0gX2N1cnJ5MShmdW5jdGlvbiBjb25zdHJ1Y3QoRm4pIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdE4oRm4ubGVuZ3RoLCBGbik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGVxdWFsLCBpbiBgUi5lcXVhbHNgIHRlcm1zLFxuICAgICAqIHRvIGF0IGxlYXN0IG9uZSBlbGVtZW50IG9mIHRoZSBnaXZlbiBsaXN0OyBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIGEgLT4gW2FdIC0+IEJvb2xlYW5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgaXRlbSB0byBjb21wYXJlIGFnYWluc3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBpdGVtIGlzIGluIHRoZSBsaXN0LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKiBAc2VlIFIuYW55XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5jb250YWlucygzLCBbMSwgMiwgM10pOyAvLz0+IHRydWVcbiAgICAgKiAgICAgIFIuY29udGFpbnMoNCwgWzEsIDIsIDNdKTsgLy89PiBmYWxzZVxuICAgICAqICAgICAgUi5jb250YWlucyhbNDJdLCBbWzQyXV0pOyAvLz0+IHRydWVcbiAgICAgKi9cbiAgICB2YXIgY29udGFpbnMgPSBfY3VycnkyKF9jb250YWlucyk7XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgc2V0IChpLmUuIG5vIGR1cGxpY2F0ZXMpIG9mIGFsbCBlbGVtZW50cyBpbiB0aGUgZmlyc3QgbGlzdCBub3QgY29udGFpbmVkIGluIHRoZSBzZWNvbmQgbGlzdC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IFJlbGF0aW9uXG4gICAgICogQHNpZyBbYV0gLT4gW2FdIC0+IFthXVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QxIFRoZSBmaXJzdCBsaXN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QyIFRoZSBzZWNvbmQgbGlzdC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGVsZW1lbnRzIGluIGBsaXN0MWAgdGhhdCBhcmUgbm90IGluIGBsaXN0MmAuXG4gICAgICogQHNlZSBSLmRpZmZlcmVuY2VXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5kaWZmZXJlbmNlKFsxLDIsMyw0XSwgWzcsNiw1LDQsM10pOyAvLz0+IFsxLDJdXG4gICAgICogICAgICBSLmRpZmZlcmVuY2UoWzcsNiw1LDQsM10sIFsxLDIsMyw0XSk7IC8vPT4gWzcsNiw1XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gX2N1cnJ5MihmdW5jdGlvbiBkaWZmZXJlbmNlKGZpcnN0LCBzZWNvbmQpIHtcbiAgICAgICAgdmFyIG91dCA9IFtdO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIGZpcnN0TGVuID0gZmlyc3QubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaWR4IDwgZmlyc3RMZW4pIHtcbiAgICAgICAgICAgIGlmICghX2NvbnRhaW5zKGZpcnN0W2lkeF0sIHNlY29uZCkgJiYgIV9jb250YWlucyhmaXJzdFtpZHhdLCBvdXQpKSB7XG4gICAgICAgICAgICAgICAgb3V0W291dC5sZW5ndGhdID0gZmlyc3RbaWR4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGxpc3Qgd2l0aG91dCBhbnkgY29uc2VjdXRpdmVseSByZXBlYXRpbmcgZWxlbWVudHMuXG4gICAgICogYFIuZXF1YWxzYCBpcyB1c2VkIHRvIGRldGVybWluZSBlcXVhbGl0eS5cbiAgICAgKlxuICAgICAqIERpc3BhdGNoZXMgdG8gdGhlIGBkcm9wUmVwZWF0c2AgbWV0aG9kIG9mIHRoZSBmaXJzdCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEFjdHMgYXMgYSB0cmFuc2R1Y2VyIGlmIGEgdHJhbnNmb3JtZXIgaXMgZ2l2ZW4gaW4gbGlzdCBwb3NpdGlvbi5cbiAgICAgKiBAc2VlIFIudHJhbnNkdWNlXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgW2FdIC0+IFthXVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGFycmF5IHRvIGNvbnNpZGVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBgbGlzdGAgd2l0aG91dCByZXBlYXRpbmcgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICBSLmRyb3BSZXBlYXRzKFsxLCAxLCAxLCAyLCAzLCA0LCA0LCAyLCAyXSk7IC8vPT4gWzEsIDIsIDMsIDQsIDJdXG4gICAgICovXG4gICAgdmFyIGRyb3BSZXBlYXRzID0gX2N1cnJ5MShfZGlzcGF0Y2hhYmxlKCdkcm9wUmVwZWF0cycsIF94ZHJvcFJlcGVhdHNXaXRoKGVxdWFscyksIGRyb3BSZXBlYXRzV2l0aChlcXVhbHMpKSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21iaW5lcyB0d28gbGlzdHMgaW50byBhIHNldCAoaS5lLiBubyBkdXBsaWNhdGVzKSBjb21wb3NlZCBvZiB0aG9zZSBlbGVtZW50cyBjb21tb24gdG8gYm90aCBsaXN0cy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IFJlbGF0aW9uXG4gICAgICogQHNpZyBbYV0gLT4gW2FdIC0+IFthXVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QxIFRoZSBmaXJzdCBsaXN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QyIFRoZSBzZWNvbmQgbGlzdC5cbiAgICAgKiBAc2VlIFIuaW50ZXJzZWN0aW9uV2l0aFxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgbGlzdCBvZiBlbGVtZW50cyBmb3VuZCBpbiBib3RoIGBsaXN0MWAgYW5kIGBsaXN0MmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5pbnRlcnNlY3Rpb24oWzEsMiwzLDRdLCBbNyw2LDUsNCwzXSk7IC8vPT4gWzQsIDNdXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbiA9IF9jdXJyeTIoZnVuY3Rpb24gaW50ZXJzZWN0aW9uKGxpc3QxLCBsaXN0Mikge1xuICAgICAgICByZXR1cm4gdW5pcShfZmlsdGVyKGZsaXAoX2NvbnRhaW5zKShsaXN0MSksIGxpc3QyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBcImxpZnRzXCIgYSBmdW5jdGlvbiBvZiBhcml0eSA+IDEgc28gdGhhdCBpdCBtYXkgXCJtYXAgb3ZlclwiIGFuIEFycmF5IG9yXG4gICAgICogb3RoZXIgRnVuY3Rvci5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuNy4wXG4gICAgICogQHNlZSBSLmxpZnROXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHNpZyAoKi4uLiAtPiAqKSAtPiAoWypdLi4uIC0+IFsqXSlcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbGlmdCBpbnRvIGhpZ2hlciBjb250ZXh0XG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBmdW5jdGlvbiBgZm5gIGFwcGxpY2FibGUgdG8gbWFwcGFibGUgb2JqZWN0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgbWFkZDMgPSBSLmxpZnQoUi5jdXJyeSgoYSwgYiwgYykgPT4gYSArIGIgKyBjKSk7XG4gICAgICpcbiAgICAgKiAgICAgIG1hZGQzKFsxLDIsM10sIFsxLDIsM10sIFsxXSk7IC8vPT4gWzMsIDQsIDUsIDQsIDUsIDYsIDUsIDYsIDddXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBtYWRkNSA9IFIubGlmdChSLmN1cnJ5KChhLCBiLCBjLCBkLCBlKSA9PiBhICsgYiArIGMgKyBkICsgZSkpO1xuICAgICAqXG4gICAgICogICAgICBtYWRkNShbMSwyXSwgWzNdLCBbNCwgNV0sIFs2XSwgWzcsIDhdKTsgLy89PiBbMjEsIDIyLCAyMiwgMjMsIDIyLCAyMywgMjMsIDI0XVxuICAgICAqL1xuICAgIHZhciBsaWZ0ID0gX2N1cnJ5MShmdW5jdGlvbiBsaWZ0KGZuKSB7XG4gICAgICAgIHJldHVybiBsaWZ0Tihmbi5sZW5ndGgsIGZuKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwYXJ0aWFsIGNvcHkgb2YgYW4gb2JqZWN0IG9taXR0aW5nIHRoZSBrZXlzIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBzaWcgW1N0cmluZ10gLT4ge1N0cmluZzogKn0gLT4ge1N0cmluZzogKn1cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBuYW1lcyBhbiBhcnJheSBvZiBTdHJpbmcgcHJvcGVydHkgbmFtZXMgdG8gb21pdCBmcm9tIHRoZSBuZXcgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGNvcHkgZnJvbVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQSBuZXcgb2JqZWN0IHdpdGggcHJvcGVydGllcyBmcm9tIGBuYW1lc2Agbm90IG9uIGl0LlxuICAgICAqIEBzZWUgUi5waWNrXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi5vbWl0KFsnYScsICdkJ10sIHthOiAxLCBiOiAyLCBjOiAzLCBkOiA0fSk7IC8vPT4ge2I6IDIsIGM6IDN9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBfY3VycnkyKGZ1bmN0aW9uIG9taXQobmFtZXMsIG9iaikge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoIV9jb250YWlucyhwcm9wLCBuYW1lcykpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBvYmpbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxlZnQtdG8tcmlnaHQgS2xlaXNsaSBjb21wb3NpdGlvbiBvZiB0aGUgcHJvdmlkZWQgZnVuY3Rpb25zLFxuICAgICAqIGVhY2ggb2Ygd2hpY2ggbXVzdCByZXR1cm4gYSB2YWx1ZSBvZiBhIHR5cGUgc3VwcG9ydGVkIGJ5IFtgY2hhaW5gXSgjY2hhaW4pLlxuICAgICAqXG4gICAgICogYFIucGlwZUsoZiwgZywgaClgIGlzIGVxdWl2YWxlbnQgdG8gYFIucGlwZShSLmNoYWluKGYpLCBSLmNoYWluKGcpLCBSLmNoYWluKGgpKWAuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjE2LjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2VlIFIuY29tcG9zZUtcbiAgICAgKiBAc2lnIENoYWluIG0gPT4gKChhIC0+IG0gYiksIChiIC0+IG0gYyksIC4uLiwgKHkgLT4gbSB6KSkgLT4gKG0gYSAtPiBtIHopXG4gICAgICogQHBhcmFtIHsuLi5GdW5jdGlvbn1cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICAvLyAgcGFyc2VKc29uIDo6IFN0cmluZyAtPiBNYXliZSAqXG4gICAgICogICAgICAvLyAgZ2V0IDo6IFN0cmluZyAtPiBPYmplY3QgLT4gTWF5YmUgKlxuICAgICAqXG4gICAgICogICAgICAvLyAgZ2V0U3RhdGVDb2RlIDo6IE1heWJlIFN0cmluZyAtPiBNYXliZSBTdHJpbmdcbiAgICAgKiAgICAgIHZhciBnZXRTdGF0ZUNvZGUgPSBSLnBpcGVLKFxuICAgICAqICAgICAgICBwYXJzZUpzb24sXG4gICAgICogICAgICAgIGdldCgndXNlcicpLFxuICAgICAqICAgICAgICBnZXQoJ2FkZHJlc3MnKSxcbiAgICAgKiAgICAgICAgZ2V0KCdzdGF0ZScpLFxuICAgICAqICAgICAgICBSLmNvbXBvc2UoTWF5YmUub2YsIFIudG9VcHBlcilcbiAgICAgKiAgICAgICk7XG4gICAgICpcbiAgICAgKiAgICAgIGdldFN0YXRlQ29kZShNYXliZS5vZigne1widXNlclwiOntcImFkZHJlc3NcIjp7XCJzdGF0ZVwiOlwibnlcIn19fScpKTtcbiAgICAgKiAgICAgIC8vPT4gSnVzdCgnTlknKVxuICAgICAqICAgICAgZ2V0U3RhdGVDb2RlKE1heWJlLm9mKCdbSW52YWxpZCBKU09OXScpKTtcbiAgICAgKiAgICAgIC8vPT4gTm90aGluZygpXG4gICAgICovXG4gICAgdmFyIHBpcGVLID0gZnVuY3Rpb24gcGlwZUsoKSB7XG4gICAgICAgIHJldHVybiBjb21wb3NlSy5hcHBseSh0aGlzLCByZXZlcnNlKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIHZhbHVlLiBgZXZhbGAnaW5nIHRoZSBvdXRwdXRcbiAgICAgKiBzaG91bGQgcmVzdWx0IGluIGEgdmFsdWUgZXF1aXZhbGVudCB0byB0aGUgaW5wdXQgdmFsdWUuIE1hbnkgb2YgdGhlIGJ1aWx0LWluXG4gICAgICogYHRvU3RyaW5nYCBtZXRob2RzIGRvIG5vdCBzYXRpc2Z5IHRoaXMgcmVxdWlyZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gYFtvYmplY3QgT2JqZWN0XWAgd2l0aCBhIGB0b1N0cmluZ2AgbWV0aG9kIG90aGVyXG4gICAgICogdGhhbiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AsIHRoaXMgbWV0aG9kIGlzIGludm9rZWQgd2l0aCBubyBhcmd1bWVudHNcbiAgICAgKiB0byBwcm9kdWNlIHRoZSByZXR1cm4gdmFsdWUuIFRoaXMgbWVhbnMgdXNlci1kZWZpbmVkIGNvbnN0cnVjdG9yIGZ1bmN0aW9uc1xuICAgICAqIGNhbiBwcm92aWRlIGEgc3VpdGFibGUgYHRvU3RyaW5nYCBtZXRob2QuIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICAgIGZ1bmN0aW9uIFBvaW50KHgsIHkpIHtcbiAgICAgKiAgICAgICB0aGlzLnggPSB4O1xuICAgICAqICAgICAgIHRoaXMueSA9IHk7XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqICAgICBQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgICByZXR1cm4gJ25ldyBQb2ludCgnICsgdGhpcy54ICsgJywgJyArIHRoaXMueSArICcpJztcbiAgICAgKiAgICAgfTtcbiAgICAgKlxuICAgICAqICAgICBSLnRvU3RyaW5nKG5ldyBQb2ludCgxLCAyKSk7IC8vPT4gJ25ldyBQb2ludCgxLCAyKSdcbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAc2lnICogLT4gU3RyaW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWxcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgUi50b1N0cmluZyg0Mik7IC8vPT4gJzQyJ1xuICAgICAqICAgICAgUi50b1N0cmluZygnYWJjJyk7IC8vPT4gJ1wiYWJjXCInXG4gICAgICogICAgICBSLnRvU3RyaW5nKFsxLCAyLCAzXSk7IC8vPT4gJ1sxLCAyLCAzXSdcbiAgICAgKiAgICAgIFIudG9TdHJpbmcoe2ZvbzogMSwgYmFyOiAyLCBiYXo6IDN9KTsgLy89PiAne1wiYmFyXCI6IDIsIFwiYmF6XCI6IDMsIFwiZm9vXCI6IDF9J1xuICAgICAqICAgICAgUi50b1N0cmluZyhuZXcgRGF0ZSgnMjAwMS0wMi0wM1QwNDowNTowNlonKSk7IC8vPT4gJ25ldyBEYXRlKFwiMjAwMS0wMi0wM1QwNDowNTowNi4wMDBaXCIpJ1xuICAgICAqL1xuICAgIHZhciB0b1N0cmluZyA9IF9jdXJyeTEoZnVuY3Rpb24gdG9TdHJpbmcodmFsKSB7XG4gICAgICAgIHJldHVybiBfdG9TdHJpbmcodmFsLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21iaW5lcyB0d28gbGlzdHMgaW50byBhIHNldCAoaS5lLiBubyBkdXBsaWNhdGVzKSBjb21wb3NlZCBvZiB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGxpc3QuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBSZWxhdGlvblxuICAgICAqIEBzaWcgW2FdIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcyBUaGUgZmlyc3QgbGlzdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBicyBUaGUgc2Vjb25kIGxpc3QuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBmaXJzdCBhbmQgc2Vjb25kIGxpc3RzIGNvbmNhdGVuYXRlZCwgd2l0aFxuICAgICAqICAgICAgICAgZHVwbGljYXRlcyByZW1vdmVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIudW5pb24oWzEsIDIsIDNdLCBbMiwgMywgNF0pOyAvLz0+IFsxLCAyLCAzLCA0XVxuICAgICAqL1xuICAgIHZhciB1bmlvbiA9IF9jdXJyeTIoY29tcG9zZSh1bmlxLCBfY29uY2F0KSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGxpc3QgY29udGFpbmluZyBvbmx5IG9uZSBjb3B5IG9mIGVhY2ggZWxlbWVudCBpbiB0aGVcbiAgICAgKiBvcmlnaW5hbCBsaXN0LCBiYXNlZCB1cG9uIHRoZSB2YWx1ZSByZXR1cm5lZCBieSBhcHBseWluZyB0aGUgc3VwcGxpZWRcbiAgICAgKiBmdW5jdGlvbiB0byBlYWNoIGxpc3QgZWxlbWVudC4gUHJlZmVycyB0aGUgZmlyc3QgaXRlbSBpZiB0aGUgc3VwcGxpZWRcbiAgICAgKiBmdW5jdGlvbiBwcm9kdWNlcyB0aGUgc2FtZSB2YWx1ZSBvbiB0d28gaXRlbXMuIGBSLmVxdWFsc2AgaXMgdXNlZCBmb3JcbiAgICAgKiBjb21wYXJpc29uLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xNi4wXG4gICAgICogQGNhdGVnb3J5IExpc3RcbiAgICAgKiBAc2lnIChhIC0+IGIpIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBBIGZ1bmN0aW9uIHVzZWQgdG8gcHJvZHVjZSBhIHZhbHVlIHRvIHVzZSBkdXJpbmcgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gY29uc2lkZXIuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG9mIHVuaXF1ZSBpdGVtcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnVuaXFCeShNYXRoLmFicywgWy0xLCAtNSwgMiwgMTAsIDEsIDJdKTsgLy89PiBbLTEsIC01LCAyLCAxMF1cbiAgICAgKi9cbiAgICB2YXIgdW5pcUJ5ID0gX2N1cnJ5MihmdW5jdGlvbiB1bmlxQnkoZm4sIGxpc3QpIHtcbiAgICAgICAgdmFyIGlkeCA9IDAsIGFwcGxpZWQgPSBbXSwgcmVzdWx0ID0gW10sIGFwcGxpZWRJdGVtLCBpdGVtO1xuICAgICAgICB3aGlsZSAoaWR4IDwgbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZW0gPSBsaXN0W2lkeF07XG4gICAgICAgICAgICBhcHBsaWVkSXRlbSA9IGZuKGl0ZW0pO1xuICAgICAgICAgICAgaWYgKCFfY29udGFpbnMoYXBwbGllZEl0ZW0sIGFwcGxpZWQpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgYXBwbGllZC5wdXNoKGFwcGxpZWRJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBIGZ1bmN0aW9uIHdyYXBwaW5nIGNhbGxzIHRvIHRoZSB0d28gZnVuY3Rpb25zIGluIGFuIGAmJmAgb3BlcmF0aW9uLCByZXR1cm5pbmcgdGhlIHJlc3VsdCBvZiB0aGUgZmlyc3RcbiAgICAgKiBmdW5jdGlvbiBpZiBpdCBpcyBmYWxzZS15IGFuZCB0aGUgcmVzdWx0IG9mIHRoZSBzZWNvbmQgZnVuY3Rpb24gb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogYFIuYm90aGAgd2lsbCB3b3JrIG9uIGFsbCBvdGhlciBhcHBsaWNhdGl2ZXMgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMb2dpY1xuICAgICAqIEBzaWcgKCouLi4gLT4gQm9vbGVhbikgLT4gKCouLi4gLT4gQm9vbGVhbikgLT4gKCouLi4gLT4gQm9vbGVhbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmIGEgcHJlZGljYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZyBhbm90aGVyIHByZWRpY2F0ZVxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBhIGZ1bmN0aW9uIHRoYXQgYXBwbGllcyBpdHMgYXJndW1lbnRzIHRvIGBmYCBhbmQgYGdgIGFuZCBgJiZgcyB0aGVpciBvdXRwdXRzIHRvZ2V0aGVyLlxuICAgICAqIEBzZWUgUi5hbmRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgZ3QxMCA9IHggPT4geCA+IDEwO1xuICAgICAqICAgICAgdmFyIGV2ZW4gPSB4ID0+IHggJSAyID09PSAwO1xuICAgICAqICAgICAgdmFyIGYgPSBSLmJvdGgoZ3QxMCwgZXZlbik7XG4gICAgICogICAgICBmKDEwMCk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgZigxMDEpOyAvLz0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGJvdGggPSBsaWZ0KGFuZCk7XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGZ1bmN0aW9uIGBmYCBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIGBnYCBzdWNoIHRoYXQ6XG4gICAgICpcbiAgICAgKiAgIC0gYXBwbHlpbmcgYGdgIHRvIHplcm8gb3IgbW9yZSBhcmd1bWVudHMgd2lsbCBnaXZlIF9fdHJ1ZV9fIGlmIGFwcGx5aW5nXG4gICAgICogICAgIHRoZSBzYW1lIGFyZ3VtZW50cyB0byBgZmAgZ2l2ZXMgYSBsb2dpY2FsIF9fZmFsc2VfXyB2YWx1ZTsgYW5kXG4gICAgICpcbiAgICAgKiAgIC0gYXBwbHlpbmcgYGdgIHRvIHplcm8gb3IgbW9yZSBhcmd1bWVudHMgd2lsbCBnaXZlIF9fZmFsc2VfXyBpZiBhcHBseWluZ1xuICAgICAqICAgICB0aGUgc2FtZSBhcmd1bWVudHMgdG8gYGZgIGdpdmVzIGEgbG9naWNhbCBfX3RydWVfXyB2YWx1ZS5cbiAgICAgKlxuICAgICAqIGBSLmNvbXBsZW1lbnRgIHdpbGwgd29yayBvbiBhbGwgb3RoZXIgZnVuY3RvcnMgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMb2dpY1xuICAgICAqIEBzaWcgKCouLi4gLT4gKikgLT4gKCouLi4gLT4gQm9vbGVhbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAgICogQHNlZSBSLm5vdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBpc0V2ZW4gPSBuID0+IG4gJSAyID09PSAwO1xuICAgICAqICAgICAgdmFyIGlzT2RkID0gUi5jb21wbGVtZW50KGlzRXZlbik7XG4gICAgICogICAgICBpc09kZCgyMSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgaXNPZGQoNDIpOyAvLz0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGNvbXBsZW1lbnQgPSBsaWZ0KG5vdCk7XG5cbiAgICAvKipcbiAgICAgKiBBIGZ1bmN0aW9uIHdyYXBwaW5nIGNhbGxzIHRvIHRoZSB0d28gZnVuY3Rpb25zIGluIGFuIGB8fGAgb3BlcmF0aW9uLCByZXR1cm5pbmcgdGhlIHJlc3VsdCBvZiB0aGUgZmlyc3RcbiAgICAgKiBmdW5jdGlvbiBpZiBpdCBpcyB0cnV0aC15IGFuZCB0aGUgcmVzdWx0IG9mIHRoZSBzZWNvbmQgZnVuY3Rpb24gb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogYFIuZWl0aGVyYCB3aWxsIHdvcmsgb24gYWxsIG90aGVyIGFwcGxpY2F0aXZlcyBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xMi4wXG4gICAgICogQGNhdGVnb3J5IExvZ2ljXG4gICAgICogQHNpZyAoKi4uLiAtPiBCb29sZWFuKSAtPiAoKi4uLiAtPiBCb29sZWFuKSAtPiAoKi4uLiAtPiBCb29sZWFuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGYgYSBwcmVkaWNhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBnIGFub3RoZXIgcHJlZGljYXRlXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IGEgZnVuY3Rpb24gdGhhdCBhcHBsaWVzIGl0cyBhcmd1bWVudHMgdG8gYGZgIGFuZCBgZ2AgYW5kIGB8fGBzIHRoZWlyIG91dHB1dHMgdG9nZXRoZXIuXG4gICAgICogQHNlZSBSLm9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqICAgICAgdmFyIGd0MTAgPSB4ID0+IHggPiAxMDtcbiAgICAgKiAgICAgIHZhciBldmVuID0geCA9PiB4ICUgMiA9PT0gMDtcbiAgICAgKiAgICAgIHZhciBmID0gUi5laXRoZXIoZ3QxMCwgZXZlbik7XG4gICAgICogICAgICBmKDEwMSk7IC8vPT4gdHJ1ZVxuICAgICAqICAgICAgZig4KTsgLy89PiB0cnVlXG4gICAgICovXG4gICAgdmFyIGVpdGhlciA9IGxpZnQob3IpO1xuXG4gICAgLyoqXG4gICAgICogVHVybnMgYSBuYW1lZCBtZXRob2Qgd2l0aCBhIHNwZWNpZmllZCBhcml0eSBpbnRvIGEgZnVuY3Rpb25cbiAgICAgKiB0aGF0IGNhbiBiZSBjYWxsZWQgZGlyZWN0bHkgc3VwcGxpZWQgd2l0aCBhcmd1bWVudHMgYW5kIGEgdGFyZ2V0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIFRoZSByZXR1cm5lZCBmdW5jdGlvbiBpcyBjdXJyaWVkIGFuZCBhY2NlcHRzIGBhcml0eSArIDFgIHBhcmFtZXRlcnMgd2hlcmVcbiAgICAgKiB0aGUgZmluYWwgcGFyYW1ldGVyIGlzIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnIE51bWJlciAtPiBTdHJpbmcgLT4gKGEgLT4gYiAtPiAuLi4gLT4gbiAtPiBPYmplY3QgLT4gKilcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYXJpdHkgTnVtYmVyIG9mIGFyZ3VtZW50cyB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gc2hvdWxkIHRha2VcbiAgICAgKiAgICAgICAgYmVmb3JlIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZCBOYW1lIG9mIHRoZSBtZXRob2QgdG8gY2FsbC5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgc2xpY2VGcm9tID0gUi5pbnZva2VyKDEsICdzbGljZScpO1xuICAgICAqICAgICAgc2xpY2VGcm9tKDYsICdhYmNkZWZnaGlqa2xtJyk7IC8vPT4gJ2doaWprbG0nXG4gICAgICogICAgICB2YXIgc2xpY2VGcm9tNiA9IFIuaW52b2tlcigyLCAnc2xpY2UnKSg2KTtcbiAgICAgKiAgICAgIHNsaWNlRnJvbTYoOCwgJ2FiY2RlZmdoaWprbG0nKTsgLy89PiAnZ2gnXG4gICAgICovXG4gICAgdmFyIGludm9rZXIgPSBfY3VycnkyKGZ1bmN0aW9uIGludm9rZXIoYXJpdHksIG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gY3VycnlOKGFyaXR5ICsgMSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGFyZ3VtZW50c1thcml0eV07XG4gICAgICAgICAgICBpZiAodGFyZ2V0ICE9IG51bGwgJiYgaXMoRnVuY3Rpb24sIHRhcmdldFttZXRob2RdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbbWV0aG9kXS5hcHBseSh0YXJnZXQsIF9zbGljZShhcmd1bWVudHMsIDAsIGFyaXR5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHRvU3RyaW5nKHRhcmdldCkgKyAnIGRvZXMgbm90IGhhdmUgYSBtZXRob2QgbmFtZWQgXCInICsgbWV0aG9kICsgJ1wiJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBtYWRlIGJ5IGluc2VydGluZyB0aGUgYHNlcGFyYXRvcmAgYmV0d2VlbiBlYWNoXG4gICAgICogZWxlbWVudCBhbmQgY29uY2F0ZW5hdGluZyBhbGwgdGhlIGVsZW1lbnRzIGludG8gYSBzaW5nbGUgc3RyaW5nLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgU3RyaW5nIC0+IFthXSAtPiBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IHNlcGFyYXRvciBUaGUgc3RyaW5nIHVzZWQgdG8gc2VwYXJhdGUgdGhlIGVsZW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHhzIFRoZSBlbGVtZW50cyB0byBqb2luIGludG8gYSBzdHJpbmcuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyBtYWRlIGJ5IGNvbmNhdGVuYXRpbmcgYHhzYCB3aXRoIGBzZXBhcmF0b3JgLlxuICAgICAqIEBzZWUgUi5zcGxpdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIHZhciBzcGFjZXIgPSBSLmpvaW4oJyAnKTtcbiAgICAgKiAgICAgIHNwYWNlcihbJ2EnLCAyLCAzLjRdKTsgICAvLz0+ICdhIDIgMy40J1xuICAgICAqICAgICAgUi5qb2luKCd8JywgWzEsIDIsIDNdKTsgICAgLy89PiAnMXwyfDMnXG4gICAgICovXG4gICAgdmFyIGpvaW4gPSBpbnZva2VyKDEsICdqb2luJyk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGZ1bmN0aW9uIHRoYXQsIHdoZW4gaW52b2tlZCwgY2FjaGVzIHRoZSByZXN1bHQgb2YgY2FsbGluZyBgZm5gIGZvciBhIGdpdmVuXG4gICAgICogYXJndW1lbnQgc2V0IGFuZCByZXR1cm5zIHRoZSByZXN1bHQuIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIG1lbW9pemVkIGBmbmAgd2l0aCB0aGUgc2FtZVxuICAgICAqIGFyZ3VtZW50IHNldCB3aWxsIG5vdCByZXN1bHQgaW4gYW4gYWRkaXRpb25hbCBjYWxsIHRvIGBmbmA7IGluc3RlYWQsIHRoZSBjYWNoZWQgcmVzdWx0XG4gICAgICogZm9yIHRoYXQgc2V0IG9mIGFyZ3VtZW50cyB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAc2lnICgqLi4uIC0+IGEpIC0+ICgqLi4uIC0+IGEpXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1lbW9pemUuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IE1lbW9pemVkIHZlcnNpb24gb2YgYGZuYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgY291bnQgPSAwO1xuICAgICAqICAgICAgdmFyIGZhY3RvcmlhbCA9IFIubWVtb2l6ZShuID0+IHtcbiAgICAgKiAgICAgICAgY291bnQgKz0gMTtcbiAgICAgKiAgICAgICAgcmV0dXJuIFIucHJvZHVjdChSLnJhbmdlKDEsIG4gKyAxKSk7XG4gICAgICogICAgICB9KTtcbiAgICAgKiAgICAgIGZhY3RvcmlhbCg1KTsgLy89PiAxMjBcbiAgICAgKiAgICAgIGZhY3RvcmlhbCg1KTsgLy89PiAxMjBcbiAgICAgKiAgICAgIGZhY3RvcmlhbCg1KTsgLy89PiAxMjBcbiAgICAgKiAgICAgIGNvdW50OyAvLz0+IDFcbiAgICAgKi9cbiAgICB2YXIgbWVtb2l6ZSA9IF9jdXJyeTEoZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICAgICAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSB0b1N0cmluZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKCFfaGFzKGtleSwgY2FjaGUpKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVba2V5XSA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVba2V5XTtcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBhIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIHN0cmluZ3MgYmFzZWQgb24gdGhlIGdpdmVuXG4gICAgICogc2VwYXJhdG9yLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHNpZyAoU3RyaW5nIHwgUmVnRXhwKSAtPiBTdHJpbmcgLT4gW1N0cmluZ11cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IHNlcCBUaGUgcGF0dGVybi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdHJpbmcgdG8gc2VwYXJhdGUgaW50byBhbiBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGFycmF5IG9mIHN0cmluZ3MgZnJvbSBgc3RyYCBzZXBhcmF0ZWQgYnkgYHN0cmAuXG4gICAgICogQHNlZSBSLmpvaW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICB2YXIgcGF0aENvbXBvbmVudHMgPSBSLnNwbGl0KCcvJyk7XG4gICAgICogICAgICBSLnRhaWwocGF0aENvbXBvbmVudHMoJy91c3IvbG9jYWwvYmluL25vZGUnKSk7IC8vPT4gWyd1c3InLCAnbG9jYWwnLCAnYmluJywgJ25vZGUnXVxuICAgICAqXG4gICAgICogICAgICBSLnNwbGl0KCcuJywgJ2EuYi5jLnh5ei5kJyk7IC8vPT4gWydhJywgJ2InLCAnYycsICd4eXonLCAnZCddXG4gICAgICovXG4gICAgdmFyIHNwbGl0ID0gaW52b2tlcigxLCAnc3BsaXQnKTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBhIGdpdmVuIHN0cmluZyBtYXRjaGVzIGEgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uLlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xMi4wXG4gICAgICogQHNlZSBSLm1hdGNoXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBzaWcgUmVnRXhwIC0+IFN0cmluZyAtPiBCb29sZWFuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IHBhdHRlcm5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnRlc3QoL154LywgJ3h5eicpOyAvLz0+IHRydWVcbiAgICAgKiAgICAgIFIudGVzdCgvXnkvLCAneHl6Jyk7IC8vPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgdGVzdCA9IF9jdXJyeTIoZnVuY3Rpb24gdGVzdChwYXR0ZXJuLCBzdHIpIHtcbiAgICAgICAgaWYgKCFfaXNSZWdFeHAocGF0dGVybikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1xcdTIwMTh0ZXN0XFx1MjAxOSByZXF1aXJlcyBhIHZhbHVlIG9mIHR5cGUgUmVnRXhwIGFzIGl0cyBmaXJzdCBhcmd1bWVudDsgcmVjZWl2ZWQgJyArIHRvU3RyaW5nKHBhdHRlcm4pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2Nsb25lUmVnRXhwKHBhdHRlcm4pLnRlc3Qoc3RyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb3dlciBjYXNlIHZlcnNpb24gb2YgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAZnVuY1xuICAgICAqIEBtZW1iZXJPZiBSXG4gICAgICogQHNpbmNlIHYwLjkuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAc2lnIFN0cmluZyAtPiBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdHJpbmcgdG8gbG93ZXIgY2FzZS5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBsb3dlciBjYXNlIHZlcnNpb24gb2YgYHN0cmAuXG4gICAgICogQHNlZSBSLnRvVXBwZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgICBSLnRvTG93ZXIoJ1hZWicpOyAvLz0+ICd4eXonXG4gICAgICovXG4gICAgdmFyIHRvTG93ZXIgPSBpbnZva2VyKDAsICd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHVwcGVyIGNhc2UgdmVyc2lvbiBvZiBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBmdW5jXG4gICAgICogQG1lbWJlck9mIFJcbiAgICAgKiBAc2luY2UgdjAuOS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBzaWcgU3RyaW5nIC0+IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byB1cHBlciBjYXNlLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHVwcGVyIGNhc2UgdmVyc2lvbiBvZiBgc3RyYC5cbiAgICAgKiBAc2VlIFIudG9Mb3dlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIudG9VcHBlcignYWJjJyk7IC8vPT4gJ0FCQydcbiAgICAgKi9cbiAgICB2YXIgdG9VcHBlciA9IGludm9rZXIoMCwgJ3RvVXBwZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgY29uY2F0ZW5hdGluZyB0aGUgZ2l2ZW4gbGlzdHMgb3Igc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIERpc3BhdGNoZXMgdG8gdGhlIGBjb25jYXRgIG1ldGhvZCBvZiB0aGUgc2Vjb25kIGFyZ3VtZW50LCBpZiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQGZ1bmNcbiAgICAgKiBAbWVtYmVyT2YgUlxuICAgICAqIEBzaW5jZSB2MC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGlzdFxuICAgICAqIEBzaWcgW2FdIC0+IFthXSAtPiBbYV1cbiAgICAgKiBAc2lnIFN0cmluZyAtPiBTdHJpbmcgLT4gU3RyaW5nXG4gICAgICogQHBhcmFtIHtBcnJheXxTdHJpbmd9IGFcbiAgICAgKiBAcGFyYW0ge0FycmF5fFN0cmluZ30gYlxuICAgICAqIEByZXR1cm4ge0FycmF5fFN0cmluZ31cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAgICAgIFIuY29uY2F0KFtdLCBbXSk7IC8vPT4gW11cbiAgICAgKiAgICAgIFIuY29uY2F0KFs0LCA1LCA2XSwgWzEsIDIsIDNdKTsgLy89PiBbNCwgNSwgNiwgMSwgMiwgM11cbiAgICAgKiAgICAgIFIuY29uY2F0KCdBQkMnLCAnREVGJyk7IC8vICdBQkNERUYnXG4gICAgICovXG4gICAgdmFyIGNvbmNhdCA9IGZsaXAoaW52b2tlcigxLCAnY29uY2F0JykpO1xuXG4gICAgdmFyIFIgPSB7XG4gICAgICAgIEY6IEYsXG4gICAgICAgIFQ6IFQsXG4gICAgICAgIF9fOiBfXyxcbiAgICAgICAgYWRkOiBhZGQsXG4gICAgICAgIGFkZEluZGV4OiBhZGRJbmRleCxcbiAgICAgICAgYWRqdXN0OiBhZGp1c3QsXG4gICAgICAgIGFsbDogYWxsLFxuICAgICAgICBhbGxQYXNzOiBhbGxQYXNzLFxuICAgICAgICBhbGxVbmlxOiBhbGxVbmlxLFxuICAgICAgICBhbHdheXM6IGFsd2F5cyxcbiAgICAgICAgYW5kOiBhbmQsXG4gICAgICAgIGFueTogYW55LFxuICAgICAgICBhbnlQYXNzOiBhbnlQYXNzLFxuICAgICAgICBhcDogYXAsXG4gICAgICAgIGFwZXJ0dXJlOiBhcGVydHVyZSxcbiAgICAgICAgYXBwZW5kOiBhcHBlbmQsXG4gICAgICAgIGFwcGx5OiBhcHBseSxcbiAgICAgICAgYXNzb2M6IGFzc29jLFxuICAgICAgICBhc3NvY1BhdGg6IGFzc29jUGF0aCxcbiAgICAgICAgYmluYXJ5OiBiaW5hcnksXG4gICAgICAgIGJpbmQ6IGJpbmQsXG4gICAgICAgIGJvdGg6IGJvdGgsXG4gICAgICAgIGNhbGw6IGNhbGwsXG4gICAgICAgIGNoYWluOiBjaGFpbixcbiAgICAgICAgY2xvbmU6IGNsb25lLFxuICAgICAgICBjb21tdXRlOiBjb21tdXRlLFxuICAgICAgICBjb21tdXRlTWFwOiBjb21tdXRlTWFwLFxuICAgICAgICBjb21wYXJhdG9yOiBjb21wYXJhdG9yLFxuICAgICAgICBjb21wbGVtZW50OiBjb21wbGVtZW50LFxuICAgICAgICBjb21wb3NlOiBjb21wb3NlLFxuICAgICAgICBjb21wb3NlSzogY29tcG9zZUssXG4gICAgICAgIGNvbXBvc2VQOiBjb21wb3NlUCxcbiAgICAgICAgY29uY2F0OiBjb25jYXQsXG4gICAgICAgIGNvbmQ6IGNvbmQsXG4gICAgICAgIGNvbnN0cnVjdDogY29uc3RydWN0LFxuICAgICAgICBjb25zdHJ1Y3ROOiBjb25zdHJ1Y3ROLFxuICAgICAgICBjb250YWluczogY29udGFpbnMsXG4gICAgICAgIGNvbnRhaW5zV2l0aDogY29udGFpbnNXaXRoLFxuICAgICAgICBjb252ZXJnZTogY29udmVyZ2UsXG4gICAgICAgIGNvdW50Qnk6IGNvdW50QnksXG4gICAgICAgIGNyZWF0ZU1hcEVudHJ5OiBjcmVhdGVNYXBFbnRyeSxcbiAgICAgICAgY3Vycnk6IGN1cnJ5LFxuICAgICAgICBjdXJyeU46IGN1cnJ5TixcbiAgICAgICAgZGVjOiBkZWMsXG4gICAgICAgIGRlZmF1bHRUbzogZGVmYXVsdFRvLFxuICAgICAgICBkaWZmZXJlbmNlOiBkaWZmZXJlbmNlLFxuICAgICAgICBkaWZmZXJlbmNlV2l0aDogZGlmZmVyZW5jZVdpdGgsXG4gICAgICAgIGRpc3NvYzogZGlzc29jLFxuICAgICAgICBkaXNzb2NQYXRoOiBkaXNzb2NQYXRoLFxuICAgICAgICBkaXZpZGU6IGRpdmlkZSxcbiAgICAgICAgZHJvcDogZHJvcCxcbiAgICAgICAgZHJvcExhc3Q6IGRyb3BMYXN0LFxuICAgICAgICBkcm9wTGFzdFdoaWxlOiBkcm9wTGFzdFdoaWxlLFxuICAgICAgICBkcm9wUmVwZWF0czogZHJvcFJlcGVhdHMsXG4gICAgICAgIGRyb3BSZXBlYXRzV2l0aDogZHJvcFJlcGVhdHNXaXRoLFxuICAgICAgICBkcm9wV2hpbGU6IGRyb3BXaGlsZSxcbiAgICAgICAgZWl0aGVyOiBlaXRoZXIsXG4gICAgICAgIGVtcHR5OiBlbXB0eSxcbiAgICAgICAgZXFCeTogZXFCeSxcbiAgICAgICAgZXFQcm9wczogZXFQcm9wcyxcbiAgICAgICAgZXF1YWxzOiBlcXVhbHMsXG4gICAgICAgIGV2b2x2ZTogZXZvbHZlLFxuICAgICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgICAgZmluZDogZmluZCxcbiAgICAgICAgZmluZEluZGV4OiBmaW5kSW5kZXgsXG4gICAgICAgIGZpbmRMYXN0OiBmaW5kTGFzdCxcbiAgICAgICAgZmluZExhc3RJbmRleDogZmluZExhc3RJbmRleCxcbiAgICAgICAgZmxhdHRlbjogZmxhdHRlbixcbiAgICAgICAgZmxpcDogZmxpcCxcbiAgICAgICAgZm9yRWFjaDogZm9yRWFjaCxcbiAgICAgICAgZnJvbVBhaXJzOiBmcm9tUGFpcnMsXG4gICAgICAgIGZ1bmN0aW9uczogZnVuY3Rpb25zLFxuICAgICAgICBmdW5jdGlvbnNJbjogZnVuY3Rpb25zSW4sXG4gICAgICAgIGdyb3VwQnk6IGdyb3VwQnksXG4gICAgICAgIGd0OiBndCxcbiAgICAgICAgZ3RlOiBndGUsXG4gICAgICAgIGhhczogaGFzLFxuICAgICAgICBoYXNJbjogaGFzSW4sXG4gICAgICAgIGhlYWQ6IGhlYWQsXG4gICAgICAgIGlkZW50aWNhbDogaWRlbnRpY2FsLFxuICAgICAgICBpZGVudGl0eTogaWRlbnRpdHksXG4gICAgICAgIGlmRWxzZTogaWZFbHNlLFxuICAgICAgICBpbmM6IGluYyxcbiAgICAgICAgaW5kZXhPZjogaW5kZXhPZixcbiAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgaW5zZXJ0OiBpbnNlcnQsXG4gICAgICAgIGluc2VydEFsbDogaW5zZXJ0QWxsLFxuICAgICAgICBpbnRlcnNlY3Rpb246IGludGVyc2VjdGlvbixcbiAgICAgICAgaW50ZXJzZWN0aW9uV2l0aDogaW50ZXJzZWN0aW9uV2l0aCxcbiAgICAgICAgaW50ZXJzcGVyc2U6IGludGVyc3BlcnNlLFxuICAgICAgICBpbnRvOiBpbnRvLFxuICAgICAgICBpbnZlcnQ6IGludmVydCxcbiAgICAgICAgaW52ZXJ0T2JqOiBpbnZlcnRPYmosXG4gICAgICAgIGludm9rZXI6IGludm9rZXIsXG4gICAgICAgIGlzOiBpcyxcbiAgICAgICAgaXNBcnJheUxpa2U6IGlzQXJyYXlMaWtlLFxuICAgICAgICBpc0VtcHR5OiBpc0VtcHR5LFxuICAgICAgICBpc05pbDogaXNOaWwsXG4gICAgICAgIGlzU2V0OiBpc1NldCxcbiAgICAgICAgam9pbjogam9pbixcbiAgICAgICAga2V5czoga2V5cyxcbiAgICAgICAga2V5c0luOiBrZXlzSW4sXG4gICAgICAgIGxhc3Q6IGxhc3QsXG4gICAgICAgIGxhc3RJbmRleE9mOiBsYXN0SW5kZXhPZixcbiAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICAgIGxlbnM6IGxlbnMsXG4gICAgICAgIGxlbnNJbmRleDogbGVuc0luZGV4LFxuICAgICAgICBsZW5zUHJvcDogbGVuc1Byb3AsXG4gICAgICAgIGxpZnQ6IGxpZnQsXG4gICAgICAgIGxpZnROOiBsaWZ0TixcbiAgICAgICAgbHQ6IGx0LFxuICAgICAgICBsdGU6IGx0ZSxcbiAgICAgICAgbWFwOiBtYXAsXG4gICAgICAgIG1hcEFjY3VtOiBtYXBBY2N1bSxcbiAgICAgICAgbWFwQWNjdW1SaWdodDogbWFwQWNjdW1SaWdodCxcbiAgICAgICAgbWFwT2JqOiBtYXBPYmosXG4gICAgICAgIG1hcE9iakluZGV4ZWQ6IG1hcE9iakluZGV4ZWQsXG4gICAgICAgIG1hdGNoOiBtYXRjaCxcbiAgICAgICAgbWF0aE1vZDogbWF0aE1vZCxcbiAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgIG1heEJ5OiBtYXhCeSxcbiAgICAgICAgbWVhbjogbWVhbixcbiAgICAgICAgbWVkaWFuOiBtZWRpYW4sXG4gICAgICAgIG1lbW9pemU6IG1lbW9pemUsXG4gICAgICAgIG1lcmdlOiBtZXJnZSxcbiAgICAgICAgbWVyZ2VBbGw6IG1lcmdlQWxsLFxuICAgICAgICBtaW46IG1pbixcbiAgICAgICAgbWluQnk6IG1pbkJ5LFxuICAgICAgICBtb2R1bG86IG1vZHVsbyxcbiAgICAgICAgbXVsdGlwbHk6IG11bHRpcGx5LFxuICAgICAgICBuQXJ5OiBuQXJ5LFxuICAgICAgICBuZWdhdGU6IG5lZ2F0ZSxcbiAgICAgICAgbm9uZTogbm9uZSxcbiAgICAgICAgbm90OiBub3QsXG4gICAgICAgIG50aDogbnRoLFxuICAgICAgICBudGhBcmc6IG50aEFyZyxcbiAgICAgICAgb2JqT2Y6IG9iak9mLFxuICAgICAgICBvZjogb2YsXG4gICAgICAgIG9taXQ6IG9taXQsXG4gICAgICAgIG9uY2U6IG9uY2UsXG4gICAgICAgIG9yOiBvcixcbiAgICAgICAgb3Zlcjogb3ZlcixcbiAgICAgICAgcGFpcjogcGFpcixcbiAgICAgICAgcGFydGlhbDogcGFydGlhbCxcbiAgICAgICAgcGFydGlhbFJpZ2h0OiBwYXJ0aWFsUmlnaHQsXG4gICAgICAgIHBhcnRpdGlvbjogcGFydGl0aW9uLFxuICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICBwYXRoRXE6IHBhdGhFcSxcbiAgICAgICAgcGF0aE9yOiBwYXRoT3IsXG4gICAgICAgIHBpY2s6IHBpY2ssXG4gICAgICAgIHBpY2tBbGw6IHBpY2tBbGwsXG4gICAgICAgIHBpY2tCeTogcGlja0J5LFxuICAgICAgICBwaXBlOiBwaXBlLFxuICAgICAgICBwaXBlSzogcGlwZUssXG4gICAgICAgIHBpcGVQOiBwaXBlUCxcbiAgICAgICAgcGx1Y2s6IHBsdWNrLFxuICAgICAgICBwcmVwZW5kOiBwcmVwZW5kLFxuICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LFxuICAgICAgICBwcm9qZWN0OiBwcm9qZWN0LFxuICAgICAgICBwcm9wOiBwcm9wLFxuICAgICAgICBwcm9wRXE6IHByb3BFcSxcbiAgICAgICAgcHJvcElzOiBwcm9wSXMsXG4gICAgICAgIHByb3BPcjogcHJvcE9yLFxuICAgICAgICBwcm9wU2F0aXNmaWVzOiBwcm9wU2F0aXNmaWVzLFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIHJhbmdlOiByYW5nZSxcbiAgICAgICAgcmVkdWNlOiByZWR1Y2UsXG4gICAgICAgIHJlZHVjZVJpZ2h0OiByZWR1Y2VSaWdodCxcbiAgICAgICAgcmVkdWNlZDogcmVkdWNlZCxcbiAgICAgICAgcmVqZWN0OiByZWplY3QsXG4gICAgICAgIHJlbW92ZTogcmVtb3ZlLFxuICAgICAgICByZXBlYXQ6IHJlcGVhdCxcbiAgICAgICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICAgICAgcmV2ZXJzZTogcmV2ZXJzZSxcbiAgICAgICAgc2Nhbjogc2NhbixcbiAgICAgICAgc2V0OiBzZXQsXG4gICAgICAgIHNsaWNlOiBzbGljZSxcbiAgICAgICAgc29ydDogc29ydCxcbiAgICAgICAgc29ydEJ5OiBzb3J0QnksXG4gICAgICAgIHNwbGl0OiBzcGxpdCxcbiAgICAgICAgc3BsaXRFdmVyeTogc3BsaXRFdmVyeSxcbiAgICAgICAgc3VidHJhY3Q6IHN1YnRyYWN0LFxuICAgICAgICBzdW06IHN1bSxcbiAgICAgICAgdGFpbDogdGFpbCxcbiAgICAgICAgdGFrZTogdGFrZSxcbiAgICAgICAgdGFrZUxhc3Q6IHRha2VMYXN0LFxuICAgICAgICB0YWtlTGFzdFdoaWxlOiB0YWtlTGFzdFdoaWxlLFxuICAgICAgICB0YWtlV2hpbGU6IHRha2VXaGlsZSxcbiAgICAgICAgdGFwOiB0YXAsXG4gICAgICAgIHRlc3Q6IHRlc3QsXG4gICAgICAgIHRpbWVzOiB0aW1lcyxcbiAgICAgICAgdG9Mb3dlcjogdG9Mb3dlcixcbiAgICAgICAgdG9QYWlyczogdG9QYWlycyxcbiAgICAgICAgdG9QYWlyc0luOiB0b1BhaXJzSW4sXG4gICAgICAgIHRvU3RyaW5nOiB0b1N0cmluZyxcbiAgICAgICAgdG9VcHBlcjogdG9VcHBlcixcbiAgICAgICAgdHJhbnNkdWNlOiB0cmFuc2R1Y2UsXG4gICAgICAgIHRyaW06IHRyaW0sXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIHVuYXBwbHk6IHVuYXBwbHksXG4gICAgICAgIHVuYXJ5OiB1bmFyeSxcbiAgICAgICAgdW5jdXJyeU46IHVuY3VycnlOLFxuICAgICAgICB1bmZvbGQ6IHVuZm9sZCxcbiAgICAgICAgdW5pb246IHVuaW9uLFxuICAgICAgICB1bmlvbldpdGg6IHVuaW9uV2l0aCxcbiAgICAgICAgdW5pcTogdW5pcSxcbiAgICAgICAgdW5pcUJ5OiB1bmlxQnksXG4gICAgICAgIHVuaXFXaXRoOiB1bmlxV2l0aCxcbiAgICAgICAgdW5sZXNzOiB1bmxlc3MsXG4gICAgICAgIHVubmVzdDogdW5uZXN0LFxuICAgICAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICAgICAgdXNlV2l0aDogdXNlV2l0aCxcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgIHZhbHVlc0luOiB2YWx1ZXNJbixcbiAgICAgICAgdmlldzogdmlldyxcbiAgICAgICAgd2hlbjogd2hlbixcbiAgICAgICAgd2hlcmU6IHdoZXJlLFxuICAgICAgICB3aGVyZUVxOiB3aGVyZUVxLFxuICAgICAgICB3cmFwOiB3cmFwLFxuICAgICAgICB4cHJvZDogeHByb2QsXG4gICAgICAgIHppcDogemlwLFxuICAgICAgICB6aXBPYmo6IHppcE9iaixcbiAgICAgICAgemlwV2l0aDogemlwV2l0aFxuICAgIH07XG5cbiAgLyogVEVTVF9FTlRSWV9QT0lOVCAqL1xuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gUjsgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5SID0gUjtcbiAgfVxuXG59LmNhbGwodGhpcykpO1xuIiwiXG5pbXBvcnQgUmVuZGVySGVscGVyIGZyb20gJy4uL2hlbHBlcnMvcmVuZGVyJztcbmltcG9ydCBBbmltYXRpb25IZWxwZXIgZnJvbSAnLi4vaGVscGVycy9hbmltYXRvcic7XG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkLCBnZXRMaW5lRGFzaEFycmF5LCBpbnRUb0hleENvbG9yU3RyaW5nfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBsb3RVbml0KSB7XG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XG5cblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcblxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBnaG9zdEN0eCA9IHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eDtcblxuXHR2YXIgYXhpc1hQcm9wcyA9IHBsb3RVbml0LmF4aXNYLmxpbmVDb29yZGluYXRlcztcblx0dmFyIGF4aXNZUHJvcHMgPSBwbG90VW5pdC5heGlzWS5saW5lQ29vcmRpbmF0ZXM7XG5cdHZhciBtYXJrZXJzID0gW107XG5cblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblx0Y3R4LnNhdmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0Z2hvc3RDdHguc2F2ZSgpO1xuXG5cdGN0eC5iZWdpblBhdGgoKTtcblx0Y3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0Y3R4LmNsaXAoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRnaG9zdEN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdFx0Z2hvc3RDdHguY2xpcCgpO1xuXHR9XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xuXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcblxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xuXG5cdFx0dmFyIHNlcmllc0lkID0gZGF0YVNlcmllcy5pZDtcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW3Nlcmllc0lkXSA9IHtcblx0XHRcdG9iamVjdFR5cGU6IFwiZGF0YVNlcmllc1wiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleFxuXHRcdH07XG5cblx0XHR2YXIgaGV4Q29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKHNlcmllc0lkKTtcblx0XHRnaG9zdEN0eC5maWxsU3R5bGUgPSBoZXhDb2xvcjtcblx0XHQvL2dob3N0Q3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcztcblx0XHQvL2dob3N0Q3R4LmxpbmVXaWR0aCA9IDIwO1xuXG5cdFx0bWFya2VycyA9IFtdO1xuXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcblx0XHR2YXIgaSA9IDAsIHgsIHk7XG5cdFx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBiYWNrIGFuZCBmb3J0aC5cblxuXHRcdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXHRcdHZhciBiYXNlWTtcblxuXHRcdHZhciBzdGFydFBvaW50ID0gbnVsbDtcblxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vY3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xuXHRcdFx0dmFyIGNvbG9yID0gZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XG5cdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IFwicmVkXCI7XG5cdFx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcblx0XHRcdGN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XG5cblx0XHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcblx0XHRcdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkoZGF0YVNlcmllcy5saW5lRGFzaFR5cGUsIGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcykpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcHJldkRhdGFOdWxsID0gdHJ1ZTtcblx0XHRcdGZvciAoOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludHNbaV0ueSkgIT09IFwibnVtYmVyXCIpIHtcblx0XHRcdFx0XHRjbG9zZUFyZWEoKTtcblxuXHRcdFx0XHRcdHByZXZEYXRhTnVsbCA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0eSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblxuXHRcdFx0XHRpZiAoaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgfHwgcHJldkRhdGFOdWxsKSB7XG5cdFx0XHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0XHRcdGN0eC5tb3ZlVG8oeCwgeSk7XG5cdFx0XHRcdFx0c3RhcnRQb2ludCA9IHtcblx0XHRcdFx0XHRcdHg6IHgsIHk6IHlcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IGZhbHNlO1xuXHRcdFx0XHRcdHByZXZEYXRhTnVsbCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4LCB5KTtcblxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4LCB5KTtcblxuXHRcdFx0XHRcdGlmIChpICUgMjUwID09IDApIHtcblx0XHRcdFx0XHRcdGNsb3NlQXJlYSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeCwgeTE6IHlcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvL1JlbmRlciBNYXJrZXJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSAhPT0gMCkge1xuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgPiAwIHx8IGRhdGFTZXJpZXMubWFya2VyU2l6ZSA+IDApIHtcblx0XHRcdFx0XHRcdHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCB4LCB5LCBjdHgpO1xuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlclByb3BzKTtcblxuXHRcdFx0XHRcdFx0Ly9pZiAoIWRhdGFTZXJpZXMubWF4V2lkdGhJblggfHwgbWFya2VyUHJvcHMuc2l6ZSA+IGRhdGFTZXJpZXMubWF4V2lkdGhJblgpIHtcblx0XHRcdFx0XHRcdC8vXHRkYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gbWFya2VyUHJvcHMuc2l6ZSAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XG5cdFx0XHRcdFx0XHQvL31cblxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlckNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XG5cblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHksIGN0eDogZ2hvc3RDdHgsXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogbWFya2VyUHJvcHMudHlwZSxcblx0XHRcdFx0XHRcdFx0XHRzaXplOiBtYXJrZXJQcm9wcy5zaXplLFxuXHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBtYXJrZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJDb2xvcjogbWFya2VyQ29sb3IsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3Ncblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xuXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwiYXJlYVwiLFxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcblx0XHRcdFx0XHRcdHBvaW50OiB7XG5cdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHlcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjbG9zZUFyZWEoKTtcblxuXHRcdFx0Ly9zdGFydFBvaW50ID0geyB4OiB4LCB5OiB5IH07XG5cdFx0XHRSZW5kZXJIZWxwZXIuZHJhd01hcmtlcnMobWFya2Vycyk7XG5cdFx0fVxuXHR9XG5cblx0Y3R4LnJlc3RvcmUoKTtcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZXN0b3JlKCk7XG5cblx0ZnVuY3Rpb24gY2xvc2VBcmVhKCkge1xuXG5cdFx0aWYgKCFzdGFydFBvaW50KVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0aWYgKGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcyA+IDApXG5cdFx0XHRjdHguc3Ryb2tlKCk7XG5cblx0XHRpZiAocGxvdFVuaXQuYXhpc1kudmlld3BvcnRNaW5pbXVtIDw9IDAgJiYgcGxvdFVuaXQuYXhpc1kudmlld3BvcnRNYXhpbXVtID49IDApIHtcblx0XHRcdGJhc2VZID0geVplcm9Ub1BpeGVsO1xuXHRcdH1cblx0XHRlbHNlIGlmIChwbG90VW5pdC5heGlzWS52aWV3cG9ydE1heGltdW0gPCAwKVxuXHRcdFx0YmFzZVkgPSBheGlzWVByb3BzLnkxO1xuXHRcdGVsc2UgaWYgKHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWluaW11bSA+IDApXG5cdFx0XHRiYXNlWSA9IGF4aXNYUHJvcHMueTI7XG5cblx0XHRjdHgubGluZVRvKHgsIGJhc2VZKTtcblx0XHRjdHgubGluZVRvKHN0YXJ0UG9pbnQueCwgYmFzZVkpO1xuXHRcdGN0eC5jbG9zZVBhdGgoKTtcblxuXHRcdGN0eC5nbG9iYWxBbHBoYSA9IGRhdGFTZXJpZXMuZmlsbE9wYWNpdHk7XG5cdFx0Y3R4LmZpbGwoKTtcblx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG5cdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRnaG9zdEN0eC5saW5lVG8oeCwgYmFzZVkpO1xuXHRcdFx0Z2hvc3RDdHgubGluZVRvKHN0YXJ0UG9pbnQueCwgYmFzZVkpO1xuXHRcdFx0Z2hvc3RDdHguY2xvc2VQYXRoKCk7XG5cdFx0XHRnaG9zdEN0eC5maWxsKCk7XG5cdFx0fVxuXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5tb3ZlVG8oeCwgeSk7XG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0Z2hvc3RDdHgubW92ZVRvKHgsIHkpO1xuXG5cdFx0c3RhcnRQb2ludCA9IHtcblx0XHRcdHg6IHgsIHk6IHlcblx0XHR9O1xuXHR9XG5cblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueENsaXBBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmxpbmVhciwgYW5pbWF0aW9uQmFzZTogMFxuXHR9O1xuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcbn1cbiIsIlxuaW1wb3J0IEFuaW1hdGlvbkhlbHBlciBmcm9tICcuLi9oZWxwZXJzL2FuaW1hdG9yJztcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWQsIGRyYXdSZWN0LCBpbnRUb0hleENvbG9yU3RyaW5nfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBsb3RVbml0KSB7XG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XG5cblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxuXHRcdHJldHVybjtcblxuXHR2YXIgY29sb3IgPSBudWxsO1xuXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG5cblx0dmFyIGkgPSAwLCB4LCB5O1xuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGZyb20gZGF0YVRpbWUgZXZlcnl0aW1lIGl0IGlzIHVzZWQuXG5cblx0Ly9JbiBjYXNlIG9mIEJhciBDaGFydCwgeVplcm9Ub1BpeGVsIGlzIHggY28tb3JkaW5hdGUhXG5cdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSkgPDwgMDtcblxuXHR2YXIgbWF4QmFyV2lkdGggPSB0aGlzLmRhdGFQb2ludE1heFdpZHRoID8gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA6IE1hdGgubWluKCh0aGlzLmhlaWdodCAqIC4xNSksIHRoaXMucGxvdEFyZWEuaGVpZ2h0IC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XG5cdC8vdmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEuaGVpZ2h0IC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gdG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XG5cblx0dmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEuaGVpZ2h0IC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XG5cblx0aWYgKGJhcldpZHRoID4gbWF4QmFyV2lkdGgpXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcblx0ZWxzZSBpZiAoeE1pbkRpZmYgPT09IEluZmluaXR5KSB7XG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aCAvIHBsb3RVbml0LnBsb3RUeXBlLnRvdGFsRGF0YVNlcmllcyAqIC45O1xuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcblx0XHRiYXJXaWR0aCA9IDE7XG5cblx0Y3R4LnNhdmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHguY2xpcCgpO1xuXHR9XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xuXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xuXG5cblx0XHQvL2RhdGFTZXJpZXMubWF4V2lkdGhJblggPSBiYXJXaWR0aCAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XG5cblxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XG5cblx0XHRcdHZhciBiZXZlbEVuYWJsZWQgPSAoYmFyV2lkdGggPiA1KSAmJiBkYXRhU2VyaWVzLmJldmVsRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcblxuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGRhdGFQb2ludHNbaV0uZ2V0VGltZSA/IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpIDogZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueDtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHR5cGVvZiAoZGF0YVBvaW50c1tpXS55KSAhPT0gXCJudW1iZXJcIilcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHQvL3ggYW5kIHkgYXJlIHBpeGVsIGNvLW9yZGluYXRlcyBvZiBwb2ludCBhbmQgc2hvdWxkIG5vdCBiZSBjb25mdXNlZCB3aXRoIFggYW5kIFkgdmFsdWVzXG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnkgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXG5cblx0XHRcdFx0dmFyIHkxID0gKHkgLSAocGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogYmFyV2lkdGggLyAyKSArICgocGxvdFVuaXQucHJldmlvdXNEYXRhU2VyaWVzQ291bnQgKyBqKSAqIGJhcldpZHRoKSkgPDwgMDtcblx0XHRcdFx0dmFyIHkyID0geTEgKyBiYXJXaWR0aCA8PCAwO1xuXHRcdFx0XHR2YXIgeDE7XG5cdFx0XHRcdHZhciB4MjtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS55ID49IDApIHtcblx0XHRcdFx0XHR4MSA9IHlaZXJvVG9QaXhlbDtcblx0XHRcdFx0XHR4MiA9IHg7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eDEgPSB4O1xuXHRcdFx0XHRcdHgyID0geVplcm9Ub1BpeGVsO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9kcmF3UmVjdChjdHgsIHgxLCB5MSwgcGxvdEFyZWEueDIsIHkyLCBcIiNFRUVFRUVcIiwgMCwgbnVsbCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuXHRcdFx0XHQvL2RyYXdSZWN0KGN0eCwgeDEsIHkxLCBwbG90QXJlYS54MiwgeTIsIFwiI0JEQ0VEM1wiLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cblx0XHRcdFx0Y29sb3IgPSBkYXRhUG9pbnRzW2ldLmNvbG9yID8gZGF0YVBvaW50c1tpXS5jb2xvciA6IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuXHRcdFx0XHQvL2NvbG9yID0gXCIjMUI0OTYyXCI7XG5cdFx0XHRcdGRyYXdSZWN0KGN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBiZXZlbEVuYWJsZWQsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGRhdGFTZXJpZXMuZmlsbE9wYWNpdHkpO1xuXG5cblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTJcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcblxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0ZHJhd1JlY3QodGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKVxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcImJhclwiLFxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcblx0XHRcdFx0XHRcdHBvaW50OiB7XG5cdFx0XHRcdFx0XHRcdHg6IGRhdGFQb2ludHNbaV0ueSA+PSAwID8geDIgOiB4MSwgeTogeTEgKyAoeTIgLSB5MSkgLyAyXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IDEgOiAtMSxcblx0XHRcdFx0XHRcdGJvdW5kczoge1xuXHRcdFx0XHRcdFx0XHR4MTogTWF0aC5taW4oeDEsIHgyKSwgeTE6IHkxLCB4MjogTWF0aC5tYXgoeDEsIHgyKSwgeTI6IHkyXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y3R4LnJlc3RvcmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcblxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXG5cdHZhciBhbmltYXRpb25CYXNlID0gTWF0aC5tYXgoeVplcm9Ub1BpeGVsLCBwbG90VW5pdC5heGlzWC5ib3VuZGluZ1JlY3QueDIpO1xuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueFNjYWxlQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5lYXNlT3V0UXVhcnQsIGFuaW1hdGlvbkJhc2U6IGFuaW1hdGlvbkJhc2Vcblx0fTtcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG59XG4iLCJcbmltcG9ydCBSZW5kZXJIZWxwZXIgZnJvbSAnLi4vaGVscGVycy9yZW5kZXInO1xuaW1wb3J0IEFuaW1hdGlvbkhlbHBlciBmcm9tICcuLi9oZWxwZXJzL2FuaW1hdG9yJztcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWQsIGludFRvSGV4Q29sb3JTdHJpbmd9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcblxuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xuXG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XG5cblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxuXHRcdHJldHVybjtcblxuXHR2YXIgY29sb3IgPSBudWxsO1xuXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG5cblx0dmFyIGkgPSAwLCB4LCB5O1xuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGZyb20gZGF0YVRpbWUgZXZlcnl0aW1lIGl0IGlzIHVzZWQuXG5cblx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKSA8PCAwO1xuXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogdGhpcy53aWR0aCAqIC4xNSA8PCAwO1xuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xuXHR2YXIgYmFyV2lkdGggPSAoKChwbG90QXJlYS53aWR0aCAvIE1hdGguYWJzKHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWluaW11bSkpICogTWF0aC5hYnMoeE1pbkRpZmYpKSAvIHRvdGFsRGF0YVNlcmllcyAqIC45KSA8PCAwO1xuXG5cblx0Y3R4LnNhdmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHguY2xpcCgpO1xuXHR9XG5cblx0dmFyIG1heFogPSAtSW5maW5pdHk7XG5cdHZhciBtaW5aID0gSW5maW5pdHk7XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XG5cdFx0dmFyIHogPSAwO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLmdldFRpbWUgPyBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLng7XG5cblx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnopICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cblx0XHRcdFx0eiA9IGRhdGFQb2ludHNbaV0uejtcblxuXHRcdFx0XHRpZiAoeiA+IG1heFopXG5cdFx0XHRcdFx0bWF4WiA9IHo7XG5cblx0XHRcdFx0aWYgKHogPCBtaW5aKVxuXHRcdFx0XHRcdG1pblogPSB6O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHZhciBtaW5BcmVhID0gTWF0aC5QSSAqIDUgKiA1O1xuXHR2YXIgbWF4QXJlYSA9IE1hdGgubWF4KE1hdGgucG93KE1hdGgubWluKHBsb3RBcmVhLmhlaWdodCwgcGxvdEFyZWEud2lkdGgpICogLjI1IC8gMiwgMikgKiBNYXRoLlBJLCBtaW5BcmVhKTtcblxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XG5cblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XG5cblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XG5cblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPT0gMSlcblx0XHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGg7XG5cblx0XHRpZiAoYmFyV2lkdGggPCAxKVxuXHRcdFx0YmFyV2lkdGggPSAxO1xuXHRcdGVsc2UgaWYgKGJhcldpZHRoID4gbWF4QmFyV2lkdGgpXG5cdFx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xuXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xuXHRcdFx0Ly92YXIgeHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPblBsb3RBcmVhKGRhdGFQb2ludHNbMF0ueCwgZGF0YVBvaW50c1swXS55KTtcblx0XHRcdC8vdmFyIGJldmVsRW5hYmxlZCA9IChiYXJXaWR0aCA+IDUpID8gZmFsc2UgOiBmYWxzZTtcblxuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xuXG5cblxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0uZ2V0VGltZSA/IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpIDogZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueDtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHR5cGVvZiAoZGF0YVBvaW50c1tpXS55KSAhPT0gXCJudW1iZXJcIilcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0eSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblxuXHRcdFx0XHR2YXIgeiA9IGRhdGFQb2ludHNbaV0uejtcblxuXHRcdFx0XHR2YXIgYXJlYSA9IChtYXhaID09PSBtaW5aKSA/IG1heEFyZWEgLyAyIDogbWluQXJlYSArIChtYXhBcmVhIC0gbWluQXJlYSkgLyAobWF4WiAtIG1pblopICogKHogLSBtaW5aKTtcblx0XHRcdFx0dmFyIHJhZGl1cyA9IE1hdGgubWF4KE1hdGguc3FydChhcmVhIC8gTWF0aC5QSSkgPDwgMCwgMSk7XG5cblx0XHRcdFx0dmFyIG1hcmtlclNpemUgPSByYWRpdXMgKiAyO1xuXHRcdFx0XHR2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaSwgY3R4KTtcblx0XHRcdFx0bWFya2VyUHJvcHMuc2l6ZSA9IG1hcmtlclNpemU7XG5cblxuXHRcdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5O1xuXHRcdFx0XHRSZW5kZXJIZWxwZXIuZHJhd01hcmtlcih4LCB5LCBjdHgsIG1hcmtlclByb3BzLnR5cGUsIG1hcmtlclByb3BzLnNpemUsIG1hcmtlclByb3BzLmNvbG9yLCBtYXJrZXJQcm9wcy5ib3JkZXJDb2xvciwgbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzKTtcblx0XHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcblxuXHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tpXTtcblx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XG5cdFx0XHRcdFx0aWQ6IGlkLCBvYmplY3RUeXBlOiBcImRhdGFQb2ludFwiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleCwgZGF0YVBvaW50SW5kZXg6IGksIHgxOiB4LCB5MTogeSwgc2l6ZTogbWFya2VyU2l6ZVxuXHRcdFx0XHR9O1xuXHRcdFx0XHR2YXIgbWFya2VyQ29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcblx0XHRcdFx0Ly9SZW5kZXJIZWxwZXIuZHJhd01hcmtlcih4LCB5LCB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgsIG1hcmtlclR5cGUsIG1hcmtlclNpemUsIG1hcmtlckNvbG9yLCBtYXJrZXJDb2xvciwgZGF0YVNlcmllcy5tYXJrZXJCb3JkZXJUaGlja25lc3MpO1xuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0UmVuZGVySGVscGVyLmRyYXdNYXJrZXIoeCwgeSwgdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LCBtYXJrZXJQcm9wcy50eXBlLCBtYXJrZXJQcm9wcy5zaXplLCBtYXJrZXJDb2xvciwgbWFya2VyQ29sb3IsIG1hcmtlclByb3BzLmJvcmRlclRoaWNrbmVzcyk7XG5cblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XG5cblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJidWJibGVcIixcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiAxLFxuXHRcdFx0XHRcdFx0Ym91bmRzOiB7XG5cdFx0XHRcdFx0XHRcdHgxOiB4IC0gbWFya2VyUHJvcHMuc2l6ZSAvIDIsIHkxOiB5IC0gbWFya2VyUHJvcHMuc2l6ZSAvIDIsIHgyOiB4ICsgbWFya2VyUHJvcHMuc2l6ZSAvIDIsIHkyOiB5ICsgbWFya2VyUHJvcHMuc2l6ZSAvIDJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3Jcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGN0eC5yZXN0b3JlKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZXN0b3JlKCk7XG5cblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIuZmFkZUluQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5lYXNlSW5RdWFkLCBhbmltYXRpb25CYXNlOiAwXG5cdH07XG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xufVxuIiwiXG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBsb3RVbml0KSB7XG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XG5cdHZhciBnaG9zdEN0eCA9IHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eDtcblxuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBjb2xvciA9IG51bGw7XG5cblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblxuXHR2YXIgaSA9IDAsIHgsIHkxLCB5MiwgeTMsIHk0O1xuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGZyb20gZGF0YVRpbWUgZXZlcnl0aW1lIGl0IGlzIHVzZWQuXG5cblx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKSA8PCAwO1xuXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogKHRoaXMud2lkdGggKiAuMDE1KTtcblx0dmFyIHhNaW5EaWZmID0gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8ubWluRGlmZjtcblx0dmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEud2lkdGggLyBNYXRoLmFicyhwbG90VW5pdC5heGlzWC52aWV3cG9ydE1heGltdW0gLSBwbG90VW5pdC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKHhNaW5EaWZmKSkgKiAuNykgPDwgMDtcblxuXHRpZiAoYmFyV2lkdGggPiBtYXhCYXJXaWR0aClcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xuXHRlbHNlIGlmICh4TWluRGlmZiA9PT0gSW5maW5pdHkpIHtcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcblx0XHRiYXJXaWR0aCA9IDE7XG5cblx0Y3R4LnNhdmUoKTtcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdGdob3N0Q3R4LnNhdmUoKTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0Z2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRcdGdob3N0Q3R4LmNsaXAoKTtcblx0fVxuXHQvL2N0eC5iZWdpblBhdGgoKTtcblxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XG5cblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XG5cblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XG5cblxuXHRcdC8vIFJlZHVjaW5nIHBpeGVsUGVyVW5pdCBieSAxIGp1c3QgdG8gb3ZlcmNvbWUgYW55IHByb2JsZW1zIGR1ZSB0byByb3VuZGluZyBvZmYgb2YgcGl4ZWxzLlxuXHRcdC8vZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IGJhcldpZHRoIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcblxuXHRcdC8vdmFyIG9mZnNldFggPSBiYXJXaWR0aCAqIHBsb3RVbml0LmluZGV4IDw8IDA7XG5cblxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XG5cblx0XHRcdHZhciBiZXZlbEVuYWJsZWQgPSAoYmFyV2lkdGggPiA1KSAmJiBkYXRhU2VyaWVzLmJldmVsRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcblxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRkYXRhUG9pbnRzW2ldLmdldFRpbWUgPyBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLng7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLnkgPT09IG51bGwgfHwgIWRhdGFQb2ludHNbaV0ueS5sZW5ndGhcblx0XHRcdFx0XHR8fCB0eXBlb2YgKGRhdGFQb2ludHNbaV0ueVswXSkgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIChkYXRhUG9pbnRzW2ldLnlbMV0pICE9PSBcIm51bWJlclwiXG5cdFx0XHRcdFx0fHwgdHlwZW9mIChkYXRhUG9pbnRzW2ldLnlbMl0pICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiAoZGF0YVBvaW50c1tpXS55WzNdKSAhPT0gXCJudW1iZXJcIilcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0eTEgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueVswXSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cdFx0XHRcdHkyID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnlbMV0gLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXG5cdFx0XHRcdHkzID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnlbMl0gLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXHRcdFx0XHR5NCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55WzNdIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblxuXHRcdFx0XHR2YXIgeDEgPSAoeCAtIGJhcldpZHRoIC8gMikgPDwgMDtcblx0XHRcdFx0dmFyIHgyID0gKHgxICsgYmFyV2lkdGgpIDw8IDA7XG5cblxuXHRcdFx0XHRjb2xvciA9IGRhdGFQb2ludHNbaV0uY29sb3IgPyBkYXRhUG9pbnRzW2ldLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbMF07XG5cblxuXHRcdFx0XHQvL3ZhciBib3JkZXJUaGlja25lc3MgPSBNYXRoLm1heCgyLCAoKGJhcldpZHRoICogLjEpIC8gMiA8PCAwKSAqIDIpOyAvLyBTZXQgb25seSBldmVuIG51bWJlcnMgZm9yIGJvcmRlclxuXHRcdFx0XHR2YXIgYm9yZGVyVGhpY2tuZXNzID0gTWF0aC5yb3VuZChNYXRoLm1heCgxLCAoYmFyV2lkdGggKiAuMTUpKSk7XG5cdFx0XHRcdC8vYm9yZGVyVGhpY2tuZXNzID0gKGJvcmRlclRoaWNrbmVzcyAvIDIgPDwgMCkgKiAyO1xuXHRcdFx0XHQvL2JvcmRlclRoaWNrbmVzcyA9IDI7XG5cdFx0XHRcdHZhciBvZmZzZXQgPSBib3JkZXJUaGlja25lc3MgJSAyID09PSAwID8gMCA6IC41O1xuXG5cblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTIsXG5cdFx0XHRcdFx0eDM6IHgsIHkzOiB5MywgeDQ6IHgsIHk0OiB5NCwgYm9yZGVyVGhpY2tuZXNzOiBib3JkZXJUaGlja25lc3MsIGNvbG9yOiBjb2xvclxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuXHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdGN0eC5saW5lV2lkdGggPSBib3JkZXJUaGlja25lc3M7XG5cdFx0XHRcdGdob3N0Q3R4LmxpbmVXaWR0aCA9IE1hdGgubWF4KGJvcmRlclRoaWNrbmVzcywgNCk7XG5cblx0XHRcdFx0aWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJjYW5kbGVzdGlja1wiKSB7XG5cblx0XHRcdFx0XHRjdHgubW92ZVRvKHggLSBvZmZzZXQsIHkyKTtcblx0XHRcdFx0XHRjdHgubGluZVRvKHggLSBvZmZzZXQsIE1hdGgubWluKHkxLCB5NCkpO1xuXHRcdFx0XHRcdGN0eC5zdHJva2UoKTtcblx0XHRcdFx0XHRjdHgubW92ZVRvKHggLSBvZmZzZXQsIE1hdGgubWF4KHkxLCB5NCkpO1xuXHRcdFx0XHRcdGN0eC5saW5lVG8oeCAtIG9mZnNldCwgeTMpO1xuXHRcdFx0XHRcdGN0eC5zdHJva2UoKTtcblxuXHRcdFx0XHRcdGRyYXdSZWN0KGN0eCwgeDEsIE1hdGgubWluKHkxLCB5NCksIHgyLCBNYXRoLm1heCh5MSwgeTQpLCBkYXRhUG9pbnRzW2ldLnlbMF0gPD0gZGF0YVBvaW50c1tpXS55WzNdID8gZGF0YVNlcmllcy5yaXNpbmdDb2xvciA6IGNvbG9yLCBib3JkZXJUaGlja25lc3MsIGNvbG9yLCBiZXZlbEVuYWJsZWQsIGJldmVsRW5hYmxlZCwgZmFsc2UsIGZhbHNlLCBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5KTtcblxuXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHRjb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xuXHRcdFx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcblxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKHggLSBvZmZzZXQsIHkyKTtcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4IC0gb2Zmc2V0LCBNYXRoLm1pbih5MSwgeTQpKTtcblx0XHRcdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKHggLSBvZmZzZXQsIE1hdGgubWF4KHkxLCB5NCkpO1xuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHggLSBvZmZzZXQsIHkzKTtcblx0XHRcdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xuXHRcdFx0XHRcdFx0ZHJhd1JlY3QoZ2hvc3RDdHgsIHgxLCBNYXRoLm1pbih5MSwgeTQpLCB4MiwgTWF0aC5tYXgoeTEsIHk0KSwgY29sb3IsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcIm9obGNcIikge1xuXG5cdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4IC0gb2Zmc2V0LCB5Mik7XG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4IC0gb2Zmc2V0LCB5Myk7XG5cdFx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xuXG5cdFx0XHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0XHRcdGN0eC5tb3ZlVG8oeCwgeTEpO1xuXHRcdFx0XHRcdGN0eC5saW5lVG8oeDEsIHkxKTtcblx0XHRcdFx0XHRjdHguc3Ryb2tlKCk7XG5cblx0XHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5NCk7XG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4MiwgeTQpO1xuXHRcdFx0XHRcdGN0eC5zdHJva2UoKTtcblxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXG5cdFx0XHRcdFx0XHRjb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xuXHRcdFx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcblxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKHggLSBvZmZzZXQsIHkyKTtcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4IC0gb2Zmc2V0LCB5Myk7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5zdHJva2UoKTtcblxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeTEpO1xuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHgxLCB5MSk7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5zdHJva2UoKTtcblxuXHRcdFx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeTQpO1xuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHgyLCB5NCk7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5zdHJva2UoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XG5cblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogZGF0YVNlcmllcy50eXBlLFxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcblx0XHRcdFx0XHRcdHBvaW50OiB7XG5cdFx0XHRcdFx0XHRcdHg6IHgxICsgKHgyIC0geDEpIC8gMiwgeTogeTJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IDEsXG5cdFx0XHRcdFx0XHRib3VuZHM6IHtcblx0XHRcdFx0XHRcdFx0eDE6IHgxLCB5MTogTWF0aC5taW4oeTIsIHkzKSwgeDI6IHgyLCB5MjogTWF0aC5tYXgoeTIsIHkzKVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjdHgucmVzdG9yZSgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRnaG9zdEN0eC5yZXN0b3JlKCk7XG5cblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIuZmFkZUluQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5lYXNlSW5RdWFkLCBhbmltYXRpb25CYXNlOiAwXG5cdH07XG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xufVxuIiwiXG5pbXBvcnQgQW5pbWF0aW9uSGVscGVyIGZyb20gJy4uL2hlbHBlcnMvYW5pbWF0b3InO1xuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZCwgZHJhd1JlY3QsIGludFRvSGV4Q29sb3JTdHJpbmd9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcblxuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xuXG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XG5cblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxuXHRcdHJldHVybjtcblxuXHR2YXIgY29sb3IgPSBudWxsO1xuXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG5cblx0dmFyIGkgPSAwLCB4LCB5O1xuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGZyb20gZGF0YVRpbWUgZXZlcnl0aW1lIGl0IGlzIHVzZWQuXG5cblx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKSA8PCAwO1xuXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogTWF0aC5taW4oKHRoaXMud2lkdGggKiAuMTUpLCB0aGlzLnBsb3RBcmVhLndpZHRoIC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XG5cdHZhciBiYXJXaWR0aCA9ICgoKHBsb3RBcmVhLndpZHRoIC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XG5cblx0aWYgKGJhcldpZHRoID4gbWF4QmFyV2lkdGgpXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcblx0ZWxzZSBpZiAoeE1pbkRpZmYgPT09IEluZmluaXR5KSB7XG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aCAvIHBsb3RVbml0LnBsb3RUeXBlLnRvdGFsRGF0YVNlcmllcyAqIC45O1xuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcblx0XHRiYXJXaWR0aCA9IDE7XG5cblx0Y3R4LnNhdmUoKTtcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5zYXZlKCk7XG5cblx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRjdHguY2xpcCgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcblx0fVxuXHQvL2N0eC5iZWdpblBhdGgoKTtcblxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XG5cblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XG5cblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XG5cblxuXHRcdC8vIFJlZHVjaW5nIHBpeGVsUGVyVW5pdCBieSAxIGp1c3QgdG8gb3ZlcmNvbWUgYW55IHByb2JsZW1zIGR1ZSB0byByb3VuZGluZyBvZmYgb2YgcGl4ZWxzLlxuXHRcdC8vZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IGJhcldpZHRoIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcblxuXHRcdC8vdmFyIG9mZnNldFggPSBiYXJXaWR0aCAqIHBsb3RVbml0LmluZGV4IDw8IDA7XG5cblxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XG5cblx0XHRcdHZhciBiZXZlbEVuYWJsZWQgPSAoYmFyV2lkdGggPiA1KSAmJiBkYXRhU2VyaWVzLmJldmVsRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcblxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRkYXRhUG9pbnRzW2ldLmdldFRpbWUgPyBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLng7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludHNbaV0ueSkgIT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0eCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cblx0XHRcdFx0dmFyIHgxID0geCAtIChwbG90VW5pdC5wbG90VHlwZS50b3RhbERhdGFTZXJpZXMgKiBiYXJXaWR0aCAvIDIpICsgKChwbG90VW5pdC5wcmV2aW91c0RhdGFTZXJpZXNDb3VudCArIGopICogYmFyV2lkdGgpIDw8IDA7XG5cdFx0XHRcdHZhciB4MiA9IHgxICsgYmFyV2lkdGggPDwgMDtcblx0XHRcdFx0dmFyIHkxO1xuXHRcdFx0XHR2YXIgeTI7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ueSA+PSAwKSB7XG5cdFx0XHRcdFx0eTEgPSB5O1xuXG5cdFx0XHRcdFx0eTIgPSB5WmVyb1RvUGl4ZWw7XG5cblx0XHRcdFx0XHRpZiAoeTEgPiB5Mikge1xuXHRcdFx0XHRcdFx0dmFyIHRlbXAgPSB5MTtcblx0XHRcdFx0XHRcdHkxID0geTI7XG5cdFx0XHRcdFx0XHR5MiA9IHkxO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHkyID0geTtcblxuXHRcdFx0XHRcdHkxID0geVplcm9Ub1BpeGVsO1xuXG5cdFx0XHRcdFx0aWYgKHkxID4geTIpIHtcblx0XHRcdFx0XHRcdHZhciB0ZW1wID0geTE7XG5cdFx0XHRcdFx0XHR5MSA9IHkyO1xuXHRcdFx0XHRcdFx0eTIgPSB5MTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb2xvciA9IGRhdGFQb2ludHNbaV0uY29sb3IgPyBkYXRhUG9pbnRzW2ldLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XG5cdFx0XHRcdGRyYXdSZWN0KGN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBiZXZlbEVuYWJsZWQgJiYgKGRhdGFQb2ludHNbaV0ueSA+PSAwKSwgKGRhdGFQb2ludHNbaV0ueSA8IDApICYmIGJldmVsRW5hYmxlZCwgZmFsc2UsIGZhbHNlLCBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5KTtcblxuXHRcdFx0XHQvL2lmIChkYXRhU2VyaWVzLm1hcmtlclR5cGUgJiYgZGF0YVNlcmllcy5tYXJrZXJTaXplID4gMCkge1xuXHRcdFx0XHQvLyAgICBSZW5kZXJIZWxwZXIuZHJhd01hcmtlcih4MSArICh4MiAtIHgxKSAvIDIsIHksIGN0eCwgZGF0YVNlcmllcy5tYXJrZXJUeXBlLCBkYXRhU2VyaWVzLm1hcmtlclNpemUsIGNvbG9yLCBkYXRhU2VyaWVzLm1hcmtlckJvcmRlckNvbG9yLCBkYXRhU2VyaWVzLm1hcmtlckJvcmRlclRoaWNrbmVzcyA/IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyVGhpY2tuZXNzIDogMSk7XG5cdFx0XHRcdC8vfVxuXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdFx0XHRcdGRyYXdSZWN0KHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xuXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwiY29sdW1uXCIsXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcblx0XHRcdFx0XHRcdFx0eDogeDEgKyAoeDIgLSB4MSkgLyAyLCB5OiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IHkxIDogeTJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxuXHRcdFx0XHRcdFx0Ym91bmRzOiB7XG5cdFx0XHRcdFx0XHRcdHgxOiB4MSwgeTE6IE1hdGgubWluKHkxLCB5MiksIHgyOiB4MiwgeTI6IE1hdGgubWF4KHkxLCB5Milcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3Jcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y3R4LnJlc3RvcmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcblxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXG5cdHZhciBhbmltYXRpb25CYXNlID0gTWF0aC5taW4oeVplcm9Ub1BpeGVsLCBwbG90VW5pdC5heGlzWS5ib3VuZGluZ1JlY3QueTIpO1xuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueVNjYWxlQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5lYXNlT3V0UXVhcnQsIGFuaW1hdGlvbkJhc2U6IGFuaW1hdGlvbkJhc2Vcblx0fTtcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG59XG4iLCJleHBvcnQgU3BsaW5lQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3NwbGluZSc7XG5leHBvcnQgQ29sdW1uQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL2NvbHVtbic7XG5leHBvcnQgU3RhY2tlZENvbHVtbkNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9zdGFja2VkX2NvbHVtbic7XG5leHBvcnQgU3RhY2tlZENvbHVtbjEwMENoYXJ0IGZyb20gJy4uL2NoYXJ0cy9zdGFja2VkX2NvbHVtbl8xMDAnO1xuZXhwb3J0IEJhckNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9iYXInO1xuZXhwb3J0IFN0YWNrZWRCYXJDaGFydCBmcm9tICcuLi9jaGFydHMvc3RhY2tlZF9iYXInO1xuZXhwb3J0IFN0YWNrZWRCYXIxMDBDaGFydCBmcm9tICcuLi9jaGFydHMvc3RhY2tlZF9iYXJfMTAwJztcbmV4cG9ydCBBcmVhQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL2FyZWEnO1xuZXhwb3J0IFNwbGluZUFyZWFDaGFydCBmcm9tICcuLi9jaGFydHMvc3BsaW5lX2FyZWEnO1xuZXhwb3J0IFN0ZXBBcmVhQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3N0ZXBfYXJlYSc7XG5leHBvcnQgU3RhY2tlZEFyZWFDaGFydCBmcm9tICcuLi9jaGFydHMvc3RhY2tlZF9hcmVhJztcbmV4cG9ydCBTdGFja2VkQXJlYTEwMENoYXJ0IGZyb20gJy4uL2NoYXJ0cy9zdGFja2VkX2FyZWFfMTAwJztcbmV4cG9ydCBCdWJibGVDaGFydCBmcm9tICcuLi9jaGFydHMvYnViYmxlJztcbmV4cG9ydCBTY2F0dGVyQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3NjYXR0ZXInO1xuZXhwb3J0IENhbmRsZXN0aWNrQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL2NhbmRsZXN0aWNrJztcbmV4cG9ydCBSYW5nZUNvbHVtbkNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9yYW5nZV9jb2x1bW4nO1xuZXhwb3J0IFJhbmdlQmFyQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3JhbmdlX2Jhcic7XG5leHBvcnQgUmFuZ2VBcmVhQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3JhbmdlX2FyZWEnO1xuZXhwb3J0IFJhbmdlU3BsaW5lQXJlYUNoYXJ0IGZyb20gJy4uL2NoYXJ0cy9yYW5nZV9zcGxpbmVfYXJlYSc7XG5leHBvcnQgUGllQ2hhcnQgZnJvbSAnLi4vY2hhcnRzL3BpZSc7XG4iLCJcbmltcG9ydCBUZXh0QmxvY2sgZnJvbSAnLi4vY29yZS90ZXh0X2Jsb2NrJztcbmltcG9ydCB7Y29udmVydFBlcmNlbnRUb1ZhbHVlLCBpc0NhbnZhc1N1cHBvcnRlZCwgZHJhd1NlZ21lbnQsIGdldExpbmVEYXNoQXJyYXl9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcblxuXHR2YXIgX3RoaXMgPSB0aGlzO1xuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xuXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcblx0XHRyZXR1cm47XG5cblx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzWzBdO1xuXHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xuXHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblx0dmFyIGluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aCA9IDEwO1xuXHR2YXIgZXhwbG9kZUR1cmF0aW9uID0gNTAwO1xuXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG5cblx0Ly92YXIgbWF4RnJhbWUgPSBpc0NhbnZhc1N1cHBvcnRlZCA/IDMwMCA6IDQ7XG5cdC8vdmFyIHRvdGFsUmVjdXJzaW9ucyA9IDA7XG5cdHZhciBkYXRhUG9pbnRFT3MgPSBbXTsgLy9kYXRhUG9pbnQgRXh0ZW5zaW9uIE9iamVjdHMgQmVoYXZlcyBsaWtlIGEgc3RvcmFnZSBwbGFjZSBmb3IgYWxsIGFkZGl0aW9uYWwgZGF0YSByZWxhdGluZyB0byBkYXRhUG9pbnRzLiBSZXF1cmVkIGJlY2F1c2UgYWN0dWFsIGRhdGFQb2ludHMgc2hvdWxkIG5vdCBiZSBtb2RpZmllZC5cblxuXHR2YXIgbWluRGlzdGFuY2VCZXR3ZWVuTGFiZWxzID0gMjtcblx0dmFyIGluZGV4TGFiZWxSYWRpdXNUb1JhZGl1c1JhdGlvID0gMS4zO1xuXHR2YXIgcG9sZUFuZ2x1bGFyRGlzdGFuY2UgPSAoMjAgLyAxODApICogTWF0aC5QSTsgLy9BbmdsdWxhciBEaXN0YW5jZSBmcm9tIDkwICYgMjcwIHRvIGJlIGNvbnNpZGVyZWQgcG9sZVxuXHR2YXIgcHJlY2lzaW9uID0gNjtcblxuXHR2YXIgY2VudGVyID0ge1xuXHRcdHg6IChwbG90QXJlYS54MiArIHBsb3RBcmVhLngxKSAvIDIsIHk6IChwbG90QXJlYS55MiArIHBsb3RBcmVhLnkxKSAvIDJcblx0fTtcblxuXHR2YXIgc3VtID0gMDtcblx0dmFyIGlzSW5kZXhMYWJlbFByZXNlbnQgPSBmYWxzZTtcblx0Zm9yICh2YXIgaiA9IDA7IGogPCBkYXRhUG9pbnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0c3VtICs9IE1hdGguYWJzKGRhdGFQb2ludHNbal0ueSk7XG5cblx0XHRpZiAoIWlzSW5kZXhMYWJlbFByZXNlbnQgJiYgdHlwZW9mIChkYXRhUG9pbnRzW2pdLmluZGV4TGFiZWwpICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGFQb2ludHNbal0uaW5kZXhMYWJlbCAhPT0gbnVsbCAmJiBkYXRhUG9pbnRzW2pdLmluZGV4TGFiZWwudG9TdHJpbmcoKS5sZW5ndGggPiAwKVxuXHRcdFx0aXNJbmRleExhYmVsUHJlc2VudCA9IHRydWU7XG5cblx0XHRpZiAoIWlzSW5kZXhMYWJlbFByZXNlbnQgJiYgdHlwZW9mIChkYXRhUG9pbnRzW2pdLmxhYmVsKSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhUG9pbnRzW2pdLmxhYmVsICE9PSBudWxsICYmIGRhdGFQb2ludHNbal0ubGFiZWwudG9TdHJpbmcoKS5sZW5ndGggPiAwKVxuXHRcdFx0aXNJbmRleExhYmVsUHJlc2VudCA9IHRydWU7XG5cdH1cblxuXHRpZiAoc3VtID09PSAwKVxuXHRcdHJldHVybjtcblxuXHRpc0luZGV4TGFiZWxQcmVzZW50ID0gaXNJbmRleExhYmVsUHJlc2VudCB8fCAodHlwZW9mIChkYXRhU2VyaWVzLmluZGV4TGFiZWwpICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGFTZXJpZXMuaW5kZXhMYWJlbCAhPT0gbnVsbCAmJiBkYXRhU2VyaWVzLmluZGV4TGFiZWwudG9TdHJpbmcoKS5sZW5ndGggPiAwKTtcblxuXHR2YXIgb3V0ZXJSYWRpdXMgPSBkYXRhU2VyaWVzLmluZGV4TGFiZWxQbGFjZW1lbnQgIT09IFwiaW5zaWRlXCIgJiYgaXNJbmRleExhYmVsUHJlc2VudCA/IChNYXRoLm1pbihwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KSAqIDAuNzUpIC8gMiA6IChNYXRoLm1pbihwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KSAqIC45MikgLyAyO1xuXG5cdGlmIChkYXRhU2VyaWVzLnJhZGl1cylcblx0XHRvdXRlclJhZGl1cyA9IGNvbnZlcnRQZXJjZW50VG9WYWx1ZShkYXRhU2VyaWVzLnJhZGl1cywgb3V0ZXJSYWRpdXMpO1xuXG5cblx0dmFyIGlubmVyUmFkaXVzID0gKHR5cGVvZiBkYXRhU2VyaWVzLmlubmVyUmFkaXVzICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhU2VyaWVzLmlubmVyUmFkaXVzICE9PSBudWxsKSA/IGNvbnZlcnRQZXJjZW50VG9WYWx1ZShkYXRhU2VyaWVzLmlubmVyUmFkaXVzLCBvdXRlclJhZGl1cykgOiAwLjcgKiBvdXRlclJhZGl1cztcblxuXHR2YXIgcGVyY2VudElubmVyUmFkaXVzID0gTWF0aC5taW4oaW5uZXJSYWRpdXMgLyBvdXRlclJhZGl1cywgKG91dGVyUmFkaXVzIC0gMSkgLyBvdXRlclJhZGl1cyk7XG5cblx0ZnVuY3Rpb24gaW5pdExhYmVscygpIHtcblxuXHRcdGlmICghZGF0YVNlcmllcyB8fCAhZGF0YVBvaW50cylcblx0XHRcdHJldHVybjtcblxuXG5cdFx0dmFyIG5vRFBOZWFyU291dGhQb2xlID0gMDtcblx0XHR2YXIgbm9EUE5lYXJOb3J0aFBvbGUgPSAwO1xuXHRcdHZhciBmaXJzdERQQ2xvc2VUb1NvdXRoID0gMDtcblx0XHR2YXIgZmlyc3REUENsb3NlVG9Ob3J0aCA9IDA7XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgZGF0YVBvaW50cy5sZW5ndGg7IGorKykge1xuXG5cdFx0XHR2YXIgZGF0YVBvaW50ID0gZGF0YVBvaW50c1tqXTtcblx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2pdO1xuXG5cdFx0XHR2YXIgZGF0YVBvaW50RU8gPSB7XG5cdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVBvaW50SW5kZXg6IGosIGRhdGFTZXJpZXNJbmRleDogMFxuXHRcdFx0fTtcblx0XHRcdGRhdGFQb2ludEVPcy5wdXNoKGRhdGFQb2ludEVPKTtcblxuXHRcdFx0dmFyIHBlcmNlbnRBbmRUb3RhbCA9IHtcblx0XHRcdFx0cGVyY2VudDogbnVsbCwgdG90YWw6IG51bGxcblx0XHRcdH07XG5cdFx0XHR2YXIgZm9ybWF0dGVyUGFyYW1ldGVyID0gbnVsbDtcblxuXHRcdFx0cGVyY2VudEFuZFRvdGFsID0gX3RoaXMuZ2V0UGVyY2VudEFuZFRvdGFsKGRhdGFTZXJpZXMsIGRhdGFQb2ludCk7XG5cblx0XHRcdGlmIChkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVBvaW50LmluZGV4TGFiZWxGb3JtYXR0ZXIpXG5cdFx0XHRcdGZvcm1hdHRlclBhcmFtZXRlciA9IHtcblx0XHRcdFx0XHRjaGFydDogX3RoaXMuX29wdGlvbnMsIGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsIGRhdGFQb2ludDogZGF0YVBvaW50LCB0b3RhbDogcGVyY2VudEFuZFRvdGFsLnRvdGFsLCBwZXJjZW50OiBwZXJjZW50QW5kVG90YWwucGVyY2VudFxuXHRcdFx0XHR9O1xuXG5cdFx0XHR2YXIgaW5kZXhMYWJlbFRleHQgPSBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvcm1hdHRlciA/IGRhdGFQb2ludC5pbmRleExhYmVsRm9ybWF0dGVyKGZvcm1hdHRlclBhcmFtZXRlcilcblx0XHRcdFx0XHRcdFx0XHRcdDogZGF0YVBvaW50LmluZGV4TGFiZWwgPyBfdGhpcy5yZXBsYWNlS2V5d29yZHNXaXRoVmFsdWUoZGF0YVBvaW50LmluZGV4TGFiZWwsIGRhdGFQb2ludCwgZGF0YVNlcmllcywgailcblx0XHRcdFx0XHRcdFx0XHRcdDogZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyID8gZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKGZvcm1hdHRlclBhcmFtZXRlcilcblx0XHRcdFx0XHRcdFx0XHRcdDogZGF0YVNlcmllcy5pbmRleExhYmVsID8gX3RoaXMucmVwbGFjZUtleXdvcmRzV2l0aFZhbHVlKGRhdGFTZXJpZXMuaW5kZXhMYWJlbCwgZGF0YVBvaW50LCBkYXRhU2VyaWVzLCBqKSA6IGRhdGFQb2ludC5sYWJlbCA/IGRhdGFQb2ludC5sYWJlbCA6ICcnO1xuXG5cblx0XHRcdF90aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IGRhdGFQb2ludEVPO1xuXG5cdFx0XHQvL2RhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0ID0gai50b1N0cmluZygpICsgXCIgXCIgKyBcImtpbmdmaXNoZXI6IFwiICsgZGF0YVBvaW50LnkudG9TdHJpbmcoKTs7XG5cdFx0XHRkYXRhUG9pbnRFTy5jZW50ZXIgPSB7XG5cdFx0XHRcdHg6IGNlbnRlci54LCB5OiBjZW50ZXIueVxuXHRcdFx0fTtcblx0XHRcdGRhdGFQb2ludEVPLnkgPSBkYXRhUG9pbnQueTtcblx0XHRcdGRhdGFQb2ludEVPLnJhZGl1cyA9IG91dGVyUmFkaXVzO1xuXHRcdFx0ZGF0YVBvaW50RU8ucGVyY2VudElubmVyUmFkaXVzID0gcGVyY2VudElubmVyUmFkaXVzO1xuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHQgPSBpbmRleExhYmVsVGV4dDtcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxQbGFjZW1lbnQgPSBkYXRhU2VyaWVzLmluZGV4TGFiZWxQbGFjZW1lbnQ7XG5cdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsTGluZUNvbG9yID0gZGF0YVBvaW50LmluZGV4TGFiZWxMaW5lQ29sb3IgPyBkYXRhUG9pbnQuaW5kZXhMYWJlbExpbmVDb2xvciA6IGRhdGFTZXJpZXMuaW5kZXhMYWJlbExpbmVDb2xvciA/IGRhdGFTZXJpZXMuaW5kZXhMYWJlbExpbmVDb2xvciA6IGRhdGFQb2ludC5jb2xvciA/IGRhdGFQb2ludC5jb2xvciA6IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2ogJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbExpbmVUaGlja25lc3MgPSBkYXRhUG9pbnQuaW5kZXhMYWJlbExpbmVUaGlja25lc3MgPyBkYXRhUG9pbnQuaW5kZXhMYWJlbExpbmVUaGlja25lc3MgOiBkYXRhU2VyaWVzLmluZGV4TGFiZWxMaW5lVGhpY2tuZXNzO1xuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbExpbmVEYXNoVHlwZSA9IGRhdGFQb2ludC5pbmRleExhYmVsTGluZURhc2hUeXBlID8gZGF0YVBvaW50LmluZGV4TGFiZWxMaW5lRGFzaFR5cGUgOiBkYXRhU2VyaWVzLmluZGV4TGFiZWxMaW5lRGFzaFR5cGU7XG5cdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsRm9udENvbG9yID0gZGF0YVBvaW50LmluZGV4TGFiZWxGb250Q29sb3IgPyBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvbnRDb2xvciA6IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvbnRDb2xvcjtcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxGb250U3R5bGUgPSBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvbnRTdHlsZSA/IGRhdGFQb2ludC5pbmRleExhYmVsRm9udFN0eWxlIDogZGF0YVNlcmllcy5pbmRleExhYmVsRm9udFN0eWxlO1xuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbEZvbnRXZWlnaHQgPSBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvbnRXZWlnaHQgPyBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvbnRXZWlnaHQgOiBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb250V2VpZ2h0O1xuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbEZvbnRTaXplID0gZGF0YVBvaW50LmluZGV4TGFiZWxGb250U2l6ZSA/IGRhdGFQb2ludC5pbmRleExhYmVsRm9udFNpemUgOiBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb250U2l6ZTtcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxGb250RmFtaWx5ID0gZGF0YVBvaW50LmluZGV4TGFiZWxGb250RmFtaWx5ID8gZGF0YVBvaW50LmluZGV4TGFiZWxGb250RmFtaWx5IDogZGF0YVNlcmllcy5pbmRleExhYmVsRm9udEZhbWlseTtcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxCYWNrZ3JvdW5kQ29sb3IgPSBkYXRhUG9pbnQuaW5kZXhMYWJlbEJhY2tncm91bmRDb2xvciA/IGRhdGFQb2ludC5pbmRleExhYmVsQmFja2dyb3VuZENvbG9yIDogZGF0YVNlcmllcy5pbmRleExhYmVsQmFja2dyb3VuZENvbG9yID8gZGF0YVNlcmllcy5pbmRleExhYmVsQmFja2dyb3VuZENvbG9yIDogbnVsbDtcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxNYXhXaWR0aCA9IGRhdGFQb2ludC5pbmRleExhYmVsTWF4V2lkdGggPyBkYXRhUG9pbnQuaW5kZXhMYWJlbE1heFdpZHRoIDogZGF0YVNlcmllcy5pbmRleExhYmVsTWF4V2lkdGggPyBkYXRhU2VyaWVzLmluZGV4TGFiZWxNYXhXaWR0aCA6IHBsb3RBcmVhLndpZHRoICogLjMzO1xuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFdyYXAgPSB0eXBlb2YgKGRhdGFQb2ludC5pbmRleExhYmVsV3JhcCkgIT09IFwidW5kZWZpbmVkXCIgPyBkYXRhUG9pbnQuaW5kZXhMYWJlbFdyYXAgOiBkYXRhU2VyaWVzLmluZGV4TGFiZWxXcmFwO1xuXG5cdFx0XHRkYXRhUG9pbnRFTy5zdGFydEFuZ2xlID0gaiA9PT0gMCA/IGRhdGFTZXJpZXMuc3RhcnRBbmdsZSA/IChkYXRhU2VyaWVzLnN0YXJ0QW5nbGUgLyAxODApICogTWF0aC5QSSA6IDAgOiBkYXRhUG9pbnRFT3NbaiAtIDFdLmVuZEFuZ2xlO1xuXG5cdFx0XHRkYXRhUG9pbnRFTy5zdGFydEFuZ2xlID0gKGRhdGFQb2ludEVPLnN0YXJ0QW5nbGUgKyAoMiAqIE1hdGguUEkpKSAlICgyICogTWF0aC5QSSk7XG5cblx0XHRcdGRhdGFQb2ludEVPLmVuZEFuZ2xlID0gZGF0YVBvaW50RU8uc3RhcnRBbmdsZSArICgoMiAqIE1hdGguUEkgLyBzdW0pICogTWF0aC5hYnMoZGF0YVBvaW50LnkpKTtcblxuXHRcdFx0Ly92YXIgbWlkQW5nbGUgPSBkYXRhUG9pbnRFTy5zdGFydEFuZ2xlICsgTWF0aC5hYnMoZGF0YVBvaW50RU8uZW5kQW5nbGUgLSBkYXRhUG9pbnRFTy5zdGFydEFuZ2xlKSAvIDI7XG5cdFx0XHR2YXIgbWlkQW5nbGUgPSAoZGF0YVBvaW50RU8uZW5kQW5nbGUgKyBkYXRhUG9pbnRFTy5zdGFydEFuZ2xlKSAvIDI7XG5cblx0XHRcdC8vdmFyIG1pZEFuZ2xlID0gKDE4MCAvIE1hdGguUEkgKiBtaWRBbmdsZSk7XG5cblx0XHRcdG1pZEFuZ2xlID0gKG1pZEFuZ2xlICsgKDIgKiBNYXRoLlBJKSkgJSAoMiAqIE1hdGguUEkpO1xuXG5cdFx0XHRkYXRhUG9pbnRFTy5taWRBbmdsZSA9IG1pZEFuZ2xlO1xuXG5cdFx0XHRpZiAoZGF0YVBvaW50RU8ubWlkQW5nbGUgPiAoTWF0aC5QSSAvIDIpIC0gcG9sZUFuZ2x1bGFyRGlzdGFuY2UgJiYgZGF0YVBvaW50RU8ubWlkQW5nbGUgPCAoTWF0aC5QSSAvIDIpICsgcG9sZUFuZ2x1bGFyRGlzdGFuY2UpIHtcblx0XHRcdFx0aWYgKG5vRFBOZWFyU291dGhQb2xlID09PSAwIHx8IGRhdGFQb2ludEVPc1tmaXJzdERQQ2xvc2VUb1NvdXRoXS5taWRBbmdsZSA+IGRhdGFQb2ludEVPLm1pZEFuZ2xlKVxuXHRcdFx0XHRcdGZpcnN0RFBDbG9zZVRvU291dGggPSBqO1xuXG5cdFx0XHRcdG5vRFBOZWFyU291dGhQb2xlKys7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChkYXRhUG9pbnRFTy5taWRBbmdsZSA+ICgzICogTWF0aC5QSSAvIDIpIC0gcG9sZUFuZ2x1bGFyRGlzdGFuY2UgJiYgZGF0YVBvaW50RU8ubWlkQW5nbGUgPCAoMyAqIE1hdGguUEkgLyAyKSArIHBvbGVBbmdsdWxhckRpc3RhbmNlKSB7XG5cdFx0XHRcdGlmIChub0RQTmVhck5vcnRoUG9sZSA9PT0gMCB8fCBkYXRhUG9pbnRFT3NbZmlyc3REUENsb3NlVG9Ob3J0aF0ubWlkQW5nbGUgPiBkYXRhUG9pbnRFTy5taWRBbmdsZSlcblx0XHRcdFx0XHRmaXJzdERQQ2xvc2VUb05vcnRoID0gajtcblxuXHRcdFx0XHRub0RQTmVhck5vcnRoUG9sZSsrO1xuXHRcdFx0fVxuXG5cblx0XHRcdGlmIChtaWRBbmdsZSA+IChNYXRoLlBJIC8gMikgJiYgbWlkQW5nbGUgPD0gKDMgKiBNYXRoLlBJIC8gMikpXG5cdFx0XHRcdGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPSBcImxlZnRcIjtcblx0XHRcdGVsc2Vcblx0XHRcdFx0ZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9IFwicmlnaHRcIjtcblxuXHRcdFx0Ly9kYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dCA9IGoudG9TdHJpbmcoKSArIFwiOyBcIiArIGRhdGFQb2ludC55LnRvU3RyaW5nKCkgKyBcIjsgXCIgKyBtaWRBbmdsZS50b1N0cmluZygpICsgXCI7IGp1bmtcIjtcblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKF90aGlzLnBsb3RBcmVhLmN0eCwge1xuXHRcdFx0XHRmb250U2l6ZTogZGF0YVBvaW50RU8uaW5kZXhMYWJlbEZvbnRTaXplLCBmb250RmFtaWx5OiBkYXRhUG9pbnRFTy5pbmRleExhYmVsRm9udEZhbWlseSwgZm9udENvbG9yOiBkYXRhUG9pbnRFTy5pbmRleExhYmVsRm9udENvbG9yLFxuXHRcdFx0XHRmb250U3R5bGU6IGRhdGFQb2ludEVPLmluZGV4TGFiZWxGb250U3R5bGUsIGZvbnRXZWlnaHQ6IGRhdGFQb2ludEVPLmluZGV4TGFiZWxGb250V2VpZ2h0LFxuXHRcdFx0XHRob3Jpem9udGFsQWxpZ246IFwibGVmdFwiLFxuXHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IGRhdGFQb2ludEVPLmluZGV4TGFiZWxCYWNrZ3JvdW5kQ29sb3IsXG5cdFx0XHRcdG1heFdpZHRoOiBkYXRhUG9pbnRFTy5pbmRleExhYmVsTWF4V2lkdGgsIG1heEhlaWdodDogZGF0YVBvaW50RU8uaW5kZXhMYWJlbFdyYXAgPyBkYXRhUG9pbnRFTy5pbmRleExhYmVsRm9udFNpemUgKiA1IDogZGF0YVBvaW50RU8uaW5kZXhMYWJlbEZvbnRTaXplICogMS41LFxuXHRcdFx0XHR0ZXh0OiBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dCxcblx0XHRcdFx0cGFkZGluZzogMCxcblx0XHRcdFx0Ly90ZXh0QmFzZWxpbmU6IGRhdGFQb2ludEVPLmluZGV4TGFiZWxCYWNrZ3JvdW5kQ29sb3IgPyBcIm1pZGRsZVwiIDogXCJ0b3BcIlxuXHRcdFx0XHR0ZXh0QmFzZWxpbmU6IFwidG9wXCJcblx0XHRcdH0pO1xuXG5cdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLm1lYXN1cmVUZXh0KCk7XG5cblx0XHRcdC8vZGF0YVBvaW50LmxhYmVsV2lkdGggPSBjdHgubWVhc3VyZVRleHQoai50b1N0cmluZygpICsgXCI7IFwiICsgZGF0YVBvaW50LmxhYmVsKS53aWR0aDtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyhkYXRhUG9pbnQubGFiZWwpO1xuXHRcdH1cblxuXHRcdHZhciBub09mRFBUb1JpZ2h0T2ZTb3V0aFBvbGUgPSAwO1xuXHRcdHZhciBub09mRFBUb0xlZnRPZk5vcnRoUG9sZSA9IDA7XG5cdFx0dmFyIGtlZXBTYW1lRGlyZWN0aW9uID0gZmFsc2U7IC8vIG9uY2UgYSBkYXRhUG9pbnQncyBoZW1pc3BoZXJlIGlzIGNoYW5nZWQsIG90aGVycyBzaG91bGQgZm9sbG93IHRoZSBzYW1lIHNvIHRoYXQgdGhlcmUgYXJlIG5vIGxhYmVzIG5lYXIgcG9sZSBwb2ludGluZyBpbiBvcHBvc2l0ZSBkaXJlY3Rpb24uXG5cblx0XHRmb3IgKGogPSAwOyBqIDwgZGF0YVBvaW50cy5sZW5ndGg7IGorKykge1xuXG5cdFx0XHR2YXIgZGF0YVBvaW50RU8gPSBkYXRhUG9pbnRFT3NbKGZpcnN0RFBDbG9zZVRvU291dGggKyBqKSAlIGRhdGFQb2ludHMubGVuZ3RoXTtcblxuXHRcdFx0aWYgKG5vRFBOZWFyU291dGhQb2xlID4gMSAmJiBkYXRhUG9pbnRFTy5taWRBbmdsZSA+IChNYXRoLlBJIC8gMikgLSBwb2xlQW5nbHVsYXJEaXN0YW5jZSAmJiBkYXRhUG9pbnRFTy5taWRBbmdsZSA8IChNYXRoLlBJIC8gMikgKyBwb2xlQW5nbHVsYXJEaXN0YW5jZSkge1xuXG5cdFx0XHRcdGlmIChub09mRFBUb1JpZ2h0T2ZTb3V0aFBvbGUgPD0gbm9EUE5lYXJTb3V0aFBvbGUgLyAyICYmICFrZWVwU2FtZURpcmVjdGlvbikge1xuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPSBcInJpZ2h0XCI7XG5cdFx0XHRcdFx0bm9PZkRQVG9SaWdodE9mU291dGhQb2xlKys7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9IFwibGVmdFwiO1xuXHRcdFx0XHRcdGtlZXBTYW1lRGlyZWN0aW9uID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGtlZXBTYW1lRGlyZWN0aW9uID0gZmFsc2U7XG5cdFx0Zm9yIChqID0gMDsgaiA8IGRhdGFQb2ludHMubGVuZ3RoOyBqKyspIHtcblxuXHRcdFx0dmFyIGRhdGFQb2ludEVPID0gZGF0YVBvaW50RU9zWyhmaXJzdERQQ2xvc2VUb05vcnRoICsgaikgJSBkYXRhUG9pbnRzLmxlbmd0aF07XG5cblx0XHRcdC8vaWYgKGRhdGFQb2ludC5oZW1pc3BoZXJlID0gXCJyaWdodFwiKVxuXHRcdFx0Ly9cdGJyZWFrO1xuXG5cdFx0XHRpZiAobm9EUE5lYXJOb3J0aFBvbGUgPiAxICYmIGRhdGFQb2ludEVPLm1pZEFuZ2xlID4gKDMgKiBNYXRoLlBJIC8gMikgLSBwb2xlQW5nbHVsYXJEaXN0YW5jZSAmJiBkYXRhUG9pbnRFTy5taWRBbmdsZSA8ICgzICogTWF0aC5QSSAvIDIpICsgcG9sZUFuZ2x1bGFyRGlzdGFuY2UpIHtcblxuXHRcdFx0XHRpZiAobm9PZkRQVG9MZWZ0T2ZOb3J0aFBvbGUgPD0gbm9EUE5lYXJOb3J0aFBvbGUgLyAyICYmICFrZWVwU2FtZURpcmVjdGlvbikge1xuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPSBcImxlZnRcIjtcblx0XHRcdFx0XHRub09mRFBUb0xlZnRPZk5vcnRoUG9sZSsrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPSBcInJpZ2h0XCI7XG5cdFx0XHRcdFx0a2VlcFNhbWVEaXJlY3Rpb24gPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9Ly9FbmQgb2YgaW5pdExhYmVscygpXG5cblx0ZnVuY3Rpb24gcmVuZGVyTGFiZWxzKCkge1xuXG5cdFx0dmFyIGN0eCA9IF90aGlzLnBsb3RBcmVhLmN0eDtcblx0XHRjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xuXHRcdGN0eC5zdHJva2VTdHlsZSA9IFwiZ3JleVwiO1xuXHRcdHZhciBmb250U2l6ZSA9IDE2O1xuXHRcdC8vY3R4LmZvbnQgPSBmb250U2l6ZSArIFwicHggQXJpYWxcIjtcblx0XHRjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcblx0XHRjdHgubGluZUpvaW4gPSBcInJvdW5kXCI7XG5cdFx0dmFyIGkgPSAwLCBqID0gMDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZGF0YVBvaW50RU8gPSBkYXRhUG9pbnRFT3NbaV07XG5cblx0XHRcdGlmICghZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHQpXG5cdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgLT0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyO1xuXG5cdFx0XHR2YXIgeE9mZnNldCA9IDA7XG5cblx0XHRcdGlmIChkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcImxlZnRcIikge1xuXHRcdFx0XHR2YXIgeE9mZnNldCA9IGRhdGFTZXJpZXMuaW5kZXhMYWJlbFBsYWNlbWVudCAhPT0gXCJpbnNpZGVcIiA/IC0oZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay53aWR0aCArIGluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aCkgOiAtZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay53aWR0aCAvIDI7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dmFyIHhPZmZzZXQgPSBkYXRhU2VyaWVzLmluZGV4TGFiZWxQbGFjZW1lbnQgIT09IFwiaW5zaWRlXCIgPyBpbmRleExhYmVsTGluZUVkZ2VMZW5ndGggOiAtZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay53aWR0aCAvIDI7XG5cdFx0XHR9XG5cblx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCArPSB4T2Zmc2V0O1xuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5yZW5kZXIodHJ1ZSk7XG5cdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnggLT0geE9mZnNldDtcblxuXHRcdFx0Ly9pZiAoaSA8IDQpXG5cdFx0XHQvL1x0Y3VzdG9tUHJvbXB0KGkgKyBcIjsgXCIgKyBjZW50ZXIueSArIFwiOyBcIiArIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueS50b0ZpeGVkKDIpKTtcblxuXHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55ICs9IGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMjtcblxuXHRcdFx0aWYgKGRhdGFQb2ludEVPLmluZGV4TGFiZWxQbGFjZW1lbnQgIT09IFwiaW5zaWRlXCIpIHtcblx0XHRcdFx0dmFyIGluZGV4TGFiZWxMaW5lU3RhcnRYID0gZGF0YVBvaW50RU8uY2VudGVyLnggKyBvdXRlclJhZGl1cyAqIE1hdGguY29zKGRhdGFQb2ludEVPLm1pZEFuZ2xlKTtcblx0XHRcdFx0dmFyIGluZGV4TGFiZWxMaW5lU3RhcnRZID0gZGF0YVBvaW50RU8uY2VudGVyLnkgKyBvdXRlclJhZGl1cyAqIE1hdGguc2luKGRhdGFQb2ludEVPLm1pZEFuZ2xlKTtcblxuXHRcdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IGRhdGFQb2ludHNbaV0uY29sb3IgPyBkYXRhUG9pbnRzW2ldLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XG5cdFx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGRhdGFQb2ludEVPLmluZGV4TGFiZWxMaW5lQ29sb3I7XG5cdFx0XHRcdGN0eC5saW5lV2lkdGggPSBkYXRhUG9pbnRFTy5pbmRleExhYmVsTGluZVRoaWNrbmVzcztcblxuXHRcdFx0XHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XG5cdFx0XHRcdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkoZGF0YVBvaW50RU8uaW5kZXhMYWJlbExpbmVEYXNoVHlwZSwgZGF0YVBvaW50RU8uaW5kZXhMYWJlbExpbmVUaGlja25lc3MpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vY3R4LmxpbmVXaWR0aCA9IDQ7XG5cdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0Y3R4Lm1vdmVUbyhpbmRleExhYmVsTGluZVN0YXJ0WCwgaW5kZXhMYWJlbExpbmVTdGFydFkpO1xuXHRcdFx0XHRjdHgubGluZVRvKGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCwgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55KTtcblx0XHRcdFx0Y3R4LmxpbmVUbyhkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnggKyAoZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9PT0gXCJsZWZ0XCIgPyAtaW5kZXhMYWJlbExpbmVFZGdlTGVuZ3RoIDogaW5kZXhMYWJlbExpbmVFZGdlTGVuZ3RoKSwgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55KTtcblx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xuXHRcdFx0XHQvL2N0eC5jbG9zZVBhdGgoKTtcblx0XHRcdFx0Ly93aW5kb3cuYWxlcnQoXCJjb250aW5lPz9cIik7XG5cdFx0XHRcdC8vYW5pbWF0ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRjdHgubGluZUpvaW4gPSBcIm1pdGVyXCI7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gYW5pbWF0ZShmcmFjdGlvbkNvbXBsZXRlKSB7XG5cblx0XHR2YXIgY3R4ID0gX3RoaXMucGxvdEFyZWEuY3R4O1xuXG5cdFx0Y3R4LmNsZWFyUmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBfdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG5cdFx0Y3R4LmZpbGxSZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cblx0XHR2YXIgbWF4QW5nbGUgPSBkYXRhUG9pbnRFT3NbMF0uc3RhcnRBbmdsZSArICgyICogTWF0aC5QSSAqIGZyYWN0aW9uQ29tcGxldGUpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdHZhciBzdGFydEFuZ2xlID0gaSA9PT0gMCA/IGRhdGFQb2ludEVPc1tpXS5zdGFydEFuZ2xlIDogZW5kQW5nbGU7XG5cdFx0XHR2YXIgZW5kQW5nbGUgPSBzdGFydEFuZ2xlICsgKGRhdGFQb2ludEVPc1tpXS5lbmRBbmdsZSAtIGRhdGFQb2ludEVPc1tpXS5zdGFydEFuZ2xlKTtcblxuXHRcdFx0dmFyIHNob3VsZEJyZWFrID0gZmFsc2U7XG5cblx0XHRcdGlmIChlbmRBbmdsZSA+IG1heEFuZ2xlKSB7XG5cdFx0XHRcdGVuZEFuZ2xlID0gbWF4QW5nbGU7XG5cdFx0XHRcdHNob3VsZEJyZWFrID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGNvbG9yID0gZGF0YVBvaW50c1tpXS5jb2xvciA/IGRhdGFQb2ludHNbaV0uY29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFtpICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcblxuXHRcdFx0aWYgKGVuZEFuZ2xlID4gc3RhcnRBbmdsZSlcblx0XHRcdFx0ZHJhd1NlZ21lbnQoX3RoaXMucGxvdEFyZWEuY3R4LCBkYXRhUG9pbnRFT3NbaV0uY2VudGVyLCBkYXRhUG9pbnRFT3NbaV0ucmFkaXVzLCBjb2xvciwgZGF0YVNlcmllcy50eXBlLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgZGF0YVNlcmllcy5maWxsT3BhY2l0eSwgZGF0YVBvaW50RU9zW2ldLnBlcmNlbnRJbm5lclJhZGl1cyk7XG5cblx0XHRcdGlmIChzaG91bGRCcmVhaylcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gZXhwbG9kZVRvZ2dsZShmcmFjdGlvbkNvbXBsZXRlKSB7XG5cblx0XHR2YXIgY3R4ID0gX3RoaXMucGxvdEFyZWEuY3R4O1xuXG5cdFx0Y3R4LmNsZWFyUmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBfdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG5cdFx0Y3R4LmZpbGxSZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0dmFyIHN0YXJ0QW5nbGUgPSBkYXRhUG9pbnRFT3NbaV0uc3RhcnRBbmdsZTtcblx0XHRcdHZhciBlbmRBbmdsZSA9IGRhdGFQb2ludEVPc1tpXS5lbmRBbmdsZTtcblxuXHRcdFx0aWYgKGVuZEFuZ2xlID4gc3RhcnRBbmdsZSkge1xuXG5cblx0XHRcdFx0dmFyIG9mZnNldFggPSAob3V0ZXJSYWRpdXMgKiAuMDcgKiBNYXRoLmNvcyhkYXRhUG9pbnRFT3NbaV0ubWlkQW5nbGUpKTtcblx0XHRcdFx0dmFyIG9mZnNldFkgPSAob3V0ZXJSYWRpdXMgKiAuMDcgKiBNYXRoLnNpbihkYXRhUG9pbnRFT3NbaV0ubWlkQW5nbGUpKTtcblx0XHRcdFx0dmFyIGlzSW5UcmFuc2l0aW9uID0gZmFsc2U7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uZXhwbG9kZWQpIHtcblx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoZGF0YVBvaW50RU9zW2ldLmNlbnRlci54IC0gKGNlbnRlci54ICsgb2Zmc2V0WCkpID4gMC4wMDAwMDAwMDEgfHwgTWF0aC5hYnMoZGF0YVBvaW50RU9zW2ldLmNlbnRlci55IC0gKGNlbnRlci55ICsgb2Zmc2V0WSkpID4gMC4wMDAwMDAwMDEpIHtcblxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50RU9zW2ldLmNlbnRlci54ID0gY2VudGVyLnggKyBvZmZzZXRYICogZnJhY3Rpb25Db21wbGV0ZTtcblx0XHRcdFx0XHRcdGRhdGFQb2ludEVPc1tpXS5jZW50ZXIueSA9IGNlbnRlci55ICsgb2Zmc2V0WSAqIGZyYWN0aW9uQ29tcGxldGU7XG5cblx0XHRcdFx0XHRcdGlzSW5UcmFuc2l0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoTWF0aC5hYnMoZGF0YVBvaW50RU9zW2ldLmNlbnRlci54IC0gY2VudGVyLngpID4gMCB8fCBNYXRoLmFicyhkYXRhUG9pbnRFT3NbaV0uY2VudGVyLnkgLSBjZW50ZXIueSkgPiAwKSB7XG5cdFx0XHRcdFx0ZGF0YVBvaW50RU9zW2ldLmNlbnRlci54ID0gY2VudGVyLnggKyBvZmZzZXRYICogKDEgLSBmcmFjdGlvbkNvbXBsZXRlKTtcblx0XHRcdFx0XHRkYXRhUG9pbnRFT3NbaV0uY2VudGVyLnkgPSBjZW50ZXIueSArIG9mZnNldFkgKiAoMSAtIGZyYWN0aW9uQ29tcGxldGUpO1xuXG5cdFx0XHRcdFx0aXNJblRyYW5zaXRpb24gPSB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGlzSW5UcmFuc2l0aW9uKSB7XG5cdFx0XHRcdFx0dmFyIGVudHJ5ID0ge1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0ZW50cnkuZGF0YVNlcmllcyA9IGRhdGFTZXJpZXM7XG5cdFx0XHRcdFx0ZW50cnkuZGF0YVBvaW50ID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldO1xuXHRcdFx0XHRcdGVudHJ5LmluZGV4ID0gaTtcblx0XHRcdFx0XHRfdGhpcy5fdG9vbFRpcC5oaWdobGlnaHRPYmplY3RzKFtlbnRyeV0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIGNvbG9yID0gZGF0YVBvaW50c1tpXS5jb2xvciA/IGRhdGFQb2ludHNbaV0uY29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFtpICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcblxuXHRcdFx0XHRkcmF3U2VnbWVudChfdGhpcy5wbG90QXJlYS5jdHgsIGRhdGFQb2ludEVPc1tpXS5jZW50ZXIsIGRhdGFQb2ludEVPc1tpXS5yYWRpdXMsIGNvbG9yLCBkYXRhU2VyaWVzLnR5cGUsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5LCBkYXRhUG9pbnRFT3NbaV0ucGVyY2VudElubmVyUmFkaXVzKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL3dpbmRvdy5hbGVydChcIm5leHQ/P1wiKTtcblx0XHRyZW5kZXJMYWJlbHMoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGFyZURhdGFQb2ludHNUb29DbG9zZShmaXJzdCwgc2Vjb25kKSB7XG5cblx0XHR2YXIgbGFiZWwxID0ge1xuXHRcdFx0eDE6IGZpcnN0LmluZGV4TGFiZWxUZXh0QmxvY2sueCwgeTE6IGZpcnN0LmluZGV4TGFiZWxUZXh0QmxvY2sueSAtIGZpcnN0LmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMiwgeDI6IGZpcnN0LmluZGV4TGFiZWxUZXh0QmxvY2sueCArIGZpcnN0LmluZGV4TGFiZWxUZXh0QmxvY2sud2lkdGgsIHkyOiBmaXJzdC5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBmaXJzdC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDJcblx0XHR9O1xuXHRcdHZhciBsYWJlbDIgPSB7XG5cdFx0XHR4MTogc2Vjb25kLmluZGV4TGFiZWxUZXh0QmxvY2sueCwgeTE6IHNlY29uZC5pbmRleExhYmVsVGV4dEJsb2NrLnkgLSBzZWNvbmQuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyLCB4Mjogc2Vjb25kLmluZGV4TGFiZWxUZXh0QmxvY2sueCArIHNlY29uZC5pbmRleExhYmVsVGV4dEJsb2NrLndpZHRoLCB5Mjogc2Vjb25kLmluZGV4TGFiZWxUZXh0QmxvY2sueSArIHNlY29uZC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDJcblx0XHR9O1xuXG5cdFx0aWYgKGxhYmVsMS54MiA8IGxhYmVsMi54MSAtIGluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aCB8fCBsYWJlbDEueDEgPiBsYWJlbDIueDIgKyBpbmRleExhYmVsTGluZUVkZ2VMZW5ndGggfHwgbGFiZWwxLnkxID4gbGFiZWwyLnkyICsgaW5kZXhMYWJlbExpbmVFZGdlTGVuZ3RoIHx8IGxhYmVsMS55MiA8IGxhYmVsMi55MSAtIGluZGV4TGFiZWxMaW5lRWRnZUxlbmd0aClcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0VmVydGljYWxEaXN0YW5jZUJldHdlZW5MYWJlbHMoZmlyc3QsIHNlY29uZCkge1xuXG5cdFx0dmFyIGRpc3RhbmNlID0gMDtcblx0XHR2YXIgbGFiZWwxID0ge1xuXHRcdFx0eTogZmlyc3QuaW5kZXhMYWJlbFRleHRCbG9jay55LCB5MTogZmlyc3QuaW5kZXhMYWJlbFRleHRCbG9jay55IC0gZmlyc3QuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyLCB5MjogZmlyc3QuaW5kZXhMYWJlbFRleHRCbG9jay55ICsgZmlyc3QuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyXG5cdFx0fTtcblx0XHR2YXIgbGFiZWwyID0ge1xuXHRcdFx0eTogc2Vjb25kLmluZGV4TGFiZWxUZXh0QmxvY2sueSwgeTE6IHNlY29uZC5pbmRleExhYmVsVGV4dEJsb2NrLnkgLSBzZWNvbmQuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyLCB5Mjogc2Vjb25kLmluZGV4TGFiZWxUZXh0QmxvY2sueSArIHNlY29uZC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDJcblx0XHR9O1xuXG5cdFx0aWYgKGxhYmVsMi55ID4gbGFiZWwxLnkpIHtcblx0XHRcdGRpc3RhbmNlID0gbGFiZWwyLnkxIC0gbGFiZWwxLnkyO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGRpc3RhbmNlID0gbGFiZWwxLnkxIC0gbGFiZWwyLnkyO1xuXHRcdH1cblxuXHRcdHJldHVybiBkaXN0YW5jZTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldE5leHRMYWJlbEluZGV4KGN1cnJlbnRMYWJlbEluZGV4KSB7XG5cdFx0dmFyIG5leHRMYWJlbEluZGV4ID0gbnVsbDtcblxuXHRcdGZvciAodmFyIGkgPSAxOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRuZXh0TGFiZWxJbmRleCA9IChjdXJyZW50TGFiZWxJbmRleCArIGkgKyBkYXRhUG9pbnRFT3MubGVuZ3RoKSAlIGRhdGFQb2ludEVPcy5sZW5ndGg7XG5cblx0XHRcdGlmIChkYXRhUG9pbnRFT3NbbmV4dExhYmVsSW5kZXhdLmhlbWlzcGhlcmUgIT09IGRhdGFQb2ludEVPc1tjdXJyZW50TGFiZWxJbmRleF0uaGVtaXNwaGVyZSkge1xuXHRcdFx0XHRuZXh0TGFiZWxJbmRleCA9IG51bGw7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoKGRhdGFQb2ludEVPc1tuZXh0TGFiZWxJbmRleF0uaW5kZXhMYWJlbFRleHQpICYmIChuZXh0TGFiZWxJbmRleCAhPT0gY3VycmVudExhYmVsSW5kZXgpXG5cdFx0XHRcdCYmICgoZ2V0VmVydGljYWxEaXN0YW5jZUJldHdlZW5MYWJlbHMoZGF0YVBvaW50RU9zW25leHRMYWJlbEluZGV4XSwgZGF0YVBvaW50RU9zW2N1cnJlbnRMYWJlbEluZGV4XSkgPCAwKSB8fCAoZGF0YVBvaW50RU9zW2N1cnJlbnRMYWJlbEluZGV4XS5oZW1pc3BoZXJlID09PSBcInJpZ2h0XCIgPyBkYXRhUG9pbnRFT3NbbmV4dExhYmVsSW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2sueSA+PSBkYXRhUG9pbnRFT3NbY3VycmVudExhYmVsSW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2sueSA6IGRhdGFQb2ludEVPc1tuZXh0TGFiZWxJbmRleF0uaW5kZXhMYWJlbFRleHRCbG9jay55IDw9IGRhdGFQb2ludEVPc1tjdXJyZW50TGFiZWxJbmRleF0uaW5kZXhMYWJlbFRleHRCbG9jay55KSkpXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdG5leHRMYWJlbEluZGV4ID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbmV4dExhYmVsSW5kZXg7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRQcmV2aW91c0xhYmVsSW5kZXgoY3VycmVudExhYmVsSW5kZXgpIHtcblx0XHR2YXIgcHJldkxhYmVsSW5kZXggPSBudWxsO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDE7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdHByZXZMYWJlbEluZGV4ID0gKGN1cnJlbnRMYWJlbEluZGV4IC0gaSArIGRhdGFQb2ludEVPcy5sZW5ndGgpICUgZGF0YVBvaW50RU9zLmxlbmd0aDtcblxuXHRcdFx0aWYgKGRhdGFQb2ludEVPc1twcmV2TGFiZWxJbmRleF0uaGVtaXNwaGVyZSAhPT0gZGF0YVBvaW50RU9zW2N1cnJlbnRMYWJlbEluZGV4XS5oZW1pc3BoZXJlKSB7XG5cdFx0XHRcdHByZXZMYWJlbEluZGV4ID0gbnVsbDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICgoZGF0YVBvaW50RU9zW3ByZXZMYWJlbEluZGV4XS5pbmRleExhYmVsVGV4dCkgJiYgKGRhdGFQb2ludEVPc1twcmV2TGFiZWxJbmRleF0uaGVtaXNwaGVyZSA9PT0gZGF0YVBvaW50RU9zW2N1cnJlbnRMYWJlbEluZGV4XS5oZW1pc3BoZXJlKSAmJiAocHJldkxhYmVsSW5kZXggIT09IGN1cnJlbnRMYWJlbEluZGV4KVxuXHRcdFx0XHQmJiAoKGdldFZlcnRpY2FsRGlzdGFuY2VCZXR3ZWVuTGFiZWxzKGRhdGFQb2ludEVPc1twcmV2TGFiZWxJbmRleF0sIGRhdGFQb2ludEVPc1tjdXJyZW50TGFiZWxJbmRleF0pIDwgMCkgfHwgKGRhdGFQb2ludEVPc1tjdXJyZW50TGFiZWxJbmRleF0uaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiID8gZGF0YVBvaW50RU9zW3ByZXZMYWJlbEluZGV4XS5pbmRleExhYmVsVGV4dEJsb2NrLnkgPD0gZGF0YVBvaW50RU9zW2N1cnJlbnRMYWJlbEluZGV4XS5pbmRleExhYmVsVGV4dEJsb2NrLnkgOiBkYXRhUG9pbnRFT3NbcHJldkxhYmVsSW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2sueSA+PSBkYXRhUG9pbnRFT3NbY3VycmVudExhYmVsSW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2sueSkpKVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRwcmV2TGFiZWxJbmRleCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gcHJldkxhYmVsSW5kZXg7XG5cdH1cblxuXHRmdW5jdGlvbiByZVBvc2l0aW9uTGFiZWxzKGRhdGFQb2ludEluZGV4LCBvZmZzZXQpIHtcblx0XHRvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuXHRcdHZhciBhY3R1YWxPZmZzZXQgPSAwO1xuXG5cdFx0Ly92YXIgbGFiZWxZTWluID0gMjtcblx0XHQvL3ZhciBsYWJlbFlNYXggPSBjdHguY2FudmFzLmhlaWdodCAtIDI7XG5cdFx0Ly92YXIgbGFiZWxZTWluID0gX3RoaXMucGxvdEFyZWEuY3R4LmNhbnZhcy5oZWlnaHQgLyAyIC0gaW5kZXhMYWJlbFJhZGl1cyAqIDE7XG5cdFx0Ly92YXIgbGFiZWxZTWF4ID0gX3RoaXMucGxvdEFyZWEuY3R4LmNhbnZhcy5oZWlnaHQgLyAyICsgaW5kZXhMYWJlbFJhZGl1cyAqIDE7XG5cblx0XHR2YXIgbGFiZWxZTWluID0gY2VudGVyLnkgLSBpbmRleExhYmVsUmFkaXVzICogMTtcblx0XHR2YXIgbGFiZWxZTWF4ID0gY2VudGVyLnkgKyBpbmRleExhYmVsUmFkaXVzICogMTtcblxuXHRcdC8vY29uc29sZS5sb2codG90YWxSZWN1cnNpb25zKTtcblxuXHRcdGlmIChkYXRhUG9pbnRJbmRleCA+PSAwICYmIGRhdGFQb2ludEluZGV4IDwgZGF0YVBvaW50cy5sZW5ndGgpIHtcblxuXHRcdFx0dmFyIGRhdGFQb2ludEVPID0gZGF0YVBvaW50RU9zW2RhdGFQb2ludEluZGV4XTtcblx0XHRcdC8vaWYgKGRhdGFQb2ludEluZGV4ID09PSAwKVxuXHRcdFx0Ly9cdGN1c3RvbVByb21wdChsYWJlbFlNaW4udG9GaXhlZCgyKSArIFwiOyBcIiArIGxhYmVsWU1heC50b0ZpeGVkKDIpICsgXCI7IFwiICsgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55LnRvRml4ZWQoMikpO1xuXG5cdFx0XHQvLyBJZiBsYWJlbCBpcyBhbHJlYWR5IG91dHNpZGUgdGhlIGJvdW5kcywgcmV0dXJuXG5cdFx0XHRpZiAoKG9mZnNldCA8IDAgJiYgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IDwgbGFiZWxZTWluKSB8fCAob2Zmc2V0ID4gMCAmJiBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgPiBsYWJlbFlNYXgpKVxuXHRcdFx0XHRyZXR1cm4gMDtcblxuXG5cdFx0XHR2YXIgdmFsaWRPZmZzZXQgPSBvZmZzZXQ7XG5cblxuXHRcdFx0Ly9DaGVjayBpZiB0aGUgb2Zmc2V0IGZhbGxzIHdpdGhpbiB0aGUgYm91bmRzIChsYWJlbFlNaW4sIGxhYmVsWU1heCwgdGFuZ2VudGlhbCBib3VuZHMpIHdpdGhvdXQgY29uc2lkZXJpbmcgb3ZlcmxhcC4gRWxzZSB1c2UgdGhlIGNsb3Nlc3Qgb2Zmc2V0IHRoYXQgaXMgcG9zc2libGUgLSB2YWxpZE9mZnNldC5cblx0XHRcdHtcblx0XHRcdFx0dmFyIGRpc3RGcm9tSW5kZXhMaW5lU3RhcnQgPSAwO1xuXHRcdFx0XHR2YXIgaW5kZXhMYWJlbExpbmVTdGFydFggPSAwO1xuXHRcdFx0XHR2YXIgaW5kZXhMYWJlbExpbmVTdGFydFkgPSAwO1xuXHRcdFx0XHR2YXIgaW5kZXhMYWJlbEFuZ2xlID0gMDtcblx0XHRcdFx0dmFyIGluZGV4TGFiZWxBbmdsZVdoZW5UYW5nZW50ID0gMDtcblxuXHRcdFx0XHRpZiAodmFsaWRPZmZzZXQgPCAwKSB7XG5cdFx0XHRcdFx0aWYgKGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSAtIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMiA+IGxhYmVsWU1pbiAmJiBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgLSBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIgKyB2YWxpZE9mZnNldCA8IGxhYmVsWU1pbilcblx0XHRcdFx0XHRcdHZhbGlkT2Zmc2V0ID0gLShsYWJlbFlNaW4gLSAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IC0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyICsgdmFsaWRPZmZzZXQpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55ICsgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyIDwgbGFiZWxZTWluICYmIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSArIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMiArIHZhbGlkT2Zmc2V0ID4gbGFiZWxZTWF4KVxuXHRcdFx0XHRcdFx0dmFsaWRPZmZzZXQgPSAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55ICsgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyICsgdmFsaWRPZmZzZXQpIC0gbGFiZWxZTWF4O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIG5ld2xhYmVsWSA9IGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSArIHZhbGlkT2Zmc2V0O1xuXHRcdFx0XHR2YXIgbmV3bGFiZWxYID0gMDtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiKSB7XG5cdFx0XHRcdFx0bmV3bGFiZWxYID0gY2VudGVyLnggKyBNYXRoLnNxcnQoTWF0aC5wb3coaW5kZXhMYWJlbFJhZGl1cywgMikgLSBNYXRoLnBvdyhuZXdsYWJlbFkgLSBjZW50ZXIueSwgMikpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRuZXdsYWJlbFggPSBjZW50ZXIueCAtIE1hdGguc3FydChNYXRoLnBvdyhpbmRleExhYmVsUmFkaXVzLCAyKSAtIE1hdGgucG93KG5ld2xhYmVsWSAtIGNlbnRlci55LCAyKSk7XG5cblxuXHRcdFx0XHRpbmRleExhYmVsTGluZVN0YXJ0WCA9IGNlbnRlci54ICsgb3V0ZXJSYWRpdXMgKiBNYXRoLmNvcyhkYXRhUG9pbnRFTy5taWRBbmdsZSk7XG5cdFx0XHRcdGluZGV4TGFiZWxMaW5lU3RhcnRZID0gY2VudGVyLnkgKyBvdXRlclJhZGl1cyAqIE1hdGguc2luKGRhdGFQb2ludEVPLm1pZEFuZ2xlKTtcblxuXHRcdFx0XHRkaXN0RnJvbUluZGV4TGluZVN0YXJ0ID0gTWF0aC5zcXJ0KE1hdGgucG93KG5ld2xhYmVsWCAtIGluZGV4TGFiZWxMaW5lU3RhcnRYLCAyKSArIE1hdGgucG93KG5ld2xhYmVsWSAtIGluZGV4TGFiZWxMaW5lU3RhcnRZLCAyKSk7XG5cblx0XHRcdFx0aW5kZXhMYWJlbEFuZ2xlV2hlblRhbmdlbnQgPSBNYXRoLmFjb3Mob3V0ZXJSYWRpdXMgLyBpbmRleExhYmVsUmFkaXVzKTtcblxuXHRcdFx0XHQvL2luZGV4TGFiZWxBbmdsZSA9IE1hdGguYWNvcygob3V0ZXJSYWRpdXMgKiBvdXRlclJhZGl1cyArIGRpc3RGcm9tSW5kZXhMaW5lU3RhcnQgKiBkaXN0RnJvbUluZGV4TGluZVN0YXJ0IC0gaW5kZXhMYWJlbFJhZGl1cyAqIGluZGV4TGFiZWxSYWRpdXMpIC8gKDIgKiBvdXRlclJhZGl1cyAqIGRpc3RGcm9tSW5kZXhMaW5lU3RhcnQpKTtcblx0XHRcdFx0aW5kZXhMYWJlbEFuZ2xlID0gTWF0aC5hY29zKChpbmRleExhYmVsUmFkaXVzICogaW5kZXhMYWJlbFJhZGl1cyArIG91dGVyUmFkaXVzICogb3V0ZXJSYWRpdXMgLSBkaXN0RnJvbUluZGV4TGluZVN0YXJ0ICogZGlzdEZyb21JbmRleExpbmVTdGFydCkgLyAoMiAqIG91dGVyUmFkaXVzICogaW5kZXhMYWJlbFJhZGl1cykpO1xuXG5cdFx0XHRcdGlmIChpbmRleExhYmVsQW5nbGUgPCBpbmRleExhYmVsQW5nbGVXaGVuVGFuZ2VudCkge1xuXHRcdFx0XHRcdHZhbGlkT2Zmc2V0ID0gbmV3bGFiZWxZIC0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55O1xuXHRcdFx0XHRcdC8vZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54ID0gbmV3bGFiZWxYO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXG5cdFx0XHRcdFx0dmFsaWRPZmZzZXQgPSAwO1xuXG5cdFx0XHRcdFx0Ly9kYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnggPSBuZXdsYWJlbFg7XG5cblx0XHRcdFx0XHQvL0luZGV4IExpbmUgaXMgb3ZlcmxhcHBpbmcgdGhlIHBpZS4gU28gbGV0cyBmaW5kIG91dCB0aGUgcG9pbnQgd2hlcmUgaW5kZXhsaW5lIGJlY29tZXMgYSB0YW5nZW50LlxuXG5cdFx0XHRcdFx0Ly9kaXN0RnJvbUluZGV4TGluZVN0YXJ0ID0gTWF0aC5zcXJ0KGluZGV4TGFiZWxSYWRpdXMgKiBpbmRleExhYmVsUmFkaXVzIC0gb3V0ZXJSYWRpdXMgKiBvdXRlclJhZGl1cyk7XG5cdFx0XHRcdFx0Ly8vL2Rpc3RGcm9tSW5kZXhMaW5lU3RhcnQgKj0gb2Zmc2V0IDwgMCA/IC0xIDogMTtcblx0XHRcdFx0XHQvLy8vaW5kZXhMYWJlbEFuZ2xlID0gTWF0aC5hY29zKChpbmRleExhYmVsUmFkaXVzICogaW5kZXhMYWJlbFJhZGl1cyArIG91dGVyUmFkaXVzICogb3V0ZXJSYWRpdXMgLSBkaXN0RnJvbUluZGV4TGluZVN0YXJ0ICogZGlzdEZyb21JbmRleExpbmVTdGFydCkgLyAoMiAqIG91dGVyUmFkaXVzICogaW5kZXhMYWJlbFJhZGl1cykpO1xuXHRcdFx0XHRcdC8vaW5kZXhMYWJlbEFuZ2xlID0gTWF0aC5hdGFuMihkaXN0RnJvbUluZGV4TGluZVN0YXJ0LCBvdXRlclJhZGl1cyk7XG5cblx0XHRcdFx0XHQvL25ld2xhYmVsWCA9IGNlbnRlci54ICsgaW5kZXhMYWJlbFJhZGl1cyAqIE1hdGguY29zKGluZGV4TGFiZWxBbmdsZSk7XG5cdFx0XHRcdFx0Ly9uZXdsYWJlbFkgPSBjZW50ZXIueSArIGluZGV4TGFiZWxSYWRpdXMgKiBNYXRoLnNpbihpbmRleExhYmVsQW5nbGUpO1xuXG5cdFx0XHRcdFx0Ly9hY3R1YWxPZmZzZXQgPSBuZXdsYWJlbFkgLSBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnk7XG5cblx0XHRcdFx0XHQvL2RhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSA9IG5ld2xhYmVsWTtcblx0XHRcdFx0XHQvL2RhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCA9IG5ld2xhYmVsWDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0Ly92YXIgdGVtcEluZGV4ID0gKGRhdGFQb2ludEluZGV4ICsgZGF0YVBvaW50RU9zLmxlbmd0aCAtIDEpICUgZGF0YVBvaW50RU9zLmxlbmd0aDtcblxuXHRcdFx0Ly92YXIgcHJldkRhdGFQb2ludEluZGV4ID0gZGF0YVBvaW50RU9zW3RlbXBJbmRleF0uaGVtaXNwaGVyZSA9PT0gZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA/IHRlbXBJbmRleCA6IG51bGw7XG5cblx0XHRcdHZhciBwcmV2RGF0YVBvaW50SW5kZXggPSBnZXRQcmV2aW91c0xhYmVsSW5kZXgoZGF0YVBvaW50SW5kZXgpO1xuXG5cdFx0XHQvL3RlbXBJbmRleCA9IChkYXRhUG9pbnRJbmRleCArIGRhdGFQb2ludEVPcy5sZW5ndGggKyAxKSAlIGRhdGFQb2ludEVPcy5sZW5ndGg7XG5cblx0XHRcdC8vdmFyIG5leHREYXRhUG9pbnRJbmRleCA9IGRhdGFQb2ludEVPc1t0ZW1wSW5kZXhdLmhlbWlzcGhlcmUgPT09IGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPyB0ZW1wSW5kZXggOiBudWxsO1xuXG5cdFx0XHR2YXIgbmV4dERhdGFQb2ludEluZGV4ID0gZ2V0TmV4dExhYmVsSW5kZXgoZGF0YVBvaW50SW5kZXgpO1xuXG5cdFx0XHR2YXIgb3RoZXJkYXRhUG9pbnRFTywgb3RoZXJEYXRhUG9pbnRJbmRleCwgZGlzdGFuY2VGcm9tT3RoZXJMYWJlbDtcblx0XHRcdHZhciBvdGhlckRhdGFQb2ludE9mZnNldCA9IDA7XG5cdFx0XHR2YXIgb3RoZXJEYXRhUG9pbnRBY3R1YWxPZmZzZXQgPSAwO1xuXG5cblx0XHRcdGlmICh2YWxpZE9mZnNldCA8IDApIHtcblxuXHRcdFx0XHRvdGhlckRhdGFQb2ludEluZGV4ID0gZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiID8gcHJldkRhdGFQb2ludEluZGV4IDogbmV4dERhdGFQb2ludEluZGV4O1xuXG5cdFx0XHRcdGFjdHVhbE9mZnNldCA9IHZhbGlkT2Zmc2V0O1xuXG5cdFx0XHRcdGlmIChvdGhlckRhdGFQb2ludEluZGV4ICE9PSBudWxsKSB7XG5cblx0XHRcdFx0XHQvL2lmIChkYXRhUG9pbnRJbmRleCA8IDQpXG5cdFx0XHRcdFx0Ly9cdGN1c3RvbVByb21wdChcInZhbGlkOiBcIiArIHZhbGlkT2Zmc2V0KTtcblxuXHRcdFx0XHRcdHZhciB0ZW1wT2Zmc2V0ID0gLXZhbGlkT2Zmc2V0O1xuXG5cdFx0XHRcdFx0dmFyIGRpc3RhbmNlRnJvbU90aGVyTGFiZWwgPSAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IC0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyKSAtIChkYXRhUG9pbnRFT3Nbb3RoZXJEYXRhUG9pbnRJbmRleF0uaW5kZXhMYWJlbFRleHRCbG9jay55ICsgZGF0YVBvaW50RU9zW290aGVyRGF0YVBvaW50SW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMik7XG5cblx0XHRcdFx0XHRpZiAoZGlzdGFuY2VGcm9tT3RoZXJMYWJlbCAtIHRlbXBPZmZzZXQgPCBtaW5EaXN0YW5jZUJldHdlZW5MYWJlbHMpIHtcblx0XHRcdFx0XHRcdG90aGVyRGF0YVBvaW50T2Zmc2V0ID0gLXRlbXBPZmZzZXQ7XG5cdFx0XHRcdFx0XHQvL3RvdGFsUmVjdXJzaW9ucysrO1xuXHRcdFx0XHRcdFx0b3RoZXJEYXRhUG9pbnRBY3R1YWxPZmZzZXQgPSByZVBvc2l0aW9uTGFiZWxzKG90aGVyRGF0YVBvaW50SW5kZXgsIG90aGVyRGF0YVBvaW50T2Zmc2V0LCByZWN1cnNpb25Db3VudCArIDEpO1xuXG5cdFx0XHRcdFx0XHQvL2lmIChkYXRhUG9pbnRJbmRleCA8IDQpXG5cdFx0XHRcdFx0XHQvL1x0Y3VzdG9tUHJvbXB0KGRhdGFQb2ludEluZGV4ICsgXCI7IFwiICsgXCJvZmZzZXQ6IFwiICsgb3RoZXJEYXRhUG9pbnRPZmZzZXQpO1xuXG5cblx0XHRcdFx0XHRcdGlmICgrb3RoZXJEYXRhUG9pbnRBY3R1YWxPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pID4gK290aGVyRGF0YVBvaW50T2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSkge1xuXG5cdFx0XHRcdFx0XHRcdGlmIChkaXN0YW5jZUZyb21PdGhlckxhYmVsID4gbWluRGlzdGFuY2VCZXR3ZWVuTGFiZWxzKVxuXHRcdFx0XHRcdFx0XHRcdGFjdHVhbE9mZnNldCA9IC0oZGlzdGFuY2VGcm9tT3RoZXJMYWJlbCAtIG1pbkRpc3RhbmNlQmV0d2VlbkxhYmVscyk7XG5cdFx0XHRcdFx0XHRcdFx0Ly9lbHNlXG5cdFx0XHRcdFx0XHRcdFx0Ly9cdGFjdHVhbE9mZnNldCA9IDA7XG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRhY3R1YWxPZmZzZXQgPSAtKHRlbXBPZmZzZXQgLSAob3RoZXJEYXRhUG9pbnRBY3R1YWxPZmZzZXQgLSBvdGhlckRhdGFQb2ludE9mZnNldCkpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvL2lmIChkYXRhUG9pbnRJbmRleCA8IDQpXG5cdFx0XHRcdFx0XHQvL1x0Y3VzdG9tUHJvbXB0KFwiYWN0dWFsOiBcIiArIGFjdHVhbE9mZnNldCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIGlmICh2YWxpZE9mZnNldCA+IDApIHtcblxuXHRcdFx0XHRvdGhlckRhdGFQb2ludEluZGV4ID0gZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiID8gbmV4dERhdGFQb2ludEluZGV4IDogcHJldkRhdGFQb2ludEluZGV4O1xuXG5cdFx0XHRcdGFjdHVhbE9mZnNldCA9IHZhbGlkT2Zmc2V0O1xuXG5cdFx0XHRcdGlmIChvdGhlckRhdGFQb2ludEluZGV4ICE9PSBudWxsKSB7XG5cblx0XHRcdFx0XHR2YXIgdGVtcE9mZnNldCA9IHZhbGlkT2Zmc2V0O1xuXG5cdFx0XHRcdFx0dmFyIGRpc3RhbmNlRnJvbU90aGVyTGFiZWwgPSAoZGF0YVBvaW50RU9zW290aGVyRGF0YVBvaW50SW5kZXhdLmluZGV4TGFiZWxUZXh0QmxvY2sueSAtIGRhdGFQb2ludEVPc1tvdGhlckRhdGFQb2ludEluZGV4XS5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpIC0gKGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSArIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMik7XG5cblx0XHRcdFx0XHRpZiAoZGlzdGFuY2VGcm9tT3RoZXJMYWJlbCAtIHRlbXBPZmZzZXQgPCBtaW5EaXN0YW5jZUJldHdlZW5MYWJlbHMpIHtcblx0XHRcdFx0XHRcdG90aGVyRGF0YVBvaW50T2Zmc2V0ID0gdGVtcE9mZnNldDtcblx0XHRcdFx0XHRcdC8vdG90YWxSZWN1cnNpb25zKys7XG5cdFx0XHRcdFx0XHRvdGhlckRhdGFQb2ludEFjdHVhbE9mZnNldCA9IHJlUG9zaXRpb25MYWJlbHMob3RoZXJEYXRhUG9pbnRJbmRleCwgb3RoZXJEYXRhUG9pbnRPZmZzZXQsIHJlY3Vyc2lvbkNvdW50ICsgMSk7XG5cblx0XHRcdFx0XHRcdGlmICgrb3RoZXJEYXRhUG9pbnRBY3R1YWxPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pIDwgK290aGVyRGF0YVBvaW50T2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSkge1xuXG5cdFx0XHRcdFx0XHRcdGlmIChkaXN0YW5jZUZyb21PdGhlckxhYmVsID4gbWluRGlzdGFuY2VCZXR3ZWVuTGFiZWxzKVxuXHRcdFx0XHRcdFx0XHRcdGFjdHVhbE9mZnNldCA9IGRpc3RhbmNlRnJvbU90aGVyTGFiZWwgLSBtaW5EaXN0YW5jZUJldHdlZW5MYWJlbHM7XG5cdFx0XHRcdFx0XHRcdFx0Ly9lbHNlXG5cdFx0XHRcdFx0XHRcdFx0Ly9cdGFjdHVhbE9mZnNldCA9IDA7XG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRhY3R1YWxPZmZzZXQgPSB0ZW1wT2Zmc2V0IC0gKG90aGVyRGF0YVBvaW50T2Zmc2V0IC0gb3RoZXJEYXRhUG9pbnRBY3R1YWxPZmZzZXQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9pZiAoIShkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIgKyBhY3R1YWxPZmZzZXQgPCBsYWJlbFlNYXgpKSB7XG5cdFx0XHRcdC8vXHRpZiAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55ICsgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyIDwgbGFiZWxZTWF4KSB7XG5cdFx0XHRcdC8vXHRcdGFjdHVhbE9mZnNldCA9IGxhYmVsWU1heCAtIChkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpO1xuXHRcdFx0XHQvL1x0fVxuXHRcdFx0XHQvL1x0ZWxzZSB7XG5cdFx0XHRcdC8vXHRcdGFjdHVhbE9mZnNldCA9IDA7XG5cdFx0XHRcdC8vXHR9XG5cdFx0XHRcdC8vfVxuXG5cdFx0XHR9XG5cblx0XHRcdGlmIChhY3R1YWxPZmZzZXQpIHtcblxuXHRcdFx0XHR2YXIgbmV3TGFiZWxZID0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55ICsgYWN0dWFsT2Zmc2V0O1xuXG5cblxuXG5cdFx0XHRcdHZhciBuZXdMYWJlbFggPSAwO1xuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcInJpZ2h0XCIpIHtcblx0XHRcdFx0XHRuZXdMYWJlbFggPSBjZW50ZXIueCArIE1hdGguc3FydChNYXRoLnBvdyhpbmRleExhYmVsUmFkaXVzLCAyKSAtIE1hdGgucG93KG5ld0xhYmVsWSAtIGNlbnRlci55LCAyKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdG5ld0xhYmVsWCA9IGNlbnRlci54IC0gTWF0aC5zcXJ0KE1hdGgucG93KGluZGV4TGFiZWxSYWRpdXMsIDIpIC0gTWF0aC5wb3cobmV3TGFiZWxZIC0gY2VudGVyLnksIDIpKTtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50RU8ubWlkQW5nbGUgPiAoTWF0aC5QSSAvIDIpIC0gcG9sZUFuZ2x1bGFyRGlzdGFuY2UgJiYgZGF0YVBvaW50RU8ubWlkQW5nbGUgPCAoTWF0aC5QSSAvIDIpICsgcG9sZUFuZ2x1bGFyRGlzdGFuY2UpIHtcblxuXHRcdFx0XHRcdHZhciBwcmV2RFBJbmRleCA9IChkYXRhUG9pbnRJbmRleCAtIDEgKyBkYXRhUG9pbnRFT3MubGVuZ3RoKSAlIGRhdGFQb2ludEVPcy5sZW5ndGg7XG5cdFx0XHRcdFx0dmFyIHByZXZEUCA9IGRhdGFQb2ludEVPc1twcmV2RFBJbmRleF07XG5cdFx0XHRcdFx0dmFyIG5leHREUCA9IGRhdGFQb2ludEVPc1soZGF0YVBvaW50SW5kZXggKyAxICsgZGF0YVBvaW50RU9zLmxlbmd0aCkgJSBkYXRhUG9pbnRFT3MubGVuZ3RoXTtcblxuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcImxlZnRcIiAmJiBwcmV2RFAuaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiICYmIG5ld0xhYmVsWCA+IHByZXZEUC5pbmRleExhYmVsVGV4dEJsb2NrLngpIHtcblx0XHRcdFx0XHRcdG5ld0xhYmVsWCA9IHByZXZEUC5pbmRleExhYmVsVGV4dEJsb2NrLnggLSAxNTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPT09IFwicmlnaHRcIiAmJiBuZXh0RFAuaGVtaXNwaGVyZSA9PT0gXCJsZWZ0XCIgJiYgbmV3TGFiZWxYIDwgbmV4dERQLmluZGV4TGFiZWxUZXh0QmxvY2sueCkge1xuXHRcdFx0XHRcdFx0bmV3TGFiZWxYID0gbmV4dERQLmluZGV4TGFiZWxUZXh0QmxvY2sueCArIDE1O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChkYXRhUG9pbnRFTy5taWRBbmdsZSA+ICgzICogTWF0aC5QSSAvIDIpIC0gcG9sZUFuZ2x1bGFyRGlzdGFuY2UgJiYgZGF0YVBvaW50RU8ubWlkQW5nbGUgPCAoMyAqIE1hdGguUEkgLyAyKSArIHBvbGVBbmdsdWxhckRpc3RhbmNlKSB7XG5cblx0XHRcdFx0XHR2YXIgcHJldkRQSW5kZXggPSAoZGF0YVBvaW50SW5kZXggLSAxICsgZGF0YVBvaW50RU9zLmxlbmd0aCkgJSBkYXRhUG9pbnRFT3MubGVuZ3RoO1xuXHRcdFx0XHRcdHZhciBwcmV2RFAgPSBkYXRhUG9pbnRFT3NbcHJldkRQSW5kZXhdO1xuXHRcdFx0XHRcdHZhciBuZXh0RFAgPSBkYXRhUG9pbnRFT3NbKGRhdGFQb2ludEluZGV4ICsgMSArIGRhdGFQb2ludEVPcy5sZW5ndGgpICUgZGF0YVBvaW50RU9zLmxlbmd0aF07XG5cblx0XHRcdFx0XHRpZiAoZGF0YVBvaW50RU8uaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiICYmIHByZXZEUC5oZW1pc3BoZXJlID09PSBcImxlZnRcIiAmJiBuZXdMYWJlbFggPCBwcmV2RFAuaW5kZXhMYWJlbFRleHRCbG9jay54KSB7XG5cdFx0XHRcdFx0XHRuZXdMYWJlbFggPSBwcmV2RFAuaW5kZXhMYWJlbFRleHRCbG9jay54ICsgMTU7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcImxlZnRcIiAmJiBuZXh0RFAuaGVtaXNwaGVyZSA9PT0gXCJyaWdodFwiICYmIG5ld0xhYmVsWCA+IG5leHREUC5pbmRleExhYmVsVGV4dEJsb2NrLngpIHtcblx0XHRcdFx0XHRcdG5ld0xhYmVsWCA9IG5leHREUC5pbmRleExhYmVsVGV4dEJsb2NrLnggLSAxNTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvL2lmIChhY3R1YWxPZmZzZXQgPCAwICYmIGRhdGFQb2ludEluZGV4IDwgNClcblx0XHRcdFx0Ly9cdGN1c3RvbVByb21wdChhY3R1YWxPZmZzZXQudG9GaXhlZCgyKSArIFwiOyBcIiArIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueS50b0ZpeGVkKDIpICsgXCI7IFwiICsgbmV3TGFiZWxZLnRvRml4ZWQoMikpO1xuXG5cdFx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSA9IG5ld0xhYmVsWTtcblxuXHRcdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnggPSBuZXdMYWJlbFg7XG5cblx0XHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbEFuZ2xlID0gTWF0aC5hdGFuMigoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IC0gY2VudGVyLnkpLCAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54IC0gY2VudGVyLngpKTtcblxuXHRcdFx0fVxuXG5cblx0XHR9XG5cblx0XHRyZXR1cm4gYWN0dWFsT2Zmc2V0O1xuXHR9XG5cblxuXHRmdW5jdGlvbiBwb3NpdGlvbkxhYmVscygpIHtcblx0XHR2YXIgY3R4ID0gX3RoaXMucGxvdEFyZWEuY3R4O1xuXG5cdFx0Y3R4LmZpbGxTdHlsZSA9IFwiZ3JleVwiO1xuXHRcdGN0eC5zdHJva2VTdHlsZSA9IFwiZ3JleVwiO1xuXHRcdHZhciBmb250U2l6ZSA9IDE2O1xuXHRcdGN0eC5mb250ID0gZm9udFNpemUgKyBcInB4IEFyaWFsXCI7XG5cdFx0Y3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG5cdFx0dmFyIGkgPSAwLCBqID0gMDtcblx0XHR2YXIgZGVsdGFSID0gMDtcblxuXHRcdHZhciByZXNpemVGbGFnID0gdHJ1ZTtcblxuXHRcdGZvciAoaiA9IDA7IGogPCAxMCAmJiAoaiA8IDEgfHwgZGVsdGFSID4gMCkgOyBqKyspIHtcblxuXHRcdFx0aWYgKGRhdGFTZXJpZXMucmFkaXVzIHx8ICghZGF0YVNlcmllcy5yYWRpdXMgJiYgdHlwZW9mIGRhdGFTZXJpZXMuaW5uZXJSYWRpdXMgIT09ICd1bmRlZmluZWQnICYmIGRhdGFTZXJpZXMuaW5uZXJSYWRpdXMgIT09IG51bGwgJiYgb3V0ZXJSYWRpdXMgLSBkZWx0YVIgPD0gaW5uZXJSYWRpdXMpKVxuXHRcdFx0XHRyZXNpemVGbGFnID0gZmFsc2U7XG5cblx0XHRcdGlmIChyZXNpemVGbGFnKVxuXHRcdFx0b3V0ZXJSYWRpdXMgLT0gZGVsdGFSO1xuXG5cdFx0XHRkZWx0YVIgPSAwO1xuXG5cdFx0XHRpZiAoZGF0YVNlcmllcy5pbmRleExhYmVsUGxhY2VtZW50ICE9PSBcImluc2lkZVwiKSB7XG5cblx0XHRcdFx0dmFyIGluZGV4TGFiZWxSYWRpdXMgPSBvdXRlclJhZGl1cyAqIGluZGV4TGFiZWxSYWRpdXNUb1JhZGl1c1JhdGlvO1xuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0dmFyIGRhdGFQb2ludEVPID0gZGF0YVBvaW50RU9zW2ldO1xuXG5cdFx0XHRcdFx0ZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54ID0gY2VudGVyLnggKyBpbmRleExhYmVsUmFkaXVzICogTWF0aC5jb3MoZGF0YVBvaW50RU8ubWlkQW5nbGUpO1xuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSA9IGNlbnRlci55ICsgaW5kZXhMYWJlbFJhZGl1cyAqIE1hdGguc2luKGRhdGFQb2ludEVPLm1pZEFuZ2xlKTtcblxuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxBbmdsZSA9IGRhdGFQb2ludEVPLm1pZEFuZ2xlO1xuXHRcdFx0XHRcdGRhdGFQb2ludEVPLnJhZGl1cyA9IG91dGVyUmFkaXVzO1xuXHRcdFx0XHRcdGRhdGFQb2ludEVPLnBlcmNlbnRJbm5lclJhZGl1cyA9IHBlcmNlbnRJbm5lclJhZGl1cztcblx0XHRcdFx0XHQvL2RhdGFQb2ludEVPLmluZGV4TGFiZWxGb250U2l6ZSA9IGRhdGFQb2ludC5pbmRleExhYmVsRm9udFNpemUgPyBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvbnRTaXplIDogZGF0YVNlcmllcy5pbmRleExhYmVsRm9udFNpemU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgY3VycmVudERhdGFQb2ludCwgbmV4dERhdGFQb2ludDtcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRcdHZhciBkYXRhUG9pbnRFTyA9IGRhdGFQb2ludEVPc1tpXTtcblx0XHRcdFx0XHQvL2RhdGFQb2ludEVPLmxhYlxuXHRcdFx0XHRcdC8vcmVzZXRBbmltYXRpb25GcmFtZSgpO1xuXHRcdFx0XHRcdC8vYW5pbWF0ZSgpO1xuXHRcdFx0XHRcdC8vcmVuZGVyTGFiZWxzKCk7XG5cblx0XHRcdFx0XHQvL3ZhciBwcmV2RGF0YVBvaW50SW5kZXggPSAoaSAtIDEgKyBkYXRhUG9pbnRFT3MubGVuZ3RoKSAlIGRhdGFQb2ludEVPcy5sZW5ndGg7XG5cblx0XHRcdFx0XHQvL3ZhciBuZXh0RGF0YVBvaW50SW5kZXggPSAoaSArIDEgKyBkYXRhUG9pbnRFT3MubGVuZ3RoKSAlIGRhdGFQb2ludEVPcy5sZW5ndGg7XG5cdFx0XHRcdFx0Ly9uZXh0RGF0YVBvaW50SW5kZXggPSBkYXRhUG9pbnRFT3NbbmV4dERhdGFQb2ludEluZGV4XS5oZW1pc3BoZXJlID09PSBkYXRhUG9pbnRFTy5oZW1pc3BoZXJlICYmIG5leHREYXRhUG9pbnRJbmRleCAhPT0gaSA/IG5leHREYXRhUG9pbnRJbmRleCA6IG51bGw7XG5cblx0XHRcdFx0XHR2YXIgbmV4dERhdGFQb2ludEluZGV4ID0gZ2V0TmV4dExhYmVsSW5kZXgoaSk7XG5cblx0XHRcdFx0XHRpZiAobmV4dERhdGFQb2ludEluZGV4ID09PSBudWxsKVxuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0XHRjdXJyZW50RGF0YVBvaW50ID0gZGF0YVBvaW50RU9zW2ldO1xuXHRcdFx0XHRcdG5leHREYXRhUG9pbnQgPSBkYXRhUG9pbnRFT3NbbmV4dERhdGFQb2ludEluZGV4XTtcblxuXG5cdFx0XHRcdFx0dmFyIGRpc3RhbmNlRnJvbU5leHRMYWJlbCA9IDA7XG5cblx0XHRcdFx0XHQvL2lmIChkYXRhUG9pbnRFTy5oZW1pc3BoZXJlID09PSBcInJpZ2h0XCIpXG5cdFx0XHRcdFx0Ly9cdGRpc3RhbmNlRnJvbU5leHRMYWJlbCA9IChuZXh0RGF0YVBvaW50LmluZGV4TGFiZWxUZXh0QmxvY2sueSAtIG5leHREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyKSAtIChjdXJyZW50RGF0YVBvaW50LmluZGV4TGFiZWxUZXh0QmxvY2sueSArIGN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyKSAtIG1pbkRpc3RhbmNlQmV0d2VlbkxhYmVscztcblx0XHRcdFx0XHQvL2Vsc2Vcblx0XHRcdFx0XHQvL1x0ZGlzdGFuY2VGcm9tTmV4dExhYmVsID0gKGN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay55IC0gY3VycmVudERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpIC0gKG5leHREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay55ICsgbmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpIC0gbWluRGlzdGFuY2VCZXR3ZWVuTGFiZWxzO1xuXG5cdFx0XHRcdFx0ZGlzdGFuY2VGcm9tTmV4dExhYmVsID0gZ2V0VmVydGljYWxEaXN0YW5jZUJldHdlZW5MYWJlbHMoY3VycmVudERhdGFQb2ludCwgbmV4dERhdGFQb2ludCkgLSBtaW5EaXN0YW5jZUJldHdlZW5MYWJlbHM7XG5cblxuXHRcdFx0XHRcdGlmIChkaXN0YW5jZUZyb21OZXh0TGFiZWwgPCAwKSB7XG5cblx0XHRcdFx0XHRcdHZhciBkYXRhUG9pbnRzQWJvdmUgPSAwO1xuXHRcdFx0XHRcdFx0dmFyIGRhdGFQb2ludHNCZWxvdyA9IDA7XG5cdFx0XHRcdFx0XHQvL3ZhciBpbmRleExhYmVsQW5nbGVXaGVuVGFuZ2VudCA9IE1hdGguYWNvcyhvdXRlclJhZGl1cyAvIGluZGV4TGFiZWxSYWRpdXMpIC8gTWF0aC5QSSAqIDE4MDtcblxuXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IGRhdGFQb2ludHMubGVuZ3RoOyBrKyspIHtcblxuXHRcdFx0XHRcdFx0XHRpZiAoayA9PT0gaSlcblx0XHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHRcdFx0XHQvL2lmIChkYXRhUG9pbnRFT3Nba10uaGVtaXNwaGVyZSAhPT0gZGF0YVBvaW50RU8uaGVtaXNwaGVyZSB8fCBNYXRoLmFicyhkYXRhUG9pbnRFT3Nba10ubWlkQW5nbGUgLSBkYXRhUG9pbnRFTy5taWRBbmdsZSkgPiAzMClcblx0XHRcdFx0XHRcdFx0Ly9cdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0XHQvL2lmIChkYXRhUG9pbnRFT3Nba10uaGVtaXNwaGVyZSAhPT0gZGF0YVBvaW50RU8uaGVtaXNwaGVyZSB8fCBNYXRoLmFicyhkYXRhUG9pbnRFT3Nba10ubGFiZWxBbmdsZSAtIGRhdGFQb2ludEVPLmluZGV4TGFiZWxBbmdsZSkgPiAzMClcblx0XHRcdFx0XHRcdFx0Ly9cdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0XHQvL2lmIChkYXRhUG9pbnRFT3Nba10uaGVtaXNwaGVyZSAhPT0gZGF0YVBvaW50RU8uaGVtaXNwaGVyZSB8fCBNYXRoLmFicyhkYXRhUG9pbnRFT3Nba10ubWlkQW5nbGUgLSBkYXRhUG9pbnRFTy5taWRBbmdsZSkgPiBpbmRleExhYmVsQW5nbGVXaGVuVGFuZ2VudClcblx0XHRcdFx0XHRcdFx0Ly9cdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0XHRpZiAoZGF0YVBvaW50RU9zW2tdLmhlbWlzcGhlcmUgIT09IGRhdGFQb2ludEVPLmhlbWlzcGhlcmUpXG5cdFx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGRhdGFQb2ludEVPc1trXS5pbmRleExhYmVsVGV4dEJsb2NrLnkgPCBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkpXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YVBvaW50c0Fib3ZlKys7XG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRkYXRhUG9pbnRzQmVsb3crKztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly92YXIgdXBXYXJkc09mZnNldCA9IChkaXN0YW5jZUZyb21OZXh0TGFiZWwpIC8gZGF0YVBvaW50cy5sZW5ndGggKiAoZGF0YVBvaW50c0JlbG93KTtcblx0XHRcdFx0XHRcdHZhciB1cFdhcmRzT2Zmc2V0ID0gKGRpc3RhbmNlRnJvbU5leHRMYWJlbCkgLyAoZGF0YVBvaW50c0Fib3ZlICsgZGF0YVBvaW50c0JlbG93IHx8IDEpICogKGRhdGFQb2ludHNCZWxvdyk7XG5cdFx0XHRcdFx0XHR2YXIgZG93bldhcmRzT2Zmc2V0ID0gLTEgKiAoZGlzdGFuY2VGcm9tTmV4dExhYmVsIC0gdXBXYXJkc09mZnNldCk7XG5cblx0XHRcdFx0XHRcdHZhciBhY3R1YWxVcHdhcmRPZmZzZXQgPSAwO1xuXHRcdFx0XHRcdFx0dmFyIGFjdHVhbERvd253YXJkT2Zmc2V0ID0gMDtcblxuXHRcdFx0XHRcdFx0aWYgKGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPT09IFwicmlnaHRcIikge1xuXHRcdFx0XHRcdFx0XHRhY3R1YWxVcHdhcmRPZmZzZXQgPSByZVBvc2l0aW9uTGFiZWxzKGksIHVwV2FyZHNPZmZzZXQpO1xuXG5cdFx0XHRcdFx0XHRcdC8vaWYgKGkgPCA0ICYmIGFjdHVhbERvd253YXJkT2Zmc2V0ICE9PSB1cFdhcmRzT2Zmc2V0KVxuXHRcdFx0XHRcdFx0XHQvL1x0Y3VzdG9tUHJvbXB0KGkgKyBcIjsgXCIgKyB1cFdhcmRzT2Zmc2V0LnRvRml4ZWQoMikgKyBcIjsgXCIgKyBhY3R1YWxVcHdhcmRPZmZzZXQudG9GaXhlZCgyKSk7XG5cblxuXHRcdFx0XHRcdFx0XHRkb3duV2FyZHNPZmZzZXQgPSAtMSAqIChkaXN0YW5jZUZyb21OZXh0TGFiZWwgLSBhY3R1YWxVcHdhcmRPZmZzZXQpO1xuXG5cdFx0XHRcdFx0XHRcdGFjdHVhbERvd253YXJkT2Zmc2V0ID0gcmVQb3NpdGlvbkxhYmVscyhuZXh0RGF0YVBvaW50SW5kZXgsIGRvd25XYXJkc09mZnNldCk7XG5cblx0XHRcdFx0XHRcdFx0Ly93aW5kb3cuYWxlcnQodHlwZW9mICtkb3duV2FyZHNPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pKTtcblx0XHRcdFx0XHRcdFx0Ly9TZXR0aW5nIHByZWNpc2lvbiB0byBtYWtlIHN1cmUgdGhhdCB0aGV5IGRvbid0IGJlY29tZSBub3QgZXF1YWwgYmVjb21lIG9mIG1pbm9yIGRpZmZlcmVuY2VzIC0gbGlrZSBhIGRpZmZlcmVuY2Ugb2YgLjAwMDAwMVxuXHRcdFx0XHRcdFx0XHRpZiAoK2FjdHVhbERvd253YXJkT2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSA8ICtkb3duV2FyZHNPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pICYmICthY3R1YWxVcHdhcmRPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pIDw9ICt1cFdhcmRzT2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSlcblx0XHRcdFx0XHRcdFx0XHRyZVBvc2l0aW9uTGFiZWxzKGksIC0oZG93bldhcmRzT2Zmc2V0IC0gYWN0dWFsRG93bndhcmRPZmZzZXQpKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YWN0dWFsVXB3YXJkT2Zmc2V0ID0gcmVQb3NpdGlvbkxhYmVscyhuZXh0RGF0YVBvaW50SW5kZXgsIHVwV2FyZHNPZmZzZXQpO1xuXG5cdFx0XHRcdFx0XHRcdGRvd25XYXJkc09mZnNldCA9IC0xICogKGRpc3RhbmNlRnJvbU5leHRMYWJlbCAtIGFjdHVhbFVwd2FyZE9mZnNldCk7XG5cblx0XHRcdFx0XHRcdFx0YWN0dWFsRG93bndhcmRPZmZzZXQgPSByZVBvc2l0aW9uTGFiZWxzKGksIGRvd25XYXJkc09mZnNldCk7XG5cblx0XHRcdFx0XHRcdFx0Ly9TZXR0aW5nIHByZWNpc2lvbiB0byBtYWtlIHN1cmUgdGhhdCB0aGV5IGRvbid0IGJlY29tZSBub3QgZXF1YWwgYmVjb21lIG9mIG1pbm9yIGRpZmZlcmVuY2VzIC0gbGlrZSBhIGRpZmZlcmVuY2Ugb2YgLjAwMDAwMVxuXHRcdFx0XHRcdFx0XHRpZiAoK2FjdHVhbERvd253YXJkT2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSA8ICtkb3duV2FyZHNPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pICYmICthY3R1YWxVcHdhcmRPZmZzZXQudG9GaXhlZChwcmVjaXNpb24pIDw9ICt1cFdhcmRzT2Zmc2V0LnRvRml4ZWQocHJlY2lzaW9uKSlcblx0XHRcdFx0XHRcdFx0XHRyZVBvc2l0aW9uTGFiZWxzKG5leHREYXRhUG9pbnRJbmRleCwgLShkb3duV2FyZHNPZmZzZXQgLSBhY3R1YWxEb3dud2FyZE9mZnNldCkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXG5cdFx0XHRcdFx0Ly9yZXNldEFuaW1hdGlvbkZyYW1lKCk7XG5cdFx0XHRcdFx0Ly9hbmltYXRlKCk7XG5cdFx0XHRcdFx0Ly9yZW5kZXJMYWJlbHMoKTtcblx0XHRcdFx0XHQvL3dpbmRvdy5hbGVydChcIm5leHQ/P1wiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRcdHZhciBkYXRhUG9pbnRFTyA9IGRhdGFQb2ludEVPc1tpXTtcblx0XHRcdFx0XHRpbmRleExhYmVsUmFkaXVzID0gZGF0YVNlcmllcy50eXBlID09PSBcInBpZVwiID8gb3V0ZXJSYWRpdXMgKiAuNyA6IG91dGVyUmFkaXVzICogLjg7XG5cblxuXHRcdFx0XHRcdHZhciBkeCA9IGNlbnRlci54ICsgaW5kZXhMYWJlbFJhZGl1cyAqIChNYXRoLmNvcygoZGF0YVBvaW50RU8ubWlkQW5nbGUpKSk7XG5cdFx0XHRcdFx0dmFyIGR5ID0gY2VudGVyLnkgKyBpbmRleExhYmVsUmFkaXVzICogKE1hdGguc2luKChkYXRhUG9pbnRFTy5taWRBbmdsZSkpKTtcblxuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCA9IGR4O1xuXHRcdFx0XHRcdGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSA9IGR5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlc2l6ZSBQaWUgYmFzZWQgb24gdGhlIGxhYmVsIGxlbmd0aC5cblx0XHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0ZGF0YVBvaW50RU8gPSBkYXRhUG9pbnRFT3NbaV07XG5cblx0XHRcdFx0dmFyIHNpemUgPSBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLm1lYXN1cmVUZXh0KCk7XG5cdFx0XHRcdC8vIFRvIG1ha2Ugc3VyZSB0aGF0IG51bGwgdGV4dCBvciBlbXB0eSBzdHJpbmdzIGRvbid0IGFmZmVjdCB0aGUgcmFkaXVzLiBSZXF1aXJlZCB3aGVuIHVzZXIgaXMgbm90IHNob3dpbmcgYW55IGxhYmVsc1xuXHRcdFx0XHRpZiAoc2l6ZS5oZWlnaHQgPT09IDAgfHwgc2l6ZS53aWR0aCA9PT0gMClcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHR2YXIgeE92ZXJmbG93ID0gMDtcblx0XHRcdFx0dmFyIHhkciA9IDA7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPT09IFwicmlnaHRcIikge1xuXHRcdFx0XHRcdHhPdmVyZmxvdyA9IHBsb3RBcmVhLngyIC0gKGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueCArIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sud2lkdGggKyBpbmRleExhYmVsTGluZUVkZ2VMZW5ndGgpO1xuXHRcdFx0XHRcdHhPdmVyZmxvdyAqPSAtMTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR4T3ZlcmZsb3cgPSBwbG90QXJlYS54MSAtIChkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnggLSBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLndpZHRoIC0gaW5kZXhMYWJlbExpbmVFZGdlTGVuZ3RoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoeE92ZXJmbG93ID4gMCkge1xuXHRcdFx0XHRcdGlmICghcmVzaXplRmxhZyAmJiBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dCkge1xuXHRcdFx0XHRcdFx0dmFyIG5ld0luZGV4TGFiZWxNYXhXaWR0aCA9IGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPT09IFwicmlnaHRcIiA/IHBsb3RBcmVhLngyIC0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54IDogZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54IC0gcGxvdEFyZWEueDE7XG5cdFx0XHRcdFx0XHRkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLm1heFdpZHRoICogLjMgPiBuZXdJbmRleExhYmVsTWF4V2lkdGggPyBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dCA9IFwiXCIgOiBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLm1heFdpZHRoID0gbmV3SW5kZXhMYWJlbE1heFdpZHRoICogLjg1O1xuXHRcdFx0XHRcdFx0aWYgKGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2subWF4V2lkdGggKiAuMyA8IG5ld0luZGV4TGFiZWxNYXhXaWR0aCkgZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay54IC09IGRhdGFQb2ludEVPLmhlbWlzcGhlcmUgPT09IFwicmlnaHRcIiA/IDIgOiAtMjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKE1hdGguYWJzKGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2sueSAtIGRhdGFQb2ludEVPLmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMiAtIGNlbnRlci55KSA8IG91dGVyUmFkaXVzXG5cdFx0XHRcdFx0XHR8fCBNYXRoLmFicyhkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIgLSBjZW50ZXIueSkgPCBvdXRlclJhZGl1cykge1xuXG5cdFx0XHRcdFx0XHR4ZHIgPSB4T3ZlcmZsb3cgLyBNYXRoLmFicyhNYXRoLmNvcyhkYXRhUG9pbnRFTy5pbmRleExhYmVsQW5nbGUpKTtcblxuXHRcdFx0XHRcdFx0aWYgKHhkciA+IDkpXG5cdFx0XHRcdFx0XHRcdHhkciA9IHhkciAqIC4zO1xuXG5cdFx0XHRcdFx0XHRpZiAoeGRyID4gZGVsdGFSKVxuXHRcdFx0XHRcdFx0XHRkZWx0YVIgPSB4ZHI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHlPdmVyZmxvdyA9IDA7XG5cdFx0XHRcdHZhciB5ZHIgPSAwO1xuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRFTy5pbmRleExhYmVsQW5nbGUgPiAwICYmIGRhdGFQb2ludEVPLmluZGV4TGFiZWxBbmdsZSA8IE1hdGguUEkpIHtcblx0XHRcdFx0XHR5T3ZlcmZsb3cgPSBwbG90QXJlYS55MiAtIChkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIgKyA1KTtcblx0XHRcdFx0XHR5T3ZlcmZsb3cgKj0gLTE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eU92ZXJmbG93ID0gcGxvdEFyZWEueTEgLSAoZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay55IC0gZGF0YVBvaW50RU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyIC0gNSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoeU92ZXJmbG93ID4gMCkge1xuXHRcdFx0XHRcdGlmICghcmVzaXplRmxhZyAmJiBkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dCkge1xuXHRcdFx0XHRcdFx0dmFyIHBvc2l0aW9uTXVsdGlwbGllciA9IGRhdGFQb2ludEVPLmluZGV4TGFiZWxBbmdsZSA+IDAgJiYgZGF0YVBvaW50RU8uaW5kZXhMYWJlbEFuZ2xlIDwgTWF0aC5QSSA/IC0xIDogMTtcblx0XHRcdFx0XHRcdGlmIChyZVBvc2l0aW9uTGFiZWxzKGksIHlPdmVyZmxvdyAqIHBvc2l0aW9uTXVsdGlwbGllcikgPT09IDApXG5cdFx0XHRcdFx0XHRcdHJlUG9zaXRpb25MYWJlbHMoaSwgMiAqIHBvc2l0aW9uTXVsdGlwbGllcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChNYXRoLmFicyhkYXRhUG9pbnRFTy5pbmRleExhYmVsVGV4dEJsb2NrLnggLSBjZW50ZXIueCkgPCBvdXRlclJhZGl1cykge1xuXG5cdFx0XHRcdFx0XHR5ZHIgPSB5T3ZlcmZsb3cgLyBNYXRoLmFicyhNYXRoLnNpbihkYXRhUG9pbnRFTy5pbmRleExhYmVsQW5nbGUpKTtcblxuXHRcdFx0XHRcdFx0aWYgKHlkciA+IDkpXG5cdFx0XHRcdFx0XHRcdHlkciA9IHlkciAqIC4zO1xuXG5cdFx0XHRcdFx0XHRpZiAoeWRyID4gZGVsdGFSKVxuXHRcdFx0XHRcdFx0XHRkZWx0YVIgPSB5ZHI7XG5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiByZW1vdmVMYWJlbHNGb3JTbWFsbFNlZ21lbnRzKHRvdGFsT3ZlcmxhcCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcblxuXHRcdFx0XHR2YXIgZHBFT3MgPSBbXTtcblx0XHRcdFx0dmFyIHRvdGFsUmVtb3ZlZExhYmVsSGVpZ2h0ID0gMDtcblxuXHRcdFx0XHRmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgdHJ1ZTsgaSA9IChpICsgMSArIGRhdGFQb2ludHMubGVuZ3RoKSAlIGRhdGFQb2ludHMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZHBFT3MucHVzaChkYXRhUG9pbnRFT3NbaV0pO1xuXG5cdFx0XHRcdFx0aWYgKGkgPT09IGVuZEluZGV4KVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkcEVPcy5zb3J0KGZ1bmN0aW9uIChlbnRyeTEsIGVudHJ5Mikge1xuXHRcdFx0XHRcdHJldHVybiBlbnRyeTEueSAtIGVudHJ5Mi55O1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZHBFT3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHR2YXIgZHBFTyA9IGRwRU9zW2ldO1xuXG5cdFx0XHRcdFx0aWYgKHRvdGFsUmVtb3ZlZExhYmVsSGVpZ2h0IDwgdG90YWxPdmVybGFwICogLjcpIHtcblx0XHRcdFx0XHRcdHRvdGFsUmVtb3ZlZExhYmVsSGVpZ2h0ICs9IGRwRU8uaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQ7XG5cdFx0XHRcdFx0XHRkcEVPLmluZGV4TGFiZWxUZXh0QmxvY2sudGV4dCA9IFwiXCI7XG5cdFx0XHRcdFx0XHRkcEVPLmluZGV4TGFiZWxUZXh0ID0gXCJcIjtcblx0XHRcdFx0XHRcdGRwRU8uaW5kZXhMYWJlbFRleHRCbG9jay5tZWFzdXJlVGV4dCgpO1xuXHRcdFx0XHRcdH0gZWxzZVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHQvL3Jlc2V0QW5pbWF0aW9uRnJhbWUoMSk7XG5cdFx0XHQvL2FuaW1hdGUoKTtcblx0XHRcdC8vd2luZG93LmFsZXJ0KFwibmV4dD8/XCIpO1xuXHRcdFx0ZnVuY3Rpb24gc2tpcExhYmVscygpIHtcblx0XHRcdHZhciBvdmVybGFwU3RhcnRJbmRleCA9IC0xO1xuXHRcdFx0dmFyIG92ZXJsYXBFbmRJbmRleCA9IC0xO1xuXHRcdFx0dmFyIHRvdGFsT3ZlcmxhcCA9IDA7XG5cdFx0XHRcdHZhciByZW1vdmVMYWJlbHMgPSBmYWxzZTtcblxuXHRcdFx0Zm9yICh2YXIgayA9IDA7IGsgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0cmVtb3ZlTGFiZWxzID0gZmFsc2U7XG5cdFx0XHRcdGN1cnJlbnREYXRhUG9pbnQgPSBkYXRhUG9pbnRFT3Nba107XG5cblx0XHRcdFx0aWYgKCFjdXJyZW50RGF0YVBvaW50LmluZGV4TGFiZWxUZXh0KVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdHZhciBuZXh0TGFiZWxJbmRleCA9IGdldE5leHRMYWJlbEluZGV4KGspO1xuXHRcdFx0XHRpZiAobmV4dExhYmVsSW5kZXggPT09IG51bGwpXG5cdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0dmFyIG5leHREYXRhUG9pbnQgPSBkYXRhUG9pbnRFT3NbbmV4dExhYmVsSW5kZXhdO1xuXG5cdFx0XHRcdGRpc3RhbmNlRnJvbU5leHRMYWJlbCA9IDA7XG5cblx0XHRcdFx0Ly9pZiAobmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLnkgPiBjdXJyZW50RGF0YVBvaW50LmluZGV4TGFiZWxUZXh0QmxvY2sueSlcblx0XHRcdFx0Ly9cdGRpc3RhbmNlRnJvbU5leHRMYWJlbCA9IChuZXh0RGF0YVBvaW50LmluZGV4TGFiZWxUZXh0QmxvY2sueSAtIChuZXh0RGF0YVBvaW50LmluZGV4TGFiZWxUZXh0QmxvY2suaGVpZ2h0IC8gMikpIC0gKGN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay55ICsgKGN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyKSk7XG5cdFx0XHRcdC8vZWxzZVxuXHRcdFx0XHQvL1x0ZGlzdGFuY2VGcm9tTmV4dExhYmVsID0gKGN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay55IC0gKGN1cnJlbnREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHRCbG9jay5oZWlnaHQgLyAyKSkgLSAobmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLnkgKyAobmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLmhlaWdodCAvIDIpKTtcblxuXHRcdFx0XHRkaXN0YW5jZUZyb21OZXh0TGFiZWwgPSBnZXRWZXJ0aWNhbERpc3RhbmNlQmV0d2VlbkxhYmVscyhjdXJyZW50RGF0YVBvaW50LCBuZXh0RGF0YVBvaW50KTtcblxuXHRcdFx0XHRpZiAoZGlzdGFuY2VGcm9tTmV4dExhYmVsIDwgMCAmJiBhcmVEYXRhUG9pbnRzVG9vQ2xvc2UoY3VycmVudERhdGFQb2ludCwgbmV4dERhdGFQb2ludCkpIHtcblx0XHRcdFx0XHRcdC8vaWYgKGRpc3RhbmNlRnJvbU5leHRMYWJlbCA8IDAgJiYgYXJlRGF0YVBvaW50c1Rvb0Nsb3NlKGN1cnJlbnREYXRhUG9pbnQsIG5leHREYXRhUG9pbnQpICkge1xuXHRcdFx0XHRcdGlmIChvdmVybGFwU3RhcnRJbmRleCA8IDApXG5cdFx0XHRcdFx0XHRvdmVybGFwU3RhcnRJbmRleCA9IGs7XG5cblx0XHRcdFx0XHRcdGlmIChuZXh0TGFiZWxJbmRleCAhPT0gb3ZlcmxhcFN0YXJ0SW5kZXgpIHtcblx0XHRcdFx0XHRcdG92ZXJsYXBFbmRJbmRleCA9IG5leHRMYWJlbEluZGV4O1xuXG5cdFx0XHRcdFx0dG90YWxPdmVybGFwICs9IC1kaXN0YW5jZUZyb21OZXh0TGFiZWw7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChrICUgTWF0aC5tYXgoZGF0YVBvaW50cy5sZW5ndGggLyAxMCwgMykgPT09IDApXG5cdFx0XHRcdFx0XHRcdHJlbW92ZUxhYmVscyA9IHRydWU7XG5cblx0XHRcdFx0XHQvL25leHREYXRhUG9pbnQuaW5kZXhMYWJlbFRleHQgPSBcIlwiO1xuXHRcdFx0XHRcdC8vbmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLnRleHQgPSBcIlwiO1xuXHRcdFx0XHRcdC8vbmV4dERhdGFQb2ludC5pbmRleExhYmVsVGV4dEJsb2NrLm1lYXN1cmVUZXh0KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdHJlbW92ZUxhYmVscyA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHJlbW92ZUxhYmVscykge1xuXG5cdFx0XHRcdFx0XHRpZiAodG90YWxPdmVybGFwID4gMCAmJiBvdmVybGFwU3RhcnRJbmRleCA+PSAwICYmIG92ZXJsYXBFbmRJbmRleCA+PSAwKSB7XG5cdFx0XHRcdFx0XHRyZW1vdmVMYWJlbHNGb3JTbWFsbFNlZ21lbnRzKHRvdGFsT3ZlcmxhcCwgb3ZlcmxhcFN0YXJ0SW5kZXgsIG92ZXJsYXBFbmRJbmRleCk7XG5cblx0XHRcdFx0XHRcdG92ZXJsYXBTdGFydEluZGV4ID0gLTE7XG5cdFx0XHRcdFx0XHRvdmVybGFwRW5kSW5kZXggPSAtMTtcblx0XHRcdFx0XHRcdHRvdGFsT3ZlcmxhcCA9IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0b3RhbE92ZXJsYXAgPiAwKVxuXHRcdFx0XHRyZW1vdmVMYWJlbHNGb3JTbWFsbFNlZ21lbnRzKHRvdGFsT3ZlcmxhcCwgb3ZlcmxhcFN0YXJ0SW5kZXgsIG92ZXJsYXBFbmRJbmRleCk7XG5cdFx0XHR9XG5cblx0XHRcdHNraXBMYWJlbHMoKTtcblxuXG5cdFx0fVxuXHRcdC8vd2luZG93LmFsZXJ0KFwibmV4dD8/XCIpO1xuXG5cblx0XHQvL3Jlc2V0QW5pbWF0aW9uRnJhbWUoX3RoaXMuYW5pbWF0aW9uRW5hYmxlZCAmJiBfdGhpcy5yZW5kZXJDb3VudCA9PT0gMCA/IGlzQ2FudmFzU3VwcG9ydGVkID8gNjAgOiAzMCA6IDEpO1xuXHRcdC8vYW5pbWF0ZSgpO1xuXG5cdFx0Ly9jb25zb2xlLmxvZyhcInRvdGFsUmVjdXJzaW9uczogXCIgKyB0b3RhbFJlY3Vyc2lvbnMpO1xuXHR9XG5cblxuXHR0aGlzLnBpZURvdWdobnV0Q2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcblxuXHRcdGlmIChfdGhpcy5pc0FuaW1hdGluZykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBpID0gZS5kYXRhUG9pbnRJbmRleDtcblx0XHR2YXIgZGF0YVBvaW50ID0gZS5kYXRhUG9pbnQ7XG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzO1xuXG5cblx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tpXTtcblxuXHRcdC8vZGF0YVBvaW50RU8gPSBfdGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF07XG5cblx0XHRpZiAoZGF0YVBvaW50LmV4cGxvZGVkKVxuXHRcdFx0ZGF0YVBvaW50LmV4cGxvZGVkID0gZmFsc2U7XG5cdFx0ZWxzZVxuXHRcdFx0ZGF0YVBvaW50LmV4cGxvZGVkID0gdHJ1ZTtcblxuXG5cdFx0Ly8gU28gdGhhdCBpdCBkb2Vzbid0IHRyeSB0byBleHBsb2RlIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgc2VnbWVudFxuXHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludHMubGVuZ3RoID4gMSkge1xuXHRcdFx0X3RoaXMuX2FuaW1hdG9yLmFuaW1hdGUoMCwgZXhwbG9kZUR1cmF0aW9uLCBmdW5jdGlvbiAoZnJhY3Rpb25Db21wbGV0ZSkge1xuXG5cdFx0XHRcdGV4cGxvZGVUb2dnbGUoZnJhY3Rpb25Db21wbGV0ZSk7XG5cdFx0XHRcdHJlbmRlckNoYXJ0RWxlbWVudHNJblBsb3RBcmVhKCk7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coXCJFeHBsb2RlIFN0YXJ0XCIpO1xuXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm47XG5cdH1cblxuXHRpbml0TGFiZWxzKCk7XG5cblx0cG9zaXRpb25MYWJlbHMoKTtcblx0cG9zaXRpb25MYWJlbHMoKTtcblx0cG9zaXRpb25MYWJlbHMoKTtcblx0cG9zaXRpb25MYWJlbHMoKTtcblxuXHR0aGlzLmRpc2FibGVUb29sVGlwID0gdHJ1ZTtcblx0dGhpcy5fYW5pbWF0b3IuYW5pbWF0ZSgwLCB0aGlzLmFuaW1hdGVkUmVuZGVyID8gdGhpcy5hbmltYXRpb25EdXJhdGlvbiA6IDAsIGZ1bmN0aW9uIChmcmFjdGlvbkNvbXBsZXRlKSB7XG5cblx0XHRhbmltYXRlKGZyYWN0aW9uQ29tcGxldGUpO1xuXHRcdHJlbmRlckNoYXJ0RWxlbWVudHNJblBsb3RBcmVhKCk7XG5cblx0fSwgZnVuY3Rpb24gKCkge1xuXG5cdFx0X3RoaXMuZGlzYWJsZVRvb2xUaXAgPSBmYWxzZTtcblx0XHRfdGhpcy5fYW5pbWF0b3IuYW5pbWF0ZSgwLCBfdGhpcy5hbmltYXRlZFJlbmRlciA/IGV4cGxvZGVEdXJhdGlvbiA6IDAsIGZ1bmN0aW9uIChmcmFjdGlvbkNvbXBsZXRlKSB7XG5cblx0XHRcdGV4cGxvZGVUb2dnbGUoZnJhY3Rpb25Db21wbGV0ZSk7XG5cdFx0XHRyZW5kZXJDaGFydEVsZW1lbnRzSW5QbG90QXJlYSgpO1xuXG5cdFx0fSk7XG5cblx0XHQvL2NvbnNvbGUubG9nKFwiQW5pbWF0aW9uIENvbXBsZXRlXCIpO1xuXHR9KTtcblxuXHRmdW5jdGlvbiByZW5kZXJDaGFydEVsZW1lbnRzSW5QbG90QXJlYSgpIHtcblxuXHRcdF90aGlzLnBsb3RBcmVhLmxheW91dE1hbmFnZXIucmVzZXQoKTtcblxuXHRcdGlmIChfdGhpcy5fdGl0bGUpIHtcblx0XHRcdGlmIChfdGhpcy5fdGl0bGUuZG9ja0luc2lkZVBsb3RBcmVhIHx8IChfdGhpcy5fdGl0bGUuaG9yaXpvbnRhbEFsaWduID09PSBcImNlbnRlclwiICYmIF90aGlzLl90aXRsZS52ZXJ0aWNhbEFsaWduID09PSBcImNlbnRlclwiKSlcblx0XHRcdFx0X3RoaXMuX3RpdGxlLnJlbmRlcigpO1xuXG5cdFx0fVxuXG5cdFx0aWYgKF90aGlzLnN1YnRpdGxlcylcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuc3VidGl0bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBzdWJ0aXRsZSA9IF90aGlzLnN1YnRpdGxlc1tpXTtcblx0XHRcdFx0aWYgKHN1YnRpdGxlLmRvY2tJbnNpZGVQbG90QXJlYSB8fCAoc3VidGl0bGUuaG9yaXpvbnRhbEFsaWduID09PSBcImNlbnRlclwiICYmIHN1YnRpdGxlLnZlcnRpY2FsQWxpZ24gPT09IFwiY2VudGVyXCIpKVxuXHRcdFx0XHRcdHN1YnRpdGxlLnJlbmRlcigpO1xuXHRcdFx0fVxuXG5cdFx0aWYgKF90aGlzLmxlZ2VuZCkge1xuXHRcdFx0aWYgKF90aGlzLmxlZ2VuZC5kb2NrSW5zaWRlUGxvdEFyZWEgfHwgKF90aGlzLmxlZ2VuZC5ob3Jpem9udGFsQWxpZ24gPT09IFwiY2VudGVyXCIgJiYgX3RoaXMubGVnZW5kLnZlcnRpY2FsQWxpZ24gPT09IFwiY2VudGVyXCIpKVxuXHRcdFx0XHRfdGhpcy5sZWdlbmQucmVuZGVyKCk7XG5cdFx0fVxuXHR9XG5cblx0Ly90aGlzLmN0eC5zdHJva2VSZWN0KHBsb3RBcmVhLngxICsgMSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoIC0gMiwgcGxvdEFyZWEuaGVpZ2h0KTtcbn1cbiIsIlxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xuXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcblx0XHRyZXR1cm47XG5cblx0dmFyIGdob3N0Q3R4ID0gdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4O1xuXG5cdHZhciBheGlzWFByb3BzID0gcGxvdFVuaXQuYXhpc1gubGluZUNvb3JkaW5hdGVzO1xuXHR2YXIgYXhpc1lQcm9wcyA9IHBsb3RVbml0LmF4aXNZLmxpbmVDb29yZGluYXRlcztcblx0dmFyIG1hcmtlcnMgPSBbXTtcblxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuXHRjdHguc2F2ZSgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRnaG9zdEN0eC5zYXZlKCk7XG5cblx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRjdHguY2xpcCgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xuXHRcdGdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0XHRnaG9zdEN0eC5jbGlwKCk7XG5cdH1cblxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XG5cblx0XHR2YXIgY2xvc2luZ1BhdGggPSBbXTtcblxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcblxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XG5cblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblxuXHRcdHZhciBzZXJpZXNJZCA9IGRhdGFTZXJpZXMuaWQ7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtzZXJpZXNJZF0gPSB7XG5cdFx0XHRvYmplY3RUeXBlOiBcImRhdGFTZXJpZXNcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXhcblx0XHR9O1xuXG5cdFx0dmFyIGhleENvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhzZXJpZXNJZCk7XG5cdFx0Z2hvc3RDdHguZmlsbFN0eWxlID0gaGV4Q29sb3I7XG5cdFx0Ly9naG9zdEN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XG5cdFx0Ly9naG9zdEN0eC5saW5lV2lkdGggPSAyMDtcblxuXHRcdG1hcmtlcnMgPSBbXTtcblxuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XG5cdFx0dmFyIGkgPSAwLCB4LCB5MSwgeTI7XG5cdFx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBiYWNrIGFuZCBmb3J0aC5cblxuXHRcdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXHRcdHZhciBiYXNlWTtcblxuXHRcdHZhciBzdGFydFBvaW50ID0gbnVsbDtcblxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vY3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xuXHRcdFx0dmFyIGNvbG9yID0gZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XG5cdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IFwicmVkXCI7XG5cdFx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcblx0XHRcdGN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XG5cblx0XHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcblx0XHRcdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkoZGF0YVNlcmllcy5saW5lRGFzaFR5cGUsIGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcykpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcHJldkRhdGFOdWxsID0gdHJ1ZTtcblx0XHRcdGZvciAoOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLnkgPT09IG51bGwgfHwgIWRhdGFQb2ludHNbaV0ueS5sZW5ndGhcblx0XHRcdFx0XHR8fCB0eXBlb2YgKGRhdGFQb2ludHNbaV0ueVswXSkgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIChkYXRhUG9pbnRzW2ldLnlbMV0pICE9PSBcIm51bWJlclwiKSB7XG5cblx0XHRcdFx0XHRjbG9zZUFyZWEoKTtcblxuXHRcdFx0XHRcdHByZXZEYXRhTnVsbCA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblxuXHRcdFx0XHR5MSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55WzBdIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0eTIgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueVsxXSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cblx0XHRcdFx0aWYgKGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhIHx8IHByZXZEYXRhTnVsbCkge1xuXHRcdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRjdHgubW92ZVRvKHgsIHkxKTtcblx0XHRcdFx0XHRzdGFydFBvaW50ID0ge1xuXHRcdFx0XHRcdFx0eDogeCwgeTogeTFcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGNsb3NpbmdQYXRoID0gW107XG5cdFx0XHRcdFx0Y2xvc2luZ1BhdGgucHVzaCh7IHg6IHgsIHk6IHkyIH0pO1xuXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5MSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSBmYWxzZTtcblx0XHRcdFx0XHRwcmV2RGF0YU51bGwgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblxuXHRcdFx0XHRcdGN0eC5saW5lVG8oeCwgeTEpO1xuXHRcdFx0XHRcdGNsb3NpbmdQYXRoLnB1c2goeyB4OiB4LCB5OiB5MiB9KTtcblxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4LCB5MSk7XG5cblx0XHRcdFx0XHRpZiAoaSAlIDI1MCA9PSAwKSB7XG5cdFx0XHRcdFx0XHRjbG9zZUFyZWEoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgsIHkxOiB5MSwgeTI6IHkyXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly9SZW5kZXIgTWFya2VyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgIT09IDApIHtcblx0XHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5tYXJrZXJTaXplID4gMCB8fCBkYXRhU2VyaWVzLm1hcmtlclNpemUgPiAwKSB7XG5cdFx0XHRcdFx0XHR2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaSwgeCwgeTIsIGN0eCk7XG5cdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2gobWFya2VyUHJvcHMpO1xuXG5cdFx0XHRcdFx0XHQvL2lmICghZGF0YVNlcmllcy5tYXhXaWR0aEluWCB8fCBtYXJrZXJQcm9wcy5zaXplID4gZGF0YVNlcmllcy5tYXhXaWR0aEluWCkge1xuXHRcdFx0XHRcdFx0Ly9cdGRhdGFTZXJpZXMubWF4V2lkdGhJblggPSBtYXJrZXJQcm9wcy5zaXplIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcblx0XHRcdFx0XHRcdC8vfVxuXG5cdFx0XHRcdFx0XHR2YXIgbWFya2VyQ29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcblxuXHRcdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdFx0eDogeCwgeTogeTIsIGN0eDogZ2hvc3RDdHgsXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogbWFya2VyUHJvcHMudHlwZSxcblx0XHRcdFx0XHRcdFx0XHRzaXplOiBtYXJrZXJQcm9wcy5zaXplLFxuXHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBtYXJrZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJDb2xvcjogbWFya2VyQ29sb3IsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3Ncblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdG1hcmtlclByb3BzID0gZGF0YVNlcmllcy5nZXRNYXJrZXJQcm9wZXJ0aWVzKGksIHgsIHkxLCBjdHgpO1xuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlclByb3BzKTtcblxuXG5cblx0XHRcdFx0XHRcdHZhciBtYXJrZXJDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xuXG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5MSwgY3R4OiBnaG9zdEN0eCxcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiBtYXJrZXJQcm9wcy50eXBlLFxuXHRcdFx0XHRcdFx0XHRcdHNpemU6IG1hcmtlclByb3BzLnNpemUsXG5cdFx0XHRcdFx0XHRcdFx0Y29sb3I6IG1hcmtlckNvbG9yLFxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlckNvbG9yOiBtYXJrZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJUaGlja25lc3M6IG1hcmtlclByb3BzLmJvcmRlclRoaWNrbmVzc1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XG5cblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJyYW5nZUFyZWFcIixcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRpbmRleEtleXdvcmQ6IDAsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5MVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55WzBdIDw9IGRhdGFQb2ludHNbaV0ueVsxXSA/IC0xIDogMSxcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwicmFuZ2VBcmVhXCIsXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxuXHRcdFx0XHRcdFx0aW5kZXhLZXl3b3JkOiAxLFxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogeTJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueVswXSA8PSBkYXRhUG9pbnRzW2ldLnlbMV0gPyAxIDogLTEsXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3Jcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9hbGVydChcImhpXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRjbG9zZUFyZWEoKTtcblxuXHRcdFx0Ly9zdGFydFBvaW50ID0geyB4OiB4LCB5OiB5IH07XG5cdFx0XHRSZW5kZXJIZWxwZXIuZHJhd01hcmtlcnMobWFya2Vycyk7XG5cdFx0fVxuXHR9XG5cblx0Y3R4LnJlc3RvcmUoKTtcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZXN0b3JlKCk7XG5cblx0ZnVuY3Rpb24gY2xvc2VBcmVhKCkge1xuXG5cdFx0aWYgKCFzdGFydFBvaW50KVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0dmFyIHBvaW50ID0gbnVsbDtcblxuXHRcdGlmIChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MgPiAwKVxuXHRcdFx0Y3R4LnN0cm9rZSgpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IGNsb3NpbmdQYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRwb2ludCA9IGNsb3NpbmdQYXRoW2ldO1xuXHRcdFx0Y3R4LmxpbmVUbyhwb2ludC54LCBwb2ludC55KTtcblx0XHRcdGdob3N0Q3R4LmxpbmVUbyhwb2ludC54LCBwb2ludC55KTtcblx0XHR9XG5cblxuXG5cdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXHRcdC8vY3R4LmxpbmVUbyhzdGFydFBvaW50LngsIHN0YXJ0UG9pbnQueSk7XG5cblx0XHRjdHguZ2xvYmFsQWxwaGEgPSBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5O1xuXHRcdGN0eC5maWxsKCk7XG5cdFx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcblxuXHRcdGdob3N0Q3R4LmZpbGwoKTtcblxuXHRcdC8vaWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0Ly9cdGdob3N0Q3R4LmxpbmVUbyh4LCBiYXNlWSk7XG5cdFx0Ly9cdGdob3N0Q3R4LmxpbmVUbyhzdGFydFBvaW50LngsIGJhc2VZKTtcblx0XHQvL1x0Z2hvc3RDdHguY2xvc2VQYXRoKCk7XG5cdFx0Ly9cdGdob3N0Q3R4LmZpbGwoKTtcblx0XHQvL31cblxuXHRcdGlmIChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MgPiAwKSB7XG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRjdHgubW92ZVRvKHBvaW50LngsIHBvaW50LnkpO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjbG9zaW5nUGF0aC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRwb2ludCA9IGNsb3NpbmdQYXRoW2ldO1xuXHRcdFx0XHRjdHgubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xuXHRcdFx0fVxuXG5cdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0fVxuXG5cblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0Y3R4Lm1vdmVUbyh4LCB5MSk7XG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0Z2hvc3RDdHgubW92ZVRvKHgsIHkxKTtcblxuXHRcdHN0YXJ0UG9pbnQgPSB7XG5cdFx0XHR4OiB4LCB5OiB5MVxuXHRcdH07XG5cdFx0Y2xvc2luZ1BhdGggPSBbXTtcblx0XHRjbG9zaW5nUGF0aC5wdXNoKHsgeDogeCwgeTogeTIgfSk7XG5cdH1cblxuXHQvL2N0eC5iZWdpblBhdGgoKTtcblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueENsaXBBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmxpbmVhciwgYW5pbWF0aW9uQmFzZTogMFxuXHR9O1xuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcbn1cbiIsIlxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xuXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcblx0XHRyZXR1cm47XG5cblx0dmFyIGNvbG9yID0gbnVsbDtcblxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuXG5cdHZhciBpID0gMCwgeDEsIHgyLCB5O1xuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGZyb20gZGF0YVRpbWUgZXZlcnl0aW1lIGl0IGlzIHVzZWQuXG5cblx0Ly9JbiBjYXNlIG9mIEJhciBDaGFydCwgeVplcm9Ub1BpeGVsIGlzIHggY28tb3JkaW5hdGUhXG5cdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSkgPDwgMDtcblxuXHR2YXIgbWF4QmFyV2lkdGggPSB0aGlzLmRhdGFQb2ludE1heFdpZHRoID8gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA6IE1hdGgubWluKCh0aGlzLmhlaWdodCAqIC4xNSksIHRoaXMucGxvdEFyZWEuaGVpZ2h0IC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XG5cdC8vdmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEuaGVpZ2h0IC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gdG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XG5cblx0dmFyIGJhcldpZHRoID0gKCgocGxvdEFyZWEuaGVpZ2h0IC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XG5cblx0aWYgKGJhcldpZHRoID4gbWF4QmFyV2lkdGgpXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcblx0ZWxzZSBpZiAoeE1pbkRpZmYgPT09IEluZmluaXR5KSB7XG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aCAvIHBsb3RVbml0LnBsb3RUeXBlLnRvdGFsRGF0YVNlcmllcyAqIC45O1xuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcblx0XHRiYXJXaWR0aCA9IDE7XG5cblx0Y3R4LnNhdmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHguY2xpcCgpO1xuXHR9XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xuXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xuXG5cblx0XHQvL2RhdGFTZXJpZXMubWF4V2lkdGhJblggPSBiYXJXaWR0aCAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XG5cblxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XG5cblx0XHRcdHZhciBiZXZlbEVuYWJsZWQgPSAoYmFyV2lkdGggPiA1KSAmJiBkYXRhU2VyaWVzLmJldmVsRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcblxuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGRhdGFQb2ludHNbaV0uZ2V0VGltZSA/IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpIDogZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueDtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ueSA9PT0gbnVsbCB8fCAhZGF0YVBvaW50c1tpXS55Lmxlbmd0aFxuXHRcdFx0XHRcdHx8IHR5cGVvZiAoZGF0YVBvaW50c1tpXS55WzBdKSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgKGRhdGFQb2ludHNbaV0ueVsxXSkgIT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0Ly94IGFuZCB5IGFyZSBwaXhlbCBjby1vcmRpbmF0ZXMgb2YgcG9pbnQgYW5kIHNob3VsZCBub3QgYmUgY29uZnVzZWQgd2l0aCBYIGFuZCBZIHZhbHVlc1xuXHRcdFx0XHR4MSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55WzBdIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0eDIgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueVsxXSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cblx0XHRcdFx0eSA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cblxuXHRcdFx0XHR2YXIgeTEgPSAoeSAtIChwbG90VW5pdC5wbG90VHlwZS50b3RhbERhdGFTZXJpZXMgKiBiYXJXaWR0aCAvIDIpICsgKChwbG90VW5pdC5wcmV2aW91c0RhdGFTZXJpZXNDb3VudCArIGopICogYmFyV2lkdGgpKSA8PCAwO1xuXHRcdFx0XHR2YXIgeTIgPSB5MSArIGJhcldpZHRoIDw8IDA7XG5cblx0XHRcdFx0aWYgKHgxID4geDIpIHtcblx0XHRcdFx0XHR2YXIgdGVtcCA9IHgxO1xuXHRcdFx0XHRcdHgxID0geDI7XG5cdFx0XHRcdFx0eDIgPSB0ZW1wO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9kcmF3UmVjdChjdHgsIHgxLCB5MSwgcGxvdEFyZWEueDIsIHkyLCBcIiNFRUVFRUVcIiwgMCwgbnVsbCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuXHRcdFx0XHQvL2RyYXdSZWN0KGN0eCwgeDEsIHkxLCBwbG90QXJlYS54MiwgeTIsIFwiI0JEQ0VEM1wiLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cblx0XHRcdFx0Y29sb3IgPSBkYXRhUG9pbnRzW2ldLmNvbG9yID8gZGF0YVBvaW50c1tpXS5jb2xvciA6IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuXHRcdFx0XHQvL2NvbG9yID0gXCIjMUI0OTYyXCI7XG5cdFx0XHRcdGRyYXdSZWN0KGN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBiZXZlbEVuYWJsZWQsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGRhdGFTZXJpZXMuZmlsbE9wYWNpdHkpO1xuXG5cblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTJcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcblxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0ZHJhd1JlY3QodGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcblxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInJhbmdlQmFyXCIsXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxuXHRcdFx0XHRcdFx0aW5kZXhLZXl3b3JkOiAwLFxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcblx0XHRcdFx0XHRcdFx0eDogZGF0YVBvaW50c1tpXS55WzFdID49IGRhdGFQb2ludHNbaV0ueVswXSA/IHgxIDogeDIsIHk6IHkxICsgKHkyIC0geTEpIC8gMlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55WzFdID49IGRhdGFQb2ludHNbaV0ueVswXSA/IC0xIDogMSxcblx0XHRcdFx0XHRcdGJvdW5kczoge1xuXHRcdFx0XHRcdFx0XHR4MTogTWF0aC5taW4oeDEsIHgyKSwgeTE6IHkxLCB4MjogTWF0aC5tYXgoeDEsIHgyKSwgeTI6IHkyXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJyYW5nZUJhclwiLFxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcblx0XHRcdFx0XHRcdGluZGV4S2V5d29yZDogMSxcblx0XHRcdFx0XHRcdHBvaW50OiB7XG5cdFx0XHRcdFx0XHRcdHg6IGRhdGFQb2ludHNbaV0ueVsxXSA+PSBkYXRhUG9pbnRzW2ldLnlbMF0gPyB4MiA6IHgxLCB5OiB5MSArICh5MiAtIHkxKSAvIDJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueVsxXSA+PSBkYXRhUG9pbnRzW2ldLnlbMF0gPyAxIDogLTEsXG5cdFx0XHRcdFx0XHRib3VuZHM6IHtcblx0XHRcdFx0XHRcdFx0eDE6IE1hdGgubWluKHgxLCB4MiksIHkxOiB5MSwgeDI6IE1hdGgubWF4KHgxLCB4MiksIHkyOiB5MlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y3R4LnJlc3RvcmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcblxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci5mYWRlSW5BbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmVhc2VJblF1YWQsIGFuaW1hdGlvbkJhc2U6IDBcblx0fTtcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG59XG4iLCJcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcblxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBjb2xvciA9IG51bGw7XG5cblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblxuXHR2YXIgaSA9IDAsIHgsIHkxLCB5Mjtcblx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBmcm9tIGRhdGFUaW1lIGV2ZXJ5dGltZSBpdCBpcyB1c2VkLlxuXG5cdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSkgPDwgMDtcblxuXHR2YXIgbWF4QmFyV2lkdGggPSB0aGlzLmRhdGFQb2ludE1heFdpZHRoID8gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA6ICh0aGlzLndpZHRoICogLjAzKTtcblx0Ly92YXIgbWF4QmFyV2lkdGggPSAodGhpcy53aWR0aCAqIC4wMTUpO1xuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xuXHQvL3ZhciBiYXJXaWR0aCA9ICgoKHBsb3RBcmVhLndpZHRoIC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpICogLjkpIDw8IDA7XG5cdHZhciBiYXJXaWR0aCA9ICgoKHBsb3RBcmVhLndpZHRoIC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gcGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XG5cblx0aWYgKGJhcldpZHRoID4gbWF4QmFyV2lkdGgpXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcblx0ZWxzZSBpZiAoeE1pbkRpZmYgPT09IEluZmluaXR5KSB7XG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aCAvIHBsb3RVbml0LnBsb3RUeXBlLnRvdGFsRGF0YVNlcmllcyAqIC45O1xuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcblx0XHRiYXJXaWR0aCA9IDE7XG5cblx0Y3R4LnNhdmUoKTtcblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5zYXZlKCk7XG5cblx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRjdHguY2xpcCgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcblx0fVxuXHQvL2N0eC5iZWdpblBhdGgoKTtcblxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XG5cblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XG5cblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XG5cblxuXHRcdC8vIFJlZHVjaW5nIHBpeGVsUGVyVW5pdCBieSAxIGp1c3QgdG8gb3ZlcmNvbWUgYW55IHByb2JsZW1zIGR1ZSB0byByb3VuZGluZyBvZmYgb2YgcGl4ZWxzLlxuXHRcdC8vZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IGJhcldpZHRoIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcblxuXHRcdC8vdmFyIG9mZnNldFggPSBiYXJXaWR0aCAqIHBsb3RVbml0LmluZGV4IDw8IDA7XG5cblxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XG5cblx0XHRcdHZhciBiZXZlbEVuYWJsZWQgPSAoYmFyV2lkdGggPiA1KSAmJiBkYXRhU2VyaWVzLmJldmVsRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcblxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRkYXRhUG9pbnRzW2ldLmdldFRpbWUgPyBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLng7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLnkgPT09IG51bGwgfHwgIWRhdGFQb2ludHNbaV0ueS5sZW5ndGhcblx0XHRcdFx0XHR8fCB0eXBlb2YgKGRhdGFQb2ludHNbaV0ueVswXSkgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIChkYXRhUG9pbnRzW2ldLnlbMV0pICE9PSBcIm51bWJlclwiKVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXHRcdFx0XHR5MSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55WzBdIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0eTIgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueVsxXSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cblx0XHRcdFx0Ly92YXIgeDEgPSB4IC0gYmFyV2lkdGggLyAyIDw8IDA7XG5cdFx0XHRcdHZhciB4MSA9IHggLSAocGxvdFVuaXQucGxvdFR5cGUudG90YWxEYXRhU2VyaWVzICogYmFyV2lkdGggLyAyKSArICgocGxvdFVuaXQucHJldmlvdXNEYXRhU2VyaWVzQ291bnQgKyBqKSAqIGJhcldpZHRoKSA8PCAwO1xuXHRcdFx0XHR2YXIgeDIgPSB4MSArIGJhcldpZHRoIDw8IDA7XG5cdFx0XHRcdHZhciB5MTtcblx0XHRcdFx0dmFyIHkyO1xuXG5cblx0XHRcdFx0Y29sb3IgPSBkYXRhUG9pbnRzW2ldLmNvbG9yID8gZGF0YVBvaW50c1tpXS5jb2xvciA6IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuXG5cdFx0XHRcdGlmICh5MSA+IHkyKSB7XG5cdFx0XHRcdFx0dmFyIHRlbXAgPSB5MTtcblx0XHRcdFx0XHR5MSA9IHkyO1xuXHRcdFx0XHRcdHkyID0gdGVtcDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly92YXIgYm9yZGVyVGhpY2tuZXNzID0gTWF0aC5tYXgoMSwgKGJhcldpZHRoICogLjEgPDwgMCkpO1xuXHRcdFx0XHR2YXIgYm9yZGVyVGhpY2tuZXNzID0gMDtcblxuXHRcdFx0XHRkcmF3UmVjdChjdHgsIHgxLCB5MSwgeDIsIHkyLCBjb2xvciwgYm9yZGVyVGhpY2tuZXNzLCBjb2xvciwgYmV2ZWxFbmFibGVkLCBiZXZlbEVuYWJsZWQsIGZhbHNlLCBmYWxzZSwgZGF0YVNlcmllcy5maWxsT3BhY2l0eSk7XG5cdFx0XHRcdGNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XG5cblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdFx0XHRcdGRyYXdSZWN0KHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XG5cblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJyYW5nZUNvbHVtblwiLFxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcblx0XHRcdFx0XHRcdGluZGV4S2V5d29yZDogMCxcblx0XHRcdFx0XHRcdHBvaW50OiB7XG5cdFx0XHRcdFx0XHRcdHg6IHgxICsgKHgyIC0geDEpIC8gMiwgeTogZGF0YVBvaW50c1tpXS55WzFdID49IGRhdGFQb2ludHNbaV0ueVswXSA/IHkyIDogeTFcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueVsxXSA+PSBkYXRhUG9pbnRzW2ldLnlbMF0gPyAtMSA6IDEsXG5cdFx0XHRcdFx0XHRib3VuZHM6IHtcblx0XHRcdFx0XHRcdFx0eDE6IHgxLCB5MTogTWF0aC5taW4oeTEsIHkyKSwgeDI6IHgyLCB5MjogTWF0aC5tYXgoeTEsIHkyKVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwicmFuZ2VDb2x1bW5cIixcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRpbmRleEtleXdvcmQ6IDEsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiB4MSArICh4MiAtIHgxKSAvIDIsIHk6IGRhdGFQb2ludHNbaV0ueVsxXSA+PSBkYXRhUG9pbnRzW2ldLnlbMF0gPyB5MSA6IHkyXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnlbMV0gPj0gZGF0YVBvaW50c1tpXS55WzBdID8gMSA6IC0xLFxuXHRcdFx0XHRcdFx0Ym91bmRzOiB7XG5cdFx0XHRcdFx0XHRcdHgxOiB4MSwgeTE6IE1hdGgubWluKHkxLCB5MiksIHgyOiB4MiwgeTI6IE1hdGgubWF4KHkxLCB5Milcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3Jcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y3R4LnJlc3RvcmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcblxuXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLmZhZGVJbkFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcuZWFzZUluUXVhZCwgYW5pbWF0aW9uQmFzZTogMFxuXHR9O1xuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcbn1cbiIsIlxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHBsb3RVbml0KSB7XG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XG5cblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxuXHRcdHJldHVybjtcblxuXHR2YXIgZ2hvc3RDdHggPSB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHg7XG5cblx0dmFyIGF4aXNYUHJvcHMgPSBwbG90VW5pdC5heGlzWC5saW5lQ29vcmRpbmF0ZXM7XG5cdHZhciBheGlzWVByb3BzID0gcGxvdFVuaXQuYXhpc1kubGluZUNvb3JkaW5hdGVzO1xuXHR2YXIgbWFya2VycyA9IFtdO1xuXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG5cdGN0eC5zYXZlKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdGdob3N0Q3R4LnNhdmUoKTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0Z2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRcdGdob3N0Q3R4LmNsaXAoKTtcblx0fVxuXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcblxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcblxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XG5cblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblxuXHRcdHZhciBzZXJpZXNJZCA9IGRhdGFTZXJpZXMuaWQ7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtzZXJpZXNJZF0gPSB7XG5cdFx0XHRvYmplY3RUeXBlOiBcImRhdGFTZXJpZXNcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXhcblx0XHR9O1xuXG5cdFx0dmFyIGhleENvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhzZXJpZXNJZCk7XG5cdFx0Z2hvc3RDdHguZmlsbFN0eWxlID0gaGV4Q29sb3I7XG5cdFx0Ly9naG9zdEN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XG5cdFx0Ly9naG9zdEN0eC5saW5lV2lkdGggPSAyMDtcblxuXHRcdG1hcmtlcnMgPSBbXTtcblxuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XG5cdFx0dmFyIGkgPSAwLCB4LCB5MSwgeTI7XG5cdFx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBiYWNrIGFuZCBmb3J0aC5cblxuXHRcdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXHRcdHZhciBiYXNlWTtcblxuXHRcdHZhciBzdGFydFBvaW50ID0gbnVsbDtcblxuXHRcdHZhciBwaXhlbHNZMSA9IFtdO1xuXHRcdHZhciBwaXhlbHNZMiA9IFtdO1xuXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xuXHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBcIiM0NTcyQTcgXCI7XG5cdFx0XHRjb2xvciA9IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuXHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG5cdFx0XHRjdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xuXG5cdFx0XHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XG5cdFx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yICg7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ueSA9PT0gbnVsbCB8fCAhZGF0YVBvaW50c1tpXS55Lmxlbmd0aCB8fCB0eXBlb2YgKGRhdGFQb2ludHNbaV0ueVswXSkgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIChkYXRhUG9pbnRzW2ldLnlbMV0pICE9PSBcIm51bWJlclwiKSB7XG5cdFx0XHRcdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRcdFx0XHRyZW5kZXJCZXppZXJBcmVhKCk7XG5cdFx0XHRcdFx0XHRwaXhlbHNZMSA9IFtdO1xuXHRcdFx0XHRcdFx0cGl4ZWxzWTIgPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0eTEgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueVswXSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cdFx0XHRcdHkyID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnlbMV0gLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXG5cblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeCwgeTE6IHkxLCB5MjogeTJcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRwaXhlbHNZMVtwaXhlbHNZMS5sZW5ndGhdID0ge1xuXHRcdFx0XHRcdHg6IHgsIHk6IHkxXG5cdFx0XHRcdH07XG5cdFx0XHRcdHBpeGVsc1kyW3BpeGVsc1kyLmxlbmd0aF0gPSB7XG5cdFx0XHRcdFx0eDogeCwgeTogeTJcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvL1JlbmRlciBNYXJrZXJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSAhPT0gMCkge1xuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgPiAwIHx8IGRhdGFTZXJpZXMubWFya2VyU2l6ZSA+IDApIHtcblx0XHRcdFx0XHRcdHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCB4LCB5MSwgY3R4KTtcblx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaChtYXJrZXJQcm9wcyk7XG5cblx0XHRcdFx0XHRcdC8vaWYgKCFkYXRhU2VyaWVzLm1heFdpZHRoSW5YIHx8IG1hcmtlclByb3BzLnNpemUgPiBkYXRhU2VyaWVzLm1heFdpZHRoSW5YKSB7XG5cdFx0XHRcdFx0XHQvL1x0ZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IG1hcmtlclByb3BzLnNpemUgLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xuXHRcdFx0XHRcdFx0Ly99XG5cblx0XHRcdFx0XHRcdHZhciBtYXJrZXJDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xuXG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5MSwgY3R4OiBnaG9zdEN0eCxcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiBtYXJrZXJQcm9wcy50eXBlLFxuXHRcdFx0XHRcdFx0XHRcdHNpemU6IG1hcmtlclByb3BzLnNpemUsXG5cdFx0XHRcdFx0XHRcdFx0Y29sb3I6IG1hcmtlckNvbG9yLFxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlckNvbG9yOiBtYXJrZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJUaGlja25lc3M6IG1hcmtlclByb3BzLmJvcmRlclRoaWNrbmVzc1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlclByb3BzID0gZGF0YVNlcmllcy5nZXRNYXJrZXJQcm9wZXJ0aWVzKGksIHgsIHkyLCBjdHgpO1xuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlclByb3BzKTtcblxuXHRcdFx0XHRcdFx0Ly9pZiAoIWRhdGFTZXJpZXMubWF4V2lkdGhJblggfHwgbWFya2VyUHJvcHMuc2l6ZSA+IGRhdGFTZXJpZXMubWF4V2lkdGhJblgpIHtcblx0XHRcdFx0XHRcdC8vXHRkYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gbWFya2VyUHJvcHMuc2l6ZSAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XG5cdFx0XHRcdFx0XHQvL31cblxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlckNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XG5cblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHkyLCBjdHg6IGdob3N0Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IG1hcmtlclByb3BzLnR5cGUsXG5cdFx0XHRcdFx0XHRcdFx0c2l6ZTogbWFya2VyUHJvcHMuc2l6ZSxcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjogbWFya2VyQ29sb3IsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6IG1hcmtlckNvbG9yLFxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlclRoaWNrbmVzczogbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0Ly9SZW5kZXIgSW5kZXggTGFiZWxzXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcblxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInNwbGluZUFyZWFcIixcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRpbmRleEtleXdvcmQ6IDAsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5MVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55WzBdIDw9IGRhdGFQb2ludHNbaV0ueVsxXSA/IC0xIDogMSxcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic3BsaW5lQXJlYVwiLFxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcblx0XHRcdFx0XHRcdGluZGV4S2V5d29yZDogMSxcblx0XHRcdFx0XHRcdHBvaW50OiB7XG5cdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHkyXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnlbMF0gPD0gZGF0YVBvaW50c1tpXS55WzFdID8gMSA6IC0xLFxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZW5kZXJCZXppZXJBcmVhKCk7XG5cblx0XHRcdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcblx0XHR9XG5cdH1cblxuXHRjdHgucmVzdG9yZSgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVzdG9yZSgpO1xuXG5cdGZ1bmN0aW9uIHJlbmRlckJlemllckFyZWEoKSB7XG5cdFx0dmFyIGJwID0gZ2V0QmV6aWVyUG9pbnRzKHBpeGVsc1kxLCAyKTtcblxuXHRcdGlmIChicC5sZW5ndGggPiAwKSB7XG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRjdHgubW92ZVRvKGJwWzBdLngsIGJwWzBdLnkpO1xuXG5cdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyhicFswXS54LCBicFswXS55KTtcblx0XHRcdH1cblxuXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGJwLmxlbmd0aCAtIDM7IGkgKz0gMykge1xuXG5cdFx0XHRcdGN0eC5iZXppZXJDdXJ2ZVRvKGJwW2kgKyAxXS54LCBicFtpICsgMV0ueSwgYnBbaSArIDJdLngsIGJwW2kgKyAyXS55LCBicFtpICsgM10ueCwgYnBbaSArIDNdLnkpO1xuXG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0XHRnaG9zdEN0eC5iZXppZXJDdXJ2ZVRvKGJwW2kgKyAxXS54LCBicFtpICsgMV0ueSwgYnBbaSArIDJdLngsIGJwW2kgKyAyXS55LCBicFtpICsgM10ueCwgYnBbaSArIDNdLnkpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzID4gMClcblx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xuXG5cdFx0XHRicCA9IGdldEJlemllclBvaW50cyhwaXhlbHNZMiwgMik7XG5cblx0XHRcdGN0eC5saW5lVG8ocGl4ZWxzWTJbcGl4ZWxzWTIubGVuZ3RoIC0gMV0ueCwgcGl4ZWxzWTJbcGl4ZWxzWTIubGVuZ3RoIC0gMV0ueSk7XG5cblx0XHRcdGZvciAodmFyIGkgPSBicC5sZW5ndGggLSAxOyBpID4gMjsgaSAtPSAzKSB7XG5cblx0XHRcdFx0Y3R4LmJlemllckN1cnZlVG8oYnBbaSAtIDFdLngsIGJwW2kgLSAxXS55LCBicFtpIC0gMl0ueCwgYnBbaSAtIDJdLnksIGJwW2kgLSAzXS54LCBicFtpIC0gM10ueSk7XG5cblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdFx0XHRcdGdob3N0Q3R4LmJlemllckN1cnZlVG8oYnBbaSAtIDFdLngsIGJwW2kgLSAxXS55LCBicFtpIC0gMl0ueCwgYnBbaSAtIDJdLnksIGJwW2kgLSAzXS54LCBicFtpIC0gM10ueSk7XG5cdFx0XHR9XG5cblx0XHRcdGN0eC5jbG9zZVBhdGgoKTtcblxuXHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gZGF0YVNlcmllcy5maWxsT3BhY2l0eTtcblx0XHRcdGN0eC5maWxsKCk7XG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG5cblx0XHRcdGlmIChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MgPiAwKSB7XG5cdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0Y3R4Lm1vdmVUbyhwaXhlbHNZMltwaXhlbHNZMi5sZW5ndGggLSAxXS54LCBwaXhlbHNZMltwaXhlbHNZMi5sZW5ndGggLSAxXS55KTtcblxuXHRcdFx0XHRmb3IgKHZhciBpID0gYnAubGVuZ3RoIC0gMTsgaSA+IDI7IGkgLT0gMykge1xuXG5cdFx0XHRcdFx0Y3R4LmJlemllckN1cnZlVG8oYnBbaSAtIDFdLngsIGJwW2kgLSAxXS55LCBicFtpIC0gMl0ueCwgYnBbaSAtIDJdLnksIGJwW2kgLSAzXS54LCBicFtpIC0gM10ueSk7XG5cblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5iZXppZXJDdXJ2ZVRvKGJwW2kgLSAxXS54LCBicFtpIC0gMV0ueSwgYnBbaSAtIDJdLngsIGJwW2kgLSAyXS55LCBicFtpIC0gM10ueCwgYnBbaSAtIDNdLnkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGN0eC5zdHJva2UoKTtcblx0XHRcdH1cblxuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXG5cblx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRnaG9zdEN0eC5jbG9zZVBhdGgoKTtcblx0XHRcdFx0Z2hvc3RDdHguZmlsbCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLnhDbGlwQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5saW5lYXIsIGFuaW1hdGlvbkJhc2U6IDBcblx0fTtcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG59XG4vLyNyZWdpb24gcGllQ2hhcnRcblxudmFyIGRyYXdTZWdtZW50ID0gZnVuY3Rpb24gKGN0eCwgY2VudGVyLCByYWRpdXMsIGNvbG9yLCB0eXBlLCB0aGV0YTEsIHRoZXRhMiwgZmlsbE9wYWNpdHksIHBlcmNlbnRJbm5lclJhZGl1cykge1xuXG5cdGlmICh0eXBlb2YgKGZpbGxPcGFjaXR5KSA9PT0gXCJ1bmRlZmluZWRcIilcblx0XHRmaWxsT3BhY2l0eSA9IDE7XG5cblx0Ly9JRTgtIEZJWDogSW4gSUU4LSBzZWdtZW50IGRvZXNuJ3QgZ2V0IGRyYXcgaWYgdGhldGEyIGlzIGVxdWFsIHRvIHRoZXRhMSArIDIqUEkuXG5cdGlmICghaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHR2YXIgdGhldGEyTW9kID0gTnVtYmVyKCh0aGV0YTIgJSAoMiAqIE1hdGguUEkpKS50b0ZpeGVkKDgpKTtcblx0XHR2YXIgdGhldGExTW9kID0gTnVtYmVyKCh0aGV0YTEgJSAoMiAqIE1hdGguUEkpKS50b0ZpeGVkKDgpKTtcblx0XHRpZiAodGhldGExTW9kID09PSB0aGV0YTJNb2QpXG5cdFx0XHR0aGV0YTIgLT0gLjAwMDE7XG5cdH1cblxuXHRjdHguc2F2ZSgpO1xuXHRjdHguZ2xvYmFsQWxwaGEgPSBmaWxsT3BhY2l0eTtcblxuXHRpZiAodHlwZSA9PT0gXCJwaWVcIikge1xuXHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRjdHgubW92ZVRvKGNlbnRlci54LCBjZW50ZXIueSk7XG5cdFx0Y3R4LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIHJhZGl1cywgdGhldGExLCB0aGV0YTIsIGZhbHNlKTtcblx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCJ3aGl0ZVwiO1xuXHRcdGN0eC5saW5lV2lkdGggPSAyO1xuXHRcdC8vICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gMjtcblx0XHQvLyAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDE7XG5cdFx0Ly8gICAgIGN0eC5zaGFkb3dCbHVyID0gMjtcblx0XHQvLyAgICBjdHguc2hhZG93Q29sb3IgPSAnI0JGQkZCRic7XG5cdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXHRcdC8vY3R4LnN0cm9rZSgpO1xuXHRcdGN0eC5maWxsKCk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJkb3VnaG51dFwiKSB7XG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCByYWRpdXMsIHRoZXRhMSwgdGhldGEyLCBmYWxzZSk7XG5cdFx0Y3R4LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIHBlcmNlbnRJbm5lclJhZGl1cyAqIHJhZGl1cywgdGhldGEyLCB0aGV0YTEsIHRydWUpO1xuXHRcdGN0eC5jbG9zZVBhdGgoKTtcblx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCJ3aGl0ZVwiO1xuXHRcdGN0eC5saW5lV2lkdGggPSAyO1xuXHRcdC8vIHNoYWRvdyBwcm9wZXJ0aWVzXG5cdFx0Ly8gICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gMTtcblx0XHQvLyAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDE7XG5cdFx0Ly8gICAgIGN0eC5zaGFkb3dCbHVyID0gMTtcblx0XHQvLyAgICBjdHguc2hhZG93Q29sb3IgPSAnI0JGQkZCRic7ICAvL2dyZXkgc2hhZG93XG5cdFx0Ly9jdHguc3Ryb2tlKCk7XG5cdFx0Y3R4LmZpbGwoKTtcblx0fVxuXG5cdGN0eC5nbG9iYWxBbHBoYSA9IDE7XG5cblx0Y3R4LnJlc3RvcmUoKTtcbn07XG4iLCJcbmltcG9ydCBSZW5kZXJIZWxwZXIgZnJvbSAnLi4vaGVscGVycy9yZW5kZXInO1xuaW1wb3J0IEFuaW1hdGlvbkhlbHBlciBmcm9tICcuLi9oZWxwZXJzL2FuaW1hdG9yJztcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWQsIGludFRvSGV4Q29sb3JTdHJpbmd9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcblxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBjb2xvciA9IG51bGw7XG5cblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblxuXHR2YXIgaSA9IDAsIHgsIHk7XG5cdHZhciBkYXRhUG9pbnRYOyAvL1VzZWQgc28gdGhhdCB3aGVuIGRhdGFQb2ludC54IGlzIGEgRGF0ZVRpbWUgdmFsdWUsIGl0IGRvZXNuJ3QgZ2V0IGNvbnZlcnRlZCB0byBudW1iZXIgZnJvbSBkYXRhVGltZSBldmVyeXRpbWUgaXQgaXMgdXNlZC5cblxuXHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpIDw8IDA7XG5cblx0dmFyIG1heEJhcldpZHRoID0gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA/IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggOiB0aGlzLndpZHRoICogLjE1IDw8IDA7XG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XG5cdHZhciBiYXJXaWR0aCA9ICgoKHBsb3RBcmVhLndpZHRoIC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gdG90YWxEYXRhU2VyaWVzICogLjkpIDw8IDA7XG5cblxuXHRjdHguc2F2ZSgpO1xuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHguY2xpcCgpO1xuXHR9XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xuXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xuXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID09IDEpXG5cdFx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xuXG5cdFx0aWYgKGJhcldpZHRoIDwgMSlcblx0XHRcdGJhcldpZHRoID0gMTtcblx0XHRlbHNlIGlmIChiYXJXaWR0aCA+IG1heEJhcldpZHRoKVxuXHRcdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcblxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vdmFyIGJldmVsRW5hYmxlZCA9IChiYXJXaWR0aCA+IDUpID8gZmFsc2UgOiBmYWxzZTtcblxuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xuXG5cdFx0XHR2YXIgbWF4QXJlYSA9IE1hdGgucG93KE1hdGgubWluKHBsb3RBcmVhLmhlaWdodCwgcGxvdEFyZWEud2lkdGgpICogLjMgLyAyLCAyKSAqIE1hdGguUEk7XG5cblx0XHRcdHZhciBwcmV2RGF0YVBvaW50WCA9IDA7XG5cdFx0XHR2YXIgcHJldkRhdGFQb2ludFkgPSAwO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS5nZXRUaW1lID8gZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54O1xuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXHRcdFx0XHR5ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnkgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXG5cdFx0XHRcdHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCB4LCB5LCBjdHgpO1xuXG5cdFx0XHRcdGN0eC5nbG9iYWxBbHBoYSA9IGRhdGFTZXJpZXMuZmlsbE9wYWNpdHk7XG5cdFx0XHRcdFJlbmRlckhlbHBlci5kcmF3TWFya2VyKG1hcmtlclByb3BzLngsIG1hcmtlclByb3BzLnksIG1hcmtlclByb3BzLmN0eCwgbWFya2VyUHJvcHMudHlwZSwgbWFya2VyUHJvcHMuc2l6ZSwgbWFya2VyUHJvcHMuY29sb3IsIG1hcmtlclByb3BzLmJvcmRlckNvbG9yLCBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3MpO1xuXHRcdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG5cblx0XHRcdFx0Ly9pZiAoTWF0aC5hYnMocHJldkRhdGFQb2ludFggLSB4KSA8IG1hcmtlclByb3BzLnNpemUgLyAyICYmIE1hdGguYWJzKHByZXZEYXRhUG9pbnRZIC0geSkgPCBtYXJrZXJQcm9wcy5zaXplIC8gMikge1xuXHRcdFx0XHQvLyAgICBjb250aW51ZTtcblx0XHRcdFx0Ly99XG5cblx0XHRcdFx0Ly9pZiAoIWRhdGFTZXJpZXMubWF4V2lkdGhJblggfHwgbWFya2VyUHJvcHMuc2l6ZSA+IGRhdGFTZXJpZXMubWF4V2lkdGhJblgpIHtcblx0XHRcdFx0Ly9cdGRhdGFTZXJpZXMubWF4V2lkdGhJblggPSBtYXJrZXJQcm9wcy5zaXplIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcblx0XHRcdFx0Ly99XG5cblx0XHRcdFx0aWYgKChNYXRoLnNxcnQoKHByZXZEYXRhUG9pbnRYIC0geCkgKiAocHJldkRhdGFQb2ludFggLSB4KSArIChwcmV2RGF0YVBvaW50WSAtIHkpICogKHByZXZEYXRhUG9pbnRZIC0geSkpIDwgTWF0aC5taW4obWFya2VyUHJvcHMuc2l6ZSwgNSkpXG5cdFx0XHRcdFx0JiYgZGF0YVBvaW50cy5sZW5ndGggPiAoTWF0aC5taW4odGhpcy5wbG90QXJlYS53aWR0aCwgdGhpcy5wbG90QXJlYS5oZWlnaHQpKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9SZW5kZXIgSUQgb24gR2hvc3QgQ2FudmFzIC0gZm9yIGV2ZW50IGhhbmRsaW5nXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgsIHkxOiB5XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciBtYXJrZXJDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xuXG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRcdFJlbmRlckhlbHBlci5kcmF3TWFya2VyKFxuXHRcdFx0XHRcdFx0XHRtYXJrZXJQcm9wcy54LCBtYXJrZXJQcm9wcy55LCB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgsXG5cdFx0XHRcdFx0XHRcdG1hcmtlclByb3BzLnR5cGUsXG5cdFx0XHRcdFx0XHRcdG1hcmtlclByb3BzLnNpemUsXG5cdFx0XHRcdFx0XHRcdG1hcmtlckNvbG9yLFxuXHRcdFx0XHRcdFx0XHRtYXJrZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0bWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vbWFya2Vycy5wdXNoKCk7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xuXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic2NhdHRlclwiLFxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcblx0XHRcdFx0XHRcdHBvaW50OiB7XG5cdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHlcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IDEsXG5cdFx0XHRcdFx0XHRib3VuZHM6IHtcblx0XHRcdFx0XHRcdFx0eDE6IHggLSBtYXJrZXJQcm9wcy5zaXplIC8gMiwgeTE6IHkgLSBtYXJrZXJQcm9wcy5zaXplIC8gMiwgeDI6IHggKyBtYXJrZXJQcm9wcy5zaXplIC8gMiwgeTI6IHkgKyBtYXJrZXJQcm9wcy5zaXplIC8gMlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cHJldkRhdGFQb2ludFggPSB4O1xuXHRcdFx0XHRwcmV2RGF0YVBvaW50WSA9IHk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y3R4LnJlc3RvcmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcblxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci5mYWRlSW5BbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmVhc2VJblF1YWQsIGFuaW1hdGlvbkJhc2U6IDBcblx0fTtcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG59XG4iLCJcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcblx0XHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xuXG5cdFx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcblx0XHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0XHRyZXR1cm47XG5cblx0XHR2YXIgZ2hvc3RDdHggPSB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHg7XG5cblx0XHRjdHguc2F2ZSgpO1xuXG5cdFx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblxuXHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRcdGN0eC5jbGlwKCk7XG5cblx0XHR2YXIgbWFya2VycyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXG5cdFx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XG5cblx0XHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XG5cdFx0XHRjdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xuXHRcdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XG5cblx0XHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcblx0XHRcdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkoZGF0YVNlcmllcy5saW5lRGFzaFR5cGUsIGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcykpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc2VyaWVzSWQgPSBkYXRhU2VyaWVzLmlkO1xuXHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtzZXJpZXNJZF0gPSB7XG5cdFx0XHRcdG9iamVjdFR5cGU6IFwiZGF0YVNlcmllc1wiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleFxuXHRcdFx0fTtcblx0XHRcdHZhciBoZXhDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoc2VyaWVzSWQpO1xuXHRcdFx0Z2hvc3RDdHguc3Ryb2tlU3R5bGUgPSBoZXhDb2xvcjtcblx0XHRcdC8vZ2hvc3RDdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xuXHRcdFx0Z2hvc3RDdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzID4gMCA/IE1hdGgubWF4KGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcywgNCkgOiAwO1xuXG5cdFx0XHR2YXIgY29sb3JTZXQgPSBkYXRhU2VyaWVzLl9jb2xvclNldDtcblx0XHRcdHZhciBjb2xvciA9IGNvbG9yU2V0WzBdO1xuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG5cblx0XHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XG5cdFx0XHR2YXIgaSA9IDAsIHgsIHk7XG5cdFx0XHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGJhY2sgYW5kIGZvcnRoLlxuXG5cdFx0XHQvL2lmICghZGF0YVNlcmllcy5fb3B0aW9ucy5tYXJrZXJTaXplICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGggPCAxMDAwKVxuXHRcdFx0Ly8gICAgZGF0YVNlcmllcy5tYXJrZXJTaXplID0gODtcblxuXHRcdFx0dmFyIHBpeGVscyA9IFtdO1xuXG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLmdldFRpbWUgPyBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpIDogZGF0YVBvaW50c1tpXS54O1xuXG5cdFx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpXG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHRcdC8vaWYgKCFpc0Zpbml0ZShkYXRhUG9pbnRzW2ldLnkpKVxuXHRcdFx0XHRcdC8vICAgIGNvbnRpbnVlO1xuXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiAoZGF0YVBvaW50c1tpXS55KSAhPT0gXCJudW1iZXJcIikge1xuXHRcdFx0XHRcdFx0aWYgKGkgPiAwKSB7Ly8gaWYgZmlyc3QgZGF0YVBvaW50IGlzIG51bGwgdGhlbiBubyBuZWVkIHRvIGNhbGwgc3Ryb2tlIG1ldGhvZFxuXHRcdFx0XHRcdFx0XHRyZW5kZXJCZXppZXIocGl4ZWxzKTtcblx0XHRcdFx0XHRcdFx0cGl4ZWxzID0gW107XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXHRcdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cblx0XHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tpXTtcblx0XHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcblx0XHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeCwgeTE6IHlcblx0XHRcdFx0XHR9O1xuXG5cblx0XHRcdFx0XHRwaXhlbHNbcGl4ZWxzLmxlbmd0aF0gPSB7XG5cdFx0XHRcdFx0XHR4OiB4LCB5OiB5XG5cdFx0XHRcdFx0fTtcblxuXG5cdFx0XHRcdFx0Ly9BZGQgTWFya2Vyc1xuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgPiAwIHx8IGRhdGFTZXJpZXMubWFya2VyU2l6ZSA+IDApIHtcblxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlclByb3BzID0gZGF0YVNlcmllcy5nZXRNYXJrZXJQcm9wZXJ0aWVzKGksIHgsIHksIGN0eCk7XG5cdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2gobWFya2VyUHJvcHMpO1xuXG5cdFx0XHRcdFx0XHQvL2lmICghZGF0YVNlcmllcy5tYXhXaWR0aEluWCB8fCBtYXJrZXJQcm9wcy5zaXplID4gZGF0YVNlcmllcy5tYXhXaWR0aEluWCkge1xuXHRcdFx0XHRcdFx0Ly9cdGRhdGFTZXJpZXMubWF4V2lkdGhJblggPSBtYXJrZXJQcm9wcy5zaXplIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcblx0XHRcdFx0XHRcdC8vfVxuXG5cdFx0XHRcdFx0XHR2YXIgbWFya2VyQ29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcblxuXHRcdFx0XHRcdFx0Ly93aW5kb3cuY29uc29sZS5sb2coXCJpbmRleDogXCIgKyBpICsgXCI7IGlkOiBcIiArIGlkICsgXCI7IGhleDogXCIgKyBtYXJrZXJDb2xvcik7XG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5LCBjdHg6IGdob3N0Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IG1hcmtlclByb3BzLnR5cGUsXG5cdFx0XHRcdFx0XHRcdFx0c2l6ZTogbWFya2VyUHJvcHMuc2l6ZSxcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjogbWFya2VyQ29sb3IsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6IG1hcmtlckNvbG9yLFxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlclRoaWNrbmVzczogbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vQWRkIExhYmVsc1xuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcblxuXHRcdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJzcGxpbmVcIixcblx0XHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxuXHRcdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxuXHRcdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHlcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IDEgOiAtMSxcblx0XHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJlbmRlckJlemllcihwaXhlbHMpO1xuXHRcdH1cblxuXHRcdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcblx0XHRjdHgucmVzdG9yZSgpO1xuXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXG5cdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cblx0XHRmdW5jdGlvbiByZW5kZXJCZXppZXIocGl4ZWxzKSB7XG5cblx0XHRcdHZhciBicCA9IGdldEJlemllclBvaW50cyhwaXhlbHMsIDIpO1xuXG5cdFx0XHRpZiAoYnAubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblxuXHRcdFx0XHRjdHgubW92ZVRvKGJwWzBdLngsIGJwWzBdLnkpO1xuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKGJwWzBdLngsIGJwWzBdLnkpO1xuXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYnAubGVuZ3RoIC0gMzsgaSArPSAzKSB7XG5cblx0XHRcdFx0XHRjdHguYmV6aWVyQ3VydmVUbyhicFtpICsgMV0ueCwgYnBbaSArIDFdLnksIGJwW2kgKyAyXS54LCBicFtpICsgMl0ueSwgYnBbaSArIDNdLngsIGJwW2kgKyAzXS55KTtcblxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmJlemllckN1cnZlVG8oYnBbaSArIDFdLngsIGJwW2kgKyAxXS55LCBicFtpICsgMl0ueCwgYnBbaSArIDJdLnksIGJwW2kgKyAzXS54LCBicFtpICsgM10ueSk7XG5cblx0XHRcdFx0XHRpZiAoaSA+IDAgJiYgaSAlIDMwMDAgPT09IDApIHtcblx0XHRcdFx0XHRcdGN0eC5zdHJva2UoKTtcblx0XHRcdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRcdGN0eC5tb3ZlVG8oYnBbaSArIDNdLngsIGJwW2kgKyAzXS55KTtcblxuXHRcdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKGJwW2kgKyAzXS54LCBicFtpICsgM10ueSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xuXG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0XHRnaG9zdEN0eC5zdHJva2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXG5cdFx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XG5cdFx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueENsaXBBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmxpbmVhciwgYW5pbWF0aW9uQmFzZTogMFxuXHRcdH07XG5cdFx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG5cdH1cblxuXHR2YXIgZHJhd1JlY3QgPSBmdW5jdGlvbiAoY3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIGJvcmRlclRoaWNrbmVzcywgYm9yZGVyQ29sb3IsIHRvcCwgYm90dG9tLCBsZWZ0LCByaWdodCwgZmlsbE9wYWNpdHkpIHtcblx0XHRpZiAodHlwZW9mIChmaWxsT3BhY2l0eSkgPT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHRmaWxsT3BhY2l0eSA9IDE7XG5cblx0XHRib3JkZXJUaGlja25lc3MgPSBib3JkZXJUaGlja25lc3MgfHwgMDtcblx0XHRib3JkZXJDb2xvciA9IGJvcmRlckNvbG9yIHx8IFwiYmxhY2tcIjtcblx0XHQvL2FsZXJ0KFwidG9wXCIrIHRvcCArIFwiYm90dG9tXCIgKyBib3R0b20gKyBcIiBsdFwiICsgbGVmdCsgXCJydFwiICsgcmlnaHQgKVxuXHRcdHZhciBhMSA9IHgxLCBhMiA9IHgyLCBiMSA9IHkxLCBiMiA9IHkyLCBlZGdlWSwgZWRnZVg7XG5cdFx0aWYgKHgyIC0geDEgPiAxNSAmJiB5MiAtIHkxID4gMTUpXG5cdFx0XHR2YXIgYmV2ZWxEZXB0aCA9IDg7XG5cdFx0ZWxzZVxuXHRcdFx0dmFyIGJldmVsRGVwdGggPSAwLjM1ICogTWF0aC5taW4oKHgyIC0geDEpLCAoeTIgLSB5MSkpO1xuXHRcdC8vYWxlcnQoYTEgKyBcIlwiICsgYTIpO1xuXHRcdHZhciBjb2xvcjIgPSBcInJnYmEoMjU1LCAyNTUsIDI1NSwgLjQpXCI7XG5cdFx0dmFyIGNvbG9yMyA9IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpXCI7XG5cdFx0Ly9jb2xvcjEgPSBcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsIFwiICsgYiArIFwiLDEpXCI7XG5cdFx0dmFyIGNvbG9yMSA9IGNvbG9yO1xuXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5tb3ZlVG8oeDEsIHkxKTtcblx0XHRjdHguc2F2ZSgpO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBjb2xvcjE7XG5cblx0XHRjdHguZ2xvYmFsQWxwaGEgPSBmaWxsT3BhY2l0eTtcblx0XHRjdHguZmlsbFJlY3QoeDEsIHkxLCB4MiAtIHgxLCB5MiAtIHkxKTtcblx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG5cdFx0aWYgKGJvcmRlclRoaWNrbmVzcyA+IDApIHtcblx0XHRcdHZhciBvZmZzZXQgPSBib3JkZXJUaGlja25lc3MgJSAyID09PSAwID8gMCA6IC41O1xuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0Y3R4LmxpbmVXaWR0aCA9IGJvcmRlclRoaWNrbmVzcztcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGJvcmRlckNvbG9yO1xuXHRcdFx0Y3R4Lm1vdmVUbyh4MSwgeTEpO1xuXHRcdFx0Y3R4LnJlY3QoeDEgLSBvZmZzZXQsIHkxIC0gb2Zmc2V0LCB4MiAtIHgxICsgMiAqIG9mZnNldCwgeTIgLSB5MSArIDIgKiBvZmZzZXQpO1xuXHRcdFx0Y3R4LnN0cm9rZSgpO1xuXHRcdH1cblxuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdFx0Ly8gICBjdHguYmVnaW5QYXRoKCk7XG5cdFx0aWYgKHRvcCA9PT0gdHJ1ZSkge1xuXHRcdFx0Ly8gYWxlcnQoeDEgKyBcIlwiICsgeDIgKyBcIiBcIiArIGJldmVsRGVwdGgpO1xuXHRcdFx0Y3R4LnNhdmUoKTtcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdGN0eC5tb3ZlVG8oeDEsIHkxKTtcblx0XHRcdGN0eC5saW5lVG8oeDEgKyBiZXZlbERlcHRoLCB5MSArIGJldmVsRGVwdGgpO1xuXHRcdFx0Y3R4LmxpbmVUbyh4MiAtIGJldmVsRGVwdGgsIHkxICsgYmV2ZWxEZXB0aCk7XG5cdFx0XHRjdHgubGluZVRvKHgyLCB5MSk7XG5cdFx0XHRjdHguY2xvc2VQYXRoKCk7XG5cdFx0XHR2YXIgZ3JkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KCh4MiArIHgxKSAvIDIsIGIxICsgYmV2ZWxEZXB0aCwgKHgyICsgeDEpIC8gMiwgYjEpO1xuXHRcdFx0Z3JkLmFkZENvbG9yU3RvcCgwLCBjb2xvcjEpO1xuXHRcdFx0Z3JkLmFkZENvbG9yU3RvcCgxLCBjb2xvcjIpO1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGdyZDtcblx0XHRcdGN0eC5maWxsKCk7XG5cdFx0XHQvLyAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuXHRcdFx0Y3R4LnJlc3RvcmUoKTtcblx0XHR9XG5cblxuXHRcdGlmIChib3R0b20gPT09IHRydWUpIHtcblx0XHRcdGN0eC5zYXZlKCk7XG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRjdHgubW92ZVRvKHgxLCB5Mik7XG5cdFx0XHRjdHgubGluZVRvKHgxICsgYmV2ZWxEZXB0aCwgeTIgLSBiZXZlbERlcHRoKTtcblx0XHRcdGN0eC5saW5lVG8oeDIgLSBiZXZlbERlcHRoLCB5MiAtIGJldmVsRGVwdGgpO1xuXHRcdFx0Y3R4LmxpbmVUbyh4MiwgeTIpO1xuXHRcdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXHRcdFx0dmFyIGdyZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgoeDIgKyB4MSkgLyAyLCBiMiAtIGJldmVsRGVwdGgsICh4MiArIHgxKSAvIDIsIGIyKTtcblx0XHRcdGdyZC5hZGRDb2xvclN0b3AoMCwgY29sb3IxKTtcblx0XHRcdGdyZC5hZGRDb2xvclN0b3AoMSwgY29sb3IyKTtcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBncmQ7XG5cdFx0XHQvLyAgICAgICBjdHguc3Ryb2tlKCk7XG5cdFx0XHRjdHguZmlsbCgpO1xuXHRcdFx0Y3R4LnJlc3RvcmUoKTtcblx0XHR9XG5cblx0XHRpZiAobGVmdCA9PT0gdHJ1ZSkge1xuXHRcdFx0Ly8gICBhbGVydCh4MSlcblx0XHRcdGN0eC5zYXZlKCk7XG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRjdHgubW92ZVRvKHgxLCB5MSlcblx0XHRcdGN0eC5saW5lVG8oeDEgKyBiZXZlbERlcHRoLCB5MSArIGJldmVsRGVwdGgpO1xuXHRcdFx0Y3R4LmxpbmVUbyh4MSArIGJldmVsRGVwdGgsIHkyIC0gYmV2ZWxEZXB0aCk7XG5cdFx0XHRjdHgubGluZVRvKHgxLCB5Mik7XG5cdFx0XHRjdHguY2xvc2VQYXRoKCk7XG5cdFx0XHR2YXIgZ3JkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KGExICsgYmV2ZWxEZXB0aCwgKHkyICsgeTEpIC8gMiwgYTEsICh5MiArIHkxKSAvIDIpO1xuXHRcdFx0Z3JkLmFkZENvbG9yU3RvcCgwLCBjb2xvcjEpO1xuXHRcdFx0Z3JkLmFkZENvbG9yU3RvcCgxLCBjb2xvcjMpO1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGdyZDtcblx0XHRcdGN0eC5maWxsKCk7XG5cdFx0XHQvLyAgICAgY3R4LnN0cm9rZSgpO1xuXHRcdFx0Y3R4LnJlc3RvcmUoKTtcblx0XHR9XG5cblxuXHRcdGlmIChyaWdodCA9PT0gdHJ1ZSkge1xuXHRcdFx0Y3R4LnNhdmUoKTtcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdGN0eC5tb3ZlVG8oeDIsIHkxKVxuXHRcdFx0Y3R4LmxpbmVUbyh4MiAtIGJldmVsRGVwdGgsIHkxICsgYmV2ZWxEZXB0aCk7XG5cdFx0XHRjdHgubGluZVRvKHgyIC0gYmV2ZWxEZXB0aCwgeTIgLSBiZXZlbERlcHRoKTtcblx0XHRcdGN0eC5saW5lVG8oeDIsIHkyKTtcblx0XHRcdHZhciBncmQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoYTIgLSBiZXZlbERlcHRoLCAoeTIgKyB5MSkgLyAyLCBhMiwgKHkyICsgeTEpIC8gMik7XG5cdFx0XHRncmQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSk7XG5cdFx0XHRncmQuYWRkQ29sb3JTdG9wKDEsIGNvbG9yMyk7XG5cdFx0XHRjdHguZmlsbFN0eWxlID0gZ3JkO1xuXHRcdFx0Z3JkLmFkZENvbG9yU3RvcCgwLCBjb2xvcjEpO1xuXHRcdFx0Z3JkLmFkZENvbG9yU3RvcCgxLCBjb2xvcjMpO1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGdyZDtcblx0XHRcdGN0eC5maWxsKCk7XG5cdFx0XHRjdHguY2xvc2VQYXRoKCk7XG5cdFx0XHQvLyAgICAgICAgICBjdHguc3Ryb2tlKCk7XG5cdFx0XHRjdHgucmVzdG9yZSgpO1xuXHRcdH1cblx0XHQvL1xuXG5cdH1cbiIsIlxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xuXG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XG5cblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxuXHRcdHJldHVybjtcblxuXHR2YXIgZ2hvc3RDdHggPSB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHg7XG5cblx0dmFyIGF4aXNYUHJvcHMgPSBwbG90VW5pdC5heGlzWC5saW5lQ29vcmRpbmF0ZXM7XG5cdHZhciBheGlzWVByb3BzID0gcGxvdFVuaXQuYXhpc1kubGluZUNvb3JkaW5hdGVzO1xuXHR2YXIgbWFya2VycyA9IFtdO1xuXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG5cdGN0eC5zYXZlKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdGdob3N0Q3R4LnNhdmUoKTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0Z2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRcdGdob3N0Q3R4LmNsaXAoKTtcblx0fVxuXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcblxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcblxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XG5cblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblxuXHRcdHZhciBzZXJpZXNJZCA9IGRhdGFTZXJpZXMuaWQ7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtzZXJpZXNJZF0gPSB7XG5cdFx0XHRvYmplY3RUeXBlOiBcImRhdGFTZXJpZXNcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXhcblx0XHR9O1xuXG5cdFx0dmFyIGhleENvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhzZXJpZXNJZCk7XG5cdFx0Z2hvc3RDdHguZmlsbFN0eWxlID0gaGV4Q29sb3I7XG5cdFx0Ly9naG9zdEN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XG5cdFx0Ly9naG9zdEN0eC5saW5lV2lkdGggPSAyMDtcblxuXHRcdG1hcmtlcnMgPSBbXTtcblxuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XG5cdFx0dmFyIGkgPSAwLCB4LCB5O1xuXHRcdHZhciBkYXRhUG9pbnRYOyAvL1VzZWQgc28gdGhhdCB3aGVuIGRhdGFQb2ludC54IGlzIGEgRGF0ZVRpbWUgdmFsdWUsIGl0IGRvZXNuJ3QgZ2V0IGNvbnZlcnRlZCB0byBudW1iZXIgYmFjayBhbmQgZm9ydGguXG5cblx0XHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHR2YXIgYmFzZVk7XG5cblx0XHR2YXIgc3RhcnRQb2ludCA9IG51bGw7XG5cblx0XHR2YXIgcGl4ZWxzID0gW107XG5cblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IFwiIzQ1NzJBNyBcIjtcblx0XHRcdGNvbG9yID0gZGF0YVNlcmllcy5fY29sb3JTZXRbaSAlIGRhdGFTZXJpZXMuX2NvbG9yU2V0Lmxlbmd0aF07XG5cdFx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcblx0XHRcdGN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XG5cblx0XHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcblx0XHRcdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkoZGF0YVNlcmllcy5saW5lRGFzaFR5cGUsIGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcykpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUgPyBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpIDogZGF0YVBvaW50c1tpXS54O1xuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKSB7XG5cdFx0XHRcdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRcdFx0XHRyZW5kZXJCZXppZXJBcmVhKCk7XG5cdFx0XHRcdFx0XHRwaXhlbHMgPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0eSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblxuXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgsIHkxOiB5XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cGl4ZWxzW3BpeGVscy5sZW5ndGhdID0ge1xuXHRcdFx0XHRcdHg6IHgsIHk6IHlcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvL1JlbmRlciBNYXJrZXJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSAhPT0gMCkge1xuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgPiAwIHx8IGRhdGFTZXJpZXMubWFya2VyU2l6ZSA+IDApIHtcblx0XHRcdFx0XHRcdHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCB4LCB5LCBjdHgpO1xuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlclByb3BzKTtcblxuXHRcdFx0XHRcdFx0Ly9pZiAoIWRhdGFTZXJpZXMubWF4V2lkdGhJblggfHwgbWFya2VyUHJvcHMuc2l6ZSA+IGRhdGFTZXJpZXMubWF4V2lkdGhJblgpIHtcblx0XHRcdFx0XHRcdC8vXHRkYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gbWFya2VyUHJvcHMuc2l6ZSAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XG5cdFx0XHRcdFx0XHQvL31cblxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlckNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XG5cblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHksIGN0eDogZ2hvc3RDdHgsXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogbWFya2VyUHJvcHMudHlwZSxcblx0XHRcdFx0XHRcdFx0XHRzaXplOiBtYXJrZXJQcm9wcy5zaXplLFxuXHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBtYXJrZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJDb2xvcjogbWFya2VyQ29sb3IsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3Ncblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHQvL1JlbmRlciBJbmRleCBMYWJlbHNcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xuXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic3BsaW5lQXJlYVwiLFxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnRzW2ldLFxuXHRcdFx0XHRcdFx0ZGF0YVNlcmllczogZGF0YVNlcmllcyxcblx0XHRcdFx0XHRcdHBvaW50OiB7XG5cdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHlcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZW5kZXJCZXppZXJBcmVhKCk7XG5cblx0XHRcdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcblx0XHR9XG5cdH1cblxuXHRjdHgucmVzdG9yZSgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVzdG9yZSgpO1xuXG5cdGZ1bmN0aW9uIHJlbmRlckJlemllckFyZWEoKSB7XG5cdFx0dmFyIGJwID0gZ2V0QmV6aWVyUG9pbnRzKHBpeGVscywgMik7XG5cblx0XHRpZiAoYnAubGVuZ3RoID4gMCkge1xuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0Y3R4Lm1vdmVUbyhicFswXS54LCBicFswXS55KTtcblxuXHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oYnBbMF0ueCwgYnBbMF0ueSk7XG5cdFx0XHR9XG5cblxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBicC5sZW5ndGggLSAzOyBpICs9IDMpIHtcblxuXHRcdFx0XHRjdHguYmV6aWVyQ3VydmVUbyhicFtpICsgMV0ueCwgYnBbaSArIDFdLnksIGJwW2kgKyAyXS54LCBicFtpICsgMl0ueSwgYnBbaSArIDNdLngsIGJwW2kgKyAzXS55KTtcblxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0Z2hvc3RDdHguYmV6aWVyQ3VydmVUbyhicFtpICsgMV0ueCwgYnBbaSArIDFdLnksIGJwW2kgKyAyXS54LCBicFtpICsgMl0ueSwgYnBbaSArIDNdLngsIGJwW2kgKyAzXS55KTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzID4gMClcblx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xuXG5cdFx0XHRpZiAocGxvdFVuaXQuYXhpc1kudmlld3BvcnRNaW5pbXVtIDw9IDAgJiYgcGxvdFVuaXQuYXhpc1kudmlld3BvcnRNYXhpbXVtID49IDApIHtcblx0XHRcdFx0YmFzZVkgPSB5WmVyb1RvUGl4ZWw7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC5heGlzWS52aWV3cG9ydE1heGltdW0gPCAwKVxuXHRcdFx0XHRiYXNlWSA9IGF4aXNZUHJvcHMueTE7XG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC5heGlzWS52aWV3cG9ydE1pbmltdW0gPiAwKVxuXHRcdFx0XHRiYXNlWSA9IGF4aXNYUHJvcHMueTI7XG5cblx0XHRcdHN0YXJ0UG9pbnQgPSB7XG5cdFx0XHRcdHg6IGJwWzBdLngsIHk6IGJwWzBdLnlcblx0XHRcdH07XG5cblx0XHRcdGN0eC5saW5lVG8oYnBbYnAubGVuZ3RoIC0gMV0ueCwgYmFzZVkpO1xuXHRcdFx0Y3R4LmxpbmVUbyhzdGFydFBvaW50LngsIGJhc2VZKTtcblx0XHRcdGN0eC5jbG9zZVBhdGgoKTtcblxuXHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gZGF0YVNlcmllcy5maWxsT3BhY2l0eTtcblx0XHRcdGN0eC5maWxsKCk7XG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG5cdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKGJwW2JwLmxlbmd0aCAtIDFdLngsIGJhc2VZKTtcblx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHN0YXJ0UG9pbnQueCwgYmFzZVkpO1xuXHRcdFx0XHRnaG9zdEN0eC5jbG9zZVBhdGgoKTtcblx0XHRcdFx0Z2hvc3RDdHguZmlsbCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLnhDbGlwQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5saW5lYXIsIGFuaW1hdGlvbkJhc2U6IDBcblx0fTtcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG59XG4iLCJcbmltcG9ydCBSZW5kZXJIZWxwZXIgZnJvbSAnLi4vaGVscGVycy9yZW5kZXInO1xuaW1wb3J0IEFuaW1hdGlvbkhlbHBlciBmcm9tICcuLi9oZWxwZXJzL2FuaW1hdG9yJztcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWQsIGNvbXBhcmVOdW1iZXJzLCBpbnRUb0hleENvbG9yU3RyaW5nLCBnZXRMaW5lRGFzaEFycmF5fSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBsb3RVbml0KSB7XG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XG5cblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcblxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBjb2xvciA9IG51bGw7XG5cdHZhciBtYXJrZXJzID0gW107XG5cblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblxuXHR2YXIgb2Zmc2V0WSA9IFtdO1xuXG5cdHZhciBhbGxYVmFsdWVzID0gW107XG5cdC8vdmFyIG9mZnNldE5lZ2F0aXZlWSA9IFtdO1xuXG5cdHZhciBpID0gMCwgeCwgeTtcblx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBldmVyeXRpbWUgaXQgaXMgYWNjZXNzZWQuXG5cblx0Ly92YXIgeVplcm9Ub1BpeGVsID0gKGF4aXNZUHJvcHMueTIgLSBheGlzWVByb3BzLmhlaWdodCAvIHJhbmdlWSAqIE1hdGguYWJzKDAgLSBwbG90VW5pdC5heGlzWS52aWV3cG9ydE1pbmltdW0pICsgLjUpIDw8IDA7XG5cdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSkgPDwgMDtcblxuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xuXG5cdHZhciBnaG9zdEN0eCA9IHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eDtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cblx0Y3R4LnNhdmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0Z2hvc3RDdHguc2F2ZSgpO1xuXG5cdGN0eC5iZWdpblBhdGgoKTtcblx0Y3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0Y3R4LmNsaXAoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRnaG9zdEN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdFx0Z2hvc3RDdHguY2xpcCgpO1xuXHR9XG5cblx0dmFyIHhWYWx1ZVByZXNlbnQgPSBbXTtcblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XG5cdFx0dmFyIHhWYWx1ZTtcblxuXHRcdGRhdGFTZXJpZXMuZGF0YVBvaW50SW5kZXhlcyA9IFtdO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHhWYWx1ZSA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcblx0XHRcdGRhdGFTZXJpZXMuZGF0YVBvaW50SW5kZXhlc1t4VmFsdWVdID0gaTtcblxuXHRcdFx0aWYgKCF4VmFsdWVQcmVzZW50W3hWYWx1ZV0pIHtcblx0XHRcdFx0YWxsWFZhbHVlcy5wdXNoKHhWYWx1ZSk7XG5cdFx0XHRcdHhWYWx1ZVByZXNlbnRbeFZhbHVlXSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YWxsWFZhbHVlcy5zb3J0KGNvbXBhcmVOdW1iZXJzKTtcblx0fVxuXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcblxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcblxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcblxuXHRcdHZhciBjdXJyZW50QmFzZVZhbHVlcyA9IFtdO1xuXG5cblx0XHR2YXIgc2VyaWVzSWQgPSBkYXRhU2VyaWVzLmlkO1xuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbc2VyaWVzSWRdID0ge1xuXHRcdFx0b2JqZWN0VHlwZTogXCJkYXRhU2VyaWVzXCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4XG5cdFx0fTtcblx0XHR2YXIgaGV4Q29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKHNlcmllc0lkKTtcblx0XHRnaG9zdEN0eC5maWxsU3R5bGUgPSBoZXhDb2xvcjtcblxuXG5cblx0XHRpZiAoYWxsWFZhbHVlcy5sZW5ndGggPiAwKSB7XG5cblx0XHRcdGNvbG9yID0gZGF0YVNlcmllcy5fY29sb3JTZXRbMF07XG5cdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IFwicmVkXCI7XG5cdFx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcblx0XHRcdGN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XG5cblx0XHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcblx0XHRcdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkoZGF0YVNlcmllcy5saW5lRGFzaFR5cGUsIGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcykpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgYWxsWFZhbHVlcy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGRhdGFQb2ludFggPSBhbGxYVmFsdWVzW2ldO1xuXHRcdFx0XHR2YXIgZGF0YVBvaW50ID0gbnVsbDtcblxuXHRcdFx0XHRpZiAoZGF0YVNlcmllcy5kYXRhUG9pbnRJbmRleGVzW2RhdGFQb2ludFhdID49IDApXG5cdFx0XHRcdFx0ZGF0YVBvaW50ID0gZGF0YVBvaW50c1tkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF1dO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0ZGF0YVBvaW50ID0ge1xuXHRcdFx0XHRcdFx0eDogZGF0YVBvaW50WCwgeTogMFxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludC55KSAhPT0gXCJudW1iZXJcIilcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHR2YXIgeCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cdFx0XHRcdC8vdmFyIHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludC55IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0dmFyIHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludC55IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpO1xuXG5cdFx0XHRcdHZhciBvZmZzZXQgPSBvZmZzZXRZW2RhdGFQb2ludFhdID8gb2Zmc2V0WVtkYXRhUG9pbnRYXSA6IDA7XG5cblx0XHRcdFx0eSA9IHkgLSBvZmZzZXQ7XG5cdFx0XHRcdGN1cnJlbnRCYXNlVmFsdWVzLnB1c2goeyB4OiB4LCB5OiB5WmVyb1RvUGl4ZWwgLSBvZmZzZXQgfSk7XG5cdFx0XHRcdG9mZnNldFlbZGF0YVBvaW50WF0gPSB5WmVyb1RvUGl4ZWwgLSB5O1xuXG5cdFx0XHRcdGlmIChpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSkge1xuXHRcdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRjdHgubW92ZVRvKHgsIHkpO1xuXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4LCB5KTtcblxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4LCB5KTtcblxuXHRcdFx0XHRcdGlmIChpICUgMjUwID09IDApIHtcblxuXHRcdFx0XHRcdFx0aWYgKGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcyA+IDApXG5cdFx0XHRcdFx0XHRcdGN0eC5zdHJva2UoKTtcblxuXHRcdFx0XHRcdFx0d2hpbGUgKGN1cnJlbnRCYXNlVmFsdWVzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdFx0dmFyIHBvaW50ID0gY3VycmVudEJhc2VWYWx1ZXMucG9wKCk7XG5cdFx0XHRcdFx0XHRcdGN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdFx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyhwb2ludC54LCBwb2ludC55KTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjdHguY2xvc2VQYXRoKCk7XG5cblx0XHRcdFx0XHRcdGN0eC5nbG9iYWxBbHBoYSA9IGRhdGFTZXJpZXMuZmlsbE9wYWNpdHk7XG5cdFx0XHRcdFx0XHRjdHguZmlsbCgpO1xuXHRcdFx0XHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcblxuXHRcdFx0XHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5KTtcblxuXHRcdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LmNsb3NlUGF0aCgpO1xuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5maWxsKCk7XG5cblx0XHRcdFx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y3VycmVudEJhc2VWYWx1ZXMucHVzaCh7IHg6IHgsIHk6IHlaZXJvVG9QaXhlbCAtIG9mZnNldCB9KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF0gPj0gMCkge1xuXHRcdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2RhdGFTZXJpZXMuZGF0YVBvaW50SW5kZXhlc1tkYXRhUG9pbnRYXV07XG5cdFx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XG5cdFx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogZGF0YVNlcmllcy5kYXRhUG9pbnRJbmRleGVzW2RhdGFQb2ludFhdLCB4MTogeCwgeTE6IHlcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9SZW5kZXIgTWFya2VyXG5cdFx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF0gPj0gMCAmJiBkYXRhUG9pbnQubWFya2VyU2l6ZSAhPT0gMCkge1xuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnQubWFya2VyU2l6ZSA+IDAgfHwgZGF0YVNlcmllcy5tYXJrZXJTaXplID4gMCkge1xuXG5cdFx0XHRcdFx0XHR2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaSwgeCwgeSwgY3R4KTtcblx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaChtYXJrZXJQcm9wcyk7XG5cblx0XHRcdFx0XHRcdC8vaWYgKCFkYXRhU2VyaWVzLm1heFdpZHRoSW5YIHx8IG1hcmtlclByb3BzLnNpemUgPiBkYXRhU2VyaWVzLm1heFdpZHRoSW5YKSB7XG5cdFx0XHRcdFx0XHQvL1x0ZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IG1hcmtlclByb3BzLnNpemUgLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xuXHRcdFx0XHRcdFx0Ly99XG5cblx0XHRcdFx0XHRcdG1hcmtlckNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XG5cblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHksIGN0eDogZ2hvc3RDdHgsXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogbWFya2VyUHJvcHMudHlwZSxcblx0XHRcdFx0XHRcdFx0XHRzaXplOiBtYXJrZXJQcm9wcy5zaXplLFxuXHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBtYXJrZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJDb2xvcjogbWFya2VyQ29sb3IsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3Ncblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludC5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnQuaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcblxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInN0YWNrZWRBcmVhXCIsXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludCxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IDEgOiAtMSxcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcyA+IDApXG5cdFx0XHRcdGN0eC5zdHJva2UoKTtcblxuXHRcdFx0d2hpbGUgKGN1cnJlbnRCYXNlVmFsdWVzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0dmFyIHBvaW50ID0gY3VycmVudEJhc2VWYWx1ZXMucG9wKCk7XG5cdFx0XHRcdGN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XG5cblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyhwb2ludC54LCBwb2ludC55KTtcblx0XHRcdH1cblxuXHRcdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5O1xuXHRcdFx0Y3R4LmZpbGwoKTtcblx0XHRcdGN0eC5nbG9iYWxBbHBoYSA9IDE7XG5cblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdGN0eC5tb3ZlVG8oeCwgeSk7XG5cblx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRnaG9zdEN0eC5jbG9zZVBhdGgoKTtcblx0XHRcdFx0Z2hvc3RDdHguZmlsbCgpO1xuXHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKHgsIHkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRlbGV0ZSAoZGF0YVNlcmllcy5kYXRhUG9pbnRJbmRleGVzKTtcblx0fVxuXG5cdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcblxuXG5cdGN0eC5yZXN0b3JlKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdGdob3N0Q3R4LnJlc3RvcmUoKTtcblxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci54Q2xpcEFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcubGluZWFyLCBhbmltYXRpb25CYXNlOiAwXG5cdH07XG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xufVxuIiwiXG5pbXBvcnQgUmVuZGVySGVscGVyIGZyb20gJy4uL2hlbHBlcnMvcmVuZGVyJztcbmltcG9ydCBBbmltYXRpb25IZWxwZXIgZnJvbSAnLi4vaGVscGVycy9hbmltYXRvcic7XG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkLCBjb21wYXJlTnVtYmVycywgaW50VG9IZXhDb2xvclN0cmluZywgZ2V0TGluZURhc2hBcnJheX0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHBsb3RVbml0KSB7XG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XG5cblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcblxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBjb2xvciA9IG51bGw7XG5cblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblx0dmFyIG1hcmtlcnMgPSBbXTtcblxuXHR2YXIgb2Zmc2V0WSA9IFtdO1xuXG5cdHZhciBhbGxYVmFsdWVzID0gW107XG5cdC8vdmFyIG9mZnNldE5lZ2F0aXZlWSA9IFtdO1xuXG5cdHZhciBpID0gMCwgeCwgeTtcblx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBldmVyeXRpbWUgaXQgaXMgYWNjZXNzZWQuXG5cblxuXHQvL3ZhciB5WmVyb1RvUGl4ZWwgPSAoYXhpc1lQcm9wcy55MiAtIGF4aXNZUHJvcHMuaGVpZ2h0IC8gcmFuZ2VZICogTWF0aC5hYnMoMCAtIHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWluaW11bSkgKyAuNSkgPDwgMDtcblx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKSA8PCAwO1xuXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogdGhpcy53aWR0aCAqIC4xNSA8PCAwO1xuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xuXHR2YXIgYmFyV2lkdGggPSAoKChwbG90QXJlYS53aWR0aCAvIE1hdGguYWJzKHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWluaW11bSkpICogTWF0aC5hYnMoeE1pbkRpZmYpKSAqIC45KSA8PCAwO1xuXG5cdHZhciBnaG9zdEN0eCA9IHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eDtcblxuXHRjdHguc2F2ZSgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRnaG9zdEN0eC5zYXZlKCk7XG5cblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0Z2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRcdGdob3N0Q3R4LmNsaXAoKTtcblx0fVxuXG5cdHZhciB4VmFsdWVQcmVzZW50ID0gW107XG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcblxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xuXHRcdHZhciB4VmFsdWU7XG5cblx0XHRkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXMgPSBbXTtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR4VmFsdWUgPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XG5cdFx0XHRkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbeFZhbHVlXSA9IGk7XG5cblx0XHRcdGlmICgheFZhbHVlUHJlc2VudFt4VmFsdWVdKSB7XG5cdFx0XHRcdGFsbFhWYWx1ZXMucHVzaCh4VmFsdWUpO1xuXHRcdFx0XHR4VmFsdWVQcmVzZW50W3hWYWx1ZV0gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFsbFhWYWx1ZXMuc29ydChjb21wYXJlTnVtYmVycyk7XG5cdH1cblxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XG5cblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XG5cblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xuXHRcdHZhciBpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IHRydWU7XG5cblxuXHRcdHZhciBzZXJpZXNJZCA9IGRhdGFTZXJpZXMuaWQ7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtzZXJpZXNJZF0gPSB7XG5cdFx0XHRvYmplY3RUeXBlOiBcImRhdGFTZXJpZXNcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXhcblx0XHR9O1xuXHRcdHZhciBoZXhDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoc2VyaWVzSWQpO1xuXHRcdGdob3N0Q3R4LmZpbGxTdHlsZSA9IGhleENvbG9yO1xuXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID09IDEpXG5cdFx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xuXG5cdFx0aWYgKGJhcldpZHRoIDwgMSlcblx0XHRcdGJhcldpZHRoID0gMTtcblx0XHRlbHNlIGlmIChiYXJXaWR0aCA+IG1heEJhcldpZHRoKVxuXHRcdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcblxuXHRcdHZhciBjdXJyZW50QmFzZVZhbHVlcyA9IFtdO1xuXG5cdFx0aWYgKGFsbFhWYWx1ZXMubGVuZ3RoID4gMCkge1xuXG5cdFx0XHRjb2xvciA9IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuXHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG5cdFx0XHRjdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xuXG5cdFx0XHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XG5cdFx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGJldmVsRW5hYmxlZCA9IChiYXJXaWR0aCA+IDUpID8gZmFsc2UgOiBmYWxzZTtcblxuXHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBcIiM0NTcyQTcgXCI7XG5cblx0XHRcdGZvciAoaSA9IDA7IGkgPCBhbGxYVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0ZGF0YVBvaW50WCA9IGFsbFhWYWx1ZXNbaV07XG5cdFx0XHRcdHZhciBkYXRhUG9pbnQgPSBudWxsO1xuXG5cdFx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF0gPj0gMClcblx0XHRcdFx0XHRkYXRhUG9pbnQgPSBkYXRhUG9pbnRzW2RhdGFTZXJpZXMuZGF0YVBvaW50SW5kZXhlc1tkYXRhUG9pbnRYXV07XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRkYXRhUG9pbnQgPSB7XG5cdFx0XHRcdFx0XHR4OiBkYXRhUG9pbnRYLCB5OiAwXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHR5cGVvZiAoZGF0YVBvaW50LnkpICE9PSBcIm51bWJlclwiKVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdHZhciB5UGVyY2VudDtcblx0XHRcdFx0aWYgKHBsb3RVbml0LmRhdGFQb2ludFlTdW1zW2RhdGFQb2ludFhdICE9PSAwKVxuXHRcdFx0XHRcdHlQZXJjZW50ID0gZGF0YVBvaW50LnkgLyBwbG90VW5pdC5kYXRhUG9pbnRZU3Vtc1tkYXRhUG9pbnRYXSAqIDEwMDtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHlQZXJjZW50ID0gMDtcblxuXHRcdFx0XHR2YXIgeCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cdFx0XHRcdHZhciB5ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICh5UGVyY2VudCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKTtcblxuXHRcdFx0XHR2YXIgb2Zmc2V0ID0gb2Zmc2V0WVtkYXRhUG9pbnRYXSA/IG9mZnNldFlbZGF0YVBvaW50WF0gOiAwO1xuXG5cdFx0XHRcdHkgPSB5IC0gb2Zmc2V0O1xuXHRcdFx0XHRjdXJyZW50QmFzZVZhbHVlcy5wdXNoKHsgeDogeCwgeTogeVplcm9Ub1BpeGVsIC0gb2Zmc2V0IH0pO1xuXHRcdFx0XHRvZmZzZXRZW2RhdGFQb2ludFhdID0geVplcm9Ub1BpeGVsIC0geTtcblxuXHRcdFx0XHRpZiAoaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEpIHtcblx0XHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5KTtcblxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblxuXHRcdFx0XHRcdGN0eC5saW5lVG8oeCwgeSk7XG5cblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8oeCwgeSk7XG5cblx0XHRcdFx0XHRpZiAoaSAlIDI1MCA9PSAwKSB7XG5cblx0XHRcdFx0XHRcdGlmIChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MgPiAwKVxuXHRcdFx0XHRcdFx0XHRjdHguc3Ryb2tlKCk7XG5cblx0XHRcdFx0XHRcdHdoaWxlIChjdXJyZW50QmFzZVZhbHVlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBwb2ludCA9IGN1cnJlbnRCYXNlVmFsdWVzLnBvcCgpO1xuXHRcdFx0XHRcdFx0XHRjdHgubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGN0eC5jbG9zZVBhdGgoKTtcblxuXHRcdFx0XHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gZGF0YVNlcmllcy5maWxsT3BhY2l0eTtcblx0XHRcdFx0XHRcdGN0eC5maWxsKCk7XG5cdFx0XHRcdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG5cdFx0XHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0XHRjdHgubW92ZVRvKHgsIHkpO1xuXG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0XHRcdFx0Z2hvc3RDdHguY2xvc2VQYXRoKCk7XG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LmZpbGwoKTtcblx0XHRcdFx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y3VycmVudEJhc2VWYWx1ZXMucHVzaCh7IHg6IHgsIHk6IHlaZXJvVG9QaXhlbCAtIG9mZnNldCB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF0gPj0gMCkge1xuXHRcdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2RhdGFTZXJpZXMuZGF0YVBvaW50SW5kZXhlc1tkYXRhUG9pbnRYXV07XG5cdFx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XG5cdFx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogZGF0YVNlcmllcy5kYXRhUG9pbnRJbmRleGVzW2RhdGFQb2ludFhdLCB4MTogeCwgeTE6IHlcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9SZW5kZXIgTWFya2VyXG5cdFx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludEluZGV4ZXNbZGF0YVBvaW50WF0gPj0gMCAmJiBkYXRhUG9pbnQubWFya2VyU2l6ZSAhPT0gMCkge1xuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnQubWFya2VyU2l6ZSA+IDAgfHwgZGF0YVNlcmllcy5tYXJrZXJTaXplID4gMCkge1xuXHRcdFx0XHRcdFx0dmFyIG1hcmtlclByb3BzID0gZGF0YVNlcmllcy5nZXRNYXJrZXJQcm9wZXJ0aWVzKGksIHgsIHksIGN0eCk7XG5cdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2gobWFya2VyUHJvcHMpO1xuXG5cdFx0XHRcdFx0XHQvL2lmICghZGF0YVNlcmllcy5tYXhXaWR0aEluWCB8fCBtYXJrZXJQcm9wcy5zaXplID4gZGF0YVNlcmllcy5tYXhXaWR0aEluWCkge1xuXHRcdFx0XHRcdFx0Ly9cdGRhdGFTZXJpZXMubWF4V2lkdGhJblggPSBtYXJrZXJQcm9wcy5zaXplIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcblx0XHRcdFx0XHRcdC8vfVxuXG5cdFx0XHRcdFx0XHRtYXJrZXJDb2xvciA9IGludFRvSGV4Q29sb3JTdHJpbmcoaWQpO1xuXG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5LCBjdHg6IGdob3N0Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IG1hcmtlclByb3BzLnR5cGUsXG5cdFx0XHRcdFx0XHRcdFx0c2l6ZTogbWFya2VyUHJvcHMuc2l6ZSxcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjogbWFya2VyQ29sb3IsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6IG1hcmtlckNvbG9yLFxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlclRoaWNrbmVzczogbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnQuaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50LmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XG5cblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJzdGFja2VkQXJlYTEwMFwiLFxuXHRcdFx0XHRcdFx0ZGF0YVBvaW50OiBkYXRhUG9pbnQsXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogeVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGRpcmVjdGlvbjogZGF0YVBvaW50c1tpXS55ID49IDAgPyAxIDogLTEsXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3Jcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MgPiAwKVxuXHRcdFx0XHRjdHguc3Ryb2tlKCk7XG5cblx0XHRcdHdoaWxlIChjdXJyZW50QmFzZVZhbHVlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHZhciBwb2ludCA9IGN1cnJlbnRCYXNlVmFsdWVzLnBvcCgpO1xuXHRcdFx0XHRjdHgubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xuXG5cdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XG5cdFx0XHR9XG5cblx0XHRcdGN0eC5jbG9zZVBhdGgoKTtcblxuXHRcdFx0Y3R4Lmdsb2JhbEFscGhhID0gZGF0YVNlcmllcy5maWxsT3BhY2l0eTtcblx0XHRcdGN0eC5maWxsKCk7XG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRjdHgubW92ZVRvKHgsIHkpO1xuXG5cdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0Z2hvc3RDdHguY2xvc2VQYXRoKCk7XG5cdFx0XHRcdGdob3N0Q3R4LmZpbGwoKTtcblx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRkZWxldGUgKGRhdGFTZXJpZXMuZGF0YVBvaW50SW5kZXhlcyk7XG5cdH1cblxuXHRSZW5kZXJIZWxwZXIuZHJhd01hcmtlcnMobWFya2Vycyk7XG5cblx0Y3R4LnJlc3RvcmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0Z2hvc3RDdHgucmVzdG9yZSgpO1xuXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLnhDbGlwQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5saW5lYXIsIGFuaW1hdGlvbkJhc2U6IDBcblx0fTtcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG59XG4iLCJcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcblxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBjb2xvciA9IG51bGw7XG5cblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblxuXHR2YXIgb2Zmc2V0UG9zaXRpdmVZID0gW107XG5cdHZhciBvZmZzZXROZWdhdGl2ZVkgPSBbXTtcblxuXHR2YXIgaSA9IDAsIHgsIHk7XG5cdHZhciBkYXRhUG9pbnRYOyAvL1VzZWQgc28gdGhhdCB3aGVuIGRhdGFQb2ludC54IGlzIGEgRGF0ZVRpbWUgdmFsdWUsIGl0IGRvZXNuJ3QgZ2V0IGNvbnZlcnRlZCB0byBudW1iZXIgZXZlcnl0aW1lIGl0IGlzIGFjY2Vzc2VkLlxuXG5cdC8vdmFyIHlaZXJvVG9QaXhlbCA9IChheGlzWVByb3BzLnkyIC0gYXhpc1lQcm9wcy5oZWlnaHQgLyByYW5nZVkgKiBNYXRoLmFicygwIC0gcGxvdFVuaXQuYXhpc1kudmlld3BvcnRNaW5pbXVtKSArIC41KSA8PCAwO1xuXHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpIDw8IDA7XG5cblx0dmFyIG1heEJhcldpZHRoID0gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA/IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggOiB0aGlzLmhlaWdodCAqIC4xNSA8PCAwO1xuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xuXHR2YXIgYmFyV2lkdGggPSAoKChwbG90QXJlYS5oZWlnaHQgLyBNYXRoLmFicyhwbG90VW5pdC5heGlzWC52aWV3cG9ydE1heGltdW0gLSBwbG90VW5pdC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSAqIE1hdGguYWJzKHhNaW5EaWZmKSkgLyBwbG90VW5pdC5wbG90VHlwZS5wbG90VW5pdHMubGVuZ3RoICogLjkpIDw8IDA7XG5cblx0aWYgKGJhcldpZHRoID4gbWF4QmFyV2lkdGgpXG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcblx0ZWxzZSBpZiAoeE1pbkRpZmYgPT09IEluZmluaXR5KSB7XG5cdFx0YmFyV2lkdGggPSBtYXhCYXJXaWR0aDtcblx0fSBlbHNlIGlmIChiYXJXaWR0aCA8IDEpXG5cdFx0YmFyV2lkdGggPSAxO1xuXG5cdGN0eC5zYXZlKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5zYXZlKCk7XG5cblx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRjdHguY2xpcCgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmNsaXAoKTtcblx0fVxuXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcblxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcblxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcblxuXHRcdC8vZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IGJhcldpZHRoIC8gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCA+IDEgPyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgLSAxIDogcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0KTtcblxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XG5cblx0XHRcdHZhciBiZXZlbEVuYWJsZWQgPSAoYmFyV2lkdGggPiA1KSAmJiBkYXRhU2VyaWVzLmJldmVsRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcblxuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCIjNDU3MkE3IFwiO1xuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XG5cblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHR5cGVvZiAoZGF0YVBvaW50c1tpXS55KSAhPT0gXCJudW1iZXJcIilcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHR5ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0Ly94ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnkgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRzW2ldLnkgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSk7XG5cblx0XHRcdFx0Ly92YXIgeDEgPSB4IC0gKHBsb3RVbml0LnBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGggKiBiYXJXaWR0aCAvIDIpICsgKHBsb3RVbml0LmluZGV4ICogYmFyV2lkdGgpIDw8IDA7XG5cblx0XHRcdFx0dmFyIHkxID0geSAtIChwbG90VW5pdC5wbG90VHlwZS5wbG90VW5pdHMubGVuZ3RoICogYmFyV2lkdGggLyAyKSArIChwbG90VW5pdC5pbmRleCAqIGJhcldpZHRoKSA8PCAwO1xuXHRcdFx0XHR2YXIgeTIgPSB5MSArIGJhcldpZHRoIDw8IDA7XG5cdFx0XHRcdHZhciB4MTtcblx0XHRcdFx0dmFyIHgyO1xuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLnkgPj0gMCkge1xuXHRcdFx0XHRcdHZhciBvZmZzZXQgPSBvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gPyBvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gOiAwO1xuXG5cdFx0XHRcdFx0eDEgPSB5WmVyb1RvUGl4ZWwgKyBvZmZzZXQ7XG5cdFx0XHRcdFx0eDIgPSB4ICsgb2Zmc2V0O1xuXG5cdFx0XHRcdFx0b2Zmc2V0UG9zaXRpdmVZW2RhdGFQb2ludFhdID0gb2Zmc2V0ICsgKHgyIC0geDEpO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFyIG9mZnNldCA9IG9mZnNldE5lZ2F0aXZlWVtkYXRhUG9pbnRYXSA/IG9mZnNldE5lZ2F0aXZlWVtkYXRhUG9pbnRYXSA6IDA7XG5cblx0XHRcdFx0XHR4MSA9IHggLSBvZmZzZXQ7XG5cdFx0XHRcdFx0eDIgPSB5WmVyb1RvUGl4ZWwgLSBvZmZzZXQ7XG5cblx0XHRcdFx0XHRvZmZzZXROZWdhdGl2ZVlbZGF0YVBvaW50WF0gPSBvZmZzZXQgKyAoeDIgLSB4MSk7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGNvbG9yID0gZGF0YVBvaW50c1tpXS5jb2xvciA/IGRhdGFQb2ludHNbaV0uY29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFtpICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcblx0XHRcdFx0ZHJhd1JlY3QoY3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGJldmVsRW5hYmxlZCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZGF0YVNlcmllcy5maWxsT3BhY2l0eSk7XG5cblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTJcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcblxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0ZHJhd1JlY3QodGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKVxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInN0YWNrZWRCYXJcIixcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IHgyIDogeDEsIHk6IHlcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxuXHRcdFx0XHRcdFx0Ym91bmRzOiB7XG5cdFx0XHRcdFx0XHRcdHgxOiBNYXRoLm1pbih4MSwgeDIpLCB5MTogeTEsIHgyOiBNYXRoLm1heCh4MSwgeDIpLCB5MjogeTJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3Jcblx0XHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjdHgucmVzdG9yZSgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVzdG9yZSgpO1xuXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcblx0dmFyIGFuaW1hdGlvbkJhc2UgPSBNYXRoLm1heCh5WmVyb1RvUGl4ZWwsIHBsb3RVbml0LmF4aXNYLmJvdW5kaW5nUmVjdC54Mik7XG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci54U2NhbGVBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmVhc2VPdXRRdWFydCwgYW5pbWF0aW9uQmFzZTogYW5pbWF0aW9uQmFzZVxuXHR9O1xuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcbn1cbiIsIlxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xuXG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcblx0XHRyZXR1cm47XG5cblx0dmFyIGNvbG9yID0gbnVsbDtcblxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuXG5cdHZhciBvZmZzZXRQb3NpdGl2ZVkgPSBbXTtcblx0dmFyIG9mZnNldE5lZ2F0aXZlWSA9IFtdO1xuXG5cdHZhciBpID0gMCwgeCwgeTtcblx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBldmVyeXRpbWUgaXQgaXMgYWNjZXNzZWQuXG5cblx0Ly92YXIgeVplcm9Ub1BpeGVsID0gKGF4aXNZUHJvcHMueTIgLSBheGlzWVByb3BzLmhlaWdodCAvIHJhbmdlWSAqIE1hdGguYWJzKDAgLSBwbG90VW5pdC5heGlzWS52aWV3cG9ydE1pbmltdW0pICsgLjUpIDw8IDA7XG5cdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSkgPDwgMDtcblxuXHR2YXIgbWF4QmFyV2lkdGggPSB0aGlzLmRhdGFQb2ludE1heFdpZHRoID8gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA6IHRoaXMuaGVpZ2h0ICogLjE1IDw8IDA7XG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XG5cdHZhciBiYXJXaWR0aCA9ICgoKHBsb3RBcmVhLmhlaWdodCAvIE1hdGguYWJzKHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWluaW11bSkpICogTWF0aC5hYnMoeE1pbkRpZmYpKSAvIHBsb3RVbml0LnBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGggKiAuOSkgPDwgMDtcblxuXHRpZiAoYmFyV2lkdGggPiBtYXhCYXJXaWR0aClcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xuXHRlbHNlIGlmICh4TWluRGlmZiA9PT0gSW5maW5pdHkpIHtcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcblx0XHRiYXJXaWR0aCA9IDE7XG5cblx0Y3R4LnNhdmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHguY2xpcCgpO1xuXHR9XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xuXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xuXG5cdFx0Ly9kYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gYmFyV2lkdGggLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xuXG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xuXHRcdFx0Ly92YXIgeHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPblBsb3RBcmVhKGRhdGFQb2ludHNbMF0ueCwgZGF0YVBvaW50c1swXS55KTtcblxuXHRcdFx0dmFyIGJldmVsRW5hYmxlZCA9IChiYXJXaWR0aCA+IDUpICYmIGRhdGFTZXJpZXMuYmV2ZWxFbmFibGVkID8gdHJ1ZSA6IGZhbHNlO1xuXG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBcIiM0NTcyQTcgXCI7XG5cblx0XHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcblxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXG5cdFx0XHRcdHZhciB5UGVyY2VudDtcblx0XHRcdFx0aWYgKHBsb3RVbml0LmRhdGFQb2ludFlTdW1zW2RhdGFQb2ludFhdICE9PSAwKVxuXHRcdFx0XHRcdHlQZXJjZW50ID0gZGF0YVBvaW50c1tpXS55IC8gcGxvdFVuaXQuZGF0YVBvaW50WVN1bXNbZGF0YVBvaW50WF0gKiAxMDA7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR5UGVyY2VudCA9IDA7XG5cblx0XHRcdFx0Ly94ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICh5UGVyY2VudCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKHlQZXJjZW50IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpO1xuXG5cdFx0XHRcdHZhciB5MSA9IHkgLSAocGxvdFVuaXQucGxvdFR5cGUucGxvdFVuaXRzLmxlbmd0aCAqIGJhcldpZHRoIC8gMikgKyAocGxvdFVuaXQuaW5kZXggKiBiYXJXaWR0aCkgPDwgMDtcblx0XHRcdFx0dmFyIHkyID0geTEgKyBiYXJXaWR0aCA8PCAwO1xuXHRcdFx0XHR2YXIgeDE7XG5cdFx0XHRcdHZhciB4MjtcblxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLnkgPj0gMCkge1xuXHRcdFx0XHRcdHZhciBvZmZzZXQgPSBvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gPyBvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gOiAwO1xuXG5cdFx0XHRcdFx0eDEgPSB5WmVyb1RvUGl4ZWwgKyBvZmZzZXQ7XG5cdFx0XHRcdFx0eDIgPSB4ICsgb2Zmc2V0O1xuXG5cdFx0XHRcdFx0b2Zmc2V0UG9zaXRpdmVZW2RhdGFQb2ludFhdID0gb2Zmc2V0ICsgKHgyIC0geDEpO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFyIG9mZnNldCA9IG9mZnNldE5lZ2F0aXZlWVtkYXRhUG9pbnRYXSA/IG9mZnNldE5lZ2F0aXZlWVtkYXRhUG9pbnRYXSA6IDA7XG5cblx0XHRcdFx0XHR4MSA9IHggLSBvZmZzZXQ7XG5cdFx0XHRcdFx0eDIgPSB5WmVyb1RvUGl4ZWwgLSBvZmZzZXQ7XG5cblx0XHRcdFx0XHRvZmZzZXROZWdhdGl2ZVlbZGF0YVBvaW50WF0gPSBvZmZzZXQgKyAoeDIgLSB4MSk7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGNvbG9yID0gZGF0YVBvaW50c1tpXS5jb2xvciA/IGRhdGFQb2ludHNbaV0uY29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFtpICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcblx0XHRcdFx0ZHJhd1JlY3QoY3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGJldmVsRW5hYmxlZCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZGF0YVNlcmllcy5maWxsT3BhY2l0eSk7XG5cblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTJcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcblxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0ZHJhd1JlY3QodGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKVxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInN0YWNrZWRCYXIxMDBcIixcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IHgyIDogeDEsIHk6IHlcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxuXHRcdFx0XHRcdFx0Ym91bmRzOiB7XG5cdFx0XHRcdFx0XHRcdHgxOiBNYXRoLm1pbih4MSwgeDIpLCB5MTogeTEsIHgyOiBNYXRoLm1heCh4MSwgeDIpLCB5MjogeTJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3Jcblx0XHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjdHgucmVzdG9yZSgpO1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVzdG9yZSgpO1xuXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcblx0dmFyIGFuaW1hdGlvbkJhc2UgPSBNYXRoLm1heCh5WmVyb1RvUGl4ZWwsIHBsb3RVbml0LmF4aXNYLmJvdW5kaW5nUmVjdC54Mik7XG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci54U2NhbGVBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmVhc2VPdXRRdWFydCwgYW5pbWF0aW9uQmFzZTogYW5pbWF0aW9uQmFzZVxuXHR9O1xuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcbn1cbiIsIlxuaW1wb3J0IHtpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwbG90VW5pdCkge1xuXG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XG5cblx0aWYgKHRvdGFsRGF0YVNlcmllcyA8PSAwKVxuXHRcdHJldHVybjtcblxuXHR2YXIgY29sb3IgPSBudWxsO1xuXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG5cblx0dmFyIG9mZnNldFBvc2l0aXZlWSA9IFtdO1xuXHR2YXIgb2Zmc2V0TmVnYXRpdmVZID0gW107XG5cblx0dmFyIGkgPSAwLCB4LCB5O1xuXHR2YXIgZGF0YVBvaW50WDsgLy9Vc2VkIHNvIHRoYXQgd2hlbiBkYXRhUG9pbnQueCBpcyBhIERhdGVUaW1lIHZhbHVlLCBpdCBkb2Vzbid0IGdldCBjb252ZXJ0ZWQgdG8gbnVtYmVyIGV2ZXJ5dGltZSBpdCBpcyBhY2Nlc3NlZC5cblxuXHQvL3ZhciB5WmVyb1RvUGl4ZWwgPSAoYXhpc1lQcm9wcy55MiAtIGF4aXNZUHJvcHMuaGVpZ2h0IC8gcmFuZ2VZICogTWF0aC5hYnMoMCAtIHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWluaW11bSkgKyAuNSkgPDwgMDtcblx0dmFyIHlaZXJvVG9QaXhlbCA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoMCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKSA8PCAwO1xuXG5cdHZhciBtYXhCYXJXaWR0aCA9IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggPyB0aGlzLmRhdGFQb2ludE1heFdpZHRoIDogdGhpcy53aWR0aCAqIC4xNSA8PCAwO1xuXHR2YXIgeE1pbkRpZmYgPSBwbG90VW5pdC5heGlzWC5kYXRhSW5mby5taW5EaWZmO1xuXHR2YXIgYmFyV2lkdGggPSAoKChwbG90QXJlYS53aWR0aCAvIE1hdGguYWJzKHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHBsb3RVbml0LmF4aXNYLnZpZXdwb3J0TWluaW11bSkpICogTWF0aC5hYnMoeE1pbkRpZmYpKSAvIHBsb3RVbml0LnBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGggKiAuOSkgPDwgMDtcblxuXHRpZiAoYmFyV2lkdGggPiBtYXhCYXJXaWR0aClcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xuXHRlbHNlIGlmICh4TWluRGlmZiA9PT0gSW5maW5pdHkpIHtcblx0XHRiYXJXaWR0aCA9IG1heEJhcldpZHRoO1xuXHR9IGVsc2UgaWYgKGJhcldpZHRoIDwgMSlcblx0XHRiYXJXaWR0aCA9IDE7XG5cblxuXG5cdGN0eC5zYXZlKCk7XG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHguc2F2ZSgpO1xuXG5cdGN0eC5iZWdpblBhdGgoKTtcblx0Y3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0Y3R4LmNsaXAoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLndpZHRoLCBwbG90QXJlYS5oZWlnaHQpO1xuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5jbGlwKCk7XG5cdH1cblxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XG5cblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xuXG5cdFx0Ly8gUmVkdWNpbmcgcGl4ZWxQZXJVbml0IGJ5IDEganVzdCB0byBvdmVyY29tZSBhbnkgcHJvYmxlbXMgZHVlIHRvIHJvdW5kaW5nIG9mZiBvZiBwaXhlbHMuXG5cdFx0Ly9kYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gYmFyV2lkdGggLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xuXG5cblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHQvL3ZhciB4eSA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uUGxvdEFyZWEoZGF0YVBvaW50c1swXS54LCBkYXRhUG9pbnRzWzBdLnkpO1xuXG5cdFx0XHR2YXIgYmV2ZWxFbmFibGVkID0gKGJhcldpZHRoID4gNSkgJiYgZGF0YVNlcmllcy5iZXZlbEVuYWJsZWQgPyB0cnVlIDogZmFsc2U7XG5cblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IFwiIzQ1NzJBNyBcIjtcblxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVBvaW50c1tpXS54LmdldFRpbWUgPyBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpIDogZGF0YVBvaW50c1tpXS54O1xuXG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludHNbaV0ueSkgIT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0eCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pKTtcblxuXHRcdFx0XHR2YXIgeDEgPSB4IC0gKHBsb3RVbml0LnBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGggKiBiYXJXaWR0aCAvIDIpICsgKHBsb3RVbml0LmluZGV4ICogYmFyV2lkdGgpIDw8IDA7XG5cdFx0XHRcdHZhciB4MiA9IHgxICsgYmFyV2lkdGggPDwgMDtcblx0XHRcdFx0dmFyIHkxO1xuXHRcdFx0XHR2YXIgeTI7XG5cblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS55ID49IDApIHtcblx0XHRcdFx0XHR2YXIgb2Zmc2V0ID0gb2Zmc2V0UG9zaXRpdmVZW2RhdGFQb2ludFhdID8gb2Zmc2V0UG9zaXRpdmVZW2RhdGFQb2ludFhdIDogMDtcblxuXHRcdFx0XHRcdHkxID0geSAtIG9mZnNldDtcblx0XHRcdFx0XHR5MiA9IHlaZXJvVG9QaXhlbCAtIG9mZnNldDtcblxuXHRcdFx0XHRcdG9mZnNldFBvc2l0aXZlWVtkYXRhUG9pbnRYXSA9IG9mZnNldCArICh5MiAtIHkxKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhciBvZmZzZXQgPSBvZmZzZXROZWdhdGl2ZVlbZGF0YVBvaW50WF0gPyBvZmZzZXROZWdhdGl2ZVlbZGF0YVBvaW50WF0gOiAwO1xuXG5cdFx0XHRcdFx0eTIgPSB5ICsgb2Zmc2V0O1xuXHRcdFx0XHRcdHkxID0geVplcm9Ub1BpeGVsICsgb2Zmc2V0O1xuXG5cdFx0XHRcdFx0b2Zmc2V0TmVnYXRpdmVZW2RhdGFQb2ludFhdID0gb2Zmc2V0ICsgKHkyIC0geTEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29sb3IgPSBkYXRhUG9pbnRzW2ldLmNvbG9yID8gZGF0YVBvaW50c1tpXS5jb2xvciA6IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuXG5cdFx0XHRcdGRyYXdSZWN0KGN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBiZXZlbEVuYWJsZWQgJiYgKGRhdGFQb2ludHNbaV0ueSA+PSAwKSwgKGRhdGFQb2ludHNbaV0ueSA8IDApICYmIGJldmVsRW5hYmxlZCwgZmFsc2UsIGZhbHNlLCBkYXRhU2VyaWVzLmZpbGxPcGFjaXR5KTtcblxuXHRcdFx0XHQvL2lmIChkYXRhU2VyaWVzLm1hcmtlclR5cGUgJiYgZGF0YVNlcmllcy5tYXJrZXJTaXplID4gMCkge1xuXHRcdFx0XHQvLyAgICBSZW5kZXJIZWxwZXIuZHJhd01hcmtlcih4MSArICh4MiAtIHgxKS8yLCB5MSwgY3R4LCBkYXRhU2VyaWVzLm1hcmtlclR5cGUsIGRhdGFTZXJpZXMubWFya2VyU2l6ZSwgY29sb3IsIGRhdGFTZXJpZXMubWFya2VyQm9yZGVyQ29sb3IsIGRhdGFTZXJpZXMubWFya2VyQm9yZGVyVGhpY2tuZXNzID8gZGF0YVNlcmllcy5tYXJrZXJCb3JkZXJUaGlja25lc3MgOiAxKTtcblx0XHRcdFx0Ly99XG5cblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTJcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcblxuXHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0ZHJhd1JlY3QodGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcblxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcInN0YWNrZWRDb2x1bW5cIixcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IHkxIDogeTJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb246IGRhdGFQb2ludHNbaV0ueSA+PSAwID8gMSA6IC0xLFxuXHRcdFx0XHRcdFx0Ym91bmRzOiB7XG5cdFx0XHRcdFx0XHRcdHgxOiB4MSwgeTE6IE1hdGgubWluKHkxLCB5MiksIHgyOiB4MiwgeTI6IE1hdGgubWF4KHkxLCB5Milcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRjb2xvcjogY29sb3Jcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y3R4LnJlc3RvcmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcblxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXG5cdHZhciBhbmltYXRpb25CYXNlID0gTWF0aC5taW4oeVplcm9Ub1BpeGVsLCBwbG90VW5pdC5heGlzWS5ib3VuZGluZ1JlY3QueTIpO1xuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueVNjYWxlQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5lYXNlT3V0UXVhcnQsIGFuaW1hdGlvbkJhc2U6IGFuaW1hdGlvbkJhc2Vcblx0fTtcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG59XG4iLCJcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGxvdFVuaXQpIHtcblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcblxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBjb2xvciA9IG51bGw7XG5cblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblxuXHR2YXIgb2Zmc2V0UG9zaXRpdmVZID0gW107XG5cdHZhciBvZmZzZXROZWdhdGl2ZVkgPSBbXTtcblxuXHR2YXIgaSA9IDAsIHgsIHk7XG5cdHZhciBkYXRhUG9pbnRYOyAvL1VzZWQgc28gdGhhdCB3aGVuIGRhdGFQb2ludC54IGlzIGEgRGF0ZVRpbWUgdmFsdWUsIGl0IGRvZXNuJ3QgZ2V0IGNvbnZlcnRlZCB0byBudW1iZXIgZXZlcnl0aW1lIGl0IGlzIGFjY2Vzc2VkLlxuXG5cdC8vdmFyIHlaZXJvVG9QaXhlbCA9IChheGlzWVByb3BzLnkyIC0gYXhpc1lQcm9wcy5oZWlnaHQgLyByYW5nZVkgKiBNYXRoLmFicygwIC0gcGxvdFVuaXQuYXhpc1kudmlld3BvcnRNaW5pbXVtKSArIC41KSA8PCAwO1xuXHR2YXIgeVplcm9Ub1BpeGVsID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICgwIC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpIDw8IDA7XG5cblx0dmFyIG1heEJhcldpZHRoID0gdGhpcy5kYXRhUG9pbnRNYXhXaWR0aCA/IHRoaXMuZGF0YVBvaW50TWF4V2lkdGggOiB0aGlzLndpZHRoICogLjE1IDw8IDA7XG5cdHZhciB4TWluRGlmZiA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLm1pbkRpZmY7XG5cdHZhciBiYXJXaWR0aCA9ICgoKHBsb3RBcmVhLndpZHRoIC8gTWF0aC5hYnMocGxvdFVuaXQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gcGxvdFVuaXQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyh4TWluRGlmZikpIC8gcGxvdFVuaXQucGxvdFR5cGUucGxvdFVuaXRzLmxlbmd0aCAqIC45KSA8PCAwO1xuXG5cdGlmIChiYXJXaWR0aCA+IG1heEJhcldpZHRoKVxuXHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGg7XG5cdGVsc2UgaWYgKHhNaW5EaWZmID09PSBJbmZpbml0eSkge1xuXHRcdGJhcldpZHRoID0gbWF4QmFyV2lkdGg7XG5cdH0gZWxzZSBpZiAoYmFyV2lkdGggPCAxKVxuXHRcdGJhcldpZHRoID0gMTtcblxuXHRjdHguc2F2ZSgpO1xuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnNhdmUoKTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHguY2xpcCgpO1xuXHR9XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xuXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblx0XHR2YXIgaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSB0cnVlO1xuXG5cblx0XHQvL2RhdGFTZXJpZXMubWF4V2lkdGhJblggPSBiYXJXaWR0aCAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XG5cblxuXHRcdGlmIChkYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vdmFyIHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYShkYXRhUG9pbnRzWzBdLngsIGRhdGFQb2ludHNbMF0ueSk7XG5cblx0XHRcdHZhciBiZXZlbEVuYWJsZWQgPSAoYmFyV2lkdGggPiA1KSAmJiBkYXRhU2VyaWVzLmJldmVsRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcblxuXHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBcIiM0NTcyQTcgXCI7XG5cblx0XHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcblxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdHggPSAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludFggLSBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXG5cdFx0XHRcdHZhciB5UGVyY2VudDtcblx0XHRcdFx0aWYgKHBsb3RVbml0LmRhdGFQb2ludFlTdW1zW2RhdGFQb2ludFhdICE9PSAwKVxuXHRcdFx0XHRcdHlQZXJjZW50ID0gZGF0YVBvaW50c1tpXS55IC8gcGxvdFVuaXQuZGF0YVBvaW50WVN1bXNbZGF0YVBvaW50WF0gKiAxMDA7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR5UGVyY2VudCA9IDA7XG5cblx0XHRcdFx0Ly95ID0gKHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqICh5UGVyY2VudCAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKHlQZXJjZW50IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkpO1xuXG5cdFx0XHRcdHZhciB4MSA9IHggLSAocGxvdFVuaXQucGxvdFR5cGUucGxvdFVuaXRzLmxlbmd0aCAqIGJhcldpZHRoIC8gMikgKyAocGxvdFVuaXQuaW5kZXggKiBiYXJXaWR0aCkgPDwgMDtcblx0XHRcdFx0dmFyIHgyID0geDEgKyBiYXJXaWR0aCA8PCAwO1xuXHRcdFx0XHR2YXIgeTE7XG5cdFx0XHRcdHZhciB5MjtcblxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLnkgPj0gMCkge1xuXHRcdFx0XHRcdHZhciBvZmZzZXQgPSBvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gPyBvZmZzZXRQb3NpdGl2ZVlbZGF0YVBvaW50WF0gOiAwO1xuXG5cdFx0XHRcdFx0eTEgPSB5IC0gb2Zmc2V0O1xuXHRcdFx0XHRcdHkyID0geVplcm9Ub1BpeGVsIC0gb2Zmc2V0O1xuXG5cdFx0XHRcdFx0b2Zmc2V0UG9zaXRpdmVZW2RhdGFQb2ludFhdID0gb2Zmc2V0ICsgKHkyIC0geTEpO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFyIG9mZnNldCA9IG9mZnNldE5lZ2F0aXZlWVtkYXRhUG9pbnRYXSA/IG9mZnNldE5lZ2F0aXZlWVtkYXRhUG9pbnRYXSA6IDA7XG5cblx0XHRcdFx0XHR5MiA9IHkgKyBvZmZzZXQ7XG5cdFx0XHRcdFx0eTEgPSB5WmVyb1RvUGl4ZWwgKyBvZmZzZXQ7XG5cblx0XHRcdFx0XHRvZmZzZXROZWdhdGl2ZVlbZGF0YVBvaW50WF0gPSBvZmZzZXQgKyAoeTIgLSB5MSk7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGNvbG9yID0gZGF0YVBvaW50c1tpXS5jb2xvciA/IGRhdGFQb2ludHNbaV0uY29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFtpICUgZGF0YVNlcmllcy5fY29sb3JTZXQubGVuZ3RoXTtcblx0XHRcdFx0ZHJhd1JlY3QoY3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIDAsIG51bGwsIGJldmVsRW5hYmxlZCAmJiAoZGF0YVBvaW50c1tpXS55ID49IDApLCAoZGF0YVBvaW50c1tpXS55IDwgMCkgJiYgYmV2ZWxFbmFibGVkLCBmYWxzZSwgZmFsc2UsIGRhdGFTZXJpZXMuZmlsbE9wYWNpdHkpO1xuXG5cdFx0XHRcdHZhciBpZCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50SWRzW2ldO1xuXHRcdFx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcblx0XHRcdFx0XHRpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVBvaW50XCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4LCBkYXRhUG9pbnRJbmRleDogaSwgeDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XG5cblx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdFx0XHRcdGRyYXdSZWN0KHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eCwgeDEsIHkxLCB4MiwgeTIsIGNvbG9yLCAwLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5pbmRleExhYmVsIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbCB8fCBkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWxGb3JtYXR0ZXIgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsRm9ybWF0dGVyKSB7XG5cblx0XHRcdFx0XHR0aGlzLl9pbmRleExhYmVscy5wdXNoKHtcblx0XHRcdFx0XHRcdGNoYXJ0VHlwZTogXCJzdGFja2VkQ29sdW1uMTAwXCIsXG5cdFx0XHRcdFx0XHRkYXRhUG9pbnQ6IGRhdGFQb2ludHNbaV0sXG5cdFx0XHRcdFx0XHRkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLFxuXHRcdFx0XHRcdFx0cG9pbnQ6IHtcblx0XHRcdFx0XHRcdFx0eDogeCwgeTogZGF0YVBvaW50c1tpXS55ID49IDAgPyB5MSA6IHkyXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IDEgOiAtMSxcblx0XHRcdFx0XHRcdGJvdW5kczoge1xuXHRcdFx0XHRcdFx0XHR4MTogeDEsIHkxOiBNYXRoLm1pbih5MSwgeTIpLCB4MjogeDIsIHkyOiBNYXRoLm1heCh5MSwgeTIpXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0Y29sb3I6IGNvbG9yXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGN0eC5yZXN0b3JlKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eC5yZXN0b3JlKCk7XG5cblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxuXHR2YXIgYW5pbWF0aW9uQmFzZSA9IE1hdGgubWluKHlaZXJvVG9QaXhlbCwgcGxvdFVuaXQuYXhpc1kuYm91bmRpbmdSZWN0LnkyKTtcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLnlTY2FsZUFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcuZWFzZU91dFF1YXJ0LCBhbmltYXRpb25CYXNlOiBhbmltYXRpb25CYXNlXG5cdH07XG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xufVxuIiwiXG5pbXBvcnQge2lzQ2FudmFzU3VwcG9ydGVkfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBsb3RVbml0KSB7XG5cdHZhciBjdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXNDdHggfHwgdGhpcy5wbG90QXJlYS5jdHg7XG5cblx0dmFyIHRvdGFsRGF0YVNlcmllcyA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDtcblxuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBnaG9zdEN0eCA9IHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eDtcblxuXHR2YXIgYXhpc1hQcm9wcyA9IHBsb3RVbml0LmF4aXNYLmxpbmVDb29yZGluYXRlcztcblx0dmFyIGF4aXNZUHJvcHMgPSBwbG90VW5pdC5heGlzWS5saW5lQ29vcmRpbmF0ZXM7XG5cdHZhciBtYXJrZXJzID0gW107XG5cblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblx0Y3R4LnNhdmUoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0Z2hvc3RDdHguc2F2ZSgpO1xuXG5cdGN0eC5iZWdpblBhdGgoKTtcblx0Y3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0Y3R4LmNsaXAoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRnaG9zdEN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdFx0Z2hvc3RDdHguY2xpcCgpO1xuXHR9XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXG5cdFx0dmFyIGRhdGFTZXJpZXNJbmRleCA9IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdO1xuXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbZGF0YVNlcmllc0luZGV4XTtcblxuXHRcdHZhciBkYXRhUG9pbnRzID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzO1xuXG5cdFx0dmFyIHNlcmllc0lkID0gZGF0YVNlcmllcy5pZDtcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIub2JqZWN0TWFwW3Nlcmllc0lkXSA9IHtcblx0XHRcdG9iamVjdFR5cGU6IFwiZGF0YVNlcmllc1wiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleFxuXHRcdH07XG5cblx0XHR2YXIgaGV4Q29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKHNlcmllc0lkKTtcblx0XHRnaG9zdEN0eC5maWxsU3R5bGUgPSBoZXhDb2xvcjtcblx0XHQvL2dob3N0Q3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcztcblx0XHQvL2dob3N0Q3R4LmxpbmVXaWR0aCA9IDIwO1xuXG5cdFx0bWFya2VycyA9IFtdO1xuXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcblx0XHR2YXIgaSA9IDAsIHgsIHk7XG5cdFx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBiYWNrIGFuZCBmb3J0aC5cblxuXHRcdHZhciB5WmVyb1RvUGl4ZWwgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKDAgLSBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtKSArIC41KSA8PCAwO1xuXHRcdHZhciBiYXNlWTtcblxuXHRcdHZhciBzdGFydFBvaW50ID0gbnVsbDtcblxuXHRcdHZhciBwcmV2RGF0YU51bGwgPSBmYWxzZTtcblx0XHRpZiAoZGF0YVBvaW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHQvL2N0eC5zdHJva2VTdHlsZSA9IFwiIzQ1NzJBNyBcIjtcblx0XHRcdHZhciBjb2xvciA9IGRhdGFTZXJpZXMuX2NvbG9yU2V0W2kgJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuXHRcdFx0Ly9jdHguc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG5cdFx0XHRjdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xuXG5cdFx0XHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XG5cdFx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yICg7IGkgPCBkYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lID8gZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKSA6IGRhdGFQb2ludHNbaV0ueDtcblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWluIHx8IGRhdGFQb2ludFggPiBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1heCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHByZXZZID0geTtcblxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKSB7XG5cdFx0XHRcdFx0Y2xvc2VBcmVhKCk7XG5cblx0XHRcdFx0XHRwcmV2RGF0YU51bGwgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0eCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cblxuXG5cdFx0XHRcdGlmIChpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSB8fCBwcmV2RGF0YU51bGwpIHtcblx0XHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5KTtcblx0XHRcdFx0XHRzdGFydFBvaW50ID0ge1xuXHRcdFx0XHRcdFx0eDogeCwgeTogeVxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKHgsIHkpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gZmFsc2U7XG5cdFx0XHRcdFx0cHJldkRhdGFOdWxsID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cblx0XHRcdFx0XHRjdHgubGluZVRvKHgsIHByZXZZKTtcblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8oeCwgcHJldlkpO1xuXG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4LCB5KTtcblxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4LCB5KTtcblxuXHRcdFx0XHRcdGlmIChpICUgMjUwID09IDApIHtcblx0XHRcdFx0XHRcdGNsb3NlQXJlYSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeCwgeTE6IHlcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvL1JlbmRlciBNYXJrZXJcblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0ubWFya2VyU2l6ZSAhPT0gMCkge1xuXHRcdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgPiAwIHx8IGRhdGFTZXJpZXMubWFya2VyU2l6ZSA+IDApIHtcblx0XHRcdFx0XHRcdHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCB4LCB5LCBjdHgpO1xuXHRcdFx0XHRcdFx0bWFya2Vycy5wdXNoKG1hcmtlclByb3BzKTtcblxuXHRcdFx0XHRcdFx0Ly9pZiAoIWRhdGFTZXJpZXMubWF4V2lkdGhJblggfHwgbWFya2VyUHJvcHMuc2l6ZSA+IGRhdGFTZXJpZXMubWF4V2lkdGhJblgpIHtcblx0XHRcdFx0XHRcdC8vXHRkYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gbWFya2VyUHJvcHMuc2l6ZSAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XG5cdFx0XHRcdFx0XHQvL31cblxuXHRcdFx0XHRcdFx0dmFyIG1hcmtlckNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XG5cblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHksIGN0eDogZ2hvc3RDdHgsXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogbWFya2VyUHJvcHMudHlwZSxcblx0XHRcdFx0XHRcdFx0XHRzaXplOiBtYXJrZXJQcm9wcy5zaXplLFxuXHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBtYXJrZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJDb2xvcjogbWFya2VyQ29sb3IsXG5cdFx0XHRcdFx0XHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3Ncblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xuXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic3RlcEFyZWFcIixcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IDEgOiAtMSxcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y2xvc2VBcmVhKCk7XG5cblx0XHRcdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcblx0XHR9XG5cdH1cblxuXHRjdHgucmVzdG9yZSgpO1xuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LnJlc3RvcmUoKTtcblxuXHRmdW5jdGlvbiBjbG9zZUFyZWEoKSB7XG5cblx0XHRpZiAoIXN0YXJ0UG9pbnQpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRpZiAoZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzID4gMClcblx0XHRcdGN0eC5zdHJva2UoKTtcblxuXHRcdGlmIChwbG90VW5pdC5heGlzWS52aWV3cG9ydE1pbmltdW0gPD0gMCAmJiBwbG90VW5pdC5heGlzWS52aWV3cG9ydE1heGltdW0gPj0gMCkge1xuXHRcdFx0YmFzZVkgPSB5WmVyb1RvUGl4ZWw7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHBsb3RVbml0LmF4aXNZLnZpZXdwb3J0TWF4aW11bSA8IDApXG5cdFx0XHRiYXNlWSA9IGF4aXNZUHJvcHMueTE7XG5cdFx0ZWxzZSBpZiAocGxvdFVuaXQuYXhpc1kudmlld3BvcnRNaW5pbXVtID4gMClcblx0XHRcdGJhc2VZID0gYXhpc1hQcm9wcy55MjtcblxuXHRcdGN0eC5saW5lVG8oeCwgYmFzZVkpO1xuXHRcdGN0eC5saW5lVG8oc3RhcnRQb2ludC54LCBiYXNlWSk7XG5cdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXG5cdFx0Y3R4Lmdsb2JhbEFscGhhID0gZGF0YVNlcmllcy5maWxsT3BhY2l0eTtcblx0XHRjdHguZmlsbCgpO1xuXHRcdGN0eC5nbG9iYWxBbHBoYSA9IDE7XG5cblx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdGdob3N0Q3R4LmxpbmVUbyh4LCBiYXNlWSk7XG5cdFx0XHRnaG9zdEN0eC5saW5lVG8oc3RhcnRQb2ludC54LCBiYXNlWSk7XG5cdFx0XHRnaG9zdEN0eC5jbG9zZVBhdGgoKTtcblx0XHRcdGdob3N0Q3R4LmZpbGwoKTtcblx0XHR9XG5cblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0Y3R4Lm1vdmVUbyh4LCB5KTtcblx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XG5cblx0XHRzdGFydFBvaW50ID0ge1xuXHRcdFx0eDogeCwgeTogeVxuXHRcdH07XG5cdH1cblxuXHQvL3NvdXJjZSBhbmQgZGVzdCB3b3VsZCBiZSBzYW1lIHdoZW4gYW5pbWF0aW9uIGlzIG5vdCBlbmFibGVkXG5cdHZhciBhbmltYXRpb25JbmZvID0ge1xuXHRcdHNvdXJjZTogY3R4LCBkZXN0OiB0aGlzLnBsb3RBcmVhLmN0eCwgYW5pbWF0aW9uQ2FsbGJhY2s6IEFuaW1hdGlvbkhlbHBlci54Q2xpcEFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcubGluZWFyLCBhbmltYXRpb25CYXNlOiAwXG5cdH07XG5cdHJldHVybiBhbmltYXRpb25JbmZvO1xufVxuIiwiZXhwb3J0IGNvbnN0IGN1bHR1cmVzID0ge1xuICBcImVuXCI6IHtcbiAgICAvL0Rlcml2ZXMgZnJvbSB0aGUgZGVmYXVsdCBvcHRpb25zXG4gIH0vLyxcbiAgLy9cImVzXCI6IHtcbiAgLy8gICAgZGVjaW1hbFNlcGFyYXRvcjogXCIsXCIsXG4gIC8vICAgIGRpZ2l0R3JvdXBTZXBhcmF0b3I6IFwiLlwiLFxuICAvLyAgICB6b29tVGV4dDogXCJ6b29tXCIsXG4gIC8vICAgIHBhblRleHQ6IFwicGFuXCIsXG4gIC8vICAgIHJlc2V0VGV4dDogXCJyZXNldFwiLFxuICAvLyAgICBkYXlzOiBbXCJkb21pbmdvXCIsIFwibHVuZXNcIiwgXCJtYXJ0ZXNcIiwgXCJtacOpcmNvbGVzXCIsIFwianVldmVzXCIsIFwidmllcm5lc1wiLCBcInPDoWJhZG9cIl0sXG4gIC8vfVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbnN0YW50cyA9IHtcbiAgbnVtYmVyRHVyYXRpb246IDEsXG4gIHllYXJEdXJhdGlvbjogMTAwMCAqIDYwICogNjAgKiAyNCAqIDM2NCxcbiAgbW9udGhEdXJhdGlvbjogMTAwMCAqIDYwICogNjAgKiAyNCAqIDMwLFxuICB3ZWVrRHVyYXRpb246IDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LFxuICBkYXlEdXJhdGlvbjogMTAwMCAqIDYwICogNjAgKiAyNCxcbiAgaG91ckR1cmF0aW9uOiAxMDAwICogNjAgKiA2MCxcbiAgbWludXRlRHVyYXRpb246IDEwMDAgKiA2MCxcbiAgc2Vjb25kRHVyYXRpb246IDEwMDAsXG4gIG1pbGxpc2Vjb25kRHVyYXRpb246IDEsXG5cbiAgZGF5T2ZXZWVrRnJvbUludDogW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl1cbn07XG4iLCJcbmV4cG9ydCBjb25zdCBpc0RlYnVnTW9kZSA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgaXNDYW52YXNTdXBwb3J0ZWQgPSAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dDtcblx0Ly9pc0NhbnZhc1N1cHBvcnRlZCA9IGZhbHNlO1xuXG5cdC8vRGVmYXVsdCB2YWx1ZXMgZm9yIGFsbCBDaGFydCBFbGVtZW50cyB0aGF0IGNhbiBiZSBzZXQgYnkgdGhlIHVzZXIuIENhbnZhc0pTT2JqZWN0LnNldE9wdGlvbnMgbG9va3MgaW50byB0aGlzIHdoaWxlIHNldHRpbmcgdGhlIGRlZmF1bHQvdXNlci1kZWZpbmVkIHZhbHVlcy5cbmV4cG9ydCBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcblx0XHRDaGFydDoge1xuXHRcdFx0d2lkdGg6IDUwMCxcblx0XHRcdGhlaWdodDogNDAwLFxuXHRcdFx0em9vbUVuYWJsZWQ6IGZhbHNlLFxuXHRcdFx0em9vbVR5cGU6IFwieFwiLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG5cdFx0XHR0aGVtZTogXCJ0aGVtZTFcIixcblx0XHRcdGFuaW1hdGlvbkVuYWJsZWQ6IGZhbHNlLFxuXHRcdFx0YW5pbWF0aW9uRHVyYXRpb246IDEyMDAsXG5cdFx0XHRkYXRhUG9pbnRNYXhXaWR0aDogbnVsbCxcblxuXHRcdFx0Y29sb3JTZXQ6IFwiY29sb3JTZXQxXCIsXG5cdFx0XHRjdWx0dXJlOiBcImVuXCIsXG5cdFx0XHRjcmVkaXRUZXh0OiBcIkNhbnZhc0pTLmNvbVwiLFxuXHRcdFx0aW50ZXJhY3Rpdml0eUVuYWJsZWQ6IHRydWUsXG5cdFx0XHRleHBvcnRFbmFibGVkOiBmYWxzZSxcblx0XHRcdGV4cG9ydEZpbGVOYW1lOiBcIkNoYXJ0XCIsXG5cblx0XHRcdHJhbmdlQ2hhbmdpbmc6IG51bGwsXG5cdFx0XHRyYW5nZUNoYW5nZWQ6IG51bGxcblx0XHR9LFxuXG5cdFx0VGl0bGU6IHtcblx0XHRcdHBhZGRpbmc6IDAsXG5cdFx0XHR0ZXh0OiBudWxsLFxuXHRcdFx0dmVydGljYWxBbGlnbjogXCJ0b3BcIiwvL3RvcCwgY2VudGVyLCBib3R0b21cblx0XHRcdGhvcml6b250YWxBbGlnbjogXCJjZW50ZXJcIiwvL2xlZnQsIGNlbnRlciwgcmlnaHRcblx0XHRcdGZvbnRTaXplOiAyMCwvL2luIHBpeGVsc1xuXHRcdFx0Zm9udEZhbWlseTogXCJDYWxpYnJpXCIsXG5cdFx0XHRmb250V2VpZ2h0OiBcIm5vcm1hbFwiLCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxuXHRcdFx0Zm9udENvbG9yOiBcImJsYWNrXCIsXG5cdFx0XHRmb250U3R5bGU6IFwibm9ybWFsXCIsIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXG5cblx0XHRcdGJvcmRlclRoaWNrbmVzczogMCxcblx0XHRcdGJvcmRlckNvbG9yOiBcImJsYWNrXCIsXG5cdFx0XHRjb3JuZXJSYWRpdXM6IDAsXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IG51bGwsXG5cdFx0XHRtYXJnaW46IDUsXG5cdFx0XHR3cmFwOiB0cnVlLFxuXHRcdFx0bWF4V2lkdGg6IG51bGwsXG5cblx0XHRcdGRvY2tJbnNpZGVQbG90QXJlYTogZmFsc2Vcblx0XHRcdC8vdG9vbFRpcENvbnRlbnQ6IG51bGwvL3N0cmluZyAtIFRvIGJlIGltcGxlbWVudGVkIChUQkkpXG5cdFx0fSxcblxuXHRcdFN1YnRpdGxlOiB7XG5cdFx0XHRwYWRkaW5nOiAwLFxuXHRcdFx0dGV4dDogbnVsbCxcblx0XHRcdHZlcnRpY2FsQWxpZ246IFwidG9wXCIsLy90b3AsIGNlbnRlciwgYm90dG9tXG5cdFx0XHRob3Jpem9udGFsQWxpZ246IFwiY2VudGVyXCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XG5cdFx0XHRmb250U2l6ZTogMTQsLy9pbiBwaXhlbHNcblx0XHRcdGZvbnRGYW1pbHk6IFwiQ2FsaWJyaVwiLFxuXHRcdFx0Zm9udFdlaWdodDogXCJub3JtYWxcIiwgLy9ub3JtYWwsIGJvbGQsIGJvbGRlciwgbGlnaHRlcixcblx0XHRcdGZvbnRDb2xvcjogXCJibGFja1wiLFxuXHRcdFx0Zm9udFN0eWxlOiBcIm5vcm1hbFwiLCAvLyBub3JtYWwsIGl0YWxpYywgb2JsaXF1ZVxuXG5cdFx0XHRib3JkZXJUaGlja25lc3M6IDAsXG5cdFx0XHRib3JkZXJDb2xvcjogXCJibGFja1wiLFxuXHRcdFx0Y29ybmVyUmFkaXVzOiAwLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBudWxsLFxuXHRcdFx0bWFyZ2luOiAyLFxuXHRcdFx0d3JhcDogdHJ1ZSxcblx0XHRcdG1heFdpZHRoOiBudWxsLFxuXG5cdFx0XHRkb2NrSW5zaWRlUGxvdEFyZWE6IGZhbHNlXG5cdFx0XHQvL3Rvb2xUaXBDb250ZW50OiBudWxsLy9zdHJpbmcgLSBUbyBiZSBpbXBsZW1lbnRlZCAoVEJJKVxuXHRcdH0sXG5cblx0XHRMZWdlbmQ6IHtcblx0XHRcdG5hbWU6IG51bGwsXG5cdFx0XHR2ZXJ0aWNhbEFsaWduOiBcImNlbnRlclwiLFxuXHRcdFx0aG9yaXpvbnRhbEFsaWduOiBcInJpZ2h0XCIsXG5cblx0XHRcdGZvbnRTaXplOiAxNCwvL2luIHBpeGVsc1xuXHRcdFx0Zm9udEZhbWlseTogXCJjYWxpYnJpXCIsXG5cdFx0XHRmb250V2VpZ2h0OiBcIm5vcm1hbFwiLCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxuXHRcdFx0Zm9udENvbG9yOiBcImJsYWNrXCIsXG5cdFx0XHRmb250U3R5bGU6IFwibm9ybWFsXCIsIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXG5cblx0XHRcdGN1cnNvcjogbnVsbCxcblx0XHRcdGl0ZW1tb3VzZW92ZXI6IG51bGwsXG5cdFx0XHRpdGVtbW91c2VvdXQ6IG51bGwsXG5cdFx0XHRpdGVtbW91c2Vtb3ZlOiBudWxsLFxuXHRcdFx0aXRlbWNsaWNrOiBudWxsLFxuXG5cdFx0XHRkb2NrSW5zaWRlUGxvdEFyZWE6IGZhbHNlLFxuXHRcdFx0cmV2ZXJzZWQ6IGZhbHNlLFxuXG5cdFx0XHRtYXhXaWR0aDogbnVsbCxcblx0XHRcdG1heEhlaWdodDogbnVsbCxcblxuXHRcdFx0aXRlbU1heFdpZHRoOiBudWxsLFxuXHRcdFx0aXRlbVdpZHRoOiBudWxsLFxuXHRcdFx0aXRlbVdyYXA6IHRydWUsXG5cdFx0XHRpdGVtVGV4dEZvcm1hdHRlcjogbnVsbFxuXHRcdH0sXG5cblx0XHRUb29sVGlwOiB7XG5cdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0c2hhcmVkOiBmYWxzZSxcblx0XHRcdGFuaW1hdGlvbkVuYWJsZWQ6IHRydWUsXG5cdFx0XHRjb250ZW50OiBudWxsLFxuXHRcdFx0Y29udGVudEZvcm1hdHRlcjogbnVsbCxcblxuXHRcdFx0cmV2ZXJzZWQ6IGZhbHNlLFxuXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IG51bGwsXG5cblx0XHRcdGJvcmRlckNvbG9yOiBudWxsLFxuXHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiAyLCAvL2luIHBpeGVsc1xuXHRcdFx0Y29ybmVyUmFkaXVzOiA1LCAvLyBpbiBwaXhlbHNcblxuXHRcdFx0Zm9udFNpemU6IDE0LCAvLyBpbiBwaXhlbHNcblx0XHRcdGZvbnRDb2xvcjogXCIjMDAwMDAwXCIsXG5cdFx0XHRmb250RmFtaWx5OiBcIkNhbGlicmksIEFyaWFsLCBHZW9yZ2lhLCBzZXJpZjtcIixcblx0XHRcdGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsIC8vbm9ybWFsLCBib2xkLCBib2xkZXIsIGxpZ2h0ZXIsXG5cdFx0XHRmb250U3R5bGU6IFwiaXRhbGljXCIgIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXG5cdFx0fSxcblxuXHRcdEF4aXM6IHtcblx0XHRcdG1pbmltdW06IG51bGwsIC8vTWluaW11bSB2YWx1ZSB0byBiZSBzaG93biBvbiB0aGUgQXhpc1xuXHRcdFx0bWF4aW11bTogbnVsbCwgLy9NaW5pbXVtIHZhbHVlIHRvIGJlIHNob3duIG9uIHRoZSBBeGlzXG5cdFx0XHR2aWV3cG9ydE1pbmltdW06IG51bGwsXG5cdFx0XHR2aWV3cG9ydE1heGltdW06IG51bGwsXG5cdFx0XHRpbnRlcnZhbDogbnVsbCwgLy8gSW50ZXJ2YWwgZm9yIHRpY2sgbWFya3MgYW5kIGdyaWQgbGluZXNcblx0XHRcdGludGVydmFsVHlwZTogbnVsbCwgLy9udW1iZXIsIG1pbGxpc2Vjb25kLCBzZWNvbmQsIG1pbnV0ZSwgaG91ciwgZGF5LCBtb250aCwgeWVhclxuXHRcdFx0Ly9yZXZlcnNlZDogZmFsc2UsXG5cblx0XHRcdHRpdGxlOiBudWxsLCAvLyBzdHJpbmdcblx0XHRcdHRpdGxlRm9udENvbG9yOiBcImJsYWNrXCIsXG5cdFx0XHR0aXRsZUZvbnRTaXplOiAyMCxcblx0XHRcdHRpdGxlRm9udEZhbWlseTogXCJhcmlhbFwiLFxuXHRcdFx0dGl0bGVGb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuXHRcdFx0dGl0bGVGb250U3R5bGU6IFwibm9ybWFsXCIsXG5cblx0XHRcdGxhYmVsQW5nbGU6IDAsXG5cdFx0XHRsYWJlbEZvbnRGYW1pbHk6IFwiYXJpYWxcIixcblx0XHRcdGxhYmVsRm9udENvbG9yOiBcImJsYWNrXCIsXG5cdFx0XHRsYWJlbEZvbnRTaXplOiAxMixcblx0XHRcdGxhYmVsRm9udFdlaWdodDogXCJub3JtYWxcIixcblx0XHRcdGxhYmVsRm9udFN0eWxlOiBcIm5vcm1hbFwiLFxuXHRcdFx0bGFiZWxBdXRvRml0OiBmYWxzZSxcblx0XHRcdGxhYmVsV3JhcDogdHJ1ZSxcblx0XHRcdGxhYmVsTWF4V2lkdGg6IG51bGwsLy9udWxsIGZvciBhdXRvXG5cdFx0XHRsYWJlbEZvcm1hdHRlcjogbnVsbCxcblxuXHRcdFx0cHJlZml4OiBcIlwiLFxuXHRcdFx0c3VmZml4OiBcIlwiLFxuXG5cdFx0XHRpbmNsdWRlWmVybzogdHJ1ZSwgLy9BcHBsaWVzIG9ubHkgZm9yIGF4aXNZLiBJZ25vcmVkIGluIGF4aXNYLlxuXG5cdFx0XHR0aWNrTGVuZ3RoOiA1LFxuXHRcdFx0dGlja0NvbG9yOiBcImJsYWNrXCIsXG5cdFx0XHR0aWNrVGhpY2tuZXNzOiAxLFxuXG5cdFx0XHRsaW5lQ29sb3I6IFwiYmxhY2tcIixcblx0XHRcdGxpbmVUaGlja25lc3M6IDEsXG5cdFx0XHRsaW5lRGFzaFR5cGU6IFwic29saWRcIixcblxuXHRcdFx0Z3JpZENvbG9yOiBcIkEwQTBBMFwiLFxuXHRcdFx0Z3JpZFRoaWNrbmVzczogMCxcblx0XHRcdGdyaWREYXNoVHlwZTogXCJzb2xpZFwiLFxuXG5cdFx0XHRpbnRlcmxhY2VkQ29sb3I6IG51bGwsXG5cblx0XHRcdHZhbHVlRm9ybWF0U3RyaW5nOiBudWxsLFxuXG5cdFx0XHRtYXJnaW46IDIsXG5cblx0XHRcdHN0cmlwTGluZXM6IFtdIC8vIEp1c3QgYSBwbGFjZWhvbGRlci4gRG9lcyBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBhY3R1YWwgbnVtYmVyIG9mIHN0cmlwbGluZXNcblx0XHR9LFxuXG5cdFx0U3RyaXBMaW5lOiB7XG5cdFx0XHR2YWx1ZTogbnVsbCxcblx0XHRcdHN0YXJ0VmFsdWU6IG51bGwsXG5cdFx0XHRlbmRWYWx1ZTogbnVsbCxcblxuXHRcdFx0Y29sb3I6IFwib3JhbmdlXCIsXG5cdFx0XHRvcGFjaXR5OiBudWxsLFxuXHRcdFx0dGhpY2tuZXNzOiAyLFxuXHRcdFx0bGluZURhc2hUeXBlOiBcInNvbGlkXCIsXG5cdFx0XHRsYWJlbDogXCJcIixcblx0XHRcdGxhYmVsQmFja2dyb3VuZENvbG9yOiBcIiNFRUVFRUVcIixcblx0XHRcdGxhYmVsRm9udEZhbWlseTogXCJhcmlhbFwiLFxuXHRcdFx0bGFiZWxGb250Q29sb3I6IFwib3JhbmdlXCIsXG5cdFx0XHRsYWJlbEZvbnRTaXplOiAxMixcblx0XHRcdGxhYmVsRm9udFdlaWdodDogXCJub3JtYWxcIixcblx0XHRcdGxhYmVsRm9udFN0eWxlOiBcIm5vcm1hbFwiLFxuXHRcdFx0bGFiZWxGb3JtYXR0ZXI6IG51bGwsXG5cblx0XHRcdHNob3dPblRvcDogZmFsc2Vcblx0XHR9LFxuXG5cdFx0RGF0YVNlcmllczoge1xuXHRcdFx0bmFtZTogbnVsbCxcblx0XHRcdGRhdGFQb2ludHM6IG51bGwsXG5cdFx0XHRsYWJlbDogXCJcIixcblx0XHRcdGJldmVsRW5hYmxlZDogZmFsc2UsXG5cdFx0XHRoaWdobGlnaHRFbmFibGVkOiB0cnVlLFxuXG5cdFx0XHRjdXJzb3I6IG51bGwsXG5cblx0XHRcdGluZGV4TGFiZWw6IFwiXCIsXG5cdFx0XHRpbmRleExhYmVsUGxhY2VtZW50OiBcImF1dG9cIiwgIC8vaW5zaWRlLCBvdXRzaWRlLCBhdXRvXG5cdFx0XHRpbmRleExhYmVsT3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiLFxuXHRcdFx0aW5kZXhMYWJlbEZvbnRDb2xvcjogXCJibGFja1wiLFxuXHRcdFx0aW5kZXhMYWJlbEZvbnRTaXplOiAxMixcblx0XHRcdGluZGV4TGFiZWxGb250U3R5bGU6IFwibm9ybWFsXCIsIC8vICAgaXRhbGljICxvYmxpcXVlLCBub3JtYWxcblx0XHRcdGluZGV4TGFiZWxGb250RmFtaWx5OiBcIkFyaWFsXCIsIFx0Ly8gZng6IEFyaWFsIFZlcmRhbmEgXCJDb3VyaWVyIE5ld1wiIFNlcmlmXG5cdFx0XHRpbmRleExhYmVsRm9udFdlaWdodDogXCJub3JtYWxcIiwgXHQvLyBib2xkICxib2xkZXIsIGxpZ2h0ZXIsIG5vcm1hbFxuXHRcdFx0aW5kZXhMYWJlbEJhY2tncm91bmRDb2xvcjogbnVsbCxcblx0XHRcdGluZGV4TGFiZWxMaW5lQ29sb3I6IG51bGwsXG5cdFx0XHRpbmRleExhYmVsTGluZVRoaWNrbmVzczogMSxcblx0XHRcdGluZGV4TGFiZWxMaW5lRGFzaFR5cGU6IFwic29saWRcIixcblx0XHRcdGluZGV4TGFiZWxNYXhXaWR0aDogbnVsbCxcblx0XHRcdGluZGV4TGFiZWxXcmFwOiB0cnVlLFxuXHRcdFx0aW5kZXhMYWJlbEZvcm1hdHRlcjogbnVsbCxcblxuXHRcdFx0bGluZVRoaWNrbmVzczogMixcblx0XHRcdGxpbmVEYXNoVHlwZTogXCJzb2xpZFwiLFxuXG5cdFx0XHRjb2xvcjogbnVsbCxcblx0XHRcdHJpc2luZ0NvbG9yOiBcIndoaXRlXCIsXG5cdFx0XHRmaWxsT3BhY2l0eTogbnVsbCxcblxuXHRcdFx0c3RhcnRBbmdsZTogMCxcblxuXHRcdFx0cmFkaXVzOiBudWxsLFxuXHRcdFx0aW5uZXJSYWRpdXM6IG51bGwsXG5cblx0XHRcdHR5cGU6IFwiY29sdW1uXCIsIC8vbGluZSwgY29sdW1uLCBiYXIsIGFyZWEsIHNjYXR0ZXIgc3RhY2tlZENvbHVtbiwgc3RhY2tlZEJhciwgc3RhY2tlZEFyZWEsIHN0YWNrZWRDb2x1bW4xMDAsIHN0YWNrZWRCYXIxMDAsIHN0YWNrZWRBcmVhMTAwLCBwaWUsIGRvdWdobnV0XG5cdFx0XHR4VmFsdWVUeXBlOiBcIm51bWJlclwiLCAvL251bWJlciwgZGF0ZVRpbWVcblx0XHRcdGF4aXNZVHlwZTogXCJwcmltYXJ5XCIsXG5cblx0XHRcdHhWYWx1ZUZvcm1hdFN0cmluZzogbnVsbCxcblx0XHRcdHlWYWx1ZUZvcm1hdFN0cmluZzogbnVsbCxcblx0XHRcdHpWYWx1ZUZvcm1hdFN0cmluZzogbnVsbCxcblx0XHRcdHBlcmNlbnRGb3JtYXRTdHJpbmc6IG51bGwsXG5cblx0XHRcdHNob3dJbkxlZ2VuZDogbnVsbCxcblx0XHRcdGxlZ2VuZE1hcmtlclR5cGU6IG51bGwsXG5cdFx0XHRsZWdlbmRNYXJrZXJDb2xvcjogbnVsbCxcblx0XHRcdGxlZ2VuZFRleHQ6IG51bGwsXG5cdFx0XHRsZWdlbmRNYXJrZXJCb3JkZXJDb2xvcjogbnVsbCxcblx0XHRcdGxlZ2VuZE1hcmtlckJvcmRlclRoaWNrbmVzczogbnVsbCxcblxuXHRcdFx0bWFya2VyVHlwZTogXCJjaXJjbGVcIiwgLy9ub25lLCBjaXJjbGUsIHNxdWFyZSwgY3Jvc3MsIHRyaWFuZ2xlLCBsaW5lXG5cdFx0XHRtYXJrZXJDb2xvcjogbnVsbCxcblx0XHRcdG1hcmtlclNpemU6IG51bGwsXG5cdFx0XHRtYXJrZXJCb3JkZXJDb2xvcjogbnVsbCxcblx0XHRcdG1hcmtlckJvcmRlclRoaWNrbmVzczogbnVsbCxcblx0XHRcdC8vYW5pbWF0aW9uRW5hYmxlZDogdHJ1ZSxcblx0XHRcdG1vdXNlb3ZlcjogbnVsbCxcblx0XHRcdG1vdXNlb3V0OiBudWxsLFxuXHRcdFx0bW91c2Vtb3ZlOiBudWxsLFxuXHRcdFx0Y2xpY2s6IG51bGwsXG5cdFx0XHR0b29sVGlwQ29udGVudDogbnVsbCxcblxuXHRcdFx0dmlzaWJsZTogdHJ1ZVxuXHRcdH0sXG5cblx0XHQvL1ByaXZhdGVcblx0XHRUZXh0QmxvY2s6IHtcblx0XHRcdHg6IDAsXG5cdFx0XHR5OiAwLFxuXHRcdFx0d2lkdGg6IG51bGwsLy9yZWFkIG9ubHlcblx0XHRcdGhlaWdodDogbnVsbCwvL3JlYWQgb25seVxuXHRcdFx0bWF4V2lkdGg6IG51bGwsXG5cdFx0XHRtYXhIZWlnaHQ6IG51bGwsXG5cdFx0XHRwYWRkaW5nOiAwLFxuXHRcdFx0YW5nbGU6IDAsXG5cdFx0XHR0ZXh0OiBcIlwiLFxuXHRcdFx0aG9yaXpvbnRhbEFsaWduOiBcImNlbnRlclwiLC8vbGVmdCwgY2VudGVyLCByaWdodFxuXHRcdFx0Zm9udFNpemU6IDEyLC8vaW4gcGl4ZWxzXG5cdFx0XHRmb250RmFtaWx5OiBcImNhbGlicmlcIixcblx0XHRcdGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsIC8vbm9ybWFsLCBib2xkLCBib2xkZXIsIGxpZ2h0ZXIsXG5cdFx0XHRmb250Q29sb3I6IFwiYmxhY2tcIixcblx0XHRcdGZvbnRTdHlsZTogXCJub3JtYWxcIiwgLy8gbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWVcblxuXHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiAwLFxuXHRcdFx0Ym9yZGVyQ29sb3I6IFwiYmxhY2tcIixcblx0XHRcdGNvcm5lclJhZGl1czogMCxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogbnVsbCxcblx0XHRcdHRleHRCYXNlbGluZTogXCJ0b3BcIlxuXHRcdH0sXG5cblx0XHRDdWx0dXJlSW5mbzoge1xuXHRcdFx0ZGVjaW1hbFNlcGFyYXRvcjogXCIuXCIsXG5cdFx0XHRkaWdpdEdyb3VwU2VwYXJhdG9yOiBcIixcIixcblx0XHRcdHpvb21UZXh0OiBcIlpvb21cIixcblx0XHRcdHBhblRleHQ6IFwiUGFuXCIsXG5cdFx0XHRyZXNldFRleHQ6IFwiUmVzZXRcIixcblxuXHRcdFx0bWVudVRleHQ6IFwiTW9yZSBPcHRpb25zXCIsXG5cdFx0XHRzYXZlSlBHVGV4dDogXCJTYXZlIGFzIEpQR1wiLFxuXHRcdFx0c2F2ZVBOR1RleHQ6IFwiU2F2ZSBhcyBQTkdcIixcblxuXHRcdFx0ZGF5czogW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl0sXG5cdFx0XHRzaG9ydERheXM6IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXSxcblxuXHRcdFx0bW9udGhzOiBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXSxcblx0XHRcdHNob3J0TW9udGhzOiBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl1cblx0XHR9XG5cdH07XG4iLCJcbmltcG9ydCB7aXNDYW52YXNTdXBwb3J0ZWR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgY29sb3JTZXRzID0ge1xuXG5cdFx0XCJjb2xvclNldDFcIjogW1xuXHRcdFx0XCIjMzY5RUFEXCIsXG5cdFx0XHRcIiNDMjQ2NDJcIixcblx0XHRcdFwiIzdGNjA4NFwiLFxuXHRcdFx0Ly9cIiM5NkM0MTJcIixcblx0XHRcdFwiIzg2QjQwMlwiLFxuXHRcdFx0XCIjQTJEMUNGXCIsXG5cdFx0XHQvL1wiI0Q4QzY0MVwiLFxuXHRcdFx0XCIjQzhCNjMxXCIsXG5cdFx0XHRcIiM2REJDRUJcIixcblx0XHRcdC8vXCIjNEE0OTQ2XCIsXG5cdFx0XHRcIiM1MjUxNEVcIixcblx0XHRcdFwiIzRGODFCQ1wiLFxuXHRcdFx0XCIjQTA2NEExXCIsXG5cdFx0XHRcIiNGNzk2NDdcIlxuXHRcdF0sXG5cdFx0XCJjb2xvclNldDJcIjogW1xuXHRcdFx0XCIjNEY4MUJDXCIsXG5cdFx0XHRcIiNDMDUwNEVcIixcblx0XHRcdFwiIzlCQkI1OFwiLFxuXHRcdFx0XCIjMjNCRkFBXCIsXG5cdFx0XHQvL1wiI0ZBQTU4NlwiLFxuXHRcdFx0XCIjODA2NEExXCIsXG5cdFx0XHRcIiM0QUFDQzVcIixcblx0XHRcdFwiI0Y3OTY0N1wiLFxuXHRcdFx0Ly9cIiM3N0FBMzNcIixcblx0XHRcdC8vXCIjN0Y2MDg0XCJcblx0XHRcdFwiIzMzNTU4QlwiXG5cdFx0XSxcblx0XHRcImNvbG9yU2V0M1wiOiBbXG5cdFx0XHRcIiM4Q0ExQkNcIixcblx0XHRcdFwiIzM2ODQ1Q1wiLFxuXHRcdFx0XCIjMDE3RTgyXCIsXG5cdFx0XHRcIiM4Q0I5RDBcIixcblx0XHRcdFwiIzcwOEM5OFwiLFxuXHRcdFx0XCIjOTQ4MzhEXCIsXG5cdFx0XHRcIiNGMDg4OTFcIixcblx0XHRcdFwiIzAzNjZBN1wiLFxuXHRcdFx0XCIjMDA4Mjc2XCIsXG5cdFx0XHRcIiNFRTc3NTdcIixcblx0XHRcdFwiI0U1QkEzQVwiLFxuXHRcdFx0XCIjRjI5OTBCXCIsXG5cdFx0XHRcIiMwMzU1N0JcIixcblx0XHRcdFwiIzc4Mjk3MFwiXG5cdFx0XS8vLFxuXHRcdC8vXCJjb2xvclNldDRcIjogW1xuXHRcdC8vICAgIFwiIzM2OThDNVwiLFxuXHRcdC8vICAgIFwiIzAwOUI4RFwiLFxuXHRcdC8vICAgIFwiI0YxRDY5MVwiLFxuXHRcdC8vICAgIFwiI0Y4QjkwQ1wiLFxuXHRcdC8vICAgIFwiIzAwODFCOFwiLFxuXHRcdC8vICAgIFwiIzVCNUE5NlwiLFxuXHRcdC8vICAgIFwiI0FDQkREMVwiLFxuXHRcdC8vICAgIFwiIzg4QTg5MVwiLFxuXHRcdC8vICAgIFwiIzM5OTY5RFwiLFxuXHRcdC8vICAgIFwiI0FFQ0VERFwiLFxuXHRcdC8vICAgIFwiI0EwQjJCQ1wiLFxuXHRcdC8vICAgIFwiI0JCQUVCN1wiLFxuXHRcdC8vICAgIFwiI0EwQzY1RlwiLFxuXHRcdC8vICAgIFwiI0VFQTZBQVwiLFxuXHRcdC8vICAgIFwiIzM3OThDNVwiXG5cdFx0Ly9dLFxuXHRcdC8vXCJjb2xvclNldDVcIjogW1xuXHRcdC8vICAgIFwiIzg4QURCRlwiLFxuXHRcdC8vICAgIFwiIzg0QzMzNlwiLFxuXHRcdC8vICAgIFwiIzdCOTFDM1wiLFxuXHRcdC8vICAgIFwiIzQ2NjFFRVwiLFxuXHRcdC8vICAgIFwiI0VDNTY1N1wiLFxuXHRcdC8vICAgIFwiIzFCQ0REMVwiLFxuXHRcdC8vICAgIFwiIzhGQUFCQlwiLFxuXHRcdC8vICAgIFwiI0IwOEJFQlwiLFxuXHRcdC8vICAgIFwiIzNFQTBERFwiLFxuXHRcdC8vICAgIFwiI0Y1QTUyQVwiLFxuXHRcdC8vICAgIFwiIzIzQkZBQVwiLFxuXHRcdC8vICAgIFwiI0ZBQTU4NlwiLFxuXHRcdC8vICAgIFwiI0VCOENDNlwiXG5cdFx0Ly9dXG5cblx0fTtcblxuZXhwb3J0IGNvbnN0IHRoZW1lcyA9IHtcblxuXHRcdFx0XCJ0aGVtZTFcIjoge1xuXHRcdFx0XHRDaGFydDpcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjb2xvclNldDogXCJjb2xvclNldDFcIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFRpdGxlOiB7XG5cdFx0XHRcdFx0Zm9udEZhbWlseTogaXNDYW52YXNTdXBwb3J0ZWQgPyBcIkNhbGlicmksIE9wdGltYSwgQ2FuZGFyYSwgVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmXCIgOiBcImNhbGlicmlcIixcblx0XHRcdFx0XHRmb250U2l6ZTogMzMsXG5cdFx0XHRcdFx0Zm9udENvbG9yOiBcIiMzQTNBM0FcIixcblx0XHRcdFx0XHRmb250V2VpZ2h0OiBcImJvbGRcIixcblx0XHRcdFx0XHR2ZXJ0aWNhbEFsaWduOiBcInRvcFwiLFxuXHRcdFx0XHRcdG1hcmdpbjogNVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRTdWJ0aXRsZToge1xuXHRcdFx0XHRcdGZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJDYWxpYnJpLCBPcHRpbWEsIENhbmRhcmEsIFZlcmRhbmEsIEdlbmV2YSwgc2Fucy1zZXJpZlwiIDogXCJjYWxpYnJpXCIsXG5cdFx0XHRcdFx0Zm9udFNpemU6IDE2LFxuXHRcdFx0XHRcdGZvbnRDb2xvcjogXCIjM0EzQTNBXCIsXG5cdFx0XHRcdFx0Zm9udFdlaWdodDogXCJib2xkXCIsXG5cdFx0XHRcdFx0dmVydGljYWxBbGlnbjogXCJ0b3BcIixcblx0XHRcdFx0XHRtYXJnaW46IDVcblx0XHRcdFx0fSxcblx0XHRcdFx0QXhpczoge1xuXHRcdFx0XHRcdHRpdGxlRm9udFNpemU6IDI2LFxuXHRcdFx0XHRcdC8vdGl0bGVGb250Q29sb3I6IFwicmdiKDk4LDk4LDk4KVwiLFxuXHRcdFx0XHRcdHRpdGxlRm9udENvbG9yOiBcIiM2NjY2NjZcIixcblx0XHRcdFx0XHQvL3RpdGxlRm9udEZhbWlseTogXCJhcmlhbCBibGFja1wiLFxuXHRcdFx0XHRcdC8vdGl0bGVGb250RmFtaWx5OiBcIlZlcmRhbmEsIEdlbmV2YSwgQ2FsaWJyaSwgc2Fucy1zZXJpZlwiLFxuXHRcdFx0XHRcdHRpdGxlRm9udEZhbWlseTogaXNDYW52YXNTdXBwb3J0ZWQgPyBcIkNhbGlicmksIE9wdGltYSwgQ2FuZGFyYSwgVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmXCIgOiBcImNhbGlicmlcIixcblx0XHRcdFx0XHQvL3RpdGxlRm9udFdlaWdodDogXCJib2xkXCIsXG5cblx0XHRcdFx0XHQvL2xhYmVsRm9udEZhbWlseTogXCJUaW1lcyBOZXcgUm9tYW4sIFRpbWVzLCBzZXJpZlwiLFxuXHRcdFx0XHRcdGxhYmVsRm9udEZhbWlseTogaXNDYW52YXNTdXBwb3J0ZWQgPyBcIkNhbGlicmksIE9wdGltYSwgQ2FuZGFyYSwgVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmXCIgOiBcImNhbGlicmlcIixcblx0XHRcdFx0XHQvL2xhYmVsRm9udEZhbWlseTogXCJIZWx2ZXRpY2EgTmV1ZSwgSGVsdmV0aWNhXCIsXG5cdFx0XHRcdFx0bGFiZWxGb250U2l6ZTogMTgsXG5cdFx0XHRcdFx0bGFiZWxGb250Q29sb3I6IFwiZ3JleVwiLFxuXHRcdFx0XHRcdC8vbGFiZWxGb250V2VpZ2h0OiBcImJvbGRcIixcblx0XHRcdFx0XHR0aWNrQ29sb3I6IFwiI0JCQkJCQlwiLFxuXHRcdFx0XHRcdHRpY2tUaGlja25lc3M6IDIsXG5cdFx0XHRcdFx0Z3JpZFRoaWNrbmVzczogMixcblx0XHRcdFx0XHRncmlkQ29sb3I6IFwiI0JCQkJCQlwiLFxuXHRcdFx0XHRcdGxpbmVUaGlja25lc3M6IDIsXG5cdFx0XHRcdFx0bGluZUNvbG9yOiBcIiNCQkJCQkJcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRMZWdlbmQ6IHtcblx0XHRcdFx0XHR2ZXJ0aWNhbEFsaWduOiBcImJvdHRvbVwiLFxuXHRcdFx0XHRcdGhvcml6b250YWxBbGlnbjogXCJjZW50ZXJcIixcblx0XHRcdFx0XHRmb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwibW9ub3NwYWNlLCBzYW5zLXNlcmlmLGFyaWFsIGJsYWNrXCIgOiBcImNhbGlicmlcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHREYXRhU2VyaWVzOiB7XG5cdFx0XHRcdFx0Ly9iZXZlbEVuYWJsZWQ6IHRydWUsXG5cdFx0XHRcdFx0aW5kZXhMYWJlbEZvbnRDb2xvcjogXCJncmV5XCIsXG5cdFx0XHRcdFx0Ly9pbmRleExhYmVsRm9udEZhbWlseTogXCJUcmVidWNoZXQgTVMsIG1vbm9zcGFjZSwgQ291cmllciBOZXcsIENvdXJpZXJcIixcblx0XHRcdFx0XHRpbmRleExhYmVsRm9udEZhbWlseTogaXNDYW52YXNTdXBwb3J0ZWQgPyBcIkNhbGlicmksIE9wdGltYSwgQ2FuZGFyYSwgVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmXCIgOiBcImNhbGlicmlcIixcblx0XHRcdFx0XHQvL2luZGV4TGFiZWxGb250V2VpZ2h0OiBcImJvbGRcIixcblx0XHRcdFx0XHRpbmRleExhYmVsRm9udFNpemU6IDE4LFxuXHRcdFx0XHRcdC8vaW5kZXhMYWJlbExpbmVDb2xvcjogXCJsaWdodGdyZXlcIixcblx0XHRcdFx0XHRpbmRleExhYmVsTGluZVRoaWNrbmVzczogMVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHRcInRoZW1lMlwiOiB7XG5cdFx0XHRcdENoYXJ0OlxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNvbG9yU2V0OiBcImNvbG9yU2V0MlwiXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0VGl0bGU6IHtcblx0XHRcdFx0XHRmb250RmFtaWx5OiBcImltcGFjdCwgY2hhcmNvYWwsIGFyaWFsIGJsYWNrLCBzYW5zLXNlcmlmXCIsXG5cdFx0XHRcdFx0Zm9udFNpemU6IDMyLC8vZm9udENvbG9yOiBcInJnYig1OCw1OCw1OClcIixcblx0XHRcdFx0XHRmb250Q29sb3I6IFwiIzMzMzMzM1wiLFxuXHRcdFx0XHRcdHZlcnRpY2FsQWxpZ246IFwidG9wXCIsXG5cdFx0XHRcdFx0bWFyZ2luOiA1XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFN1YnRpdGxlOiB7XG5cdFx0XHRcdFx0Zm9udEZhbWlseTogXCJpbXBhY3QsIGNoYXJjb2FsLCBhcmlhbCBibGFjaywgc2Fucy1zZXJpZlwiLFxuXHRcdFx0XHRcdGZvbnRTaXplOiAxNCwvL2ZvbnRDb2xvcjogXCJyZ2IoNTgsNTgsNTgpXCIsXG5cdFx0XHRcdFx0Zm9udENvbG9yOiBcIiMzMzMzMzNcIixcblx0XHRcdFx0XHR2ZXJ0aWNhbEFsaWduOiBcInRvcFwiLFxuXHRcdFx0XHRcdG1hcmdpbjogNVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRBeGlzOiB7XG5cdFx0XHRcdFx0dGl0bGVGb250U2l6ZTogMjIsXG5cdFx0XHRcdFx0dGl0bGVGb250Q29sb3I6IFwicmdiKDk4LDk4LDk4KVwiLFxuXHRcdFx0XHRcdC8vdGl0bGVGb250RmFtaWx5OiBcImFyaWFsIGJsYWNrXCIsXG5cdFx0XHRcdFx0dGl0bGVGb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwibW9ub3NwYWNlLCBzYW5zLXNlcmlmLGFyaWFsIGJsYWNrXCIgOiBcImFyaWFsXCIsXG5cdFx0XHRcdFx0dGl0bGVGb250V2VpZ2h0OiBcImJvbGRcIixcblxuXG5cdFx0XHRcdFx0bGFiZWxGb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwibW9ub3NwYWNlLCBDb3VyaWVyIE5ldywgQ291cmllclwiIDogXCJhcmlhbFwiLFxuXHRcdFx0XHRcdC8vbGFiZWxGb250RmFtaWx5OiBcIkhlbHZldGljYSBOZXVlLCBIZWx2ZXRpY2FcIixcblx0XHRcdFx0XHRsYWJlbEZvbnRTaXplOiAxNixcblx0XHRcdFx0XHRsYWJlbEZvbnRDb2xvcjogXCJncmV5XCIsXG5cdFx0XHRcdFx0bGFiZWxGb250V2VpZ2h0OiBcImJvbGRcIixcblx0XHRcdFx0XHR0aWNrQ29sb3I6IFwiZ3JleVwiLFxuXHRcdFx0XHRcdHRpY2tUaGlja25lc3M6IDIsXG5cdFx0XHRcdFx0Z3JpZFRoaWNrbmVzczogMixcblx0XHRcdFx0XHRncmlkQ29sb3I6IFwiZ3JleVwiLFxuXHRcdFx0XHRcdGxpbmVDb2xvcjogXCJncmV5XCIsXG5cdFx0XHRcdFx0bGluZVRoaWNrbmVzczogMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRMZWdlbmQ6IHtcblx0XHRcdFx0XHR2ZXJ0aWNhbEFsaWduOiBcImJvdHRvbVwiLFxuXHRcdFx0XHRcdGhvcml6b250YWxBbGlnbjogXCJjZW50ZXJcIixcblx0XHRcdFx0XHRmb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwibW9ub3NwYWNlLCBzYW5zLXNlcmlmLGFyaWFsIGJsYWNrXCIgOiBcImFyaWFsXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0RGF0YVNlcmllczoge1xuXHRcdFx0XHRcdGluZGV4TGFiZWxGb250Q29sb3I6IFwiZ3JleVwiLFxuXHRcdFx0XHRcdC8vaW5kZXhMYWJlbEZvbnRGYW1pbHk6IFwiVHJlYnVjaGV0IE1TLCBtb25vc3BhY2UsIENvdXJpZXIgTmV3LCBDb3VyaWVyXCIsXG5cdFx0XHRcdFx0aW5kZXhMYWJlbEZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJDb3VyaWVyIE5ldywgQ291cmllciwgbW9ub3NwYWNlXCIgOiBcImFyaWFsXCIsXG5cdFx0XHRcdFx0aW5kZXhMYWJlbEZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuXHRcdFx0XHRcdGluZGV4TGFiZWxGb250U2l6ZTogMTgsXG5cdFx0XHRcdFx0Ly9pbmRleExhYmVsTGluZUNvbG9yOiBcImxpZ2h0Z3JleVwiLFxuXHRcdFx0XHRcdGluZGV4TGFiZWxMaW5lVGhpY2tuZXNzOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdFwidGhlbWUzXCI6IHtcblx0XHRcdFx0Q2hhcnQ6XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y29sb3JTZXQ6IFwiY29sb3JTZXQxXCJcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRUaXRsZToge1xuXHRcdFx0XHRcdGZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJDYW5kYXJhLCBPcHRpbWEsIFRyZWJ1Y2hldCBNUywgSGVsdmV0aWNhIE5ldWUsIEhlbHZldGljYSwgVHJlYnVjaGV0IE1TLCBzZXJpZlwiIDogXCJjYWxpYnJpXCIsXG5cdFx0XHRcdFx0Zm9udFNpemU6IDMyLFxuXHRcdFx0XHRcdGZvbnRDb2xvcjogXCIjM0EzQTNBXCIsXG5cdFx0XHRcdFx0Zm9udFdlaWdodDogXCJib2xkXCIsXG5cdFx0XHRcdFx0dmVydGljYWxBbGlnbjogXCJ0b3BcIixcblx0XHRcdFx0XHRtYXJnaW46IDVcblx0XHRcdFx0fSxcblx0XHRcdFx0U3VidGl0bGU6IHtcblx0XHRcdFx0XHRmb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwiQ2FuZGFyYSwgT3B0aW1hLCBUcmVidWNoZXQgTVMsIEhlbHZldGljYSBOZXVlLCBIZWx2ZXRpY2EsIFRyZWJ1Y2hldCBNUywgc2VyaWZcIiA6IFwiY2FsaWJyaVwiLFxuXHRcdFx0XHRcdGZvbnRTaXplOiAxNixcblx0XHRcdFx0XHRmb250Q29sb3I6IFwiIzNBM0EzQVwiLFxuXHRcdFx0XHRcdGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuXHRcdFx0XHRcdHZlcnRpY2FsQWxpZ246IFwidG9wXCIsXG5cdFx0XHRcdFx0bWFyZ2luOiA1XG5cdFx0XHRcdH0sXG5cdFx0XHRcdEF4aXM6IHtcblx0XHRcdFx0XHR0aXRsZUZvbnRTaXplOiAyMixcblx0XHRcdFx0XHR0aXRsZUZvbnRDb2xvcjogXCJyZ2IoOTgsOTgsOTgpXCIsXG5cdFx0XHRcdFx0Ly90aXRsZUZvbnRGYW1pbHk6IFwiYXJpYWwgYmxhY2tcIixcblx0XHRcdFx0XHR0aXRsZUZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJWZXJkYW5hLCBHZW5ldmEsIENhbGlicmksIHNhbnMtc2VyaWZcIiA6IFwiY2FsaWJyaVwiLFxuXHRcdFx0XHRcdC8vdGl0bGVGb250V2VpZ2h0OiBcImJvbGRcIixcblxuXHRcdFx0XHRcdC8vbGFiZWxGb250RmFtaWx5OiBcIlRpbWVzIE5ldyBSb21hbiwgVGltZXMsIHNlcmlmXCIsXG5cdFx0XHRcdFx0bGFiZWxGb250RmFtaWx5OiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwiQ2FsaWJyaSwgT3B0aW1hLCBDYW5kYXJhLCBWZXJkYW5hLCBHZW5ldmEsIHNhbnMtc2VyaWZcIiA6IFwiY2FsaWJyaVwiLFxuXHRcdFx0XHRcdC8vbGFiZWxGb250RmFtaWx5OiBcIkhlbHZldGljYSBOZXVlLCBIZWx2ZXRpY2FcIixcblx0XHRcdFx0XHRsYWJlbEZvbnRTaXplOiAxOCxcblx0XHRcdFx0XHRsYWJlbEZvbnRDb2xvcjogXCJncmV5XCIsXG5cdFx0XHRcdFx0Ly9sYWJlbEZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuXHRcdFx0XHRcdHRpY2tDb2xvcjogXCJncmV5XCIsXG5cdFx0XHRcdFx0dGlja1RoaWNrbmVzczogMixcblx0XHRcdFx0XHRncmlkVGhpY2tuZXNzOiAyLFxuXHRcdFx0XHRcdGdyaWRDb2xvcjogXCJncmV5XCIsXG5cdFx0XHRcdFx0bGluZVRoaWNrbmVzczogMixcblx0XHRcdFx0XHRsaW5lQ29sb3I6IFwiZ3JleVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdExlZ2VuZDoge1xuXHRcdFx0XHRcdHZlcnRpY2FsQWxpZ246IFwiYm90dG9tXCIsXG5cdFx0XHRcdFx0aG9yaXpvbnRhbEFsaWduOiBcImNlbnRlclwiLFxuXHRcdFx0XHRcdGZvbnRGYW1pbHk6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJtb25vc3BhY2UsIHNhbnMtc2VyaWYsYXJpYWwgYmxhY2tcIiA6IFwiY2FsaWJyaVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdERhdGFTZXJpZXM6IHtcblx0XHRcdFx0XHRiZXZlbEVuYWJsZWQ6IHRydWUsXG5cdFx0XHRcdFx0aW5kZXhMYWJlbEZvbnRDb2xvcjogXCJncmV5XCIsXG5cdFx0XHRcdFx0Ly9pbmRleExhYmVsRm9udEZhbWlseTogXCJUcmVidWNoZXQgTVMsIG1vbm9zcGFjZSwgQ291cmllciBOZXcsIENvdXJpZXJcIixcblx0XHRcdFx0XHRpbmRleExhYmVsRm9udEZhbWlseTogaXNDYW52YXNTdXBwb3J0ZWQgPyBcIkNhbmRhcmEsIE9wdGltYSwgQ2FsaWJyaSwgVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmXCIgOiBcImNhbGlicmlcIixcblx0XHRcdFx0XHQvL2luZGV4TGFiZWxGb250V2VpZ2h0OiBcImJvbGRcIixcblx0XHRcdFx0XHRpbmRleExhYmVsRm9udFNpemU6IDE4LFxuXHRcdFx0XHRcdGluZGV4TGFiZWxMaW5lQ29sb3I6IFwibGlnaHRncmV5XCIsXG5cdFx0XHRcdFx0aW5kZXhMYWJlbExpbmVUaGlja25lc3M6IDJcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG4iLCIvLyNyZWdpb24gQW5pbWF0b3JcblxuaW1wb3J0IEFuaW1hdGlvbkhlbHBlciBmcm9tICcuLi9oZWxwZXJzL2FuaW1hdG9yJztcblxuZnVuY3Rpb24gQW5pbWF0b3IoY2hhcnQpIHtcblxuICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XG4gIHRoaXMuY3R4ID0gdGhpcy5jaGFydC5wbG90QXJlYS5jdHg7XG4gIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xuICB0aGlzLmFuaW1hdGlvblJlcXVlc3RJZCA9IG51bGw7XG59XG5cbi8vQW5pbWF0b3IucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbiAoZHVyYXRpb24sIGJhc2UsIGRlc3QsIHNvdXJjZSwgYW5pbWF0aW9uQ2FsbGJhY2ssIG9uQ29tcGxldGUpIHtcbkFuaW1hdG9yLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gKHN0YXJ0RGVsYXksIGR1cmF0aW9uLCBhbmltYXRpb25DYWxsYmFjaywgb25Db21wbGV0ZSwgZWFzaW5nRnVuY3Rpb24pIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLmNoYXJ0LmlzQW5pbWF0aW5nID0gdHJ1ZTtcbiAgZWFzaW5nRnVuY3Rpb24gPSBlYXNpbmdGdW5jdGlvbiB8fCBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmxpbmVhcjtcblxuICBpZiAoYW5pbWF0aW9uQ2FsbGJhY2spIHtcblxuICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKHtcbiAgICAgIHN0YXJ0VGltZTogKG5ldyBEYXRlKCkpLmdldFRpbWUoKSArIChzdGFydERlbGF5ID8gc3RhcnREZWxheSA6IDApLFxuICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgYW5pbWF0aW9uQ2FsbGJhY2s6IGFuaW1hdGlvbkNhbGxiYWNrLFxuICAgICAgb25Db21wbGV0ZTogb25Db21wbGV0ZVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHJlbWFpbmluZ0FuaW1hdGlvbnMgPSBbXTtcblxuICB3aGlsZSAodGhpcy5hbmltYXRpb25zLmxlbmd0aCA+IDApIHtcblxuICAgIHZhciBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnMuc2hpZnQoKTtcbiAgICB2YXIgbm93ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICB2YXIgZnJhY3Rpb25Db21wbGV0ZSA9IDA7XG4gICAgLy92YXIgZnJhY3Rpb25Db21wbGV0ZSA9IE1hdGgubWluKCgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gYW5pbWF0aW9uLnN0YXJ0VGltZSkgLyBhbmltYXRpb24uZHVyYXRpb24sIDEpO1xuXG4gICAgaWYgKGFuaW1hdGlvbi5zdGFydFRpbWUgPD0gbm93KSB7XG4gICAgICBmcmFjdGlvbkNvbXBsZXRlID0gZWFzaW5nRnVuY3Rpb24oTWF0aC5taW4oKG5vdyAtIGFuaW1hdGlvbi5zdGFydFRpbWUpLCBhbmltYXRpb24uZHVyYXRpb24pLCAwLCAxLCBhbmltYXRpb24uZHVyYXRpb24pO1xuICAgICAgLy92YXIgZnJhY3Rpb25Db21wbGV0ZSA9IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcuZWFzZU91dFF1YWQoTWF0aC5taW4oKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSBhbmltYXRpb24uc3RhcnRUaW1lKSwgYW5pbWF0aW9uLmR1cmF0aW9uKSwgMCwgMSwgYW5pbWF0aW9uLmR1cmF0aW9uKTtcblxuICAgICAgZnJhY3Rpb25Db21wbGV0ZSA9IE1hdGgubWluKGZyYWN0aW9uQ29tcGxldGUsIDEpO1xuXG4gICAgICBpZiAoaXNOYU4oZnJhY3Rpb25Db21wbGV0ZSkgfHwgIWlzRmluaXRlKGZyYWN0aW9uQ29tcGxldGUpKVxuICAgICAgICBmcmFjdGlvbkNvbXBsZXRlID0gMTtcbiAgICB9XG5cbiAgICBpZiAoZnJhY3Rpb25Db21wbGV0ZSA8IDEpIHtcbiAgICAgIHJlbWFpbmluZ0FuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgIH1cblxuICAgIGFuaW1hdGlvbi5hbmltYXRpb25DYWxsYmFjayhmcmFjdGlvbkNvbXBsZXRlKTtcblxuICAgIGlmIChmcmFjdGlvbkNvbXBsZXRlID49IDEgJiYgYW5pbWF0aW9uLm9uQ29tcGxldGUpXG4gICAgICBhbmltYXRpb24ub25Db21wbGV0ZSgpO1xuICB9XG5cbiAgdGhpcy5hbmltYXRpb25zID0gcmVtYWluaW5nQW5pbWF0aW9ucztcblxuICBpZiAodGhpcy5hbmltYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICB0aGlzLmFuaW1hdGlvblJlcXVlc3RJZCA9IHRoaXMuY2hhcnQucmVxdWVzdEFuaW1GcmFtZS5jYWxsKHdpbmRvdywgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuYW5pbWF0ZS5jYWxsKF90aGlzKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmNoYXJ0LmlzQW5pbWF0aW5nID0gZmFsc2U7XG4gIH1cblxufVxuXG5BbmltYXRvci5wcm90b3R5cGUuY2FuY2VsQWxsQW5pbWF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcblxuICB0aGlzLmFuaW1hdGlvbnMgPSBbXTtcblxuICBpZiAodGhpcy5hbmltYXRpb25SZXF1ZXN0SWQpIHtcbiAgICB0aGlzLmNoYXJ0LmNhbmNlbFJlcXVlc3RBbmltRnJhbWUuY2FsbCh3aW5kb3csIHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkKTtcbiAgfVxuXG4gIHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkID0gbnVsbDtcbiAgdGhpcy5jaGFydC5pc0FuaW1hdGluZyA9IGZhbHNlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBbmltYXRvcjtcbiIsIlxuaW1wb3J0IENhbnZhc0pTT2JqZWN0IGZyb20gJy4vY2FudmFzanMnO1xuaW1wb3J0IFRleHRCbG9jayBmcm9tICcuL3RleHRfYmxvY2snO1xuaW1wb3J0IHtleHRlbmQsIG51bWJlckZvcm1hdCwgZ2V0TGluZURhc2hBcnJheX0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmZ1bmN0aW9uIEF4aXMoY2hhcnQsIG9wdGlvbnMsIHR5cGUsIHBvc2l0aW9uKSB7XG5cblx0QXhpcy5iYXNlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgXCJBeGlzXCIsIG9wdGlvbnMsIGNoYXJ0LnRoZW1lKTtcblxuXHR0aGlzLmNoYXJ0ID0gY2hhcnQ7XG5cdHRoaXMuY2FudmFzID0gY2hhcnQuY2FudmFzO1xuXHR0aGlzLmN0eCA9IGNoYXJ0LmN0eDtcblx0dGhpcy5tYXhXaWR0aCA9IDA7XG5cdHRoaXMubWF4SGVpZ2h0ID0gMDtcblx0dGhpcy5pbnRlcnZhbFN0YXJ0UG9zaXRpb24gPSAwO1xuXHR0aGlzLmxhYmVscyA9IFtdO1xuXHR0aGlzLl9sYWJlbHMgPSBudWxsO1xuXG5cdC8vUHJvY2Vzc2VkIGluZm9ybWF0aW9uIGFib3V0IHRoZSBkYXRhIHRoYXQgZ2V0cyBwbG90dGVkIGFnYWluc3QgdGhpcyBheGlzXG5cdHRoaXMuZGF0YUluZm8gPSB7XG5cdFx0bWluOiBJbmZpbml0eSxcblx0XHRtYXg6IC1JbmZpbml0eSxcblx0XHR2aWV3UG9ydE1pbjogSW5maW5pdHksXG5cdFx0dmlld1BvcnRNYXg6IC1JbmZpbml0eSxcblx0XHRtaW5EaWZmOiBJbmZpbml0eSAvLyBVc2VkIG9ubHkgaW4gY2FzZSBvZiBheGlzWFxuXHR9O1xuXG5cdGlmICh0eXBlID09PSBcImF4aXNYXCIpIHtcblx0XHR0aGlzLnNlc3Npb25WYXJpYWJsZXMgPSB0aGlzLmNoYXJ0LnNlc3Npb25WYXJpYWJsZXNbdHlwZV07XG5cblx0XHRpZiAoIXRoaXMuX29wdGlvbnMuaW50ZXJ2YWwpXG5cdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0aWYgKHBvc2l0aW9uID09PSBcImxlZnRcIiB8fCBwb3NpdGlvbiA9PT0gXCJ0b3BcIilcblx0XHRcdHRoaXMuc2Vzc2lvblZhcmlhYmxlcyA9IHRoaXMuY2hhcnQuc2Vzc2lvblZhcmlhYmxlc1tcImF4aXNZXCJdO1xuXHRcdGVsc2Uge1xuXHRcdFx0dGhpcy5zZXNzaW9uVmFyaWFibGVzID0gdGhpcy5jaGFydC5zZXNzaW9uVmFyaWFibGVzW1wiYXhpc1kyXCJdO1xuXHRcdH1cblx0fVxuXG5cblxuXHRpZiAodHlwZW9mICh0aGlzLl9vcHRpb25zLnRpdGxlRm9udFNpemUpID09PSBcInVuZGVmaW5lZFwiKSB7XG5cblx0XHR0aGlzLnRpdGxlRm9udFNpemUgPSB0aGlzLmNoYXJ0LmdldEF1dG9Gb250U2l6ZSh0aGlzLnRpdGxlRm9udFNpemUpO1xuXG5cdFx0Ly93aW5kb3cuY29uc29sZS5sb2coXCJ0aXRsZUZvbnRTaXplOiBcIiArIHRoaXMudGl0bGVGb250U2l6ZSk7XG5cdH1cblxuXHRpZiAodHlwZW9mICh0aGlzLl9vcHRpb25zLmxhYmVsRm9udFNpemUpID09PSBcInVuZGVmaW5lZFwiKSB7XG5cblx0XHR0aGlzLmxhYmVsRm9udFNpemUgPSB0aGlzLmNoYXJ0LmdldEF1dG9Gb250U2l6ZSh0aGlzLmxhYmVsRm9udFNpemUpO1xuXG5cdFx0Ly93aW5kb3cuY29uc29sZS5sb2coXCJsYWJlbEZvbnRTaXplOiBcIiArIHRoaXMubGFiZWxGb250U2l6ZSk7XG5cblx0fVxuXG5cdC8vQXhpcyBUeXBlIDogYXhpc1gsIGF4aXNZXG5cdHRoaXMudHlwZSA9IHR5cGU7XG5cdGlmICh0eXBlID09PSBcImF4aXNYXCIgJiYgKCFvcHRpb25zIHx8IHR5cGVvZiAob3B0aW9ucy5ncmlkVGhpY2tuZXNzKSA9PT0gXCJ1bmRlZmluZWRcIikpXG5cdFx0dGhpcy5ncmlkVGhpY2tuZXNzID0gMDtcblxuXHR0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuXG5cdHRoaXMubGluZUNvb3JkaW5hdGVzID0ge1xuXHRcdHgxOiBudWxsLCB5MTogbnVsbCwgeDI6IG51bGwsIHkyOiBudWxsLCB3aWR0aDogbnVsbFxuXHR9Oy8ve3gxOiwgeTE6LCB4MjosIHkyOiwgd2lkdGg6fVxuXHQvL1xuXHR7XG5cdFx0dGhpcy5sYWJlbEFuZ2xlID0gKCh0aGlzLmxhYmVsQW5nbGUgJSAzNjApICsgMzYwKSAlIDM2MDtcblxuXHRcdGlmICh0aGlzLmxhYmVsQW5nbGUgPiA5MCAmJiB0aGlzLmxhYmVsQW5nbGUgPD0gMjcwKVxuXHRcdFx0dGhpcy5sYWJlbEFuZ2xlIC09IDE4MDtcblx0XHRlbHNlIGlmICh0aGlzLmxhYmVsQW5nbGUgPiAxODAgJiYgdGhpcy5sYWJlbEFuZ2xlIDw9IDI3MClcblx0XHRcdHRoaXMubGFiZWxBbmdsZSAtPSAxODBcblx0XHRlbHNlIGlmICh0aGlzLmxhYmVsQW5nbGUgPiAyNzAgJiYgdGhpcy5sYWJlbEFuZ2xlIDw9IDM2MClcblx0XHRcdHRoaXMubGFiZWxBbmdsZSAtPSAzNjBcblx0fVxuXG5cdGlmICh0aGlzLl9vcHRpb25zLnN0cmlwTGluZXMgJiYgdGhpcy5fb3B0aW9ucy5zdHJpcExpbmVzLmxlbmd0aCA+IDApIHtcblxuXHRcdHRoaXMuc3RyaXBMaW5lcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9vcHRpb25zLnN0cmlwTGluZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMuc3RyaXBMaW5lcy5wdXNoKG5ldyBTdHJpcExpbmUodGhpcy5jaGFydCwgdGhpcy5fb3B0aW9ucy5zdHJpcExpbmVzW2ldLCBjaGFydC50aGVtZSwgKyt0aGlzLmNoYXJ0Ll9ldmVudE1hbmFnZXIubGFzdE9iamVjdElkLCB0aGlzKSk7XG5cdFx0fVxuXHR9XG5cblx0dGhpcy5fdGl0bGVUZXh0QmxvY2sgPSBudWxsO1xuXG5cdGlmICghdGhpcy5oYXNPcHRpb25DaGFuZ2VkKFwidmlld3BvcnRNaW5pbXVtXCIpICYmICFpc05hTih0aGlzLnNlc3Npb25WYXJpYWJsZXMubmV3Vmlld3BvcnRNaW5pbXVtKSAmJiB0aGlzLnNlc3Npb25WYXJpYWJsZXMubmV3Vmlld3BvcnRNaW5pbXVtICE9PSBudWxsKVxuXHRcdHRoaXMudmlld3BvcnRNaW5pbXVtID0gdGhpcy5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWluaW11bTtcblx0ZWxzZVxuXHRcdHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1pbmltdW0gPSBudWxsO1xuXG5cdGlmICghdGhpcy5oYXNPcHRpb25DaGFuZ2VkKFwidmlld3BvcnRNYXhpbXVtXCIpICYmICFpc05hTih0aGlzLnNlc3Npb25WYXJpYWJsZXMubmV3Vmlld3BvcnRNYXhpbXVtKSAmJiB0aGlzLnNlc3Npb25WYXJpYWJsZXMubmV3Vmlld3BvcnRNYXhpbXVtICE9PSBudWxsKVxuXHRcdHRoaXMudmlld3BvcnRNYXhpbXVtID0gdGhpcy5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWF4aW11bTtcblx0ZWxzZVxuXHRcdHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1heGltdW0gPSBudWxsO1xuXG5cdGlmICh0aGlzLm1pbmltdW0gIT09IG51bGwgJiYgdGhpcy52aWV3cG9ydE1pbmltdW0gIT09IG51bGwpXG5cdFx0dGhpcy52aWV3cG9ydE1pbmltdW0gPSBNYXRoLm1heCh0aGlzLnZpZXdwb3J0TWluaW11bSwgdGhpcy5taW5pbXVtKTtcblxuXHRpZiAodGhpcy5tYXhpbXVtICE9PSBudWxsICYmIHRoaXMudmlld3BvcnRNYXhpbXVtICE9PSBudWxsKVxuXHRcdHRoaXMudmlld3BvcnRNYXhpbXVtID0gTWF0aC5taW4odGhpcy52aWV3cG9ydE1heGltdW0sIHRoaXMubWF4aW11bSk7XG5cblx0dGhpcy50cmFja0NoYW5nZXMoXCJ2aWV3cG9ydE1pbmltdW1cIik7XG5cdHRoaXMudHJhY2tDaGFuZ2VzKFwidmlld3BvcnRNYXhpbXVtXCIpO1xufVxuXG5leHRlbmQoQXhpcywgQ2FudmFzSlNPYmplY3QpO1xuXG5BeGlzLnByb3RvdHlwZS5jcmVhdGVMYWJlbHMgPSBmdW5jdGlvbiAoKSB7XG5cblx0dmFyIHRleHRCbG9jaztcblx0dmFyIGkgPSAwO1xuXHR2YXIgZW5kUG9pbnQ7XG5cblx0dmFyIGxhYmVsTWF4V2lkdGggPSAwO1xuXHR2YXIgbGFiZWxNYXhIZWlnaHQgPSAwO1xuXHR2YXIgaW50ZXJ2YWxJblBpeGVscyA9IDA7XG5cblx0Ly92YXIgaW50ZXJ2YWxJblBpeGVscyA9IHRoaXMuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogdGhpcy5pbnRlcnZhbDtcblxuXG5cdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xuXHRcdGludGVydmFsSW5QaXhlbHMgPSB0aGlzLmxpbmVDb29yZGluYXRlcy53aWR0aCAvIE1hdGguYWJzKHRoaXMudmlld3BvcnRNYXhpbXVtIC0gdGhpcy52aWV3cG9ydE1pbmltdW0pICogdGhpcy5pbnRlcnZhbDtcblxuXHRcdGlmICh0aGlzLmxhYmVsQXV0b0ZpdCkge1xuXHRcdFx0bGFiZWxNYXhXaWR0aCA9IHR5cGVvZiAodGhpcy5fb3B0aW9ucy5sYWJlbE1heFdpZHRoKSA9PT0gXCJ1bmRlZmluZWRcIiA/IGludGVydmFsSW5QaXhlbHMgKiAuOSA+PiAwIDogdGhpcy5sYWJlbE1heFdpZHRoO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGxhYmVsTWF4V2lkdGggPSB0eXBlb2YgKHRoaXMuX29wdGlvbnMubGFiZWxNYXhXaWR0aCkgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzLmNoYXJ0LndpZHRoICogLjcgPj4gMCA6IHRoaXMubGFiZWxNYXhXaWR0aDtcblx0XHR9XG5cblx0XHRsYWJlbE1heEhlaWdodCA9IHR5cGVvZiAodGhpcy5fb3B0aW9ucy5sYWJlbFdyYXApID09PSBcInVuZGVmaW5lZFwiIHx8IHRoaXMubGFiZWxXcmFwID8gdGhpcy5jaGFydC5oZWlnaHQgKiAuNSA+PiAwIDogdGhpcy5sYWJlbEZvbnRTaXplICogMS41O1xuXHR9XG5cdGVsc2UgaWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcImxlZnRcIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XG5cblx0XHRpbnRlcnZhbEluUGl4ZWxzID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMuaGVpZ2h0IC8gTWF0aC5hYnModGhpcy52aWV3cG9ydE1heGltdW0gLSB0aGlzLnZpZXdwb3J0TWluaW11bSkgKiB0aGlzLmludGVydmFsO1xuXG5cblx0XHRpZiAodGhpcy5sYWJlbEF1dG9GaXQpIHtcblx0XHRcdGxhYmVsTWF4V2lkdGggPSB0eXBlb2YgKHRoaXMuX29wdGlvbnMubGFiZWxNYXhXaWR0aCkgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzLmNoYXJ0LndpZHRoICogLjMgPj4gMCA6IHRoaXMubGFiZWxNYXhXaWR0aDtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRsYWJlbE1heFdpZHRoID0gdHlwZW9mICh0aGlzLl9vcHRpb25zLmxhYmVsTWF4V2lkdGgpID09PSBcInVuZGVmaW5lZFwiID8gdGhpcy5jaGFydC53aWR0aCAqIC41ID4+IDAgOiB0aGlzLmxhYmVsTWF4V2lkdGg7XG5cdFx0fVxuXG5cdFx0bGFiZWxNYXhIZWlnaHQgPSB0eXBlb2YgKHRoaXMuX29wdGlvbnMubGFiZWxXcmFwKSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0aGlzLmxhYmVsV3JhcCA/IGludGVydmFsSW5QaXhlbHMgKiAyID4+IDAgOiB0aGlzLmxhYmVsRm9udFNpemUgKiAxLjU7XG5cdH1cblxuXHRpZiAodGhpcy50eXBlID09PSBcImF4aXNYXCIgJiYgdGhpcy5jaGFydC5wbG90SW5mby5heGlzWFZhbHVlVHlwZSA9PT0gXCJkYXRlVGltZVwiKSB7XG5cdFx0ZW5kUG9pbnQgPSBhZGRUb0RhdGVUaW1lKG5ldyBEYXRlKHRoaXMudmlld3BvcnRNYXhpbXVtKSwgdGhpcy5pbnRlcnZhbCwgdGhpcy5pbnRlcnZhbFR5cGUpXG5cdFx0Ly9lbmRQb2ludCA9IHRoaXMudmlld3BvcnRNYXhpbXVtO1xuXG5cdFx0Zm9yIChpID0gdGhpcy5pbnRlcnZhbFN0YXJ0UG9zaXRpb247IGkgPCBlbmRQb2ludDsgYWRkVG9EYXRlVGltZShpLCB0aGlzLmludGVydmFsLCB0aGlzLmludGVydmFsVHlwZSkpIHtcblxuXHRcdFx0Ly92YXIgdGV4dCA9IGRhdGVGb3JtYXQoaSwgdGhpcy52YWx1ZUZvcm1hdFN0cmluZyk7XG5cdFx0XHR2YXIgdGltZUluTWlsbGlzZWNvbmRzID0gaS5nZXRUaW1lKCk7XG5cdFx0XHR2YXIgdGV4dCA9IHRoaXMubGFiZWxGb3JtYXR0ZXIgPyB0aGlzLmxhYmVsRm9ybWF0dGVyKHsgY2hhcnQ6IHRoaXMuY2hhcnQsIGF4aXM6IHRoaXMuX29wdGlvbnMsIHZhbHVlOiBpLCBsYWJlbDogdGhpcy5sYWJlbHNbaV0gPyB0aGlzLmxhYmVsc1tpXSA6IG51bGwgfSlcblx0XHRcdFx0OiB0aGlzLnR5cGUgPT09IFwiYXhpc1hcIiAmJiB0aGlzLmxhYmVsc1t0aW1lSW5NaWxsaXNlY29uZHNdID8gdGhpcy5sYWJlbHNbdGltZUluTWlsbGlzZWNvbmRzXSA6IGRhdGVGb3JtYXQoaSwgdGhpcy52YWx1ZUZvcm1hdFN0cmluZywgdGhpcy5jaGFydC5fY3VsdHVyZUluZm8pO1xuXG5cdFx0XHR0ZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XG5cdFx0XHRcdHg6IDAsXG5cdFx0XHRcdHk6IDAsXG5cdFx0XHRcdC8vbWF4V2lkdGg6IHRoaXMubWF4SGVpZ2h0LFxuXHRcdFx0XHQvL21heEhlaWdodDogdGhpcy5sYWJlbEZvbnRTaXplLFxuXHRcdFx0XHRtYXhXaWR0aDogbGFiZWxNYXhXaWR0aCxcblx0XHRcdFx0bWF4SGVpZ2h0OiBsYWJlbE1heEhlaWdodCxcblx0XHRcdFx0YW5nbGU6IHRoaXMubGFiZWxBbmdsZSxcblx0XHRcdFx0dGV4dDogdGhpcy5wcmVmaXggKyB0ZXh0ICsgdGhpcy5zdWZmaXgsXG5cdFx0XHRcdGhvcml6b250YWxBbGlnbjogXCJsZWZ0XCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XG5cdFx0XHRcdGZvbnRTaXplOiB0aGlzLmxhYmVsRm9udFNpemUsLy9pbiBwaXhlbHNcblx0XHRcdFx0Zm9udEZhbWlseTogdGhpcy5sYWJlbEZvbnRGYW1pbHksXG5cdFx0XHRcdGZvbnRXZWlnaHQ6IHRoaXMubGFiZWxGb250V2VpZ2h0LCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxuXHRcdFx0XHRmb250Q29sb3I6IHRoaXMubGFiZWxGb250Q29sb3IsXG5cdFx0XHRcdGZvbnRTdHlsZTogdGhpcy5sYWJlbEZvbnRTdHlsZSwgLy8gbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWVcblx0XHRcdFx0dGV4dEJhc2VsaW5lOiBcIm1pZGRsZVwiXG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5fbGFiZWxzLnB1c2goeyBwb3NpdGlvbjogaS5nZXRUaW1lKCksIHRleHRCbG9jazogdGV4dEJsb2NrLCBlZmZlY3RpdmVIZWlnaHQ6IG51bGwgfSk7XG5cdFx0fVxuXG5cdH1cblx0ZWxzZSB7XG5cdFx0ZW5kUG9pbnQgPSB0aGlzLnZpZXdwb3J0TWF4aW11bTtcblxuXHRcdC8vaWYgKChNYXRoLmZsb29yKHRoaXMuaW50ZXJ2YWwpIDwgdGhpcy5pbnRlcnZhbCAmJiAhdGhpcy5fb3B0aW9ucy5pbnRlcnZhbCkgfHwgdHJ1ZSkge1xuXG5cdFx0Ly9DaGVjayBpZiBpdCBzaG91bGQgYmUgcmVuZGVyZWQgYXMgYSBjYXRlZ29yeSBheGlzLiBJZiB5ZXMsIHRoZW4gY2VpbCB0aGUgaW50ZXJ2YWxcblx0XHRpZiAodGhpcy5sYWJlbHMgJiYgdGhpcy5sYWJlbHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgdGVtcEludGVydmFsID0gTWF0aC5jZWlsKHRoaXMuaW50ZXJ2YWwpO1xuXHRcdFx0dmFyIHRlbXBTdGFydFBvaW50ID0gTWF0aC5jZWlsKHRoaXMuaW50ZXJ2YWxTdGFydFBvc2l0aW9uKTtcblx0XHRcdHZhciBoYXNBbGxMYWJlbHMgPSBmYWxzZTtcblx0XHRcdGZvciAoaSA9IHRlbXBTdGFydFBvaW50OyBpIDwgdGhpcy52aWV3cG9ydE1heGltdW07IGkgKz0gdGVtcEludGVydmFsKSB7XG5cdFx0XHRcdGlmICh0aGlzLmxhYmVsc1tpXSkge1xuXHRcdFx0XHRcdGhhc0FsbExhYmVscyA9IHRydWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aGFzQWxsTGFiZWxzID0gZmFsc2U7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGhhc0FsbExhYmVscykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gdGVtcEludGVydmFsO1xuXHRcdFx0XHR0aGlzLmludGVydmFsU3RhcnRQb3NpdGlvbiA9IHRlbXBTdGFydFBvaW50O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vcGFyc2VGbG9hdCAmIHRvUHJlY2lzaW9uIGFyZSBiZWluZyB1c2VkIHRvIGF2b2lkIGlzc3VlcyByZWxhdGVkIHRvIHByZWNpc2lvbi5cblx0XHRmb3IgKGkgPSB0aGlzLmludGVydmFsU3RhcnRQb3NpdGlvbjsgaSA8PSBlbmRQb2ludDsgaSA9IHBhcnNlRmxvYXQoKGkgKyB0aGlzLmludGVydmFsKS50b0ZpeGVkKDE0KSkpIHtcblxuXHRcdFx0dmFyIHRleHQgPSB0aGlzLmxhYmVsRm9ybWF0dGVyID8gdGhpcy5sYWJlbEZvcm1hdHRlcih7IGNoYXJ0OiB0aGlzLmNoYXJ0LCBheGlzOiB0aGlzLl9vcHRpb25zLCB2YWx1ZTogaSwgbGFiZWw6IHRoaXMubGFiZWxzW2ldID8gdGhpcy5sYWJlbHNbaV0gOiBudWxsIH0pXG5cdFx0XHRcdDogdGhpcy50eXBlID09PSBcImF4aXNYXCIgJiYgdGhpcy5sYWJlbHNbaV0gPyB0aGlzLmxhYmVsc1tpXSA6IG51bWJlckZvcm1hdChpLCB0aGlzLnZhbHVlRm9ybWF0U3RyaW5nLCB0aGlzLmNoYXJ0Ll9jdWx0dXJlSW5mbyk7XG5cblx0XHRcdHRleHRCbG9jayA9IG5ldyBUZXh0QmxvY2sodGhpcy5jdHgsIHtcblx0XHRcdFx0eDogMCxcblx0XHRcdFx0eTogMCxcblx0XHRcdFx0Ly9tYXhXaWR0aDogdGhpcy5tYXhIZWlnaHQsXG5cdFx0XHRcdC8vbWF4SGVpZ2h0OiB0aGlzLmxhYmVsRm9udFNpemUsXG5cdFx0XHRcdG1heFdpZHRoOiBsYWJlbE1heFdpZHRoLFxuXHRcdFx0XHRtYXhIZWlnaHQ6IGxhYmVsTWF4SGVpZ2h0LFxuXHRcdFx0XHRhbmdsZTogdGhpcy5sYWJlbEFuZ2xlLFxuXHRcdFx0XHR0ZXh0OiB0aGlzLnByZWZpeCArIHRleHQgKyB0aGlzLnN1ZmZpeCxcblx0XHRcdFx0aG9yaXpvbnRhbEFsaWduOiBcImxlZnRcIiwvL2xlZnQsIGNlbnRlciwgcmlnaHRcblx0XHRcdFx0Zm9udFNpemU6IHRoaXMubGFiZWxGb250U2l6ZSwvL2luIHBpeGVsc1xuXHRcdFx0XHRmb250RmFtaWx5OiB0aGlzLmxhYmVsRm9udEZhbWlseSxcblx0XHRcdFx0Zm9udFdlaWdodDogdGhpcy5sYWJlbEZvbnRXZWlnaHQsIC8vbm9ybWFsLCBib2xkLCBib2xkZXIsIGxpZ2h0ZXIsXG5cdFx0XHRcdGZvbnRDb2xvcjogdGhpcy5sYWJlbEZvbnRDb2xvcixcblx0XHRcdFx0Zm9udFN0eWxlOiB0aGlzLmxhYmVsRm9udFN0eWxlLCAvLyBub3JtYWwsIGl0YWxpYywgb2JsaXF1ZVxuXHRcdFx0XHR0ZXh0QmFzZWxpbmU6IFwibWlkZGxlXCIsXG5cdFx0XHRcdGJvcmRlclRoaWNrbmVzczogMFxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuX2xhYmVscy5wdXNoKHsgcG9zaXRpb246IGksIHRleHRCbG9jazogdGV4dEJsb2NrLCBlZmZlY3RpdmVIZWlnaHQ6IG51bGwgfSk7XG5cdFx0fVxuXHR9XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0cmlwTGluZXMubGVuZ3RoOyBpKyspIHtcblxuXHRcdHZhciBzdHJpcExpbmUgPSB0aGlzLnN0cmlwTGluZXNbaV07XG5cblx0XHR0ZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XG5cdFx0XHR4OiAwLFxuXHRcdFx0eTogMCxcblx0XHRcdC8vbWF4V2lkdGg6IHRoaXMubWF4SGVpZ2h0LFxuXHRcdFx0Ly9tYXhIZWlnaHQ6IHRoaXMubGFiZWxGb250U2l6ZSxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogc3RyaXBMaW5lLmxhYmVsQmFja2dyb3VuZENvbG9yLFxuXHRcdFx0bWF4V2lkdGg6IGxhYmVsTWF4V2lkdGgsXG5cdFx0XHRtYXhIZWlnaHQ6IGxhYmVsTWF4SGVpZ2h0LFxuXHRcdFx0YW5nbGU6IHRoaXMubGFiZWxBbmdsZSxcblx0XHRcdHRleHQ6IHN0cmlwTGluZS5sYWJlbEZvcm1hdHRlciA/IHN0cmlwTGluZS5sYWJlbEZvcm1hdHRlcih7IGNoYXJ0OiB0aGlzLmNoYXJ0LCBheGlzOiB0aGlzLCBzdHJpcExpbmU6IHN0cmlwTGluZSB9KSA6IHN0cmlwTGluZS5sYWJlbCxcblx0XHRcdGhvcml6b250YWxBbGlnbjogXCJsZWZ0XCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XG5cdFx0XHRmb250U2l6ZTogc3RyaXBMaW5lLmxhYmVsRm9udFNpemUsLy9pbiBwaXhlbHNcblx0XHRcdGZvbnRGYW1pbHk6IHN0cmlwTGluZS5sYWJlbEZvbnRGYW1pbHksXG5cdFx0XHRmb250V2VpZ2h0OiBzdHJpcExpbmUubGFiZWxGb250V2VpZ2h0LCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxuXHRcdFx0Zm9udENvbG9yOiBzdHJpcExpbmUuX29wdGlvbnMubGFiZWxGb250Q29sb3IgfHwgc3RyaXBMaW5lLmNvbG9yLFxuXHRcdFx0Zm9udFN0eWxlOiBzdHJpcExpbmUubGFiZWxGb250U3R5bGUsIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXG5cdFx0XHR0ZXh0QmFzZWxpbmU6IFwibWlkZGxlXCIsXG5cdFx0XHRib3JkZXJUaGlja25lc3M6IDBcblx0XHR9KTtcblxuXHRcdHRoaXMuX2xhYmVscy5wdXNoKHsgcG9zaXRpb246IHN0cmlwTGluZS52YWx1ZSwgdGV4dEJsb2NrOiB0ZXh0QmxvY2ssIGVmZmVjdGl2ZUhlaWdodDogbnVsbCwgc3RyaXBMaW5lOiBzdHJpcExpbmUgfSk7XG5cdH1cblxufVxuXG5BeGlzLnByb3RvdHlwZS5jcmVhdGVMYWJlbHNBbmRDYWxjdWxhdGVXaWR0aCA9IGZ1bmN0aW9uICgpIHtcblxuXHR2YXIgbWF4TGFiZWxFZmZlY3RpdmVXaWR0aCA9IDA7XG5cdHRoaXMuX2xhYmVscyA9IFtdO1xuXG5cdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJsZWZ0XCIgfHwgdGhpcy5fcG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuXG5cdFx0dGhpcy5jcmVhdGVMYWJlbHMoKTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGFiZWxzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdHZhciB0ZXh0QmxvY2sgPSB0aGlzLl9sYWJlbHNbaV0udGV4dEJsb2NrO1xuXG5cdFx0XHR2YXIgc2l6ZSA9IHRleHRCbG9jay5tZWFzdXJlVGV4dCgpO1xuXG5cdFx0XHQvL3ZhciBoeXBvdGVudXNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHNpemUuaGVpZ2h0IC8gMiwgMikgKyBNYXRoLnBvdyhzaXplLndpZHRoLCAyKSk7XG5cdFx0XHQvL2xhYmVsRWZmZWN0aXZlV2lkdGggPSBoeXBvdGVudXNlICogTWF0aC5jb3MoTWF0aC5hYnMoTWF0aC5QSSAvIDE4MCAqIHRoaXMubGFiZWxBbmdsZSkgLSBNYXRoLmFicyhNYXRoLmFjb3Moc2l6ZS53aWR0aCAvIGh5cG90ZW51c2UpKSk7XG5cblx0XHRcdHZhciBsYWJlbEVmZmVjdGl2ZVdpZHRoID0gMDtcblxuXHRcdFx0aWYgKHRoaXMubGFiZWxBbmdsZSA9PT0gMClcblx0XHRcdFx0bGFiZWxFZmZlY3RpdmVXaWR0aCA9IHNpemUud2lkdGg7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGxhYmVsRWZmZWN0aXZlV2lkdGggPSAoc2l6ZS53aWR0aCAqIE1hdGguY29zKE1hdGguUEkgLyAxODAgKiBNYXRoLmFicyh0aGlzLmxhYmVsQW5nbGUpKSkgKyAoc2l6ZS5oZWlnaHQgLyAyICogTWF0aC5zaW4oTWF0aC5QSSAvIDE4MCAqIE1hdGguYWJzKHRoaXMubGFiZWxBbmdsZSkpKTtcblxuXG5cdFx0XHRpZiAobWF4TGFiZWxFZmZlY3RpdmVXaWR0aCA8IGxhYmVsRWZmZWN0aXZlV2lkdGgpXG5cdFx0XHRcdG1heExhYmVsRWZmZWN0aXZlV2lkdGggPSBsYWJlbEVmZmVjdGl2ZVdpZHRoO1xuXG5cdFx0XHR0aGlzLl9sYWJlbHNbaV0uZWZmZWN0aXZlV2lkdGggPSBsYWJlbEVmZmVjdGl2ZVdpZHRoO1xuXHRcdH1cblx0fVxuXG5cblxuXHR2YXIgdGl0bGVIZWlnaHQgPSB0aGlzLnRpdGxlID8gZ2V0Rm9udEhlaWdodEluUGl4ZWxzKHRoaXMudGl0bGVGb250RmFtaWx5LCB0aGlzLnRpdGxlRm9udFNpemUsIHRoaXMudGl0bGVGb250V2VpZ2h0KSArIDIgOiAwO1xuXG5cdHZhciBheGlzV2lkdGggPSB0aXRsZUhlaWdodCArIG1heExhYmVsRWZmZWN0aXZlV2lkdGggKyB0aGlzLnRpY2tMZW5ndGggKyA1O1xuXG5cdC8vaWYgKGlzRGVidWdNb2RlICYmIHdpbmRvdy5jb25zb2xlKSB7XG5cdC8vXHR3aW5kb3cuY29uc29sZS5sb2codGhpcy50eXBlICsgXCItLS0gYXhpc1dpZHRoOiBcIiArIGF4aXNXaWR0aCk7XG5cdC8vfVxuXG5cdHJldHVybiBheGlzV2lkdGg7XG59XG5cbkF4aXMucHJvdG90eXBlLmNyZWF0ZUxhYmVsc0FuZENhbGN1bGF0ZUhlaWdodCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIG1heExhYmVsRWZmZWN0aXZlSGVpZ2h0ID0gMDtcblx0dGhpcy5fbGFiZWxzID0gW107XG5cdHZhciB0ZXh0QmxvY2s7XG5cdHZhciBpID0gMDtcblxuXHR0aGlzLmNyZWF0ZUxhYmVscygpO1xuXG5cdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuX2xhYmVscy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHR0ZXh0QmxvY2sgPSB0aGlzLl9sYWJlbHNbaV0udGV4dEJsb2NrO1xuXG5cdFx0XHR2YXIgc2l6ZSA9IHRleHRCbG9jay5tZWFzdXJlVGV4dCgpO1xuXHRcdFx0Ly92YXIgZGlhZ29uYWwgPSBNYXRoLnNxcnQoTWF0aC5wb3coc2l6ZS5oZWlnaHQsIDIpICsgTWF0aC5wb3coc2l6ZS53aWR0aCwgMikpO1xuXG5cdFx0XHQvL3ZhciBoeXBvdGVudXNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHNpemUuaGVpZ2h0IC8gMiwgMikgKyBNYXRoLnBvdyhzaXplLndpZHRoLCAyKSk7XG5cdFx0XHQvL3ZhciBsYWJlbEVmZmVjdGl2ZUhlaWdodCA9IGh5cG90ZW51c2UgKiBNYXRoLmNvcyhNYXRoLlBJIC8gMiAtIChNYXRoLmFicyhNYXRoLlBJIC8gMTgwICogdGhpcy5sYWJlbEFuZ2xlKSArIE1hdGguYWJzKE1hdGguYWNvcyhzaXplLndpZHRoIC8gaHlwb3RlbnVzZSkpKSk7XG5cblx0XHRcdHZhciBsYWJlbEVmZmVjdGl2ZUhlaWdodCA9IDA7XG5cblx0XHRcdGlmICh0aGlzLmxhYmVsQW5nbGUgPT09IDApXG5cdFx0XHRcdGxhYmVsRWZmZWN0aXZlSGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGxhYmVsRWZmZWN0aXZlSGVpZ2h0ID0gKHNpemUud2lkdGggKiBNYXRoLnNpbihNYXRoLlBJIC8gMTgwICogTWF0aC5hYnModGhpcy5sYWJlbEFuZ2xlKSkpICsgKHNpemUuaGVpZ2h0IC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyAxODAgKiBNYXRoLmFicyh0aGlzLmxhYmVsQW5nbGUpKSk7XG5cblx0XHRcdGlmIChtYXhMYWJlbEVmZmVjdGl2ZUhlaWdodCA8IGxhYmVsRWZmZWN0aXZlSGVpZ2h0KVxuXHRcdFx0XHRtYXhMYWJlbEVmZmVjdGl2ZUhlaWdodCA9IGxhYmVsRWZmZWN0aXZlSGVpZ2h0O1xuXG5cdFx0XHR0aGlzLl9sYWJlbHNbaV0uZWZmZWN0aXZlSGVpZ2h0ID0gbGFiZWxFZmZlY3RpdmVIZWlnaHQ7XG5cdFx0fVxuXHR9XG5cblx0Ly92YXIgdGl0bGVIZWlnaHQgPSB0aGlzLnRpdGxlID8gdGhpcy50aXRsZUZvbnRTaXplICsgNSA6IDA7XG5cdHZhciB0aXRsZUhlaWdodCA9IHRoaXMudGl0bGUgPyBnZXRGb250SGVpZ2h0SW5QaXhlbHModGhpcy50aXRsZUZvbnRGYW1pbHksIHRoaXMudGl0bGVGb250U2l6ZSwgdGhpcy50aXRsZUZvbnRXZWlnaHQpICsgMiA6IDA7XG5cblx0cmV0dXJuIHRpdGxlSGVpZ2h0ICsgbWF4TGFiZWxFZmZlY3RpdmVIZWlnaHQgKyB0aGlzLnRpY2tMZW5ndGggKyA1O1xufVxuXG4vL1N0YXRpYyBNZXRob2QgdGhhdCBjby1vcmRpbmF0ZXMgYmV0d2VlbiBheGlzWCwgYXhpc1kgYW5kIHJlbmRlcnMgdGhlbVxuQXhpcy5zZXRMYXlvdXRBbmRSZW5kZXIgPSBmdW5jdGlvbiAoYXhpc1gsIGF4aXNZLCBheGlzWTIsIGF4aXNQbGFjZW1lbnQsIGZyZWVTcGFjZSkge1xuXHR2YXIgeDEsIHkxLCB4MiwgeTI7XG5cdHZhciBjaGFydCA9IGF4aXNYLmNoYXJ0O1xuXHR2YXIgY3R4ID0gY2hhcnQuY3R4O1xuXG5cdGF4aXNYLmNhbGN1bGF0ZUF4aXNQYXJhbWV0ZXJzKCk7XG5cblx0aWYgKGF4aXNZKVxuXHRcdGF4aXNZLmNhbGN1bGF0ZUF4aXNQYXJhbWV0ZXJzKCk7XG5cblx0aWYgKGF4aXNZMilcblx0XHRheGlzWTIuY2FsY3VsYXRlQXhpc1BhcmFtZXRlcnMoKTtcblxuXHQvL2lmIChheGlzWSAmJiBheGlzWTIgJiYgdHlwZW9mIChheGlzWS5fb3B0aW9ucy52aWV3cG9ydE1heGltdW0pID09PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiAoYXhpc1kuX29wdGlvbnMudmlld3BvcnRNaW5pbXVtKSA9PT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgKGF4aXNZLl9vcHRpb25zLmludGVydmFsKSA9PT0gXCJ1bmRlZmluZWRcIlxuXHQvL1x0XHQmJiB0eXBlb2YgKGF4aXNZMi5fb3B0aW9ucy52aWV3cG9ydE1heGltdW0pID09PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiAoYXhpc1kyLl9vcHRpb25zLnZpZXdwb3J0TWluaW11bSkgPT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIChheGlzWTIuX29wdGlvbnMuaW50ZXJ2YWwpID09PSBcInVuZGVmaW5lZFwiKSB7XG5cblx0Ly9cdHZhciBub1RpY2tzWSA9IChheGlzWS52aWV3cG9ydE1heGltdW0gLSBheGlzWS52aWV3cG9ydE1pbmltdW0pIC8gYXhpc1kuaW50ZXJ2YWw7XG5cblx0Ly9cdHZhciBub1RpY2tzWTIgPSAoYXhpc1kyLnZpZXdwb3J0TWF4aW11bSAtIGF4aXNZMi52aWV3cG9ydE1pbmltdW0pIC8gYXhpc1kyLmludGVydmFsO1xuXG5cdC8vXHRpZiAobm9UaWNrc1kgPiBub1RpY2tzWTIpIHtcblx0Ly9cdFx0YXhpc1kyLnZpZXdwb3J0TWF4aW11bSA9IGF4aXNZMi5pbnRlcnZhbCAqIG5vVGlja3NZICsgYXhpc1kyLnZpZXdwb3J0TWluaW11bTtcblx0Ly9cdH0gZWxzZSBpZiAobm9UaWNrc1kyID4gbm9UaWNrc1kpIHtcblx0Ly9cdFx0YXhpc1kudmlld3BvcnRNYXhpbXVtID0gYXhpc1kuaW50ZXJ2YWwgKiBub1RpY2tzWTIgKyBheGlzWS52aWV3cG9ydE1pbmltdW07XG5cdC8vXHR9XG5cdC8vfVxuXG5cdHZhciBheGlzWWxpbmVUaGlja25lc3MgPSBheGlzWSA/IGF4aXNZLmxpbmVUaGlja25lc3MgPyBheGlzWS5saW5lVGhpY2tuZXNzIDogMCA6IDA7XG5cdHZhciBheGlzWTJsaW5lVGhpY2tuZXNzID0gYXhpc1kyID8gYXhpc1kyLmxpbmVUaGlja25lc3MgPyBheGlzWTIubGluZVRoaWNrbmVzcyA6IDAgOiAwO1xuXG5cdHZhciBheGlzWUdyaWRUaGlja25lc3MgPSBheGlzWSA/IGF4aXNZLmdyaWRUaGlja25lc3MgPyBheGlzWS5ncmlkVGhpY2tuZXNzIDogMCA6IDA7XG5cdHZhciBheGlzWTJHcmlkVGhpY2tuZXNzID0gYXhpc1kyID8gYXhpc1kyLmdyaWRUaGlja25lc3MgPyBheGlzWTIuZ3JpZFRoaWNrbmVzcyA6IDAgOiAwO1xuXG5cdHZhciBheGlzWU1hcmdpbiA9IGF4aXNZID8gYXhpc1kubWFyZ2luIDogMDtcblx0dmFyIGF4aXNZMk1hcmdpbiA9IGF4aXNZID8gYXhpc1kubWFyZ2luIDogMDtcblxuXHRpZiAoYXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIikge1xuXG5cdFx0YXhpc1gubGluZUNvb3JkaW5hdGVzID0ge1xuXHRcdH07XG5cblx0XHR2YXIgYXhpc1lXaWR0aCA9IE1hdGguY2VpbChheGlzWSA/IGF4aXNZLmNyZWF0ZUxhYmVsc0FuZENhbGN1bGF0ZVdpZHRoKCkgOiAwKTtcblx0XHR4MSA9IE1hdGgucm91bmQoZnJlZVNwYWNlLngxICsgYXhpc1lXaWR0aCArIGF4aXNZTWFyZ2luKTtcblx0XHRheGlzWC5saW5lQ29vcmRpbmF0ZXMueDEgPSB4MTtcblxuXHRcdHZhciBheGlzWTJXaWR0aCA9IE1hdGguY2VpbChheGlzWTIgPyBheGlzWTIuY3JlYXRlTGFiZWxzQW5kQ2FsY3VsYXRlV2lkdGgoKSA6IDApO1xuXHRcdHgyID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueDIgLSBheGlzWTJXaWR0aCA+IGF4aXNYLmNoYXJ0LndpZHRoIC0gMTAgPyBheGlzWC5jaGFydC53aWR0aCAtIDEwIDogZnJlZVNwYWNlLngyIC0gYXhpc1kyV2lkdGgpO1xuXHRcdGF4aXNYLmxpbmVDb29yZGluYXRlcy54MiA9IHgyO1xuXG5cdFx0YXhpc1gubGluZUNvb3JkaW5hdGVzLndpZHRoID0gTWF0aC5hYnMoeDIgLSB4MSk7IC8vIHJlcXVpcmVkIGVhcmx5IG9uIGluc2lkZSBjcmVhdGVMYWJlbHMgb2YgYXhpc1hcblxuXHRcdHZhciBheGlzWEhlaWdodCA9IE1hdGguY2VpbChheGlzWC5jcmVhdGVMYWJlbHNBbmRDYWxjdWxhdGVIZWlnaHQoKSk7XG5cblx0XHQvLyBQb3NpdGlvbiBheGlzWCBiYXNlZCBvbiB0aGUgYXZhaWxhYmxlIGZyZWUgc3BhY2UsIE1hcmdpbiBhbmQgaXRzIGhlaWdodFxuXHRcdC8veDEgPSBmcmVlU3BhY2UueDEgKyBheGlzWVdpZHRoICsgYXhpc1lNYXJnaW4gKyBheGlzWWxpbmVUaGlja25lc3MgLyAyO1xuXHRcdHkxID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTIgLSBheGlzWEhlaWdodCAtIGF4aXNYLm1hcmdpbik7XG5cdFx0eTIgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS55MiAtIGF4aXNYLm1hcmdpbik7XG5cblx0XHQvL2F4aXNYLmxpbmVDb29yZGluYXRlcyA9IHsgeDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkxLCB3aWR0aDogTWF0aC5hYnMoeDIgLSB4MSkgfVxuXHRcdGF4aXNYLmxpbmVDb29yZGluYXRlcy55MSA9IHkxO1xuXHRcdGF4aXNYLmxpbmVDb29yZGluYXRlcy55MiA9IHkxO1xuXG5cdFx0YXhpc1guYm91bmRpbmdSZWN0ID0ge1xuXHRcdFx0eDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiB5MiAtIHkxXG5cdFx0fTtcblxuXHRcdC8vaWYgKGlzRGVidWdNb2RlKSB7XG5cdFx0Ly9cdGF4aXNYLmN0eC5yZWN0KGF4aXNYLmJvdW5kaW5nUmVjdC54MSwgYXhpc1guYm91bmRpbmdSZWN0LnkxLCBheGlzWC5ib3VuZGluZ1JlY3Qud2lkdGgsIGF4aXNYLmJvdW5kaW5nUmVjdC5oZWlnaHQpO1xuXHRcdC8vXHRheGlzWC5jdHguc3Ryb2tlKCk7XG5cdFx0Ly99XG5cblx0XHQvLyBQb3NpdGlvbiBheGlzWSBiYXNlZCBvbiB0aGUgYXZhaWxhYmxlIGZyZWUgc3BhY2UsIE1hcmdpbiBhbmQgaXRzIGhlaWdodFxuXHRcdGlmIChheGlzWSkge1xuXHRcdFx0eDEgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS54MSArIGF4aXNZLm1hcmdpbik7XG5cdFx0XHR5MSA9IE1hdGgucm91bmQoZnJlZVNwYWNlLnkxIDwgMTAgPyAxMCA6IGZyZWVTcGFjZS55MSk7XG5cdFx0XHR4MiA9IE1hdGgucm91bmQoZnJlZVNwYWNlLngxICsgYXhpc1lXaWR0aCArIGF4aXNZLm1hcmdpbik7XG5cdFx0XHQvL3kyID0gZnJlZVNwYWNlLnkyIC0gYXhpc1hIZWlnaHQgLSBheGlzWC5tYXJnaW4gLSBheGlzWC5saW5lVGhpY2tuZXNzIC8gMjtcblx0XHRcdHkyID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTIgLSBheGlzWEhlaWdodCAtIGF4aXNYLm1hcmdpbik7XG5cblx0XHRcdGF4aXNZLmxpbmVDb29yZGluYXRlcyA9IHtcblx0XHRcdFx0eDE6IHgyLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCBoZWlnaHQ6IE1hdGguYWJzKHkyIC0geTEpXG5cdFx0XHR9XG5cblx0XHRcdGF4aXNZLmJvdW5kaW5nUmVjdCA9IHtcblx0XHRcdFx0eDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiB5MiAtIHkxXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vaWYgKGlzRGVidWdNb2RlICYmIGF4aXNZKSB7XG5cdFx0Ly9cdGF4aXNZLmN0eC5yZWN0KGF4aXNZLmJvdW5kaW5nUmVjdC54MSwgYXhpc1kuYm91bmRpbmdSZWN0LnkxLCBheGlzWS5ib3VuZGluZ1JlY3Qud2lkdGgsIGF4aXNZLmJvdW5kaW5nUmVjdC5oZWlnaHQpO1xuXHRcdC8vXHRheGlzWS5jdHguc3Ryb2tlKCk7XG5cdFx0Ly99XG5cblx0XHQvLyBQb3NpdGlvbiBheGlzWTIgYmFzZWQgb24gdGhlIGF2YWlsYWJsZSBmcmVlIHNwYWNlLCBNYXJnaW4gYW5kIGl0cyBoZWlnaHRcblx0XHRpZiAoYXhpc1kyKSB7XG5cdFx0XHR4MSA9IE1hdGgucm91bmQoYXhpc1gubGluZUNvb3JkaW5hdGVzLngyKTtcblx0XHRcdHkxID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTEgPCAxMCA/IDEwIDogZnJlZVNwYWNlLnkxKTtcblx0XHRcdHgyID0gTWF0aC5yb3VuZCh4MSArIGF4aXNZMldpZHRoICsgYXhpc1kyLm1hcmdpbik7XG5cdFx0XHQvL3kyID0gZnJlZVNwYWNlLnkyIC0gYXhpc1hIZWlnaHQgLSBheGlzWC5tYXJnaW4gLSBheGlzWC5saW5lVGhpY2tuZXNzIC8gMjtcblx0XHRcdHkyID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTIgLSBheGlzWEhlaWdodCAtIGF4aXNYLm1hcmdpbik7XG5cblx0XHRcdGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMgPSB7XG5cdFx0XHRcdHgxOiB4MSwgeTE6IHkxLCB4MjogeDEsIHkyOiB5MiwgaGVpZ2h0OiBNYXRoLmFicyh5MiAtIHkxKVxuXHRcdFx0fVxuXG5cdFx0XHRheGlzWTIuYm91bmRpbmdSZWN0ID0ge1xuXHRcdFx0XHR4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTIsIHdpZHRoOiB4MiAtIHgxLCBoZWlnaHQ6IHkyIC0geTFcblx0XHRcdH07XG5cdFx0fVxuXG5cblx0XHRheGlzWC5jYWxjdWxhdGVWYWx1ZVRvUGl4ZWxDb252ZXJzaW9uUGFyYW1ldGVycygpO1xuXG5cdFx0aWYgKGF4aXNZKVxuXHRcdFx0YXhpc1kuY2FsY3VsYXRlVmFsdWVUb1BpeGVsQ29udmVyc2lvblBhcmFtZXRlcnMoKTtcblxuXHRcdGlmIChheGlzWTIpXG5cdFx0XHRheGlzWTIuY2FsY3VsYXRlVmFsdWVUb1BpeGVsQ29udmVyc2lvblBhcmFtZXRlcnMoKTtcblxuXG5cdFx0Y3R4LnNhdmUoKTtcblx0XHRjdHgucmVjdCg1LCBheGlzWC5ib3VuZGluZ1JlY3QueTEsIGF4aXNYLmNoYXJ0LndpZHRoIC0gMTAsIGF4aXNYLmJvdW5kaW5nUmVjdC5oZWlnaHQpO1xuXHRcdGN0eC5jbGlwKCk7XG5cblx0XHRheGlzWC5yZW5kZXJMYWJlbHNUaWNrc0FuZFRpdGxlKCk7XG5cdFx0Y3R4LnJlc3RvcmUoKTtcblxuXHRcdGlmIChheGlzWSlcblx0XHRcdGF4aXNZLnJlbmRlckxhYmVsc1RpY2tzQW5kVGl0bGUoKTtcblxuXHRcdGlmIChheGlzWTIpXG5cdFx0XHRheGlzWTIucmVuZGVyTGFiZWxzVGlja3NBbmRUaXRsZSgpO1xuXG5cblx0XHRjaGFydC5wcmVwYXJlUGxvdEFyZWEoKTtcblx0XHR2YXIgcGxvdEFyZWEgPSBheGlzWC5jaGFydC5wbG90QXJlYTtcblxuXHRcdGN0eC5zYXZlKCk7XG5cblx0XHRjdHgucmVjdChwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIE1hdGguYWJzKHBsb3RBcmVhLngyIC0gcGxvdEFyZWEueDEpLCBNYXRoLmFicyhwbG90QXJlYS55MiAtIHBsb3RBcmVhLnkxKSk7XG5cblx0XHRjdHguY2xpcCgpO1xuXG5cdFx0YXhpc1gucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZShcInZhbHVlXCIpO1xuXG5cdFx0aWYgKGF4aXNZKVxuXHRcdFx0YXhpc1kucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZShcInZhbHVlXCIpO1xuXG5cdFx0aWYgKGF4aXNZMilcblx0XHRcdGF4aXNZMi5yZW5kZXJTdHJpcExpbmVzT2ZUaGlja25lc3NUeXBlKFwidmFsdWVcIik7XG5cblxuXHRcdGF4aXNYLnJlbmRlckludGVybGFjZWRDb2xvcnMoKTtcblxuXHRcdGlmIChheGlzWSlcblx0XHRcdGF4aXNZLnJlbmRlckludGVybGFjZWRDb2xvcnMoKTtcblxuXHRcdGlmIChheGlzWTIpXG5cdFx0XHRheGlzWTIucmVuZGVySW50ZXJsYWNlZENvbG9ycygpO1xuXG5cdFx0Y3R4LnJlc3RvcmUoKTtcblxuXG5cdFx0YXhpc1gucmVuZGVyR3JpZCgpO1xuXG5cdFx0aWYgKGF4aXNZKVxuXHRcdFx0YXhpc1kucmVuZGVyR3JpZCgpO1xuXG5cdFx0aWYgKGF4aXNZMilcblx0XHRcdGF4aXNZMi5yZW5kZXJHcmlkKCk7XG5cblxuXHRcdGF4aXNYLnJlbmRlckF4aXNMaW5lKCk7XG5cblx0XHRpZiAoYXhpc1kpXG5cdFx0XHRheGlzWS5yZW5kZXJBeGlzTGluZSgpO1xuXG5cdFx0aWYgKGF4aXNZMilcblx0XHRcdGF4aXNZMi5yZW5kZXJBeGlzTGluZSgpO1xuXG5cblx0XHQvL05vIG5lZWQgdG8gY2xpcCB0byBwbG90QXJlYSBiZWNhdXNlIHN0cmlwTGluZXMgbmVlZCB0byByZW5kZXIgb24gdG9wIG9mIGdyaWRsaW5lc1xuXHRcdGF4aXNYLnJlbmRlclN0cmlwTGluZXNPZlRoaWNrbmVzc1R5cGUoXCJwaXhlbFwiKTtcblxuXHRcdGlmIChheGlzWSlcblx0XHRcdGF4aXNZLnJlbmRlclN0cmlwTGluZXNPZlRoaWNrbmVzc1R5cGUoXCJwaXhlbFwiKTtcblxuXHRcdGlmIChheGlzWTIpXG5cdFx0XHRheGlzWTIucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZShcInBpeGVsXCIpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdHZhciBheGlzWFdpZHRoID0gTWF0aC5jZWlsKGF4aXNYLmNyZWF0ZUxhYmVsc0FuZENhbGN1bGF0ZVdpZHRoKCkpO1xuXG5cdFx0aWYgKGF4aXNZKSB7XG5cdFx0XHRheGlzWS5saW5lQ29vcmRpbmF0ZXMgPSB7XG5cdFx0XHR9O1xuXG5cdFx0XHR4MSA9IE1hdGgucm91bmQoZnJlZVNwYWNlLngxICsgYXhpc1hXaWR0aCArIGF4aXNYLm1hcmdpbik7XG5cdFx0XHR4MiA9IE1hdGgucm91bmQoZnJlZVNwYWNlLngyID4gYXhpc1kuY2hhcnQud2lkdGggLSAxMCA/IGF4aXNZLmNoYXJ0LndpZHRoIC0gMTAgOiBmcmVlU3BhY2UueDIpO1xuXG5cdFx0XHRheGlzWS5saW5lQ29vcmRpbmF0ZXMueDEgPSB4MTtcblx0XHRcdGF4aXNZLmxpbmVDb29yZGluYXRlcy54MiA9IHgyO1xuXHRcdFx0YXhpc1kubGluZUNvb3JkaW5hdGVzLndpZHRoID0gTWF0aC5hYnMoeDIgLSB4MSk7XG5cdFx0fVxuXG5cdFx0aWYgKGF4aXNZMikge1xuXHRcdFx0YXhpc1kyLmxpbmVDb29yZGluYXRlcyA9IHtcblx0XHRcdH07XG5cdFx0XHR4MSA9IE1hdGgucm91bmQoZnJlZVNwYWNlLngxICsgYXhpc1hXaWR0aCArIGF4aXNYLm1hcmdpbik7XG5cdFx0XHR4MiA9IE1hdGgucm91bmQoZnJlZVNwYWNlLngyID4gYXhpc1kyLmNoYXJ0LndpZHRoIC0gMTAgPyBheGlzWTIuY2hhcnQud2lkdGggLSAxMCA6IGZyZWVTcGFjZS54Mik7XG5cblx0XHRcdGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMueDEgPSB4MTtcblx0XHRcdGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMueDIgPSB4Mjtcblx0XHRcdGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMud2lkdGggPSBNYXRoLmFicyh4MiAtIHgxKTtcblx0XHR9XG5cblxuXG5cdFx0dmFyIGF4aXNZSGVpZ2h0ID0gTWF0aC5jZWlsKGF4aXNZID8gYXhpc1kuY3JlYXRlTGFiZWxzQW5kQ2FsY3VsYXRlSGVpZ2h0KCkgOiAwKTtcblx0XHR2YXIgYXhpc1kySGVpZ2h0ID0gTWF0aC5jZWlsKGF4aXNZMiA/IGF4aXNZMi5jcmVhdGVMYWJlbHNBbmRDYWxjdWxhdGVIZWlnaHQoKSA6IDApO1xuXG5cblx0XHQvLyBQb3NpdGlvbiBheGlzWSBiYXNlZCBvbiB0aGUgYXZhaWxhYmxlIGZyZWUgc3BhY2UsIE1hcmdpbiBhbmQgaXRzIGhlaWdodFxuXHRcdGlmIChheGlzWSkge1xuXHRcdFx0Ly94MSA9IGZyZWVTcGFjZS54MSArIGF4aXNYV2lkdGggKyBheGlzWC5tYXJnaW4gKyBheGlzWC5saW5lVGhpY2tuZXNzIC8gMjtcblx0XHRcdC8veDIgPSBmcmVlU3BhY2UueDIgPiBheGlzWS5jaGFydC53aWR0aCAtIDEwID8gYXhpc1kuY2hhcnQud2lkdGggLSAxMCA6IGZyZWVTcGFjZS54MjtcblxuXHRcdFx0eTEgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS55MiAtIGF4aXNZSGVpZ2h0IC0gYXhpc1kubWFyZ2luKTtcblx0XHRcdHkyID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTIgLSBheGlzWU1hcmdpbiA+IGF4aXNZLmNoYXJ0LmhlaWdodCAtIDEwID8gYXhpc1kuY2hhcnQuaGVpZ2h0IC0gMTAgOiBmcmVlU3BhY2UueTIgLSBheGlzWU1hcmdpbik7XG5cblx0XHRcdC8vYXhpc1kubGluZUNvb3JkaW5hdGVzID0geyB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTEsIHdpZHRoOiBNYXRoLmFicyh4MiAtIHgxKSB9XG5cdFx0XHRheGlzWS5saW5lQ29vcmRpbmF0ZXMueTEgPSB5MTtcblx0XHRcdGF4aXNZLmxpbmVDb29yZGluYXRlcy55MiA9IHkxO1xuXG5cdFx0XHRheGlzWS5ib3VuZGluZ1JlY3QgPSB7XG5cdFx0XHRcdHgxOiB4MSwgeTE6IHkxLCB4MjogeDIsIHkyOiB5Miwgd2lkdGg6IHgyIC0geDEsIGhlaWdodDogYXhpc1lIZWlnaHRcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gUG9zaXRpb24gYXhpc1kgYmFzZWQgb24gdGhlIGF2YWlsYWJsZSBmcmVlIHNwYWNlLCBNYXJnaW4gYW5kIGl0cyBoZWlnaHRcblx0XHRpZiAoYXhpc1kyKSB7XG5cdFx0XHQvL3gxID0gZnJlZVNwYWNlLngxICsgYXhpc1hXaWR0aCArIGF4aXNYLm1hcmdpbiArIGF4aXNYLmxpbmVUaGlja25lc3MgLyAyO1xuXHRcdFx0Ly94MiA9IGZyZWVTcGFjZS54MiA+IGF4aXNZMi5jaGFydC53aWR0aCAtIDEwID8gYXhpc1kyLmNoYXJ0LndpZHRoIC0gMTAgOiBmcmVlU3BhY2UueDI7XG5cblx0XHRcdHkxID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueTEgKyBheGlzWTIubWFyZ2luKTtcblx0XHRcdHkyID0gKGZyZWVTcGFjZS55MSArIGF4aXNZMi5tYXJnaW4gKyBheGlzWTJIZWlnaHQpO1xuXG5cdFx0XHQvL2F4aXNZMi5saW5lQ29vcmRpbmF0ZXMgPSB7IHgxOiB4MSwgeTE6IHkyLCB4MjogeDIsIHkyOiB5Miwgd2lkdGg6IE1hdGguYWJzKHgyIC0geDEpIH1cblx0XHRcdGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMueTEgPSB5Mjtcblx0XHRcdGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMueTIgPSB5MjtcblxuXHRcdFx0YXhpc1kyLmJvdW5kaW5nUmVjdCA9IHtcblx0XHRcdFx0eDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiBheGlzWTJIZWlnaHRcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly9heGlzWS5jdHgucmVjdChheGlzWS5ib3VuZGluZ1JlY3QueDEsIGF4aXNZLmJvdW5kaW5nUmVjdC55MSwgYXhpc1kuYm91bmRpbmdSZWN0LndpZHRoLCBheGlzWS5ib3VuZGluZ1JlY3QuaGVpZ2h0KTtcblx0XHQvL2F4aXNZLmN0eC5zdHJva2UoKTtcblxuXHRcdC8vIFBvc2l0aW9uIGF4aXNYIGJhc2VkIG9uIHRoZSBhdmFpbGFibGUgZnJlZSBzcGFjZSwgTWFyZ2luIGFuZCBpdHMgaGVpZ2h0XG5cdFx0eDEgPSBNYXRoLnJvdW5kKGZyZWVTcGFjZS54MSArIGF4aXNYLm1hcmdpbik7XG5cdFx0eTEgPSBNYXRoLnJvdW5kKGF4aXNZMiA/IGF4aXNZMi5saW5lQ29vcmRpbmF0ZXMueTIgOiAoZnJlZVNwYWNlLnkxIDwgMTAgPyAxMCA6IGZyZWVTcGFjZS55MSkpO1xuXHRcdHgyID0gTWF0aC5yb3VuZChmcmVlU3BhY2UueDEgKyBheGlzWFdpZHRoICsgYXhpc1gubWFyZ2luKTtcblx0XHR5MiA9IE1hdGgucm91bmQoYXhpc1kgPyBheGlzWS5saW5lQ29vcmRpbmF0ZXMueTEgOiAoZnJlZVNwYWNlLnkyIC0gYXhpc1lNYXJnaW4gPiBheGlzWC5jaGFydC5oZWlnaHQgLSAxMCA/IGF4aXNYLmNoYXJ0LmhlaWdodCAtIDEwIDogZnJlZVNwYWNlLnkyIC0gYXhpc1lNYXJnaW4pKTtcblxuXG5cdFx0YXhpc1gubGluZUNvb3JkaW5hdGVzID0ge1xuXHRcdFx0eDE6IHgyLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyLCBoZWlnaHQ6IE1hdGguYWJzKHkyIC0geTEpXG5cdFx0fTtcblxuXHRcdGF4aXNYLmJvdW5kaW5nUmVjdCA9IHtcblx0XHRcdHgxOiB4MSwgeTE6IHkxLCB4MjogeDIsIHkyOiB5Miwgd2lkdGg6IHgyIC0geDEsIGhlaWdodDogeTIgLSB5MVxuXHRcdH07XG5cblx0XHQvL2F4aXNYLmN0eC5yZWN0KGF4aXNYLmJvdW5kaW5nUmVjdC54MSwgYXhpc1guYm91bmRpbmdSZWN0LnkxLCBheGlzWC5ib3VuZGluZ1JlY3Qud2lkdGgsIGF4aXNYLmJvdW5kaW5nUmVjdC5oZWlnaHQpO1xuXHRcdC8vYXhpc1guY3R4LnN0cm9rZSgpO1xuXG5cdFx0YXhpc1guY2FsY3VsYXRlVmFsdWVUb1BpeGVsQ29udmVyc2lvblBhcmFtZXRlcnMoKTtcblxuXHRcdGlmIChheGlzWSlcblx0XHRcdGF4aXNZLmNhbGN1bGF0ZVZhbHVlVG9QaXhlbENvbnZlcnNpb25QYXJhbWV0ZXJzKCk7XG5cdFx0aWYgKGF4aXNZMilcblx0XHRcdGF4aXNZMi5jYWxjdWxhdGVWYWx1ZVRvUGl4ZWxDb252ZXJzaW9uUGFyYW1ldGVycygpO1xuXG5cblx0XHQvL2N0eC5zYXZlKCk7XG5cdFx0Ly9jdHgucmVjdChheGlzWS5ib3VuZGluZ1JlY3QueDEgLSAzMCwgYXhpc1kuYm91bmRpbmdSZWN0LnkxLCBheGlzWS5ib3VuZGluZ1JlY3Qud2lkdGggKyA2MCwgYXhpc1kuYm91bmRpbmdSZWN0LmhlaWdodCk7XG5cdFx0Ly9jdHguY2xpcCgpO1xuXG5cdFx0aWYgKGF4aXNZKVxuXHRcdFx0YXhpc1kucmVuZGVyTGFiZWxzVGlja3NBbmRUaXRsZSgpO1xuXG5cdFx0aWYgKGF4aXNZMilcblx0XHRcdGF4aXNZMi5yZW5kZXJMYWJlbHNUaWNrc0FuZFRpdGxlKCk7XG5cblx0XHQvL2N0eC5yZXN0b3JlKCk7XG5cblx0XHRheGlzWC5yZW5kZXJMYWJlbHNUaWNrc0FuZFRpdGxlKCk7XG5cblx0XHRjaGFydC5wcmVwYXJlUGxvdEFyZWEoKTtcblx0XHR2YXIgcGxvdEFyZWEgPSBheGlzWC5jaGFydC5wbG90QXJlYTtcblxuXHRcdGN0eC5zYXZlKCk7XG5cdFx0Y3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBNYXRoLmFicyhwbG90QXJlYS54MiAtIHBsb3RBcmVhLngxKSwgTWF0aC5hYnMocGxvdEFyZWEueTIgLSBwbG90QXJlYS55MSkpO1xuXG5cdFx0Y3R4LmNsaXAoKTtcblxuXG5cdFx0Ly9ObyBuZWVkIHRvIGNsaXAgdG8gcGxvdEFyZWEgYmVjYXVzZSBzdHJpcExpbmVzIG5lZWQgdG8gcmVuZGVyIG9uIHRvcCBvZiBncmlkbGluZXNcblx0XHRheGlzWC5yZW5kZXJTdHJpcExpbmVzT2ZUaGlja25lc3NUeXBlKFwidmFsdWVcIik7XG5cblx0XHRpZiAoYXhpc1kpXG5cdFx0XHRheGlzWS5yZW5kZXJTdHJpcExpbmVzT2ZUaGlja25lc3NUeXBlKFwidmFsdWVcIik7XG5cdFx0aWYgKGF4aXNZMilcblx0XHRcdGF4aXNZMi5yZW5kZXJTdHJpcExpbmVzT2ZUaGlja25lc3NUeXBlKFwidmFsdWVcIik7XG5cblx0XHRheGlzWC5yZW5kZXJJbnRlcmxhY2VkQ29sb3JzKCk7XG5cblx0XHRpZiAoYXhpc1kpXG5cdFx0XHRheGlzWS5yZW5kZXJJbnRlcmxhY2VkQ29sb3JzKCk7XG5cdFx0aWYgKGF4aXNZMilcblx0XHRcdGF4aXNZMi5yZW5kZXJJbnRlcmxhY2VkQ29sb3JzKCk7XG5cblx0XHRjdHgucmVzdG9yZSgpO1xuXG5cblx0XHRheGlzWC5yZW5kZXJHcmlkKCk7XG5cblxuXHRcdGlmIChheGlzWSlcblx0XHRcdGF4aXNZLnJlbmRlckdyaWQoKTtcblxuXHRcdGlmIChheGlzWTIpXG5cdFx0XHRheGlzWTIucmVuZGVyR3JpZCgpO1xuXG5cblx0XHRheGlzWC5yZW5kZXJBeGlzTGluZSgpO1xuXG5cdFx0aWYgKGF4aXNZKVxuXHRcdFx0YXhpc1kucmVuZGVyQXhpc0xpbmUoKTtcblxuXHRcdGlmIChheGlzWTIpXG5cdFx0XHRheGlzWTIucmVuZGVyQXhpc0xpbmUoKTtcblxuXG5cdFx0YXhpc1gucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZShcInBpeGVsXCIpO1xuXG5cdFx0aWYgKGF4aXNZKVxuXHRcdFx0YXhpc1kucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZShcInBpeGVsXCIpO1xuXHRcdGlmIChheGlzWTIpXG5cdFx0XHRheGlzWTIucmVuZGVyU3RyaXBMaW5lc09mVGhpY2tuZXNzVHlwZShcInBpeGVsXCIpO1xuXHR9XG5cbn1cblxuQXhpcy5wcm90b3R5cGUucmVuZGVyTGFiZWxzVGlja3NBbmRUaXRsZSA9IGZ1bmN0aW9uICgpIHtcblxuXHR2YXIgc2tpcExhYmVscyA9IGZhbHNlO1xuXHR2YXIgdG90YWxMYWJlbFdpZHRoID0gMDtcblx0dmFyIHRocmVzaG9sZFJhdGlvID0gMTtcblx0dmFyIGxhYmVsQ291bnQgPSAwO1xuXG5cdHZhciBpbnRlcnZhbEluUGl4ZWxzID0gdGhpcy5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiB0aGlzLmludGVydmFsO1xuXG5cdGlmICh0aGlzLmxhYmVsQW5nbGUgIT09IDAgJiYgdGhpcy5sYWJlbEFuZ2xlICE9PSAzNjApXG5cdFx0dGhyZXNob2xkUmF0aW8gPSAxLjI7XG5cblx0Ly9Eb24ndCBza2lwIGxhYmVscyB3aGVuIGludGVydmFsIGlzIGV4cGxpY2l0ZWx5IHNldFxuXHRpZiAodHlwZW9mICh0aGlzLl9vcHRpb25zLmludGVydmFsKSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xuXG5cdFx0XHQvL3RocmVzaG9sZFJhdGlvID0gLjk7Ly8gTW9yZSBzcGFjZSBpcyBwcmVmZXJyZWQgYmV0d2VlbiBsYWJlbHMgd2hlbiBheGlzIGlzIGhvcml6b250YWxseSBhbGlnbmVkXG5cblx0XHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9sYWJlbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0bGFiZWwgPSB0aGlzLl9sYWJlbHNbaV07XG5cdFx0XHRcdGlmIChsYWJlbC5wb3NpdGlvbiA8IHRoaXMudmlld3BvcnRNaW5pbXVtIHx8IGxhYmVsLnN0cmlwTGluZSkvLyBkb24ndCBjb25zaWRlciBzdHJpcExpbmUncyBsYWJsZVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdHZhciB3aWR0aCA9IGxhYmVsLnRleHRCbG9jay53aWR0aCAqIE1hdGguY29zKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpICsgbGFiZWwudGV4dEJsb2NrLmhlaWdodCAqIE1hdGguc2luKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpO1xuXG5cdFx0XHRcdHRvdGFsTGFiZWxXaWR0aCArPSB3aWR0aDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRvdGFsTGFiZWxXaWR0aCA+IHRoaXMubGluZUNvb3JkaW5hdGVzLndpZHRoICogdGhyZXNob2xkUmF0aW8pIHtcblx0XHRcdFx0c2tpcExhYmVscyA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSBpZiAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9sYWJlbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0bGFiZWwgPSB0aGlzLl9sYWJlbHNbaV07XG5cdFx0XHRcdGlmIChsYWJlbC5wb3NpdGlvbiA8IHRoaXMudmlld3BvcnRNaW5pbXVtIHx8IGxhYmVsLnN0cmlwTGluZSkvLyBkb24ndCBjb25zaWRlciBzdHJpcExpbmUncyBsYWJsZVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdHZhciB3aWR0aCA9IGxhYmVsLnRleHRCbG9jay5oZWlnaHQgKiBNYXRoLmNvcyhNYXRoLlBJIC8gMTgwICogdGhpcy5sYWJlbEFuZ2xlKSArIGxhYmVsLnRleHRCbG9jay53aWR0aCAqIE1hdGguc2luKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpO1xuXG5cdFx0XHRcdHRvdGFsTGFiZWxXaWR0aCArPSB3aWR0aDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRvdGFsTGFiZWxXaWR0aCA+IHRoaXMubGluZUNvb3JkaW5hdGVzLmhlaWdodCAqIHRocmVzaG9sZFJhdGlvKSB7XG5cdFx0XHRcdHNraXBMYWJlbHMgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIikge1xuXHRcdHZhciBpID0gMDtcblxuXHRcdHZhciBsYWJlbDtcblx0XHR2YXIgeHk7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgdGhpcy5fbGFiZWxzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdGxhYmVsID0gdGhpcy5fbGFiZWxzW2ldO1xuXHRcdFx0aWYgKGxhYmVsLnBvc2l0aW9uIDwgdGhpcy52aWV3cG9ydE1pbmltdW0gfHwgbGFiZWwucG9zaXRpb24gPiB0aGlzLnZpZXdwb3J0TWF4aW11bSlcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdHh5ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25BeGlzKGxhYmVsLnBvc2l0aW9uKTtcblxuXHRcdFx0aWYgKCh0aGlzLnRpY2tUaGlja25lc3MgJiYgIXRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpIHx8ICh0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lICYmIHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUuX3RoaWNrbmVzc1R5cGUgPT09IFwicGl4ZWxcIikpIHtcblxuXHRcdFx0XHRpZiAodGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSkge1xuXHRcdFx0XHRcdHN0cmlwTGluZSA9IHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmU7XG5cdFx0XHRcdFx0dGhpcy5jdHgubGluZVdpZHRoID0gc3RyaXBMaW5lLnRoaWNrbmVzcztcblx0XHRcdFx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHN0cmlwTGluZS5jb2xvcjtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuY3R4LmxpbmVXaWR0aCA9IHRoaXMudGlja1RoaWNrbmVzcztcblx0XHRcdFx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMudGlja0NvbG9yO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHR2YXIgdGlja1ggPSAodGhpcy5jdHgubGluZVdpZHRoICUgMiA9PT0gMSkgPyAoeHkueCA8PCAwKSArIC41IDogKHh5LnggPDwgMCk7XG5cdFx0XHRcdHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0XHR0aGlzLmN0eC5tb3ZlVG8odGlja1gsIHh5LnkgPDwgMCk7XG5cdFx0XHRcdHRoaXMuY3R4LmxpbmVUbyh0aWNrWCwgKHh5LnkgKyB0aGlzLnRpY2tMZW5ndGgpIDw8IDApO1xuXHRcdFx0XHR0aGlzLmN0eC5zdHJva2UoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly9Eb24ndCBza2lwIHN0cmlwTGluZSdzIGxhYmVsc1xuXHRcdFx0aWYgKHNraXBMYWJlbHMgJiYgbGFiZWxDb3VudCsrICUgMiAhPT0gMCAmJiAhdGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSlcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdGlmIChsYWJlbC50ZXh0QmxvY2suYW5nbGUgPT09IDApIHtcblx0XHRcdFx0eHkueCAtPSBsYWJlbC50ZXh0QmxvY2sud2lkdGggLyAyO1xuXHRcdFx0XHQvL3h5LnkgKz0gdGhpcy50aWNrTGVuZ3RoICsgbGFiZWwudGV4dEJsb2NrLmhlaWdodCAvIDI7XG5cdFx0XHRcdHh5LnkgKz0gdGhpcy50aWNrTGVuZ3RoICsgbGFiZWwudGV4dEJsb2NrLmZvbnRTaXplIC8gMjtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0eHkueCAtPSAodGhpcy5sYWJlbEFuZ2xlIDwgMCA/IChsYWJlbC50ZXh0QmxvY2sud2lkdGggKiBNYXRoLmNvcyhNYXRoLlBJIC8gMTgwICogdGhpcy5sYWJlbEFuZ2xlKSkgOiAwKTtcblx0XHRcdFx0eHkueSArPSB0aGlzLnRpY2tMZW5ndGggKyBNYXRoLmFicygodGhpcy5sYWJlbEFuZ2xlIDwgMCA/IGxhYmVsLnRleHRCbG9jay53aWR0aCAqIE1hdGguc2luKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpIC0gNSA6IDUpKTtcblx0XHRcdH1cblx0XHRcdGxhYmVsLnRleHRCbG9jay54ID0geHkueDtcblx0XHRcdGxhYmVsLnRleHRCbG9jay55ID0geHkueTtcblxuXHRcdFx0bGFiZWwudGV4dEJsb2NrLnJlbmRlcih0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy50aXRsZSkge1xuXG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jayA9IG5ldyBUZXh0QmxvY2sodGhpcy5jdHgsIHtcblx0XHRcdFx0eDogdGhpcy5saW5lQ29vcmRpbmF0ZXMueDEsLy8gVGhpcyBpcyByZWNhbGN1bGF0ZWQgYWdhaW5cblx0XHRcdFx0eTogdGhpcy5ib3VuZGluZ1JlY3QueTIgLSB0aGlzLnRpdGxlRm9udFNpemUgLSA1LC8vIFRoaXMgaXMgcmVjYWxjdWxhdGVkIGFnYWluXG5cdFx0XHRcdG1heFdpZHRoOiB0aGlzLmxpbmVDb29yZGluYXRlcy53aWR0aCxcblx0XHRcdFx0bWF4SGVpZ2h0OiB0aGlzLnRpdGxlRm9udFNpemUgKiAxLjUsXG5cdFx0XHRcdGFuZ2xlOiAwLFxuXHRcdFx0XHR0ZXh0OiB0aGlzLnRpdGxlLFxuXHRcdFx0XHRob3Jpem9udGFsQWxpZ246IFwiY2VudGVyXCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XG5cdFx0XHRcdGZvbnRTaXplOiB0aGlzLnRpdGxlRm9udFNpemUsLy9pbiBwaXhlbHNcblx0XHRcdFx0Zm9udEZhbWlseTogdGhpcy50aXRsZUZvbnRGYW1pbHksXG5cdFx0XHRcdGZvbnRXZWlnaHQ6IHRoaXMudGl0bGVGb250V2VpZ2h0LCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxuXHRcdFx0XHRmb250Q29sb3I6IHRoaXMudGl0bGVGb250Q29sb3IsXG5cdFx0XHRcdGZvbnRTdHlsZTogdGhpcy50aXRsZUZvbnRTdHlsZSwgLy8gbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWVcblx0XHRcdFx0dGV4dEJhc2VsaW5lOiBcInRvcFwiXG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2subWVhc3VyZVRleHQoKTtcblx0XHRcdHRoaXMuX3RpdGxlVGV4dEJsb2NrLnggPSB0aGlzLmxpbmVDb29yZGluYXRlcy54MSArIHRoaXMubGluZUNvb3JkaW5hdGVzLndpZHRoIC8gMiAtIHRoaXMuX3RpdGxlVGV4dEJsb2NrLndpZHRoIC8gMjtcblx0XHRcdHRoaXMuX3RpdGxlVGV4dEJsb2NrLnkgPSB0aGlzLmJvdW5kaW5nUmVjdC55MiAtIHRoaXMuX3RpdGxlVGV4dEJsb2NrLmhlaWdodCAtIDM7XG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jay5yZW5kZXIodHJ1ZSk7XG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcInRvcFwiKSB7XG5cdFx0dmFyIGkgPSAwO1xuXG5cdFx0dmFyIGxhYmVsO1xuXHRcdHZhciB4eTtcblx0XHR2YXIgc3RyaXBMaW5lO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuX2xhYmVscy5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGFiZWwgPSB0aGlzLl9sYWJlbHNbaV07XG5cdFx0XHRpZiAobGFiZWwucG9zaXRpb24gPCB0aGlzLnZpZXdwb3J0TWluaW11bSB8fCBsYWJlbC5wb3NpdGlvbiA+IHRoaXMudmlld3BvcnRNYXhpbXVtKVxuXHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0eHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPbkF4aXMobGFiZWwucG9zaXRpb24pO1xuXG5cdFx0XHRpZiAoKHRoaXMudGlja1RoaWNrbmVzcyAmJiAhdGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSkgfHwgKHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUgJiYgdGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZS5fdGhpY2tuZXNzVHlwZSA9PT0gXCJwaXhlbFwiKSkge1xuXG5cblx0XHRcdFx0aWYgKHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpIHtcblx0XHRcdFx0XHRzdHJpcExpbmUgPSB0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lO1xuXG5cdFx0XHRcdFx0dGhpcy5jdHgubGluZVdpZHRoID0gc3RyaXBMaW5lLnRoaWNrbmVzcztcblx0XHRcdFx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHN0cmlwTGluZS5jb2xvcjtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuY3R4LmxpbmVXaWR0aCA9IHRoaXMudGlja1RoaWNrbmVzcztcblx0XHRcdFx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMudGlja0NvbG9yO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHRpY2tYID0gKHRoaXMuY3R4LmxpbmVXaWR0aCAlIDIgPT09IDEpID8gKHh5LnggPDwgMCkgKyAuNSA6ICh4eS54IDw8IDApO1xuXHRcdFx0XHR0aGlzLmN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0dGhpcy5jdHgubW92ZVRvKHRpY2tYLCB4eS55IDw8IDApO1xuXHRcdFx0XHR0aGlzLmN0eC5saW5lVG8odGlja1gsICh4eS55IC0gdGhpcy50aWNrTGVuZ3RoKSA8PCAwKTtcblx0XHRcdFx0dGhpcy5jdHguc3Ryb2tlKCk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly9Eb24ndCBza2lwIHN0cmlwTGluZSdzIGxhYmVsc1xuXHRcdFx0aWYgKHNraXBMYWJlbHMgJiYgbGFiZWxDb3VudCsrICUgMiAhPT0gMCAmJiAhdGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSlcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdGlmIChsYWJlbC50ZXh0QmxvY2suYW5nbGUgPT09IDApIHtcblx0XHRcdFx0eHkueCAtPSBsYWJlbC50ZXh0QmxvY2sud2lkdGggLyAyO1xuXHRcdFx0XHR4eS55IC09IHRoaXMudGlja0xlbmd0aCArIGxhYmVsLnRleHRCbG9jay5oZWlnaHQgLyAyO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0eHkueCAtPSAodGhpcy5sYWJlbEFuZ2xlID4gMCA/IChsYWJlbC50ZXh0QmxvY2sud2lkdGggKiBNYXRoLmNvcyhNYXRoLlBJIC8gMTgwICogdGhpcy5sYWJlbEFuZ2xlKSkgOiAwKTtcblx0XHRcdFx0eHkueSAtPSB0aGlzLnRpY2tMZW5ndGggKyBNYXRoLmFicygodGhpcy5sYWJlbEFuZ2xlID4gMCA/IGxhYmVsLnRleHRCbG9jay53aWR0aCAqIE1hdGguc2luKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpICsgNSA6IDUpKTtcblx0XHRcdH1cblx0XHRcdGxhYmVsLnRleHRCbG9jay54ID0geHkueDtcblx0XHRcdGxhYmVsLnRleHRCbG9jay55ID0geHkueTtcblxuXHRcdFx0bGFiZWwudGV4dEJsb2NrLnJlbmRlcih0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy50aXRsZSkge1xuXG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jayA9IG5ldyBUZXh0QmxvY2sodGhpcy5jdHgsIHtcblx0XHRcdFx0eDogdGhpcy5saW5lQ29vcmRpbmF0ZXMueDEsLy8gVGhpcyBpcyByZWNhbGN1bGF0ZWQgYWdhaW5cblx0XHRcdFx0eTogdGhpcy5ib3VuZGluZ1JlY3QueTEgKyAxLFxuXHRcdFx0XHRtYXhXaWR0aDogdGhpcy5saW5lQ29vcmRpbmF0ZXMud2lkdGgsXG5cdFx0XHRcdG1heEhlaWdodDogdGhpcy50aXRsZUZvbnRTaXplICogMS41LFxuXHRcdFx0XHRhbmdsZTogMCxcblx0XHRcdFx0dGV4dDogdGhpcy50aXRsZSxcblx0XHRcdFx0aG9yaXpvbnRhbEFsaWduOiBcImNlbnRlclwiLC8vbGVmdCwgY2VudGVyLCByaWdodFxuXHRcdFx0XHRmb250U2l6ZTogdGhpcy50aXRsZUZvbnRTaXplLC8vaW4gcGl4ZWxzXG5cdFx0XHRcdGZvbnRGYW1pbHk6IHRoaXMudGl0bGVGb250RmFtaWx5LFxuXHRcdFx0XHRmb250V2VpZ2h0OiB0aGlzLnRpdGxlRm9udFdlaWdodCwgLy9ub3JtYWwsIGJvbGQsIGJvbGRlciwgbGlnaHRlcixcblx0XHRcdFx0Zm9udENvbG9yOiB0aGlzLnRpdGxlRm9udENvbG9yLFxuXHRcdFx0XHRmb250U3R5bGU6IHRoaXMudGl0bGVGb250U3R5bGUsIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXG5cdFx0XHRcdHRleHRCYXNlbGluZTogXCJ0b3BcIlxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuX3RpdGxlVGV4dEJsb2NrLm1lYXN1cmVUZXh0KCk7XG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jay54ID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMueDEgKyB0aGlzLmxpbmVDb29yZGluYXRlcy53aWR0aCAvIDIgLSB0aGlzLl90aXRsZVRleHRCbG9jay53aWR0aCAvIDI7XG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jay5yZW5kZXIodHJ1ZSk7XG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcImxlZnRcIikge1xuXG5cblx0XHR2YXIgbGFiZWw7XG5cdFx0dmFyIHh5O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGFiZWxzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsYWJlbCA9IHRoaXMuX2xhYmVsc1tpXTtcblx0XHRcdGlmIChsYWJlbC5wb3NpdGlvbiA8IHRoaXMudmlld3BvcnRNaW5pbXVtIHx8IGxhYmVsLnBvc2l0aW9uID4gdGhpcy52aWV3cG9ydE1heGltdW0pXG5cdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHR4eSA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uQXhpcyhsYWJlbC5wb3NpdGlvbik7XG5cblx0XHRcdGlmICgodGhpcy50aWNrVGhpY2tuZXNzICYmICF0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lKSB8fCAodGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSAmJiB0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lLl90aGlja25lc3NUeXBlID09PSBcInBpeGVsXCIpKSB7XG5cblx0XHRcdFx0aWYgKHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpIHtcblx0XHRcdFx0XHRzdHJpcExpbmUgPSB0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lO1xuXG5cdFx0XHRcdFx0dGhpcy5jdHgubGluZVdpZHRoID0gc3RyaXBMaW5lLnRoaWNrbmVzcztcblx0XHRcdFx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHN0cmlwTGluZS5jb2xvcjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmN0eC5saW5lV2lkdGggPSB0aGlzLnRpY2tUaGlja25lc3M7XG5cdFx0XHRcdFx0dGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnRpY2tDb2xvcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciB0aWNrWSA9ICh0aGlzLmN0eC5saW5lV2lkdGggJSAyID09PSAxKSA/ICh4eS55IDw8IDApICsgLjUgOiAoeHkueSA8PCAwKTtcblx0XHRcdFx0dGhpcy5jdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdHRoaXMuY3R4Lm1vdmVUbyh4eS54IDw8IDAsIHRpY2tZKTtcblx0XHRcdFx0dGhpcy5jdHgubGluZVRvKCh4eS54IC0gdGhpcy50aWNrTGVuZ3RoKSA8PCAwLCB0aWNrWSk7XG5cdFx0XHRcdHRoaXMuY3R4LnN0cm9rZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvL0Rvbid0IHNraXAgc3RyaXBMaW5lJ3MgbGFiZWxzXG5cdFx0XHRpZiAoc2tpcExhYmVscyAmJiBsYWJlbENvdW50KysgJSAyICE9PSAwICYmICF0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lKVxuXHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0bGFiZWwudGV4dEJsb2NrLnggPSB4eS54IC0gKGxhYmVsLnRleHRCbG9jay53aWR0aCAqIE1hdGguY29zKE1hdGguUEkgLyAxODAgKiB0aGlzLmxhYmVsQW5nbGUpKSAtIHRoaXMudGlja0xlbmd0aCAtIDU7XG5cblx0XHRcdGlmICh0aGlzLmxhYmVsQW5nbGUgPT09IDApIHtcblx0XHRcdFx0bGFiZWwudGV4dEJsb2NrLnkgPSB4eS55O1xuXHRcdFx0fSBlbHNlXG5cdFx0XHRcdGxhYmVsLnRleHRCbG9jay55ID0geHkueSAtIChsYWJlbC50ZXh0QmxvY2sud2lkdGggKiBNYXRoLnNpbihNYXRoLlBJIC8gMTgwICogdGhpcy5sYWJlbEFuZ2xlKSk7XG5cblx0XHRcdGxhYmVsLnRleHRCbG9jay5yZW5kZXIodHJ1ZSk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMudGl0bGUpIHtcblxuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XG5cdFx0XHRcdHg6IHRoaXMuYm91bmRpbmdSZWN0LngxICsgMSxcblx0XHRcdFx0eTogdGhpcy5saW5lQ29vcmRpbmF0ZXMueTIsXG5cdFx0XHRcdG1heFdpZHRoOiB0aGlzLmxpbmVDb29yZGluYXRlcy5oZWlnaHQsXG5cdFx0XHRcdG1heEhlaWdodDogdGhpcy50aXRsZUZvbnRTaXplICogMS41LFxuXHRcdFx0XHRhbmdsZTogLTkwLFxuXHRcdFx0XHR0ZXh0OiB0aGlzLnRpdGxlLFxuXHRcdFx0XHRob3Jpem9udGFsQWxpZ246IFwiY2VudGVyXCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XG5cdFx0XHRcdGZvbnRTaXplOiB0aGlzLnRpdGxlRm9udFNpemUsLy9pbiBwaXhlbHNcblx0XHRcdFx0Zm9udEZhbWlseTogdGhpcy50aXRsZUZvbnRGYW1pbHksXG5cdFx0XHRcdGZvbnRXZWlnaHQ6IHRoaXMudGl0bGVGb250V2VpZ2h0LCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxuXHRcdFx0XHRmb250Q29sb3I6IHRoaXMudGl0bGVGb250Q29sb3IsXG5cdFx0XHRcdGZvbnRTdHlsZTogdGhpcy50aXRsZUZvbnRTdHlsZSwgLy8gbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWVcblx0XHRcdFx0dGV4dEJhc2VsaW5lOiBcInRvcFwiXG5cdFx0XHR9KTtcblxuXHRcdFx0dmFyIHNpemUgPSB0aGlzLl90aXRsZVRleHRCbG9jay5tZWFzdXJlVGV4dCgpO1xuXG5cdFx0XHQvL3RoaXMuX3RpdGxlVGV4dEJsb2NrLnggLT0gNDtcblxuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2sueSA9ICh0aGlzLmxpbmVDb29yZGluYXRlcy5oZWlnaHQgLyAyICsgdGhpcy5fdGl0bGVUZXh0QmxvY2sud2lkdGggLyAyICsgdGhpcy5saW5lQ29vcmRpbmF0ZXMueTEpO1xuXHRcdFx0dGhpcy5fdGl0bGVUZXh0QmxvY2sucmVuZGVyKHRydWUpO1xuXG5cdFx0XHQvL2lmIChpc0RlYnVnTW9kZSkge1xuXHRcdFx0Ly9cdHdpbmRvdy5jb25zb2xlLmxvZyhcInRpdGxlRm9udFNpemU6IFwiICsgdGhpcy50aXRsZUZvbnRTaXplICsgXCI7IHdpZHRoOiBcIiArIHNpemUud2lkdGggKyBcIjsgaGVpZ2h0OiBcIiArIHNpemUuaGVpZ2h0KTtcblx0XHRcdC8vXHR3aW5kb3cuY29uc29sZS5sb2coXCJ0aGlzLmJvdW5kaW5nUmVjdC54MTogXCIgKyB0aGlzLmJvdW5kaW5nUmVjdC54MSk7XG5cblx0XHRcdC8vXHQvL3RoaXMuY3R4LnJlY3QodGhpcy5fdGl0bGVUZXh0QmxvY2sueCwgdGhpcy5fdGl0bGVUZXh0QmxvY2sueSwgdGhpcy5fdGl0bGVUZXh0QmxvY2suaGVpZ2h0LCAtdGhpcy5fdGl0bGVUZXh0QmxvY2sud2lkdGgpO1xuXHRcdFx0Ly9cdC8vdGhpcy5jdHguc3Ryb2tlKCk7XG5cblx0XHRcdC8vfVxuXG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcblxuXG5cdFx0dmFyIGxhYmVsO1xuXHRcdHZhciB4eTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGFiZWxzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsYWJlbCA9IHRoaXMuX2xhYmVsc1tpXTtcblx0XHRcdGlmIChsYWJlbC5wb3NpdGlvbiA8IHRoaXMudmlld3BvcnRNaW5pbXVtIHx8IGxhYmVsLnBvc2l0aW9uID4gdGhpcy52aWV3cG9ydE1heGltdW0pXG5cdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHR4eSA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uQXhpcyhsYWJlbC5wb3NpdGlvbik7XG5cblx0XHRcdGlmICgodGhpcy50aWNrVGhpY2tuZXNzICYmICF0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lKSB8fCAodGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSAmJiB0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lLl90aGlja25lc3NUeXBlID09PSBcInBpeGVsXCIpKSB7XG5cblx0XHRcdFx0aWYgKHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpIHtcblx0XHRcdFx0XHRzdHJpcExpbmUgPSB0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lO1xuXG5cdFx0XHRcdFx0dGhpcy5jdHgubGluZVdpZHRoID0gc3RyaXBMaW5lLnRoaWNrbmVzcztcblx0XHRcdFx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHN0cmlwTGluZS5jb2xvcjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmN0eC5saW5lV2lkdGggPSB0aGlzLnRpY2tUaGlja25lc3M7XG5cdFx0XHRcdFx0dGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnRpY2tDb2xvcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciB0aWNrWSA9ICh0aGlzLmN0eC5saW5lV2lkdGggJSAyID09PSAxKSA/ICh4eS55IDw8IDApICsgLjUgOiAoeHkueSA8PCAwKTtcblx0XHRcdFx0dGhpcy5jdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdHRoaXMuY3R4Lm1vdmVUbyh4eS54IDw8IDAsIHRpY2tZKTtcblx0XHRcdFx0dGhpcy5jdHgubGluZVRvKCh4eS54ICsgdGhpcy50aWNrTGVuZ3RoKSA8PCAwLCB0aWNrWSk7XG5cdFx0XHRcdHRoaXMuY3R4LnN0cm9rZSgpO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vRG9uJ3Qgc2tpcCBzdHJpcExpbmUncyBsYWJlbHNcblx0XHRcdGlmIChza2lwTGFiZWxzICYmIGxhYmVsQ291bnQrKyAlIDIgIT09IDAgJiYgIXRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpXG5cdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRsYWJlbC50ZXh0QmxvY2sueCA9IHh5LnggKyB0aGlzLnRpY2tMZW5ndGggKyA1O1xuXHRcdFx0Ly9sYWJlbC50ZXh0QmxvY2sueSA9IHh5LnkgLSAobGFiZWwudGV4dEJsb2NrLndpZHRoICogTWF0aC5zaW4oTWF0aC5QSSAvIDE4MCAqIHRoaXMubGFiZWxBbmdsZSkpO1xuXHRcdFx0aWYgKHRoaXMubGFiZWxBbmdsZSA9PT0gMCkge1xuXHRcdFx0XHRsYWJlbC50ZXh0QmxvY2sueSA9IHh5Lnk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGxhYmVsLnRleHRCbG9jay55ID0geHkueTtcblxuXHRcdFx0bGFiZWwudGV4dEJsb2NrLnJlbmRlcih0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy50aXRsZSkge1xuXG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jayA9IG5ldyBUZXh0QmxvY2sodGhpcy5jdHgsIHtcblx0XHRcdFx0eDogdGhpcy5ib3VuZGluZ1JlY3QueDIgLSAxLFxuXHRcdFx0XHR5OiB0aGlzLmxpbmVDb29yZGluYXRlcy55Mixcblx0XHRcdFx0bWF4V2lkdGg6IHRoaXMubGluZUNvb3JkaW5hdGVzLmhlaWdodCxcblx0XHRcdFx0bWF4SGVpZ2h0OiB0aGlzLnRpdGxlRm9udFNpemUgKiAxLjUsXG5cdFx0XHRcdGFuZ2xlOiA5MCxcblx0XHRcdFx0dGV4dDogdGhpcy50aXRsZSxcblx0XHRcdFx0aG9yaXpvbnRhbEFsaWduOiBcImNlbnRlclwiLC8vbGVmdCwgY2VudGVyLCByaWdodFxuXHRcdFx0XHRmb250U2l6ZTogdGhpcy50aXRsZUZvbnRTaXplLC8vaW4gcGl4ZWxzXG5cdFx0XHRcdGZvbnRGYW1pbHk6IHRoaXMudGl0bGVGb250RmFtaWx5LFxuXHRcdFx0XHRmb250V2VpZ2h0OiB0aGlzLnRpdGxlRm9udFdlaWdodCwgLy9ub3JtYWwsIGJvbGQsIGJvbGRlciwgbGlnaHRlcixcblx0XHRcdFx0Zm9udENvbG9yOiB0aGlzLnRpdGxlRm9udENvbG9yLFxuXHRcdFx0XHRmb250U3R5bGU6IHRoaXMudGl0bGVGb250U3R5bGUsIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXG5cdFx0XHRcdHRleHRCYXNlbGluZTogXCJ0b3BcIlxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuX3RpdGxlVGV4dEJsb2NrLm1lYXN1cmVUZXh0KCk7XG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jay55ID0gKHRoaXMubGluZUNvb3JkaW5hdGVzLmhlaWdodCAvIDIgLSB0aGlzLl90aXRsZVRleHRCbG9jay53aWR0aCAvIDIgKyB0aGlzLmxpbmVDb29yZGluYXRlcy55MSk7XG5cdFx0XHR0aGlzLl90aXRsZVRleHRCbG9jay5yZW5kZXIodHJ1ZSk7XG5cblx0XHR9XG5cdH1cbn1cblxuQXhpcy5wcm90b3R5cGUucmVuZGVySW50ZXJsYWNlZENvbG9ycyA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIGN0eCA9IHRoaXMuY2hhcnQucGxvdEFyZWEuY3R4O1xuXHQvL3JldHVybjtcblxuXHR2YXIgaW50ZXJsYWNlZEdyaWRTdGFydFBvaW50O1xuXHR2YXIgaW50ZXJsYWNlZEdyaWRFbmRQb2ludDtcblx0dmFyIHBsb3RBcmVhQ29vcmRpbmF0ZXMgPSB0aGlzLmNoYXJ0LnBsb3RBcmVhO1xuXHR2YXIgaSA9IDAsIHJlbmRlckludGVybGFjZWRHcmlkID0gdHJ1ZTtcblxuXHRpZiAoKHRoaXMuX3Bvc2l0aW9uID09PSBcImJvdHRvbVwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInRvcFwiKSAmJiB0aGlzLmludGVybGFjZWRDb2xvcikge1xuXG5cdFx0Y3R4LmZpbGxTdHlsZSA9IHRoaXMuaW50ZXJsYWNlZENvbG9yO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuX2xhYmVscy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRpZiAodGhpcy5fbGFiZWxzW2ldLnN0cmlwTGluZSlcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdGlmIChyZW5kZXJJbnRlcmxhY2VkR3JpZCkgey8vU28gdGhhdCB0aGUgaW50ZXJsYWNlZCBjb2xvciBhbHRlcm5hdGVzXG5cdFx0XHRcdGludGVybGFjZWRHcmlkU3RhcnRQb2ludCA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uQXhpcyh0aGlzLl9sYWJlbHNbaV0ucG9zaXRpb24pO1xuXG5cdFx0XHRcdGlmIChpICsgMSA+PSB0aGlzLl9sYWJlbHMubGVuZ3RoIC0gMSlcblx0XHRcdFx0XHRpbnRlcmxhY2VkR3JpZEVuZFBvaW50ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25BeGlzKHRoaXMudmlld3BvcnRNYXhpbXVtKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGludGVybGFjZWRHcmlkRW5kUG9pbnQgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPbkF4aXModGhpcy5fbGFiZWxzW2kgKyAxXS5wb3NpdGlvbik7XG5cblx0XHRcdFx0Y3R4LmZpbGxSZWN0KGludGVybGFjZWRHcmlkU3RhcnRQb2ludC54LCBwbG90QXJlYUNvb3JkaW5hdGVzLnkxLCBNYXRoLmFicyhpbnRlcmxhY2VkR3JpZEVuZFBvaW50LnggLSBpbnRlcmxhY2VkR3JpZFN0YXJ0UG9pbnQueCksIE1hdGguYWJzKHBsb3RBcmVhQ29vcmRpbmF0ZXMueTEgLSBwbG90QXJlYUNvb3JkaW5hdGVzLnkyKSk7XG5cdFx0XHRcdHJlbmRlckludGVybGFjZWRHcmlkID0gZmFsc2U7XG5cdFx0XHR9IGVsc2Vcblx0XHRcdFx0cmVuZGVySW50ZXJsYWNlZEdyaWQgPSB0cnVlO1xuXG5cdFx0fVxuXG5cdH0gZWxzZSBpZiAoKHRoaXMuX3Bvc2l0aW9uID09PSBcImxlZnRcIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJyaWdodFwiKSAmJiB0aGlzLmludGVybGFjZWRDb2xvcikge1xuXG5cdFx0Y3R4LmZpbGxTdHlsZSA9IHRoaXMuaW50ZXJsYWNlZENvbG9yO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuX2xhYmVscy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICAgICAgaWYgKHRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmUpXG5cdFx0ICAgICAgICAgICAgY29udGludWU7XG5cblx0XHRcdGlmIChyZW5kZXJJbnRlcmxhY2VkR3JpZCkgey8vU28gdGhhdCB0aGUgaW50ZXJsYWNlZCBjb2xvciBhbHRlcm5hdGVzXG5cblx0XHRcdFx0aW50ZXJsYWNlZEdyaWRFbmRQb2ludCA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uQXhpcyh0aGlzLl9sYWJlbHNbaV0ucG9zaXRpb24pO1xuXG5cdFx0XHRcdGlmIChpICsgMSA+PSB0aGlzLl9sYWJlbHMubGVuZ3RoIC0gMSlcblx0XHRcdFx0XHRpbnRlcmxhY2VkR3JpZFN0YXJ0UG9pbnQgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPbkF4aXModGhpcy52aWV3cG9ydE1heGltdW0pO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0aW50ZXJsYWNlZEdyaWRTdGFydFBvaW50ID0gdGhpcy5nZXRQaXhlbENvb3JkaW5hdGVzT25BeGlzKHRoaXMuX2xhYmVsc1tpICsgMV0ucG9zaXRpb24pO1xuXG5cdFx0XHRcdGN0eC5maWxsUmVjdChwbG90QXJlYUNvb3JkaW5hdGVzLngxLCBpbnRlcmxhY2VkR3JpZFN0YXJ0UG9pbnQueSwgTWF0aC5hYnMocGxvdEFyZWFDb29yZGluYXRlcy54MSAtIHBsb3RBcmVhQ29vcmRpbmF0ZXMueDIpLCBNYXRoLmFicyhpbnRlcmxhY2VkR3JpZFN0YXJ0UG9pbnQueSAtIGludGVybGFjZWRHcmlkRW5kUG9pbnQueSkpO1xuXHRcdFx0XHRyZW5kZXJJbnRlcmxhY2VkR3JpZCA9IGZhbHNlO1xuXHRcdFx0fSBlbHNlXG5cdFx0XHRcdHJlbmRlckludGVybGFjZWRHcmlkID0gdHJ1ZTtcblx0XHR9XG5cdFx0ICAgIC8vdGhyb3cgXCIxMjNcIjtcblx0fVxuXG5cdGN0eC5iZWdpblBhdGgoKTtcbn1cblxuLy9SZW5kZXJzIHN0cmlwTGluZXMgb2YgZ2l2ZW4gdGhpY2tuZXNzIHR5cGUuXG5BeGlzLnByb3RvdHlwZS5yZW5kZXJTdHJpcExpbmVzT2ZUaGlja25lc3NUeXBlID0gZnVuY3Rpb24gKHRoaWNrbmVzc1R5cGUpIHtcblxuXHRpZiAoISh0aGlzLnN0cmlwTGluZXMgJiYgdGhpcy5zdHJpcExpbmVzLmxlbmd0aCA+IDApIHx8ICF0aGlja25lc3NUeXBlKVxuXHRcdHJldHVybjtcblxuXHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdHZhciBpID0gMDtcblx0Zm9yIChpID0gMDsgaSA8IHRoaXMuc3RyaXBMaW5lcy5sZW5ndGg7IGkrKykge1xuXG5cdFx0dmFyIHN0cmlwTGluZSA9IHRoaXMuc3RyaXBMaW5lc1tpXTtcblxuXHRcdGlmIChzdHJpcExpbmUuX3RoaWNrbmVzc1R5cGUgIT09IHRoaWNrbmVzc1R5cGUpXG5cdFx0XHRjb250aW51ZTtcblxuXG5cdFx0Ly9TaG91bGQgYmUgc2tpcHBlZCBvbmx5IGlmIHRoaWNrbmVzc1R5cGUgaXMgXCJwaXhlbFwiLiBJZiBpdCBpcyBcInZhbHVlXCIgdGhlbiBjbGlwcGluZyBpcyBhdXRvbWF0aWNhbGx5IGFwcGxpZWQgYmVmb3JlIGNhbGxpbmcuXG5cdFx0aWYgKHRoaWNrbmVzc1R5cGUgPT09IFwicGl4ZWxcIiAmJiAoc3RyaXBMaW5lLnZhbHVlIDwgdGhpcy52aWV3cG9ydE1pbmltdW0gfHwgc3RyaXBMaW5lLnZhbHVlID4gdGhpcy52aWV3cG9ydE1heGltdW0pKVxuXHRcdFx0Y29udGludWU7XG5cblx0XHRpZiAoc3RyaXBMaW5lLnNob3dPblRvcCkge1xuXHRcdFx0dGhpcy5jaGFydC5hZGRFdmVudExpc3RlbmVyKFwiZGF0YUFuaW1hdGlvbkl0ZXJhdGlvbkVuZFwiLCBzdHJpcExpbmUucmVuZGVyLCBzdHJpcExpbmUpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0XHRzdHJpcExpbmUucmVuZGVyKCk7XG5cdH1cbn07XG5cbkF4aXMucHJvdG90eXBlLnJlbmRlckdyaWQgPSBmdW5jdGlvbiAoKSB7XG5cblx0aWYgKCEodGhpcy5ncmlkVGhpY2tuZXNzICYmIHRoaXMuZ3JpZFRoaWNrbmVzcyA+IDApKVxuXHRcdHJldHVybjtcblxuXHQvL3ZhciBjdHggPSB0aGlzLmNoYXJ0LnBsb3RBcmVhLmN0eDtcblx0dmFyIGN0eCA9IHRoaXMuY2hhcnQuY3R4O1xuXG5cdHZhciB4eTtcblx0dmFyIHBsb3RBcmVhQ29vcmRpbmF0ZXMgPSB0aGlzLmNoYXJ0LnBsb3RBcmVhO1xuXHR2YXIgc3RyaXBMaW5lO1xuXHR2YXIgdGVtcExpbmVXaWR0aCwgdGVtcFN0cm9rZVN0eWxlO1xuXHQvL3JldHVybjtcblxuXHRjdHgubGluZVdpZHRoID0gdGhpcy5ncmlkVGhpY2tuZXNzO1xuXHRjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmdyaWRDb2xvcjtcblxuXHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XG5cdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkodGhpcy5ncmlkRGFzaFR5cGUsIHRoaXMuZ3JpZFRoaWNrbmVzcykpO1xuXHR9XG5cblxuXHRpZiAodGhpcy5fcG9zaXRpb24gPT09IFwiYm90dG9tXCIgfHwgdGhpcy5fcG9zaXRpb24gPT09IFwidG9wXCIpIHtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCB0aGlzLl9sYWJlbHMubGVuZ3RoICYmICF0aGlzLl9sYWJlbHNbaV0uc3RyaXBMaW5lOyBpKyspIHtcblxuXHRcdFx0aWYgKHRoaXMuX2xhYmVsc1tpXS5wb3NpdGlvbiA8IHRoaXMudmlld3BvcnRNaW5pbXVtIHx8IHRoaXMuX2xhYmVsc1tpXS5wb3NpdGlvbiA+IHRoaXMudmlld3BvcnRNYXhpbXVtKVxuXHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXG5cdFx0XHR4eSA9IHRoaXMuZ2V0UGl4ZWxDb29yZGluYXRlc09uQXhpcyh0aGlzLl9sYWJlbHNbaV0ucG9zaXRpb24pO1xuXG5cdFx0XHR2YXIgZ3JpZFggPSAoY3R4LmxpbmVXaWR0aCAlIDIgPT09IDEpID8gKHh5LnggPDwgMCkgKyAuNSA6ICh4eS54IDw8IDApO1xuXG5cdFx0XHRjdHgubW92ZVRvKGdyaWRYLCBwbG90QXJlYUNvb3JkaW5hdGVzLnkxIDw8IDApO1xuXHRcdFx0Y3R4LmxpbmVUbyhncmlkWCwgcGxvdEFyZWFDb29yZGluYXRlcy55MiA8PCAwKTtcblxuXHRcdFx0Y3R4LnN0cm9rZSgpO1xuXHRcdH1cblxuXHR9XG5cdGVsc2UgaWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcImxlZnRcIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xhYmVscy5sZW5ndGggJiYgIXRoaXMuX2xhYmVsc1tpXS5zdHJpcExpbmU7IGkrKykge1xuXG5cdFx0XHRpZiAoaSA9PT0gMCAmJiB0aGlzLnR5cGUgPT09IFwiYXhpc1lcIiAmJiB0aGlzLmNoYXJ0LmF4aXNYICYmIHRoaXMuY2hhcnQuYXhpc1gubGluZVRoaWNrbmVzcylcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdGlmICh0aGlzLl9sYWJlbHNbaV0ucG9zaXRpb24gPCB0aGlzLnZpZXdwb3J0TWluaW11bSB8fCB0aGlzLl9sYWJlbHNbaV0ucG9zaXRpb24gPiB0aGlzLnZpZXdwb3J0TWF4aW11bSlcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblxuXHRcdFx0eHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPbkF4aXModGhpcy5fbGFiZWxzW2ldLnBvc2l0aW9uKTtcblxuXHRcdFx0dmFyIGdyaWRZID0gKGN0eC5saW5lV2lkdGggJSAyID09PSAxKSA/ICh4eS55IDw8IDApICsgLjUgOiAoeHkueSA8PCAwKTtcblxuXHRcdFx0Y3R4Lm1vdmVUbyhwbG90QXJlYUNvb3JkaW5hdGVzLngxIDw8IDAsIGdyaWRZKTtcblx0XHRcdGN0eC5saW5lVG8ocGxvdEFyZWFDb29yZGluYXRlcy54MiA8PCAwLCBncmlkWSk7XG5cblx0XHRcdGN0eC5zdHJva2UoKTtcblx0XHR9XG5cblx0fVxufVxuXG5BeGlzLnByb3RvdHlwZS5yZW5kZXJBeGlzTGluZSA9IGZ1bmN0aW9uICgpIHtcblx0Ly92YXIgY3R4ID0gdGhpcy5jaGFydC5wbG90QXJlYS5jdHg7XG5cdHZhciBjdHggPSB0aGlzLmNoYXJ0LmN0eDtcblxuXHRpZiAodGhpcy5fcG9zaXRpb24gPT09IFwiYm90dG9tXCIgfHwgdGhpcy5fcG9zaXRpb24gPT09IFwidG9wXCIpIHtcblx0XHRpZiAodGhpcy5saW5lVGhpY2tuZXNzKSB7XG5cdFx0XHRjdHgubGluZVdpZHRoID0gdGhpcy5saW5lVGhpY2tuZXNzO1xuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gdGhpcy5saW5lQ29sb3IgPyB0aGlzLmxpbmVDb2xvciA6IFwiYmxhY2tcIjtcblxuXHRcdFx0aWYgKGN0eC5zZXRMaW5lRGFzaCkge1xuXHRcdFx0XHRjdHguc2V0TGluZURhc2goZ2V0TGluZURhc2hBcnJheSh0aGlzLmxpbmVEYXNoVHlwZSwgdGhpcy5saW5lVGhpY2tuZXNzKSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBsaW5lWSA9ICh0aGlzLmxpbmVUaGlja25lc3MgJSAyID09PSAxKSA/ICh0aGlzLmxpbmVDb29yZGluYXRlcy55MSA8PCAwKSArIC41IDogKHRoaXMubGluZUNvb3JkaW5hdGVzLnkxIDw8IDApO1xuXG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRjdHgubW92ZVRvKHRoaXMubGluZUNvb3JkaW5hdGVzLngxLCBsaW5lWSk7XG5cdFx0XHRjdHgubGluZVRvKHRoaXMubGluZUNvb3JkaW5hdGVzLngyLCBsaW5lWSk7XG5cdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0fVxuXG5cdH0gZWxzZSBpZiAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcblx0XHRpZiAodGhpcy5saW5lVGhpY2tuZXNzKSB7XG5cdFx0XHRjdHgubGluZVdpZHRoID0gdGhpcy5saW5lVGhpY2tuZXNzO1xuXHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gdGhpcy5saW5lQ29sb3I7XG5cblx0XHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcblx0XHRcdFx0Y3R4LnNldExpbmVEYXNoKGdldExpbmVEYXNoQXJyYXkodGhpcy5saW5lRGFzaFR5cGUsIHRoaXMubGluZVRoaWNrbmVzcykpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbGluZVggPSAodGhpcy5saW5lVGhpY2tuZXNzICUgMiA9PT0gMSkgPyAodGhpcy5saW5lQ29vcmRpbmF0ZXMueDEgPDwgMCkgKyAuNSA6ICh0aGlzLmxpbmVDb29yZGluYXRlcy54MSA8PCAwKTtcblxuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0Y3R4Lm1vdmVUbyhsaW5lWCwgdGhpcy5saW5lQ29vcmRpbmF0ZXMueTEpO1xuXHRcdFx0Y3R4LmxpbmVUbyhsaW5lWCwgdGhpcy5saW5lQ29vcmRpbmF0ZXMueTIpO1xuXHRcdFx0Y3R4LnN0cm9rZSgpO1xuXHRcdH1cblx0fVxufVxuXG5BeGlzLnByb3RvdHlwZS5nZXRQaXhlbENvb3JkaW5hdGVzT25BeGlzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdHZhciB4eSA9IHtcblx0fTtcblx0dmFyIHdpZHRoID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMud2lkdGg7XG5cdHZhciBoZWlnaHQgPSB0aGlzLmxpbmVDb29yZGluYXRlcy5oZWlnaHQ7XG5cblx0aWYgKHRoaXMuX3Bvc2l0aW9uID09PSBcImJvdHRvbVwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInRvcFwiKSB7XG5cdFx0Ly92YXIgcGl4ZWxQZXJVbml0ID0gd2lkdGggLyBNYXRoLmFicyh0aGlzLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMudmlld3BvcnRNaW5pbXVtKTtcblx0XHR2YXIgcGl4ZWxQZXJVbml0ID0gdGhpcy5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQ7XG5cblx0XHQvL3h5LnggPSB0aGlzLmxpbmVDb29yZGluYXRlcy54MSArIChwaXhlbFBlclVuaXQgKiAodmFsdWUgLSB0aGlzLnZpZXdwb3J0TWluaW11bSkpO1xuXHRcdHh5LnggPSB0aGlzLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIChwaXhlbFBlclVuaXQgKiAodmFsdWUgLSB0aGlzLnZpZXdwb3J0TWluaW11bSkpO1xuXHRcdHh5LnkgPSB0aGlzLmxpbmVDb29yZGluYXRlcy55MTtcblx0fVxuXHRpZiAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcblx0XHQvL3ZhciBwaXhlbFBlclVuaXQgPSBoZWlnaHQgLyBNYXRoLmFicyh0aGlzLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMudmlld3BvcnRNaW5pbXVtKTtcblx0XHR2YXIgcGl4ZWxQZXJVbml0ID0gLXRoaXMuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0O1xuXG5cdFx0Ly94eS55ID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMueTIgLSAocGl4ZWxQZXJVbml0ICogKHZhbHVlIC0gdGhpcy52aWV3cG9ydE1pbmltdW0pKTtcblx0XHR4eS55ID0gdGhpcy5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgLSAocGl4ZWxQZXJVbml0ICogKHZhbHVlIC0gdGhpcy52aWV3cG9ydE1pbmltdW0pKTtcblx0XHR4eS54ID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMueDI7XG5cdH1cblxuXHRyZXR1cm4geHk7XG59XG5cbkF4aXMucHJvdG90eXBlLmNvbnZlcnRQaXhlbFRvVmFsdWUgPSBmdW5jdGlvbiAocGl4ZWwpIHtcblxuXHRpZiAoIXBpeGVsKVxuXHRcdHJldHVybiBudWxsO1xuXG5cdHZhciB2YWx1ZSA9IDA7XG5cdHZhciBwID0gKHRoaXMuX3Bvc2l0aW9uID09PSBcImxlZnRcIiB8fCB0aGlzLl9wb3NpdGlvbiA9PT0gXCJyaWdodFwiKSA/IHBpeGVsLnkgOiBwaXhlbC54O1xuXG5cdHZhbHVlID0gdGhpcy5jb252ZXJzaW9uUGFyYW1ldGVycy5taW5pbXVtICsgKHAgLSB0aGlzLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSkgLyB0aGlzLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdDtcblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbkF4aXMucHJvdG90eXBlLnNldFZpZXdQb3J0UmFuZ2UgPSBmdW5jdGlvbiAodmlld3BvcnRNaW5pbXVtLCB2aWV3cG9ydE1heGltdW0pIHtcblxuXHR0aGlzLnNlc3Npb25WYXJpYWJsZXMubmV3Vmlld3BvcnRNaW5pbXVtID0gdGhpcy52aWV3cG9ydE1pbmltdW0gPSBNYXRoLm1pbih2aWV3cG9ydE1pbmltdW0sIHZpZXdwb3J0TWF4aW11bSk7XG5cdHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1heGltdW0gPSB0aGlzLnZpZXdwb3J0TWF4aW11bSA9IE1hdGgubWF4KHZpZXdwb3J0TWluaW11bSwgdmlld3BvcnRNYXhpbXVtKTtcblxufVxuXG5BeGlzLnByb3RvdHlwZS5nZXRYVmFsdWVBdCA9IGZ1bmN0aW9uIChwaXhlbCkge1xuXHRpZiAoIXBpeGVsKVxuXHRcdHJldHVybiBudWxsO1xuXG5cdHZhciB4dmFsID0gbnVsbDtcblxuXHRpZiAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiKSB7XG5cdFx0eHZhbCA9ICh0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSAvIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLmhlaWdodCAqICgodGhpcy5jaGFydC5heGlzWC5saW5lQ29vcmRpbmF0ZXMueTIgLSBwaXhlbC55KSkgKyB0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWluaW11bTtcblx0fVxuXHRlbHNlIGlmICh0aGlzLl9wb3NpdGlvbiA9PT0gXCJib3R0b21cIikge1xuXHRcdHh2YWwgPSAodGhpcy5jaGFydC5heGlzWC52aWV3cG9ydE1heGltdW0gLSB0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWluaW11bSkgLyB0aGlzLmNoYXJ0LmF4aXNYLmxpbmVDb29yZGluYXRlcy53aWR0aCAqIChwaXhlbC54IC0gdGhpcy5jaGFydC5heGlzWC5saW5lQ29vcmRpbmF0ZXMueDEpICsgdGhpcy5jaGFydC5heGlzWC52aWV3cG9ydE1pbmltdW07XG5cdH1cblxuXHRyZXR1cm4geHZhbDtcbn1cblxuQXhpcy5wcm90b3R5cGUuY2FsY3VsYXRlVmFsdWVUb1BpeGVsQ29udmVyc2lvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0dGhpcy5yZXZlcnNlZCA9IGZhbHNlO1xuXG5cdHZhciBjb252ZXJzaW9uUGFyYW1ldGVycyA9IHtcblx0XHRwaXhlbFBlclVuaXQ6IG51bGwsIG1pbmltdW06IG51bGwsIHJlZmVyZW5jZTogbnVsbFxuXHR9O1xuXG5cdHZhciB3aWR0aCA9IHRoaXMubGluZUNvb3JkaW5hdGVzLndpZHRoO1xuXHR2YXIgaGVpZ2h0ID0gdGhpcy5saW5lQ29vcmRpbmF0ZXMuaGVpZ2h0O1xuXG5cdGNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0gPSB0aGlzLnZpZXdwb3J0TWluaW11bTtcblxuXHRpZiAodGhpcy5fcG9zaXRpb24gPT09IFwiYm90dG9tXCIgfHwgdGhpcy5fcG9zaXRpb24gPT09IFwidG9wXCIpIHtcblx0XHRjb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPSAodGhpcy5yZXZlcnNlZCA/IC0xIDogMSkgKiB3aWR0aCAvIE1hdGguYWJzKHRoaXMudmlld3BvcnRNYXhpbXVtIC0gdGhpcy52aWV3cG9ydE1pbmltdW0pO1xuXHRcdGNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSA9ICh0aGlzLnJldmVyc2VkID8gdGhpcy5saW5lQ29vcmRpbmF0ZXMueDIgOiB0aGlzLmxpbmVDb29yZGluYXRlcy54MSk7XG5cdH1cblxuXHRpZiAodGhpcy5fcG9zaXRpb24gPT09IFwibGVmdFwiIHx8IHRoaXMuX3Bvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcblx0XHRjb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPSAodGhpcy5yZXZlcnNlZCA/IDEgOiAtMSkgKiBoZWlnaHQgLyBNYXRoLmFicyh0aGlzLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMudmlld3BvcnRNaW5pbXVtKTtcblx0XHRjb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgPSAodGhpcy5yZXZlcnNlZCA/IHRoaXMubGluZUNvb3JkaW5hdGVzLnkxIDogdGhpcy5saW5lQ29vcmRpbmF0ZXMueTIpO1xuXHR9XG5cblxuXHR0aGlzLmNvbnZlcnNpb25QYXJhbWV0ZXJzID0gY29udmVyc2lvblBhcmFtZXRlcnM7XG59XG5cbkF4aXMucHJvdG90eXBlLmNhbGN1bGF0ZUF4aXNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkge1xuXG5cdHZhciBmcmVlU3BhY2UgPSB0aGlzLmNoYXJ0LmxheW91dE1hbmFnZXIuZ2V0RnJlZVNwYWNlKCk7XG5cdHZhciBhdmFpbGFibGVXaWR0aCA9IDA7XG5cdHZhciBhdmFpbGFibGVIZWlnaHQgPSAwO1xuXHR2YXIgaXNMZXNzVGhhblR3b0RhdGFQb2ludHMgPSBmYWxzZTtcblxuXHRpZiAodGhpcy5fcG9zaXRpb24gPT09IFwiYm90dG9tXCIgfHwgdGhpcy5fcG9zaXRpb24gPT09IFwidG9wXCIpIHtcblx0XHR0aGlzLm1heFdpZHRoID0gZnJlZVNwYWNlLndpZHRoO1xuXHRcdHRoaXMubWF4SGVpZ2h0ID0gZnJlZVNwYWNlLmhlaWdodDtcblx0fSBlbHNlIHtcblx0XHR0aGlzLm1heFdpZHRoID0gZnJlZVNwYWNlLmhlaWdodDtcblx0XHR0aGlzLm1heEhlaWdodCA9IGZyZWVTcGFjZS53aWR0aDtcblx0fVxuXG5cdHZhciBub1RpY2tzID0gdGhpcy50eXBlID09PSBcImF4aXNYXCIgPyAodGhpcy5tYXhXaWR0aCA8IDUwMCA/IDggOiBNYXRoLm1heCg2LCBNYXRoLmZsb29yKHRoaXMubWF4V2lkdGggLyA2MikpKSA6IE1hdGgubWF4KE1hdGguZmxvb3IodGhpcy5tYXhXaWR0aCAvIDQwKSwgMik7XG5cdHZhciBtaW4sIG1heDtcblx0dmFyIG1pbkRpZmY7XG5cdHZhciByYW5nZTtcblx0dmFyIHJhbmdlUGFkZGluZyA9IDA7XG5cblxuXHRpZiAodGhpcy52aWV3cG9ydE1pbmltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy52aWV3cG9ydE1pbmltdW0pKVxuXHRcdHRoaXMudmlld3BvcnRNaW5pbXVtID0gdGhpcy5taW5pbXVtO1xuXG5cdGlmICh0aGlzLnZpZXdwb3J0TWF4aW11bSA9PT0gbnVsbCB8fCBpc05hTih0aGlzLnZpZXdwb3J0TWF4aW11bSkpXG5cdFx0dGhpcy52aWV3cG9ydE1heGltdW0gPSB0aGlzLm1heGltdW07XG5cblx0aWYgKHRoaXMudHlwZSA9PT0gXCJheGlzWFwiKSB7XG5cdFx0bWluID0gKHRoaXMudmlld3BvcnRNaW5pbXVtICE9PSBudWxsKSA/IHRoaXMudmlld3BvcnRNaW5pbXVtIDogdGhpcy5kYXRhSW5mby52aWV3UG9ydE1pbjtcblx0XHRtYXggPSAodGhpcy52aWV3cG9ydE1heGltdW0gIT09IG51bGwpID8gdGhpcy52aWV3cG9ydE1heGltdW0gOiB0aGlzLmRhdGFJbmZvLnZpZXdQb3J0TWF4O1xuXG5cdFx0aWYgKG1heCAtIG1pbiA9PT0gMCkge1xuXHRcdFx0cmFuZ2VQYWRkaW5nID0gdHlwZW9mICh0aGlzLl9vcHRpb25zLmludGVydmFsKSA9PT0gXCJ1bmRlZmluZWRcIiA/IC40IDogdGhpcy5fb3B0aW9ucy5pbnRlcnZhbDtcblxuXHRcdFx0bWF4ICs9IHJhbmdlUGFkZGluZztcblx0XHRcdG1pbiAtPSByYW5nZVBhZGRpbmc7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuZGF0YUluZm8ubWluRGlmZiAhPT0gSW5maW5pdHkpXG5cdFx0XHRtaW5EaWZmID0gdGhpcy5kYXRhSW5mby5taW5EaWZmO1xuXHRcdGVsc2UgaWYgKG1heCAtIG1pbiA+IDEpIHtcblx0XHRcdG1pbkRpZmYgPSBNYXRoLmFicyhtYXggLSBtaW4pICogLjU7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0bWluRGlmZiA9IDE7XG5cblx0XHRcdGlmICh0aGlzLmNoYXJ0LnBsb3RJbmZvLmF4aXNYVmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpXG5cdFx0XHRcdGlzTGVzc1RoYW5Ud29EYXRhUG9pbnRzID0gdHJ1ZTtcblx0XHR9XG5cblx0fSBlbHNlIGlmICh0aGlzLnR5cGUgPT09IFwiYXhpc1lcIikge1xuXG5cdFx0Ly9taW4gPSB0eXBlb2YgKHRoaXMuX29wdGlvbnMudmlld3BvcnRNaW5pbXVtKSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0aGlzLl9vcHRpb25zLnZpZXdwb3J0TWluaW11bSA9PT0gbnVsbCA/IHRoaXMuZGF0YUluZm8udmlld1BvcnRNaW4gOiB0aGlzLl9vcHRpb25zLnZpZXdwb3J0TWluaW11bTtcblx0XHQvL21heCA9IHR5cGVvZiAodGhpcy5fb3B0aW9ucy52aWV3cG9ydE1heGltdW0pID09PSBcInVuZGVmaW5lZFwiIHx8IHRoaXMuX29wdGlvbnMudmlld3BvcnRNYXhpbXVtID09PSBudWxsID8gdGhpcy5kYXRhSW5mby52aWV3UG9ydE1heCA6IHRoaXMuX29wdGlvbnMudmlld3BvcnRNYXhpbXVtO1xuXHRcdG1pbiA9ICh0aGlzLnZpZXdwb3J0TWluaW11bSAhPT0gbnVsbCkgPyB0aGlzLnZpZXdwb3J0TWluaW11bSA6IHRoaXMuZGF0YUluZm8udmlld1BvcnRNaW47XG5cdFx0bWF4ID0gKHRoaXMudmlld3BvcnRNYXhpbXVtICE9PSBudWxsKSA/IHRoaXMudmlld3BvcnRNYXhpbXVtIDogdGhpcy5kYXRhSW5mby52aWV3UG9ydE1heDtcblxuXHRcdGlmICghaXNGaW5pdGUobWluKSAmJiAhaXNGaW5pdGUobWF4KSkge1xuXHRcdFx0bWF4ID0gdHlwZW9mICh0aGlzLl9vcHRpb25zLmludGVydmFsKSA9PT0gXCJ1bmRlZmluZWRcIiA/IC1JbmZpbml0eSA6IHRoaXMuX29wdGlvbnMuaW50ZXJ2YWw7XG5cdFx0XHRtaW4gPSAwO1xuXHRcdH0gZWxzZSBpZiAoIWlzRmluaXRlKG1pbikpIHtcblx0XHRcdG1pbiA9IG1heDtcblx0XHR9IGVsc2UgaWYgKCFpc0Zpbml0ZShtYXgpKSB7XG5cdFx0XHRtYXggPSBtaW47XG5cdFx0fVxuXG5cdFx0XHRpZiAobWluID09PSAwICYmIG1heCA9PT0gMCkgey8vIFdoZW4gYWxsIGRhdGFQb2ludHMgYXJlIHplcm9cblx0XHRcdFx0bWF4ICs9IDk7XG5cdFx0XHRcdG1pbiA9IDA7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChtYXggLSBtaW4gPT09IDApIHsvLyBXaGVuIHRoZXJlIGlzIG9ubHkgYSBzaW5nbGUgZGF0YVBvaW50IG9yIHdoZW4gYWxsIGRhdGFQb2ludHMgaGF2ZSBzYW1lIFkgVmFsdWVcblx0XHRcdFx0cmFuZ2VQYWRkaW5nID0gTWF0aC5taW4oTWF0aC5hYnMoTWF0aC5hYnMobWF4KSAqIC4wMSksIDUpO1xuXHRcdFx0XHRtYXggKz0gcmFuZ2VQYWRkaW5nO1xuXHRcdFx0XHRtaW4gLT0gcmFuZ2VQYWRkaW5nO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAobWluID4gbWF4KSB7XG5cdFx0XHRcdHJhbmdlUGFkZGluZyA9IE1hdGgubWluKE1hdGguYWJzKE1hdGguYWJzKG1heCAtIG1pbikgKiAuMDEpLCA1KTtcblxuXHRcdFx0XHRpZiAobWF4ID49IDApXG5cdFx0XHRcdFx0bWluID0gbWF4IC0gcmFuZ2VQYWRkaW5nO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0bWF4ID0gbWluICsgcmFuZ2VQYWRkaW5nO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cblx0XHRcdFx0cmFuZ2VQYWRkaW5nID0gTWF0aC5taW4oTWF0aC5hYnMoTWF0aC5hYnMobWF4IC0gbWluKSAqIC4wMSksIC4wNSk7XG5cblx0XHRcdFx0aWYgKG1heCAhPT0gMClcblx0XHRcdFx0XHRtYXggKz0gcmFuZ2VQYWRkaW5nO1xuXHRcdFx0XHRpZiAobWluICE9PSAwKVxuXHRcdFx0XHRcdG1pbiAtPSByYW5nZVBhZGRpbmc7XG5cdFx0XHR9XG5cblx0XHRpZiAodGhpcy5kYXRhSW5mby5taW5EaWZmICE9PSBJbmZpbml0eSlcblx0XHRcdG1pbkRpZmYgPSB0aGlzLmRhdGFJbmZvLm1pbkRpZmY7XG5cdFx0ZWxzZSBpZiAobWF4IC0gbWluID4gMSkge1xuXHRcdFx0bWluRGlmZiA9IE1hdGguYWJzKG1heCAtIG1pbikgKiAuNTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRtaW5EaWZmID0gMTtcblx0XHR9XG5cblxuXHRcdC8vQXBwbHkgaW5jbHVkZVplcm9cblx0XHRpZiAodGhpcy5pbmNsdWRlWmVybyAmJiAodGhpcy52aWV3cG9ydE1pbmltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy52aWV3cG9ydE1pbmltdW0pKSkge1xuXHRcdFx0aWYgKG1pbiA+IDApXG5cdFx0XHRcdG1pbiA9IDA7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmluY2x1ZGVaZXJvICYmICh0aGlzLnZpZXdwb3J0TWF4aW11bSA9PT0gbnVsbCB8fCBpc05hTih0aGlzLnZpZXdwb3J0TWF4aW11bSkpKSB7XG5cdFx0XHRpZiAobWF4IDwgMClcblx0XHRcdFx0bWF4ID0gMDtcblx0XHR9XG5cdH1cblxuXHRyYW5nZSA9IChpc05hTih0aGlzLnZpZXdwb3J0TWF4aW11bSkgfHwgdGhpcy52aWV3cG9ydE1heGltdW0gPT09IG51bGwgPyBtYXggOiB0aGlzLnZpZXdwb3J0TWF4aW11bSkgLSAoaXNOYU4odGhpcy52aWV3cG9ydE1pbmltdW0pIHx8IHRoaXMudmlld3BvcnRNaW5pbXVtID09PSBudWxsID8gbWluIDogdGhpcy52aWV3cG9ydE1pbmltdW0pO1xuXG5cdGlmICh0aGlzLnR5cGUgPT09IFwiYXhpc1hcIiAmJiB0aGlzLmNoYXJ0LnBsb3RJbmZvLmF4aXNYVmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpIHtcblxuXHRcdGlmICghdGhpcy5pbnRlcnZhbFR5cGUpIHtcblxuXHRcdFx0aWYgKHJhbmdlIC8gKDEgKiAxKSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAxO1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwibWlsbGlzZWNvbmRcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoMSAqIDIpIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDI7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJtaWxsaXNlY29uZFwiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvICgxICogNSkgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gNTtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKDEgKiAxMCkgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMTA7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJtaWxsaXNlY29uZFwiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvICgxICogMjApIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDIwO1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwibWlsbGlzZWNvbmRcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoMSAqIDUwKSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSA1MDtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKDEgKiAxMDApIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDEwMDtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKDEgKiAyMDApIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDIwMDtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKDEgKiAyNTApIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDI1MDtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKDEgKiAzMDApIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDMwMDtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKDEgKiA0MDApIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDQwMDtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKDEgKiA1MDApIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDUwMDtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbGxpc2Vjb25kXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5zZWNvbmREdXJhdGlvbiAqIDEpIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDE7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJzZWNvbmRcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLnNlY29uZER1cmF0aW9uICogMikgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMjtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcInNlY29uZFwiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMuc2Vjb25kRHVyYXRpb24gKiA1KSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSA1O1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwic2Vjb25kXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5zZWNvbmREdXJhdGlvbiAqIDEwKSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAxMDtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcInNlY29uZFwiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMuc2Vjb25kRHVyYXRpb24gKiAxNSkgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMTU7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJzZWNvbmRcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLnNlY29uZER1cmF0aW9uICogMjApIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDIwO1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwic2Vjb25kXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5zZWNvbmREdXJhdGlvbiAqIDMwKSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAzMDtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcInNlY29uZFwiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMubWludXRlRHVyYXRpb24gKiAxKSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAxO1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwibWludXRlXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5taW51dGVEdXJhdGlvbiAqIDIpIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDI7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJtaW51dGVcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLm1pbnV0ZUR1cmF0aW9uICogNSkgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gNTtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbnV0ZVwiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMubWludXRlRHVyYXRpb24gKiAxMCkgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMTA7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJtaW51dGVcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLm1pbnV0ZUR1cmF0aW9uICogMTUpIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDE1O1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwibWludXRlXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5taW51dGVEdXJhdGlvbiAqIDIwKSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAyMDtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1pbnV0ZVwiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMubWludXRlRHVyYXRpb24gKiAzMCkgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMzA7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJtaW51dGVcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLmhvdXJEdXJhdGlvbiAqIDEpIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDE7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJob3VyXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5ob3VyRHVyYXRpb24gKiAyKSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAyO1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwiaG91clwiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMuaG91ckR1cmF0aW9uICogMykgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMztcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcImhvdXJcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLmhvdXJEdXJhdGlvbiAqIDYpIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDY7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJob3VyXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5kYXlEdXJhdGlvbiAqIDEpIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDE7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJkYXlcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLmRheUR1cmF0aW9uICogMikgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMjtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcImRheVwiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMuZGF5RHVyYXRpb24gKiA0KSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSA0O1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwiZGF5XCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy53ZWVrRHVyYXRpb24gKiAxKSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAxO1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwid2Vla1wiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMud2Vla0R1cmF0aW9uICogMikgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMjtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIndlZWtcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLndlZWtEdXJhdGlvbiAqIDMpIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDM7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJ3ZWVrXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5tb250aER1cmF0aW9uICogMSkgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMTtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1vbnRoXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5tb250aER1cmF0aW9uICogMikgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMjtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1vbnRoXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5tb250aER1cmF0aW9uICogMykgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMztcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1vbnRoXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy5tb250aER1cmF0aW9uICogNikgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gNjtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm1vbnRoXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHJhbmdlIC8gKGNvbnN0YW50cy55ZWFyRHVyYXRpb24gKiAxKSA8PSBub1RpY2tzKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSAxO1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwieWVhclwiO1xuXHRcdFx0fSBlbHNlIGlmIChyYW5nZSAvIChjb25zdGFudHMueWVhckR1cmF0aW9uICogMikgPD0gbm9UaWNrcykge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gMjtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcInllYXJcIjtcblx0XHRcdH0gZWxzZSBpZiAocmFuZ2UgLyAoY29uc3RhbnRzLnllYXJEdXJhdGlvbiAqIDQpIDw9IG5vVGlja3MpIHtcblx0XHRcdFx0dGhpcy5pbnRlcnZhbCA9IDQ7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWxUeXBlID0gXCJ5ZWFyXCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmludGVydmFsID0gTWF0aC5mbG9vcihBeGlzLmdldE5pY2VOdW1iZXIocmFuZ2UgLyAobm9UaWNrcyAtIDEpLCB0cnVlKSAvIGNvbnN0YW50cy55ZWFyRHVyYXRpb24pO1xuXHRcdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwieWVhclwiO1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMudmlld3BvcnRNaW5pbXVtID09PSBudWxsIHx8IGlzTmFOKHRoaXMudmlld3BvcnRNaW5pbXVtKSlcblx0XHRcdHRoaXMudmlld3BvcnRNaW5pbXVtID0gbWluIC0gbWluRGlmZiAvIDI7XG5cblx0XHRpZiAodGhpcy52aWV3cG9ydE1heGltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy52aWV3cG9ydE1heGltdW0pKVxuXHRcdFx0dGhpcy52aWV3cG9ydE1heGltdW0gPSBtYXggKyBtaW5EaWZmIC8gMjtcblxuXG5cdFx0aWYgKCF0aGlzLnZhbHVlRm9ybWF0U3RyaW5nKSB7XG5cdFx0XHRpZiAoaXNMZXNzVGhhblR3b0RhdGFQb2ludHMpIHtcblx0XHRcdFx0dGhpcy52YWx1ZUZvcm1hdFN0cmluZyA9IFwiTU1NIEREIFlZWVkgSEg6bW1cIjtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwieWVhclwiKSB7XG5cdFx0XHRcdHRoaXMudmFsdWVGb3JtYXRTdHJpbmcgPSBcIllZWVlcIjtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwibW9udGhcIikge1xuXHRcdFx0XHR0aGlzLnZhbHVlRm9ybWF0U3RyaW5nID0gXCJNTU0gWVlZWVwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmludGVydmFsVHlwZSA9PT0gXCJ3ZWVrXCIpIHtcblx0XHRcdFx0dGhpcy52YWx1ZUZvcm1hdFN0cmluZyA9IFwiTU1NIEREIFlZWVlcIjtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwiZGF5XCIpIHtcblx0XHRcdFx0dGhpcy52YWx1ZUZvcm1hdFN0cmluZyA9IFwiTU1NIEREIFlZWVlcIjtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwiaG91clwiKSB7XG5cdFx0XHRcdHRoaXMudmFsdWVGb3JtYXRTdHJpbmcgPSBcImhoOm1tIFRUXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcIm1pbnV0ZVwiKSB7XG5cdFx0XHRcdHRoaXMudmFsdWVGb3JtYXRTdHJpbmcgPSBcImhoOm1tIFRUXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcInNlY29uZFwiKSB7XG5cdFx0XHRcdHRoaXMudmFsdWVGb3JtYXRTdHJpbmcgPSBcImhoOm1tOnNzIFRUXCI7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcIm1pbGxpc2Vjb25kXCIpIHtcblx0XHRcdFx0dGhpcy52YWx1ZUZvcm1hdFN0cmluZyA9IFwiZmZmJ21zJ1wiO1xuXHRcdFx0fVxuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0dGhpcy5pbnRlcnZhbFR5cGUgPSBcIm51bWJlclwiO1xuXG5cdFx0cmFuZ2UgPSBBeGlzLmdldE5pY2VOdW1iZXIocmFuZ2UsIGZhbHNlKTtcblxuXHRcdGlmICh0aGlzLl9vcHRpb25zICYmIHRoaXMuX29wdGlvbnMuaW50ZXJ2YWwpXG5cdFx0XHR0aGlzLmludGVydmFsID0gdGhpcy5fb3B0aW9ucy5pbnRlcnZhbDtcblx0XHRlbHNlIHtcblx0XHRcdHRoaXMuaW50ZXJ2YWwgPSBBeGlzLmdldE5pY2VOdW1iZXIocmFuZ2UgLyAobm9UaWNrcyAtIDEpLCB0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy52aWV3cG9ydE1pbmltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy52aWV3cG9ydE1pbmltdW0pKSB7XG5cdFx0XHRpZiAodGhpcy50eXBlID09PSBcImF4aXNYXCIpXG5cdFx0XHRcdHRoaXMudmlld3BvcnRNaW5pbXVtID0gbWluIC0gbWluRGlmZiAvIDI7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHRoaXMudmlld3BvcnRNaW5pbXVtID0gTWF0aC5mbG9vcihtaW4gLyB0aGlzLmludGVydmFsKSAqIHRoaXMuaW50ZXJ2YWw7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMudmlld3BvcnRNYXhpbXVtID09PSBudWxsIHx8IGlzTmFOKHRoaXMudmlld3BvcnRNYXhpbXVtKSkge1xuXHRcdFx0aWYgKHRoaXMudHlwZSA9PT0gXCJheGlzWFwiKVxuXHRcdFx0XHR0aGlzLnZpZXdwb3J0TWF4aW11bSA9IG1heCArIG1pbkRpZmYgLyAyO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0aGlzLnZpZXdwb3J0TWF4aW11bSA9IE1hdGguY2VpbChtYXggLyB0aGlzLmludGVydmFsKSAqIHRoaXMuaW50ZXJ2YWw7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMudmlld3BvcnRNYXhpbXVtID09PSAwICYmIHRoaXMudmlld3BvcnRNaW5pbXVtID09PSAwKSB7XG5cblx0XHRcdGlmICh0aGlzLl9vcHRpb25zLnZpZXdwb3J0TWluaW11bSA9PT0gMCkge1xuXHRcdFx0XHR0aGlzLnZpZXdwb3J0TWF4aW11bSArPSAxMDtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKHRoaXMuX29wdGlvbnMudmlld3BvcnRNYXhpbXVtID09PSAwKSB7XG5cdFx0XHRcdHRoaXMudmlld3BvcnRNaW5pbXVtIC09IDEwO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5fb3B0aW9ucyAmJiB0eXBlb2YgKHRoaXMuX29wdGlvbnMuaW50ZXJ2YWwpID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSBBeGlzLmdldE5pY2VOdW1iZXIoKHRoaXMudmlld3BvcnRNYXhpbXVtIC0gdGhpcy52aWV3cG9ydE1pbmltdW0pIC8gKG5vVGlja3MgLSAxKSwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly9DYWxjdWxhdGUgbWluaW11bSBhbmQgbWF4aW11bSBpZiBub3QgcHJvdmlkZWQgYnkgdGhlIHVzZXJcblx0aWYgKHRoaXMubWluaW11bSA9PT0gbnVsbCB8fCB0aGlzLm1heGltdW0gPT09IG51bGwpIHtcblx0XHRpZiAodGhpcy50eXBlID09PSBcImF4aXNYXCIpIHtcblx0XHRcdG1pbiA9ICh0aGlzLm1pbmltdW0gIT09IG51bGwpID8gdGhpcy5taW5pbXVtIDogdGhpcy5kYXRhSW5mby5taW47XG5cdFx0XHRtYXggPSAodGhpcy5tYXhpbXVtICE9PSBudWxsKSA/IHRoaXMubWF4aW11bSA6IHRoaXMuZGF0YUluZm8ubWF4O1xuXG5cdFx0XHRpZiAobWF4IC0gbWluID09PSAwKSB7XG5cdFx0XHRcdHJhbmdlUGFkZGluZyA9IHR5cGVvZiAodGhpcy5fb3B0aW9ucy5pbnRlcnZhbCkgPT09IFwidW5kZWZpbmVkXCIgPyAuNCA6IHRoaXMuX29wdGlvbnMuaW50ZXJ2YWw7XG5cblx0XHRcdFx0bWF4ICs9IHJhbmdlUGFkZGluZztcblx0XHRcdFx0bWluIC09IHJhbmdlUGFkZGluZztcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuZGF0YUluZm8ubWluRGlmZiAhPT0gSW5maW5pdHkpXG5cdFx0XHRcdG1pbkRpZmYgPSB0aGlzLmRhdGFJbmZvLm1pbkRpZmY7XG5cdFx0XHRlbHNlIGlmIChtYXggLSBtaW4gPiAxKSB7XG5cdFx0XHRcdG1pbkRpZmYgPSBNYXRoLmFicyhtYXggLSBtaW4pICogLjU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0bWluRGlmZiA9IDE7XG5cdFx0XHR9XG5cblx0XHR9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gXCJheGlzWVwiKSB7XG5cblx0XHRcdG1pbiA9ICh0aGlzLm1pbmltdW0gIT09IG51bGwpID8gdGhpcy5taW5pbXVtIDogdGhpcy5kYXRhSW5mby5taW47XG5cdFx0XHRtYXggPSAodGhpcy5tYXhpbXVtICE9PSBudWxsKSA/IHRoaXMubWF4aW11bSA6IHRoaXMuZGF0YUluZm8ubWF4O1xuXG5cdFx0XHRpZiAoIWlzRmluaXRlKG1pbikgJiYgIWlzRmluaXRlKG1heCkpIHtcblx0XHRcdFx0bWF4ID0gdHlwZW9mICh0aGlzLl9vcHRpb25zLmludGVydmFsKSA9PT0gXCJ1bmRlZmluZWRcIiA/IC1JbmZpbml0eSA6IHRoaXMuX29wdGlvbnMuaW50ZXJ2YWw7XG5cdFx0XHRcdG1pbiA9IDA7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGlmIChtaW4gPT09IDAgJiYgbWF4ID09PSAwKSB7Ly8gV2hlbiBhbGwgZGF0YVBvaW50cyBhcmUgemVyb1xuXHRcdFx0XHRcdG1heCArPSA5O1xuXHRcdFx0XHRcdG1pbiA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAobWF4IC0gbWluID09PSAwKSB7Ly8gV2hlbiB0aGVyZSBpcyBvbmx5IGEgc2luZ2xlIGRhdGFQb2ludCBvciB3aGVuIGFsbCBkYXRhUG9pbnRzIGhhdmUgc2FtZSBZIFZhbHVlXG5cdFx0XHRcdFx0cmFuZ2VQYWRkaW5nID0gTWF0aC5taW4oTWF0aC5hYnMoTWF0aC5hYnMobWF4KSAqIC4wMSksIDUpO1xuXHRcdFx0XHRcdG1heCArPSByYW5nZVBhZGRpbmc7XG5cdFx0XHRcdFx0bWluIC09IHJhbmdlUGFkZGluZztcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChtaW4gPiBtYXgpIHtcblx0XHRcdFx0XHRyYW5nZVBhZGRpbmcgPSBNYXRoLm1pbihNYXRoLmFicyhNYXRoLmFicyhtYXggLSBtaW4pICogLjAxKSwgNSk7XG5cblx0XHRcdFx0XHRpZiAobWF4ID49IDApXG5cdFx0XHRcdFx0XHRtaW4gPSBtYXggLSByYW5nZVBhZGRpbmc7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0bWF4ID0gbWluICsgcmFuZ2VQYWRkaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXG5cdFx0XHRcdFx0cmFuZ2VQYWRkaW5nID0gTWF0aC5taW4oTWF0aC5hYnMoTWF0aC5hYnMobWF4IC0gbWluKSAqIC4wMSksIC4wNSk7XG5cblx0XHRcdFx0XHRpZiAobWF4ICE9PSAwKVxuXHRcdFx0XHRcdFx0bWF4ICs9IHJhbmdlUGFkZGluZztcblx0XHRcdFx0XHRpZiAobWluICE9PSAwKVxuXHRcdFx0XHRcdFx0bWluIC09IHJhbmdlUGFkZGluZztcblx0XHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5kYXRhSW5mby5taW5EaWZmICE9PSBJbmZpbml0eSlcblx0XHRcdFx0bWluRGlmZiA9IHRoaXMuZGF0YUluZm8ubWluRGlmZjtcblx0XHRcdGVsc2UgaWYgKG1heCAtIG1pbiA+IDEpIHtcblx0XHRcdFx0bWluRGlmZiA9IE1hdGguYWJzKG1heCAtIG1pbikgKiAuNTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRtaW5EaWZmID0gMTtcblx0XHRcdH1cblxuXG5cdFx0XHQvL0FwcGx5IGluY2x1ZGVaZXJvXG5cdFx0XHRpZiAodGhpcy5pbmNsdWRlWmVybyAmJiAodGhpcy5taW5pbXVtID09PSBudWxsIHx8IGlzTmFOKHRoaXMubWluaW11bSkpKSB7XG5cdFx0XHRcdGlmIChtaW4gPiAwKVxuXHRcdFx0XHRcdG1pbiA9IDA7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5pbmNsdWRlWmVybyAmJiAodGhpcy5tYXhpbXVtID09PSBudWxsIHx8IGlzTmFOKHRoaXMubWF4aW11bSkpKSB7XG5cdFx0XHRcdGlmIChtYXggPCAwKVxuXHRcdFx0XHRcdG1heCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmFuZ2UgPSBtYXggLSBtaW47XG5cblx0XHRpZiAodGhpcy50eXBlID09PSBcImF4aXNYXCIgJiYgdGhpcy5jaGFydC5wbG90SW5mby5heGlzWFZhbHVlVHlwZSA9PT0gXCJkYXRlVGltZVwiKSB7XG5cblx0XHRcdGlmICh0aGlzLm1pbmltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy5taW5pbXVtKSlcblx0XHRcdFx0dGhpcy5taW5pbXVtID0gbWluIC0gbWluRGlmZiAvIDI7XG5cblx0XHRcdGlmICh0aGlzLm1heGltdW0gPT09IG51bGwgfHwgaXNOYU4odGhpcy5tYXhpbXVtKSlcblx0XHRcdFx0dGhpcy5tYXhpbXVtID0gbWF4ICsgbWluRGlmZiAvIDI7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0aGlzLmludGVydmFsVHlwZSA9IFwibnVtYmVyXCI7XG5cblx0XHRcdGlmICh0aGlzLm1pbmltdW0gPT09IG51bGwpIHtcblx0XHRcdFx0aWYgKHRoaXMudHlwZSA9PT0gXCJheGlzWFwiKVxuXHRcdFx0XHRcdHRoaXMubWluaW11bSA9IG1pbiAtIG1pbkRpZmYgLyAyO1xuXHRcdGVsc2Vcblx0XHRcdHRoaXMubWluaW11bSA9IE1hdGguZmxvb3IobWluIC8gdGhpcy5pbnRlcnZhbCkgKiB0aGlzLmludGVydmFsO1xuXG5cdFx0XHRcdHRoaXMubWluaW11bSA9IE1hdGgubWluKHRoaXMubWluaW11bSwgdGhpcy5zZXNzaW9uVmFyaWFibGVzLnZpZXdwb3J0TWluaW11bSA9PT0gbnVsbCB8fCBpc05hTih0aGlzLnNlc3Npb25WYXJpYWJsZXMudmlld3BvcnRNaW5pbXVtKSA/IEluZmluaXR5IDogdGhpcy5zZXNzaW9uVmFyaWFibGVzLnZpZXdwb3J0TWluaW11bSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLm1heGltdW0gPT09IG51bGwpIHtcblx0XHRcdFx0aWYgKHRoaXMudHlwZSA9PT0gXCJheGlzWFwiKVxuXHRcdFx0XHRcdHRoaXMubWF4aW11bSA9IG1heCArIG1pbkRpZmYgLyAyO1xuXHRcdGVsc2Vcblx0XHRcdHRoaXMubWF4aW11bSA9IE1hdGguY2VpbChtYXggLyB0aGlzLmludGVydmFsKSAqIHRoaXMuaW50ZXJ2YWw7XG5cblx0XHRcdFx0dGhpcy5tYXhpbXVtID0gTWF0aC5tYXgodGhpcy5tYXhpbXVtLCB0aGlzLnNlc3Npb25WYXJpYWJsZXMudmlld3BvcnRNYXhpbXVtID09PSBudWxsIHx8IGlzTmFOKHRoaXMuc2Vzc2lvblZhcmlhYmxlcy52aWV3cG9ydE1heGltdW0pID8gLUluZmluaXR5IDogdGhpcy5zZXNzaW9uVmFyaWFibGVzLnZpZXdwb3J0TWF4aW11bSk7XG5cdFx0XHR9XG5cblx0XHQvL3ZhciBuZnJhYyA9IE1hdGgubWF4KC1NYXRoLmZsb29yKE1hdGgubG9nKGQpL01hdGguTE4xMCksIDApOyAvL251bWJlciBvZiBmcmFjdGlvbmFsIGRpZ2l0cyB0byBzaG93XG5cblxuXHRcdGlmICh0aGlzLm1heGltdW0gPT09IDAgJiYgdGhpcy5taW5pbXVtID09PSAwKSB7XG5cblx0XHRcdGlmICh0aGlzLl9vcHRpb25zLm1pbmltdW0gPT09IDApIHtcblx0XHRcdFx0dGhpcy5tYXhpbXVtICs9IDEwO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAodGhpcy5fb3B0aW9ucy5tYXhpbXVtID09PSAwKSB7XG5cdFx0XHRcdHRoaXMubWluaW11bSAtPSAxMDtcblx0XHRcdH1cblx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0dGhpcy52aWV3cG9ydE1pbmltdW0gPSBNYXRoLm1heCh0aGlzLnZpZXdwb3J0TWluaW11bSwgdGhpcy5taW5pbXVtKTtcblx0dGhpcy52aWV3cG9ydE1heGltdW0gPSBNYXRoLm1pbih0aGlzLnZpZXdwb3J0TWF4aW11bSwgdGhpcy5tYXhpbXVtKTtcblxuXHRpZiAodGhpcy50eXBlID09PSBcImF4aXNYXCIgJiYgdGhpcy5jaGFydC5wbG90SW5mby5heGlzWFZhbHVlVHlwZSA9PT0gXCJkYXRlVGltZVwiKVxuXHRcdHRoaXMuaW50ZXJ2YWxTdGFydFBvc2l0aW9uID0gdGhpcy5nZXRMYWJlbFN0YXJ0UG9pbnQobmV3IERhdGUodGhpcy52aWV3cG9ydE1pbmltdW0pLCB0aGlzLmludGVydmFsVHlwZSwgdGhpcy5pbnRlcnZhbCk7XG5cdGVsc2Vcblx0XHR0aGlzLmludGVydmFsU3RhcnRQb3NpdGlvbiA9IE1hdGguZmxvb3IoKHRoaXMudmlld3BvcnRNaW5pbXVtICsgKHRoaXMuaW50ZXJ2YWwgKiAuMikpIC8gdGhpcy5pbnRlcnZhbCkgKiB0aGlzLmludGVydmFsO1xuXG5cdC8vU2V0IHZhbHVlRm9ybWF0U3RyaW5nXG5cdGlmICghdGhpcy52YWx1ZUZvcm1hdFN0cmluZykge1xuXHRcdHRoaXMudmFsdWVGb3JtYXRTdHJpbmcgPSBcIiMsIyMwLiMjXCI7XG5cblx0XHRyYW5nZSA9IE1hdGguYWJzKHRoaXMudmlld3BvcnRNYXhpbXVtIC0gdGhpcy52aWV3cG9ydE1pbmltdW0pO1xuXG5cdFx0aWYgKHJhbmdlIDwgMSkge1xuXHRcdFx0dmFyIG51bWJlck9mRGVjaW1hbHMgPSBNYXRoLmZsb29yKE1hdGguYWJzKE1hdGgubG9nKHJhbmdlKSAvIE1hdGguTE4xMCkpICsgMjtcblxuXHRcdFx0aWYgKGlzTmFOKG51bWJlck9mRGVjaW1hbHMpIHx8ICFpc0Zpbml0ZShudW1iZXJPZkRlY2ltYWxzKSlcblx0XHRcdFx0bnVtYmVyT2ZEZWNpbWFscyA9IDI7XG5cblx0XHRcdGlmIChudW1iZXJPZkRlY2ltYWxzID4gMikge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mRGVjaW1hbHMgLSAyOyBpKyspXG5cdFx0XHRcdFx0dGhpcy52YWx1ZUZvcm1hdFN0cmluZyArPSBcIiNcIjtcblx0XHRcdH1cblx0XHR9XG5cblx0fVxuXG5cdC8vaWYgKGlzRGVidWdNb2RlICYmIHdpbmRvdy5jb25zb2xlKSB7XG5cdC8vICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnR5cGUgKyBcIjogTWluID0gXCIgKyB0aGlzLnZpZXdwb3J0TWluaW11bSk7XG5cdC8vICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnR5cGUgKyBcIjogTWF4ID0gXCIgKyB0aGlzLnZpZXdwb3J0TWF4aW11bSk7XG5cdC8vICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnR5cGUgKyBcIjogSW50ZXJ2YWwgPSBcIiArIHRoaXMuaW50ZXJ2YWwpO1xuXHQvL31cbn1cblxuQXhpcy5nZXROaWNlTnVtYmVyID0gZnVuY3Rpb24gKHgsIHJvdW5kKSB7XG5cblx0dmFyIGV4cCA9IE1hdGguZmxvb3IoTWF0aC5sb2coeCkgLyBNYXRoLkxOMTApO1xuXHR2YXIgZiA9IHggLyBNYXRoLnBvdygxMCwgZXhwKTtcblx0dmFyIG5mO1xuXG5cdGlmIChyb3VuZCkge1xuXHRcdGlmIChmIDwgMS41KVxuXHRcdFx0bmYgPSAxO1xuXHRcdGVsc2UgaWYgKGYgPCAzKVxuXHRcdFx0bmYgPSAyO1xuXHRcdGVsc2UgaWYgKGYgPCA3KVxuXHRcdFx0bmYgPSA1O1xuXHRcdGVsc2Vcblx0XHRcdG5mID0gMTA7XG5cdH1cblx0ZWxzZSB7XG5cdFx0aWYgKGYgPD0gMSlcblx0XHRcdG5mID0gMTtcblx0XHRlbHNlIGlmIChmIDw9IDIpXG5cdFx0XHRuZiA9IDI7XG5cdFx0ZWxzZSBpZiAoZiA8PSA1KVxuXHRcdFx0bmYgPSA1O1xuXHRcdGVsc2UgbmYgPSAxMDtcblx0fVxuXG5cdHJldHVybiBOdW1iZXIoKG5mICogTWF0aC5wb3coMTAsIGV4cCkpLnRvRml4ZWQoMjApKTtcbn1cblxuQXhpcy5wcm90b3R5cGUuZ2V0TGFiZWxTdGFydFBvaW50ID0gZnVuY3Rpb24gKCkge1xuXG5cdHZhciBpbnRlcnZhbEluTWlsbGlzZWNvbmRzID0gY29udmVydFRvTnVtYmVyKHRoaXMuaW50ZXJ2YWwsIHRoaXMuaW50ZXJ2YWxUeXBlKTtcblx0dmFyIG1pbmltdW0gPSBNYXRoLmZsb29yKCh0aGlzLnZpZXdwb3J0TWluaW11bSkgLyBpbnRlcnZhbEluTWlsbGlzZWNvbmRzKSAqIGludGVydmFsSW5NaWxsaXNlY29uZHM7XG5cdHZhciBkYXRlVGltZSA9IG5ldyBEYXRlKG1pbmltdW0pO1xuXG5cdGlmICh0aGlzLmludGVydmFsVHlwZSA9PT0gXCJtaWxsaXNlY29uZFwiKSB7XG5cdFx0Ly9taWxsaXNlY29uZCA9IGRhdGVUaW1lLmdldE1pbGxpU2Vjb25kKCk7XG5cdFx0Ly9taWxsaXNlY29uZCA9IE1hdGguZmxvb3IoKG1pbGxpc2Vjb25kICsgdGhpcy5pbnRlcnZhbCkgLyB0aGlzLmludGVydmFsKSAqIHRoaXMuaW50ZXJ2YWw7XG5cdH1cblx0ZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwic2Vjb25kXCIpIHtcblx0XHRpZiAoZGF0ZVRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgPiAwKSB7XG5cdFx0XHRkYXRlVGltZS5zZXRTZWNvbmRzKGRhdGVUaW1lLmdldFNlY29uZHMoKSArIDEpO1xuXHRcdFx0ZGF0ZVRpbWUuc2V0TWlsbGlzZWNvbmRzKDApO1xuXHRcdH1cblx0fVxuXHRlbHNlIGlmICh0aGlzLmludGVydmFsVHlwZSA9PT0gXCJtaW51dGVcIikge1xuXHRcdGlmIChkYXRlVGltZS5nZXRTZWNvbmRzKCkgPiAwIHx8IGRhdGVUaW1lLmdldE1pbGxpc2Vjb25kcygpID4gMCkge1xuXHRcdFx0ZGF0ZVRpbWUuc2V0TWludXRlcyhkYXRlVGltZS5nZXRNaW51dGVzKCkgKyAxKTtcblx0XHRcdGRhdGVUaW1lLnNldFNlY29uZHMoMCk7XG5cdFx0XHRkYXRlVGltZS5zZXRNaWxsaXNlY29uZHMoMCk7XG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcImhvdXJcIikge1xuXHRcdGlmIChkYXRlVGltZS5nZXRNaW51dGVzKCkgPiAwIHx8IGRhdGVUaW1lLmdldFNlY29uZHMoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgPiAwKSB7XG5cdFx0XHRkYXRlVGltZS5zZXRIb3VycyhkYXRlVGltZS5nZXRIb3VycygpICsgMSk7XG5cdFx0XHRkYXRlVGltZS5zZXRNaW51dGVzKDApO1xuXHRcdFx0ZGF0ZVRpbWUuc2V0U2Vjb25kcygwKTtcblx0XHRcdGRhdGVUaW1lLnNldE1pbGxpc2Vjb25kcygwKTtcblx0XHR9XG5cdH1cblx0ZWxzZSBpZiAodGhpcy5pbnRlcnZhbFR5cGUgPT09IFwiZGF5XCIpIHtcblx0XHRpZiAoZGF0ZVRpbWUuZ2V0SG91cnMoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0TWludXRlcygpID4gMCB8fCBkYXRlVGltZS5nZXRTZWNvbmRzKCkgPiAwIHx8IGRhdGVUaW1lLmdldE1pbGxpc2Vjb25kcygpID4gMCkge1xuXHRcdFx0ZGF0ZVRpbWUuc2V0RGF0ZShkYXRlVGltZS5nZXREYXRlKCkgKyAxKTtcblx0XHRcdGRhdGVUaW1lLnNldEhvdXJzKDApO1xuXHRcdFx0ZGF0ZVRpbWUuc2V0TWludXRlcygwKTtcblx0XHRcdGRhdGVUaW1lLnNldFNlY29uZHMoMCk7XG5cdFx0XHRkYXRlVGltZS5zZXRNaWxsaXNlY29uZHMoMCk7XG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcIndlZWtcIikge1xuXHRcdGlmIChkYXRlVGltZS5nZXREYXkoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0SG91cnMoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0TWludXRlcygpID4gMCB8fCBkYXRlVGltZS5nZXRTZWNvbmRzKCkgPiAwIHx8IGRhdGVUaW1lLmdldE1pbGxpc2Vjb25kcygpID4gMCkge1xuXHRcdFx0ZGF0ZVRpbWUuc2V0RGF0ZShkYXRlVGltZS5nZXREYXRlKCkgKyAoNyAtIGRhdGVUaW1lLmdldERheSgpKSk7XG5cdFx0XHRkYXRlVGltZS5zZXRIb3VycygwKTtcblx0XHRcdGRhdGVUaW1lLnNldE1pbnV0ZXMoMCk7XG5cdFx0XHRkYXRlVGltZS5zZXRTZWNvbmRzKDApO1xuXHRcdFx0ZGF0ZVRpbWUuc2V0TWlsbGlzZWNvbmRzKDApO1xuXHRcdH1cblx0fVxuXHRlbHNlIGlmICh0aGlzLmludGVydmFsVHlwZSA9PT0gXCJtb250aFwiKSB7XG5cdFx0aWYgKGRhdGVUaW1lLmdldERhdGUoKSA+IDEgfHwgZGF0ZVRpbWUuZ2V0SG91cnMoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0TWludXRlcygpID4gMCB8fCBkYXRlVGltZS5nZXRTZWNvbmRzKCkgPiAwIHx8IGRhdGVUaW1lLmdldE1pbGxpc2Vjb25kcygpID4gMCkge1xuXHRcdFx0ZGF0ZVRpbWUuc2V0TW9udGgoZGF0ZVRpbWUuZ2V0TW9udGgoKSArIDEpO1xuXHRcdFx0ZGF0ZVRpbWUuc2V0RGF0ZSgxKTtcblx0XHRcdGRhdGVUaW1lLnNldEhvdXJzKDApO1xuXHRcdFx0ZGF0ZVRpbWUuc2V0TWludXRlcygwKTtcblx0XHRcdGRhdGVUaW1lLnNldFNlY29uZHMoMCk7XG5cdFx0XHRkYXRlVGltZS5zZXRNaWxsaXNlY29uZHMoMCk7XG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxUeXBlID09PSBcInllYXJcIikge1xuXHRcdGlmIChkYXRlVGltZS5nZXRNb250aCgpID4gMCB8fCBkYXRlVGltZS5nZXREYXRlKCkgPiAxIHx8IGRhdGVUaW1lLmdldEhvdXJzKCkgPiAwIHx8IGRhdGVUaW1lLmdldE1pbnV0ZXMoKSA+IDAgfHwgZGF0ZVRpbWUuZ2V0U2Vjb25kcygpID4gMCB8fCBkYXRlVGltZS5nZXRNaWxsaXNlY29uZHMoKSA+IDApIHtcblx0XHRcdGRhdGVUaW1lLnNldEZ1bGxZZWFyKGRhdGVUaW1lLmdldEZ1bGxZZWFyKCkgKyAxKTtcblx0XHRcdGRhdGVUaW1lLnNldE1vbnRoKDApO1xuXHRcdFx0ZGF0ZVRpbWUuc2V0RGF0ZSgxKTtcblx0XHRcdGRhdGVUaW1lLnNldEhvdXJzKDApO1xuXHRcdFx0ZGF0ZVRpbWUuc2V0TWludXRlcygwKTtcblx0XHRcdGRhdGVUaW1lLnNldFNlY29uZHMoMCk7XG5cdFx0XHRkYXRlVGltZS5zZXRNaWxsaXNlY29uZHMoMCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRhdGVUaW1lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBeGlzO1xuIiwiaW1wb3J0IHt0aGVtZXN9IGZyb20gJy4uL2NvbnN0YW50cy90aGVtZXMnO1xuaW1wb3J0IHtpc0RlYnVnTW9kZSwgZGVmYXVsdE9wdGlvbnN9IGZyb20gJy4uL2NvbnN0YW50cy9vcHRpb25zJztcblxuZnVuY3Rpb24gQ2FudmFzSlNPYmplY3QoZGVmYXVsdHNLZXksIG9wdGlvbnMsIHRoZW1lLCBwYXJlbnQpIHtcbiAgdGhpcy5fZGVmYXVsdHNLZXkgPSBkZWZhdWx0c0tleTtcblxuICB0aGlzLnBhcmVudCA9IHBhcmVudDtcblxuICB0aGlzLl9ldmVudExpc3RlbmVycyA9IFtdOy8vTXVsdGlkaW1lbnRpb25hbCBhcnJheSB3aXRoIGFuIGFycmF5IGZvciBlYWNoIGV2ZW50IHR5cGVcblxuICB2YXIgY3VycmVudFRoZW1lT3B0aW9ucyA9IHt9O1xuXG4gIGlmICh0aGVtZSAmJiB0aGVtZXNbdGhlbWVdICYmIHRoZW1lc1t0aGVtZV1bZGVmYXVsdHNLZXldKVxuICAgIGN1cnJlbnRUaGVtZU9wdGlvbnMgPSB0aGVtZXNbdGhlbWVdW2RlZmF1bHRzS2V5XTtcblxuICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcbiAgdGhpcy5zZXRPcHRpb25zKHRoaXMuX29wdGlvbnMsIGN1cnJlbnRUaGVtZU9wdGlvbnMpO1xufVxuXG5DYW52YXNKU09iamVjdC5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zLCBjdXJyZW50VGhlbWVPcHRpb25zKSB7XG5cbiAgaWYgKCFkZWZhdWx0T3B0aW9uc1t0aGlzLl9kZWZhdWx0c0tleV0pIHtcbiAgICBpZiAoaXNEZWJ1Z01vZGUgJiYgd2luZG93LmNvbnNvbGUpXG4gICAgICBjb25zb2xlLmxvZyhcImRlZmF1bHRzIG5vdCBzZXRcIik7XG4gIH1cbiAgZWxzZSB7XG4gICAgdmFyIGRlZmF1bHRzID0gZGVmYXVsdE9wdGlvbnNbdGhpcy5fZGVmYXVsdHNLZXldO1xuXG4gICAgZm9yICh2YXIgcHJvcCBpbiBkZWZhdWx0cykge1xuXG4gICAgICBpZiAoZGVmYXVsdHMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIGlmIChvcHRpb25zICYmIHByb3AgaW4gb3B0aW9ucylcbiAgICAgICAgdGhpc1twcm9wXSA9IG9wdGlvbnNbcHJvcF07XG4gICAgICBlbHNlIGlmIChjdXJyZW50VGhlbWVPcHRpb25zICYmIHByb3AgaW4gY3VycmVudFRoZW1lT3B0aW9ucylcbiAgICAgICAgdGhpc1twcm9wXSA9IGN1cnJlbnRUaGVtZU9wdGlvbnNbcHJvcF07XG4gICAgICBlbHNlIHRoaXNbcHJvcF0gPSBkZWZhdWx0c1twcm9wXTtcblxuICAgICAgLy9pZiAodHlwZW9mIHRoaXNbcHJvcF0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgLy8gICAgYWxlcnQoXCJmdW5jdGlvblwiKTtcbiAgICAgIC8vICAgIHRoaXNbcHJvcF0gPSB0aGlzW3Byb3BdKCk7XG4gICAgICAvL31cbiAgICB9XG5cbiAgfVxuICB9XG59O1xuXG4vLyBVcGRhdGUgb3B0aW9ucy4gUmV0dXJucyB0cnVlIGlmIGNoYW5nZWQgb3IgZWxzZSBmYWxzZVxuQ2FudmFzSlNPYmplY3QucHJvdG90eXBlLnVwZGF0ZU9wdGlvbiA9IGZ1bmN0aW9uIChwcm9wKSB7XG5cbiAgaWYgKCFkZWZhdWx0T3B0aW9uc1t0aGlzLl9kZWZhdWx0c0tleV0gJiYgaXNEZWJ1Z01vZGUgJiYgd2luZG93LmNvbnNvbGUpXG4gICAgY29uc29sZS5sb2coXCJkZWZhdWx0cyBub3Qgc2V0XCIpO1xuXG4gIHZhciBkZWZhdWx0cyA9IGRlZmF1bHRPcHRpb25zW3RoaXMuX2RlZmF1bHRzS2V5XTtcbiAgdmFyIHRoZW1lID0gdGhpcy5fb3B0aW9ucy50aGVtZSA/IHRoaXMuX29wdGlvbnMudGhlbWUgOiAodGhpcy5jaGFydCAmJiB0aGlzLmNoYXJ0Ll9vcHRpb25zLnRoZW1lKSA/IHRoaXMuY2hhcnQuX29wdGlvbnMudGhlbWUgOiBcInRoZW1lMVwiO1xuXG4gIHZhciBjdXJyZW50VGhlbWVPcHRpb25zID0ge307XG4gIHZhciBuZXdWYWx1ZSA9IHRoaXNbcHJvcF07XG5cbiAgaWYgKHRoZW1lICYmIHRoZW1lc1t0aGVtZV0gJiYgdGhlbWVzW3RoZW1lXVt0aGlzLl9kZWZhdWx0c0tleV0pXG4gICAgY3VycmVudFRoZW1lT3B0aW9ucyA9IHRoZW1lc1t0aGVtZV1bdGhpcy5fZGVmYXVsdHNLZXldO1xuXG4gIGlmIChwcm9wIGluIGRlZmF1bHRzKSB7XG4gICAgaWYgKHByb3AgaW4gdGhpcy5fb3B0aW9ucylcbiAgICAgIG5ld1ZhbHVlID0gdGhpcy5fb3B0aW9uc1twcm9wXTtcbiAgICBlbHNlIGlmIChjdXJyZW50VGhlbWVPcHRpb25zICYmIHByb3AgaW4gY3VycmVudFRoZW1lT3B0aW9ucylcbiAgICAgIG5ld1ZhbHVlID0gY3VycmVudFRoZW1lT3B0aW9uc1twcm9wXTtcbiAgICBlbHNlIG5ld1ZhbHVlID0gZGVmYXVsdHNbcHJvcF07XG4gIH1cblxuICBpZiAobmV3VmFsdWUgPT09IHRoaXNbcHJvcF0pXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHRoaXNbcHJvcF0gPSBuZXdWYWx1ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vU3RvcmVzIHZhbHVlcyBpbiBfb2xkT3B0aW9ucyBzbyB0aGF0IGl0IGNhbiBiZSB0cmFja2VkIGZvciBhbnkgY2hhbmdlc1xuQ2FudmFzSlNPYmplY3QucHJvdG90eXBlLnRyYWNrQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgaWYgKCF0aGlzLnNlc3Npb25WYXJpYWJsZXMpXG4gICAgdGhyb3cgXCJTZXNzaW9uIFZhcmlhYmxlIFN0b3JlIG5vdCBzZXRcIjtcblxuICB0aGlzLnNlc3Npb25WYXJpYWJsZXNbb3B0aW9uXSA9IHRoaXMuX29wdGlvbnNbb3B0aW9uXTtcbn07XG5cbkNhbnZhc0pTT2JqZWN0LnByb3RvdHlwZS5pc0JlaW5nVHJhY2tlZCA9IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgaWYgKCF0aGlzLl9vcHRpb25zLl9vbGRPcHRpb25zKVxuICAgIHRoaXMuX29wdGlvbnMuX29sZE9wdGlvbnMgPSB7fTtcblxuICBpZiAodGhpcy5fb3B0aW9ucy5fb2xkT3B0aW9uc1tvcHRpb25dKVxuICAgIHJldHVybiB0cnVlO1xuICBlbHNlXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuQ2FudmFzSlNPYmplY3QucHJvdG90eXBlLmhhc09wdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiAob3B0aW9uKSB7XG4gIGlmICghdGhpcy5zZXNzaW9uVmFyaWFibGVzKVxuICAgIHRocm93IFwiU2Vzc2lvbiBWYXJpYWJsZSBTdG9yZSBub3Qgc2V0XCI7XG5cbiAgdmFyIGhhc0NoYW5nZWQgPSAhKHRoaXMuc2Vzc2lvblZhcmlhYmxlc1tvcHRpb25dID09PSB0aGlzLl9vcHRpb25zW29wdGlvbl0pO1xuXG4gIHJldHVybiBoYXNDaGFuZ2VkO1xufTtcblxuQ2FudmFzSlNPYmplY3QucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIsIGNvbnRleHQpIHtcbiAgaWYgKCFldmVudE5hbWUgfHwgIWV2ZW50SGFuZGxlcilcbiAgICByZXR1cm47XG5cbiAgY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcblxuICB0aGlzLl9ldmVudExpc3RlbmVyc1tldmVudE5hbWVdID0gdGhpcy5fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXSB8fCBbXTtcblxuICB0aGlzLl9ldmVudExpc3RlbmVyc1tldmVudE5hbWVdLnB1c2goeyBjb250ZXh0OiBjb250ZXh0LCBldmVudEhhbmRsZXI6IGV2ZW50SGFuZGxlciB9KTtcbn1cblxuQ2FudmFzSlNPYmplY3QucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcbiAgaWYgKCFldmVudE5hbWUgfHwgIWV2ZW50SGFuZGxlciB8fCAhdGhpcy5fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXSlcbiAgICByZXR1cm47XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICBpZiAobGlzdGVuZXJzW2ldLmV2ZW50SGFuZGxlciA9PT0gZXZlbnRIYW5kbGVyKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0uc3BsaWNlKGksIDEpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbkNhbnZhc0pTT2JqZWN0LnByb3RvdHlwZS5yZW1vdmVBbGxFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fZXZlbnRMaXN0ZW5lcnMgPSBbXTtcbn1cblxuQ2FudmFzSlNPYmplY3QucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudFBhcmFtZXRlciwgY29udGV4dCkge1xuXG4gIC8vRm9yIEludGVybmFsIEV2ZW50c1xuICBpZiAoZXZlbnROYW1lICYmIHRoaXMuX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0pIHtcblxuICBldmVudFBhcmFtZXRlciA9IGV2ZW50UGFyYW1ldGVyIHx8IHt9O1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudExpc3RlbmVyc1tldmVudE5hbWVdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuXG4gICAgbGlzdGVuZXJzW2ldLmV2ZW50SGFuZGxlci5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBldmVudFBhcmFtZXRlcik7XG4gIH1cbn1cblxuICAvL0V4dGVybmFsIEV2ZW50cyBkbyBub3QgcmVxdWlyZSByZWdpc3RlcmluZyBhcyB0aGUgcHJvcGVydHkgbmFtZSBpcyBzdWZmaWVudCB0byBmaXJlIHRoZSBldmVudC5cbiAgaWYgKHR5cGVvZiAodGhpc1tldmVudE5hbWVdKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdGhpc1tldmVudE5hbWVdLmNhbGwoY29udGV4dCB8fCB0aGlzLmNoYXJ0Ll9wdWJsaWNDaGFydFJlZmVyZW5jZSwgZXZlbnRQYXJhbWV0ZXIpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc0pTT2JqZWN0O1xuIiwiXG5pbXBvcnQgQ2FudmFzSlNPYmplY3QgZnJvbSAnLi9jYW52YXNqcyc7XG5pbXBvcnQgQW5pbWF0b3IgZnJvbSAnLi9hbmltYXRvcic7XG5pbXBvcnQgRGF0YVNlcmllcyBmcm9tICcuL2RhdGFfc2VyaWVzJztcbmltcG9ydCBUZXh0QmxvY2sgZnJvbSAnLi90ZXh0X2Jsb2NrJztcbmltcG9ydCBSZW5kZXJIZWxwZXIgZnJvbSAnLi4vaGVscGVycy9yZW5kZXInO1xuaW1wb3J0IExheW91dE1hbmFnZXIgZnJvbSAnLi9sYXlvdXRfbWFuYWdlcic7XG5pbXBvcnQgRXZlbnRNYW5hZ2VyIGZyb20gJy4vZXZlbnRfbWFuYWdlcic7XG5pbXBvcnQgVG9vbFRpcCBmcm9tICcuL3Rvb2x0aXAnO1xuaW1wb3J0IEN1bHR1cmVJbmZvIGZyb20gJy4uL2NvcmUvY3VsdHVyZV9pbmZvJztcbmltcG9ydCBBeGlzIGZyb20gJy4uL2NvcmUvYXhpcyc7XG5pbXBvcnQgVGl0bGUgZnJvbSAnLi4vY29yZS90aXRsZSc7XG5pbXBvcnQgTGVnZW5kIGZyb20gJy4uL2NvcmUvbGVnZW5kJztcbmltcG9ydCBBbmltYXRpb25IZWxwZXIgZnJvbSAnLi4vaGVscGVycy9hbmltYXRvcic7XG5pbXBvcnQge2NvbG9yU2V0c30gZnJvbSAnLi4vY29uc3RhbnRzL3RoZW1lcyc7XG5pbXBvcnQge2lzRGVidWdNb2RlLCBkZWZhdWx0T3B0aW9uc30gZnJvbSAnLi4vY29uc3RhbnRzL29wdGlvbnMnO1xuLy8gaW1wb3J0IHtpbmhlcml0c30gZnJvbSAndXRpbCc7XG5cbmltcG9ydCB7XG5cdGFkZEV2ZW50LFxuXHRzZXRDYW52YXNTaXplLFxuXHRhZGRBcnJheUluZGV4T2YsXG5cdGhpZGUsXG5cdHNob3csXG5cdGdldE1vdXNlQ29vcmRpbmF0ZXMsXG5cdGdldFByb3BlcnR5LFxuXHRpc0NhbnZhc1N1cHBvcnRlZCxcblx0ZXh0ZW5kLFxuXHRjcmVhdGVDYW52YXMsXG5cdGV4dGVuZEN0eCxcblx0Z2V0T2JqZWN0SWQsXG5cdGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8sXG5cdHRyaW1TdHJpbmcsXG5cdG51bWJlckZvcm1hdCxcblx0Z2V0TGluZURhc2hBcnJheSxcblx0aW50VG9IZXhDb2xvclN0cmluZyxcblx0Y29tcGFyZURhdGFQb2ludFhcbn0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmltcG9ydCB7XG5cdFNwbGluZUNoYXJ0LFxuXHRDb2x1bW5DaGFydCxcblx0U3RhY2tlZENvbHVtbkNoYXJ0LFxuXHRTdGFja2VkQ29sdW1uMTAwQ2hhcnQsXG5cdEJhckNoYXJ0LFxuXHRTdGFja2VkQmFyQ2hhcnQsXG5cdFN0YWNrZWRCYXIxMDBDaGFydCxcblx0QXJlYUNoYXJ0LFxuXHRTcGxpbmVBcmVhQ2hhcnQsXG5cdFN0ZXBBcmVhQ2hhcnQsXG5cdFN0YWNrZWRBcmVhQ2hhcnQsXG5cdFN0YWNrZWRBcmVhMTAwQ2hhcnQsXG5cdEJ1YmJsZUNoYXJ0LFxuXHRTY2F0dGVyQ2hhcnQsXG5cdENhbmRsZXN0aWNrQ2hhcnQsXG5cdFJhbmdlQ29sdW1uQ2hhcnQsXG5cdFJhbmdlQmFyQ2hhcnQsXG5cdFJhbmdlQXJlYUNoYXJ0LFxuXHRSYW5nZVNwbGluZUFyZWFDaGFydCxcblx0UGllQ2hhcnRcbn0gZnJvbSAnLi4vY2hhcnRzL2luZGV4JztcblxuZnVuY3Rpb24gQ2hhcnQoY29udGFpbmVySWQsIG9wdGlvbnMsIHB1YmxpY0NoYXJ0UmVmZXJlbmNlKSB7XG5cblx0dGhpcy5fcHVibGljQ2hhcnRSZWZlcmVuY2UgPSBwdWJsaWNDaGFydFJlZmVyZW5jZTtcblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRDaGFydC5iYXNlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgXCJDaGFydFwiLCBvcHRpb25zLCBvcHRpb25zLnRoZW1lID8gb3B0aW9ucy50aGVtZSA6IFwidGhlbWUxXCIpO1xuXG5cdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0dGhpcy5fY29udGFpbmVySWQgPSBjb250YWluZXJJZDtcblx0dGhpcy5fb2JqZWN0c0luaXRpYWxpemVkID0gZmFsc2U7XG5cdHRoaXMuY3R4ID0gbnVsbDtcblx0dGhpcy5vdmVybGFpZENhbnZhc0N0eCA9IG51bGw7XG5cdHRoaXMuX2luZGV4TGFiZWxzID0gW107XG5cdHRoaXMuX3BhblRpbWVySWQgPSAwO1xuXHR0aGlzLl9sYXN0VG91Y2hFdmVudFR5cGUgPSBcIlwiO1xuXHR0aGlzLl9sYXN0VG91Y2hEYXRhID0gbnVsbDtcblx0dGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xuXHR0aGlzLnJlbmRlckNvdW50ID0gMDtcblx0dGhpcy5hbmltYXRlZFJlbmRlciA9IGZhbHNlO1xuXHR0aGlzLmRpc2FibGVUb29sVGlwID0gZmFsc2U7XG5cblxuXHR0aGlzLnBhbkVuYWJsZWQgPSBmYWxzZTtcblx0dGhpcy5fZGVmYXVsdEN1cnNvciA9IFwiZGVmYXVsdFwiO1xuXHR0aGlzLnBsb3RBcmVhID0geyBjYW52YXM6IG51bGwsIGN0eDogbnVsbCwgeDE6IDAsIHkxOiAwLCB4MjogMCwgeTI6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcblx0dGhpcy5fZGF0YUluUmVuZGVyZWRPcmRlciA9IFtdO1xuXG5cdHRoaXMuX2NvbnRhaW5lciA9IHR5cGVvZiAodGhpcy5fY29udGFpbmVySWQpID09PSBcInN0cmluZ1wiID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fY29udGFpbmVySWQpIDogdGhpcy5fY29udGFpbmVySWQ7XG5cblx0aWYgKCF0aGlzLl9jb250YWluZXIpIHtcblx0XHRpZiAod2luZG93LmNvbnNvbGUpXG5cdFx0XHR3aW5kb3cuY29uc29sZS5sb2coXCJDYW52YXNKUyBFcnJvcjogQ2hhcnQgQ29udGFpbmVyIHdpdGggaWQgXFxcIlwiICsgdGhpcy5fY29udGFpbmVySWQgKyBcIlxcXCIgd2FzIG5vdCBmb3VuZFwiKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcblxuXHR2YXIgd2lkdGggPSAwO1xuXHR2YXIgaGVpZ2h0ID0gMDtcblxuXHRpZiAodGhpcy5fb3B0aW9ucy53aWR0aClcblx0XHR3aWR0aCA9IHRoaXMud2lkdGg7XG5cdGVsc2Vcblx0XHR3aWR0aCA9IHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCA+IDAgPyB0aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGggOiB0aGlzLndpZHRoO1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLmhlaWdodClcblx0XHRoZWlnaHQgPSB0aGlzLmhlaWdodDtcblx0ZWxzZVxuXHRcdGhlaWdodCA9IHRoaXMuX2NvbnRhaW5lci5jbGllbnRIZWlnaHQgPiAwID8gdGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodCA6IHRoaXMuaGVpZ2h0O1xuXG5cdHRoaXMud2lkdGggPSB3aWR0aDtcblx0dGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cblx0dGhpcy54MSA9IHRoaXMueTEgPSAwO1xuXHR0aGlzLngyID0gdGhpcy53aWR0aDtcblx0dGhpcy55MiA9IHRoaXMuaGVpZ2h0O1xuXG5cblx0dGhpcy5fc2VsZWN0ZWRDb2xvclNldCA9IHR5cGVvZiAoY29sb3JTZXRzW3RoaXMuY29sb3JTZXRdKSAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbG9yU2V0c1t0aGlzLmNvbG9yU2V0XSA6IGNvbG9yU2V0c1tcImNvbG9yU2V0MVwiXTtcblxuXHR0aGlzLl9jYW52YXNKU0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdHRoaXMuX2NhbnZhc0pTQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FudmFzanMtY2hhcnQtY29udGFpbmVyXCIpO1xuXG5cdHRoaXMuX2NhbnZhc0pTQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXHR0aGlzLl9jYW52YXNKU0NvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImxlZnRcIjtcblx0dGhpcy5fY2FudmFzSlNDb250YWluZXIuc3R5bGUuY3Vyc29yID0gXCJhdXRvXCI7XG5cblx0aWYgKCFpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdHRoaXMuX2NhbnZhc0pTQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMHB4XCI7Ly9JbiBJRTYgdG9vbFRpcCBkb2Vzbid0IHNob3cgYXQgcHJvcGVyIHBvc2l0aW9uIGlmIG5vdCBzZXQuXG5cdH1cblx0dGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2NhbnZhc0pTQ29udGFpbmVyKTtcblxuXG5cdHRoaXMuY2FudmFzID0gY3JlYXRlQ2FudmFzKHdpZHRoLCBoZWlnaHQpO1xuXG5cdHRoaXMuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXHRpZiAodGhpcy5jYW52YXMuZ2V0Q29udGV4dCkge1xuXHRcdC8vdHJ5IHtcblx0XHQvL1x0dGhpcy5jYW52YXMuc3R5bGUuYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZENvbG9yO1xuXHRcdC8vfSBjYXRjaCAoZSkgeyB9XG5cdFx0dGhpcy5fY2FudmFzSlNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xuXHRcdHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdHRoaXMuY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XG5cdFx0ZXh0ZW5kQ3R4KHRoaXMuY3R4KTtcblxuXHR9IGVsc2UgcmV0dXJuO1xuXG5cdC8vdGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XG5cblx0aWYgKCFpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdHRoaXMucGxvdEFyZWEuY2FudmFzID0gY3JlYXRlQ2FudmFzKHdpZHRoLCBoZWlnaHQpO1xuXHRcdHRoaXMucGxvdEFyZWEuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXHRcdHRoaXMucGxvdEFyZWEuY2FudmFzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicGxvdEFyZWFDYW52YXNcIik7XG5cdFx0dGhpcy5fY2FudmFzSlNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5wbG90QXJlYS5jYW52YXMpO1xuXG5cdFx0dGhpcy5wbG90QXJlYS5jdHggPSB0aGlzLnBsb3RBcmVhLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5wbG90QXJlYS5jdHggPSB0aGlzLmN0eDtcblx0fVxuXG5cdHRoaXMub3ZlcmxhaWRDYW52YXMgPSBjcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCk7XG5cdHRoaXMub3ZlcmxhaWRDYW52YXMuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG5cdHRoaXMuX2NhbnZhc0pTQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMub3ZlcmxhaWRDYW52YXMpO1xuXHR0aGlzLm92ZXJsYWlkQ2FudmFzQ3R4ID0gdGhpcy5vdmVybGFpZENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdHRoaXMub3ZlcmxhaWRDYW52YXNDdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcblxuXHR0aGlzLl9ldmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKHRoaXMpO1xuXG5cdGFkZEV2ZW50KHdpbmRvdywgXCJyZXNpemVcIiwgZnVuY3Rpb24gKCkge1xuXHRcdC8vdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgZnVuY3Rpb24gKCkge1xuXG5cdFx0aWYgKF90aGlzLl91cGRhdGVTaXplKCkpXG5cdFx0XHRfdGhpcy5yZW5kZXIoKTtcblx0fSk7XG5cblxuXHR0aGlzLl90b29sQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0dGhpcy5fdG9vbEJhci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhbnZhc2pzLWNoYXJ0LXRvb2xiYXJcIik7XG5cdHRoaXMuX3Rvb2xCYXIuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGFic29sdXRlOyByaWdodDogMXB4OyB0b3A6IDFweDtcIjtcblx0dGhpcy5fY2FudmFzSlNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fdG9vbEJhcik7XG5cblxuXHR0aGlzLmJvdW5kcyA9IHsgeDE6IDAsIHkxOiAwLCB4MjogdGhpcy53aWR0aCwgeTI6IHRoaXMuaGVpZ2h0IH07XG5cblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblx0XHRfdGhpcy5fbW91c2VFdmVudEhhbmRsZXIoZSk7XG5cdH0pO1xuXG5cdGFkZEV2ZW50KHRoaXMub3ZlcmxhaWRDYW52YXMsICdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZSkge1xuXHRcdF90aGlzLl9tb3VzZUV2ZW50SGFuZGxlcihlKTtcblx0fSk7XG5cblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgJ21vdXNldXAnLCBmdW5jdGlvbiAoZSkge1xuXHRcdF90aGlzLl9tb3VzZUV2ZW50SGFuZGxlcihlKTtcblx0fSk7XG5cblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XG5cdFx0X3RoaXMuX21vdXNlRXZlbnRIYW5kbGVyKGUpO1xuXHRcdGhpZGUoX3RoaXMuX2Ryb3Bkb3duTWVudSk7XG5cdH0pO1xuXG5cdGFkZEV2ZW50KHRoaXMub3ZlcmxhaWRDYW52YXMsICdtb3VzZW91dCcsIGZ1bmN0aW9uIChlKSB7XG5cdFx0X3RoaXMuX21vdXNlRXZlbnRIYW5kbGVyKGUpO1xuXHR9KTtcblxuXG5cdGFkZEV2ZW50KHRoaXMub3ZlcmxhaWRDYW52YXMsIHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCA/IFwiTVNQb2ludGVyRG93blwiIDogXCJ0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uIChlKSB7XG5cdFx0X3RoaXMuX3RvdWNoRXZlbnRIYW5kbGVyKGUpO1xuXHR9KTtcblxuXHRhZGRFdmVudCh0aGlzLm92ZXJsYWlkQ2FudmFzLCB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgPyBcIk1TUG9pbnRlck1vdmVcIiA6ICd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZSkge1xuXHRcdF90aGlzLl90b3VjaEV2ZW50SGFuZGxlcihlKTtcblx0fSk7XG5cblx0YWRkRXZlbnQodGhpcy5vdmVybGFpZENhbnZhcywgd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkID8gXCJNU1BvaW50ZXJVcFwiIDogJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0XHRfdGhpcy5fdG91Y2hFdmVudEhhbmRsZXIoZSk7XG5cdH0pO1xuXG5cdGFkZEV2ZW50KHRoaXMub3ZlcmxhaWRDYW52YXMsIHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCA/IFwiTVNQb2ludGVyQ2FuY2VsXCIgOiAndG91Y2hjYW5jZWwnLCBmdW5jdGlvbiAoZSkge1xuXHRcdF90aGlzLl90b3VjaEV2ZW50SGFuZGxlcihlKTtcblx0fSk7XG5cblx0aWYgKCF0aGlzLl9jcmVkaXRMaW5rKSB7XG5cblx0XHR0aGlzLl9jcmVkaXRMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG5cdFx0dGhpcy5fY3JlZGl0TGluay5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhbnZhc2pzLWNoYXJ0LWNyZWRpdFwiKTtcblx0XHR0aGlzLl9jcmVkaXRMaW5rLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwib3V0bGluZTpub25lO21hcmdpbjowcHg7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6M3B4O3RvcDpcIiArICh0aGlzLmhlaWdodCAtIDE0KSArIFwicHg7Y29sb3I6ZGltZ3JleTt0ZXh0LWRlY29yYXRpb246bm9uZTtmb250LXNpemU6MTBweDtmb250LWZhbWlseTpMdWNpZGEgR3JhbmRlLCBMdWNpZGEgU2FucyBVbmljb2RlLCBBcmlhbCwgc2Fucy1zZXJpZlwiKTtcblxuXHRcdHRoaXMuX2NyZWRpdExpbmsuc2V0QXR0cmlidXRlKFwidGFiSW5kZXhcIiwgLTEpO1xuXG5cdFx0dGhpcy5fY3JlZGl0TGluay5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIiwgXCJfYmxhbmtcIik7XG5cdH1cblxuXHR0aGlzLl90b29sVGlwID0gbmV3IFRvb2xUaXAodGhpcywgdGhpcy5fb3B0aW9ucy50b29sVGlwLCB0aGlzLnRoZW1lKTtcblxuXHR0aGlzLmRhdGEgPSBudWxsO1xuXHR0aGlzLmF4aXNYID0gbnVsbDtcblx0dGhpcy5heGlzWSA9IG51bGw7XG5cdHRoaXMuYXhpc1kyID0gbnVsbDtcblxuXHR0aGlzLnNlc3Npb25WYXJpYWJsZXMgPSB7XG5cdFx0YXhpc1g6IHt9LFxuXHRcdGF4aXNZOiB7fSxcblx0XHRheGlzWTI6IHt9XG5cdH07XG59XG5cbmV4dGVuZChDaGFydCwgQ2FudmFzSlNPYmplY3QpO1xuXG4vL1VwZGF0ZSBDaGFydCBQcm9wZXJ0aWVzXG5DaGFydC5wcm90b3R5cGUuX3VwZGF0ZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cblx0dmFyIF90aGlzID0gdGhpcztcblxuXHR0aGlzLnVwZGF0ZU9wdGlvbihcIndpZHRoXCIpO1xuXHR0aGlzLnVwZGF0ZU9wdGlvbihcImhlaWdodFwiKTtcblx0dGhpcy51cGRhdGVPcHRpb24oXCJkYXRhUG9pbnRNYXhXaWR0aFwiKTtcblx0dGhpcy51cGRhdGVPcHRpb24oXCJpbnRlcmFjdGl2aXR5RW5hYmxlZFwiKTtcblx0dGhpcy51cGRhdGVPcHRpb24oXCJ0aGVtZVwiKTtcblxuXHRpZiAodGhpcy51cGRhdGVPcHRpb24oXCJjb2xvclNldFwiKSlcblx0XHR0aGlzLl9zZWxlY3RlZENvbG9yU2V0ID0gdHlwZW9mIChjb2xvclNldHNbdGhpcy5jb2xvclNldF0pICE9PSBcInVuZGVmaW5lZFwiID8gY29sb3JTZXRzW3RoaXMuY29sb3JTZXRdIDogY29sb3JTZXRzW1wiY29sb3JTZXQxXCJdO1xuXG5cdHRoaXMudXBkYXRlT3B0aW9uKFwiYmFja2dyb3VuZENvbG9yXCIpO1xuXHRpZiAoIXRoaXMuYmFja2dyb3VuZENvbG9yKVxuXHRcdHRoaXMuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDAsMCwwLDApXCI7XG5cblx0dGhpcy51cGRhdGVPcHRpb24oXCJjdWx0dXJlXCIpO1xuXHR0aGlzLl9jdWx0dXJlSW5mbyA9IG5ldyBDdWx0dXJlSW5mbyh0aGlzLl9vcHRpb25zLmN1bHR1cmUpO1xuXG5cdHRoaXMudXBkYXRlT3B0aW9uKFwiYW5pbWF0aW9uRW5hYmxlZFwiKTtcblx0dGhpcy5hbmltYXRpb25FbmFibGVkID0gdGhpcy5hbmltYXRpb25FbmFibGVkICYmIGlzQ2FudmFzU3VwcG9ydGVkO1xuXHR0aGlzLnVwZGF0ZU9wdGlvbihcImFuaW1hdGlvbkR1cmF0aW9uXCIpO1xuXG5cdHRoaXMudXBkYXRlT3B0aW9uKFwicmFuZ2VDaGFuZ2luZ1wiKTtcblx0dGhpcy51cGRhdGVPcHRpb24oXCJyYW5nZUNoYW5nZWRcIik7XG5cblx0Ly9OZWVkIHRvIGNoZWNrIHRoaXMuX29wdGlvbnMuem9vbUVuYWJsZWQgYmVjYXVzZSB0aGlzLnpvb21FbmFibGVkIGlzIHVzZWQgaW50ZXJuYWxseSB0byBrZWVwIHRyYWNrIG9mIHN0YXRlIC0gYW5kIGhlbmNlIGNoYW5nZXMuXG5cdGlmICh0aGlzLl9vcHRpb25zLnpvb21FbmFibGVkKSB7XG5cblx0XHRpZiAoIXRoaXMuX3pvb21CdXR0b24pIHtcblxuXHRcdFx0aGlkZSh0aGlzLl96b29tQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSk7XG5cblx0XHRcdHNldEJ1dHRvblN0YXRlKHRoaXMsIHRoaXMuX3pvb21CdXR0b24sIFwicGFuXCIpO1xuXG5cdFx0XHR0aGlzLl90b29sQmFyLmFwcGVuZENoaWxkKHRoaXMuX3pvb21CdXR0b24pO1xuXHRcdFx0YWRkRXZlbnQodGhpcy5fem9vbUJ1dHRvbiwgXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmIChfdGhpcy56b29tRW5hYmxlZCkge1xuXHRcdFx0XHRcdF90aGlzLnpvb21FbmFibGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0X3RoaXMucGFuRW5hYmxlZCA9IHRydWU7XG5cblx0XHRcdFx0XHRzZXRCdXR0b25TdGF0ZShfdGhpcywgX3RoaXMuX3pvb21CdXR0b24sIFwiem9vbVwiKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdF90aGlzLnpvb21FbmFibGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRfdGhpcy5wYW5FbmFibGVkID0gZmFsc2U7XG5cblx0XHRcdFx0XHRzZXRCdXR0b25TdGF0ZShfdGhpcywgX3RoaXMuX3pvb21CdXR0b24sIFwicGFuXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X3RoaXMucmVuZGVyKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblxuXHRcdGlmICghdGhpcy5fcmVzZXRCdXR0b24pIHtcblx0XHRcdGhpZGUodGhpcy5fcmVzZXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpKTtcblx0XHRcdHNldEJ1dHRvblN0YXRlKHRoaXMsIHRoaXMuX3Jlc2V0QnV0dG9uLCBcInJlc2V0XCIpO1xuXHRcdFx0dGhpcy5fdG9vbEJhci5hcHBlbmRDaGlsZCh0aGlzLl9yZXNldEJ1dHRvbik7XG5cblx0XHRcdGFkZEV2ZW50KHRoaXMuX3Jlc2V0QnV0dG9uLCBcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRfdGhpcy5fdG9vbFRpcC5oaWRlKCk7XG5cblx0XHRcdFx0aWYgKF90aGlzLnpvb21FbmFibGVkIHx8IF90aGlzLnBhbkVuYWJsZWQpIHtcblx0XHRcdFx0XHRfdGhpcy56b29tRW5hYmxlZCA9IHRydWU7XG5cdFx0XHRcdFx0X3RoaXMucGFuRW5hYmxlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdHNldEJ1dHRvblN0YXRlKF90aGlzLCBfdGhpcy5fem9vbUJ1dHRvbiwgXCJwYW5cIik7XG5cblx0XHRcdFx0XHRfdGhpcy5fZGVmYXVsdEN1cnNvciA9IFwiZGVmYXVsdFwiO1xuXHRcdFx0XHRcdF90aGlzLm92ZXJsYWlkQ2FudmFzLnN0eWxlLmN1cnNvciA9IF90aGlzLl9kZWZhdWx0Q3Vyc29yO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdF90aGlzLnpvb21FbmFibGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0X3RoaXMucGFuRW5hYmxlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vUmVzZXQgYXhpc1hcblx0XHRcdFx0aWYgKF90aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gpIHtcblx0XHRcdFx0XHRfdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWluaW11bSA9IG51bGw7XG5cdFx0XHRcdFx0X3RoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWC5uZXdWaWV3cG9ydE1heGltdW0gPSBudWxsO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9SZXNldCBheGlzWVxuXHRcdFx0XHRpZiAoX3RoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWSkge1xuXHRcdFx0XHRcdF90aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1kubmV3Vmlld3BvcnRNaW5pbXVtID0gbnVsbDtcblx0XHRcdFx0XHRfdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNZLm5ld1ZpZXdwb3J0TWF4aW11bSA9IG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvL1Jlc2V0IGF4aXNZMlxuXHRcdFx0XHRpZiAoX3RoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWTIpIHtcblx0XHRcdFx0XHRfdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNZMi5uZXdWaWV3cG9ydE1pbmltdW0gPSBudWxsO1xuXHRcdFx0XHRcdF90aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1kyLm5ld1ZpZXdwb3J0TWF4aW11bSA9IG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRfdGhpcy5yZXNldE92ZXJsYXllZENhbnZhcygpO1xuXG5cdFx0XHRcdGhpZGUoX3RoaXMuX3pvb21CdXR0b24sIF90aGlzLl9yZXNldEJ1dHRvbik7XG5cblx0XHRcdFx0X3RoaXMuX2Rpc3BhdGNoUmFuZ2VFdmVudChcInJhbmdlQ2hhbmdpbmdcIiwgXCJyZXNldFwiKTtcblx0XHRcdFx0X3RoaXMucmVuZGVyKCk7XG5cdFx0XHRcdF90aGlzLl9kaXNwYXRjaFJhbmdlRXZlbnQoXCJyYW5nZUNoYW5nZWRcIiwgXCJyZXNldFwiKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLm92ZXJsYWlkQ2FudmFzLnN0eWxlLmN1cnNvciA9IF90aGlzLl9kZWZhdWx0Q3Vyc29yO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy56b29tRW5hYmxlZCAmJiAhdGhpcy5wYW5FbmFibGVkKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3pvb21CdXR0b24pIHtcblx0XHRcdFx0dGhpcy56b29tRW5hYmxlZCA9IHRydWU7XG5cdFx0XHRcdHRoaXMucGFuRW5hYmxlZCA9IGZhbHNlO1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRpZiAoX3RoaXMuX3pvb21CdXR0b24uZ2V0QXR0cmlidXRlKFwic3RhdGVcIikgPT09IF90aGlzLl9jdWx0dXJlSW5mby56b29tVGV4dCkge1xuXHRcdFx0XHRcdHRoaXMucGFuRW5hYmxlZCA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy56b29tRW5hYmxlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuem9vbUVuYWJsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdHRoaXMucGFuRW5hYmxlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2hvdyhfdGhpcy5fem9vbUJ1dHRvbiwgX3RoaXMuX3Jlc2V0QnV0dG9uKTtcblx0XHRcdH1cblx0XHR9XG5cblxuXG5cdH0gZWxzZSB7XG5cdFx0dGhpcy56b29tRW5hYmxlZCA9IGZhbHNlO1xuXHRcdHRoaXMucGFuRW5hYmxlZCA9IGZhbHNlO1xuXHR9XG5cblxuXG5cdGlmICh0aGlzLl9tZW51QnV0dG9uKSB7XG5cdFx0aWYgKHRoaXMuZXhwb3J0RW5hYmxlZClcblx0XHRcdHNob3codGhpcy5fbWVudUJ1dHRvbik7XG5cdFx0ZWxzZVxuXHRcdFx0aGlkZSh0aGlzLl9tZW51QnV0dG9uKTtcblx0fSBlbHNlIGlmICh0aGlzLmV4cG9ydEVuYWJsZWQgJiYgaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHR0aGlzLl9tZW51QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRzZXRCdXR0b25TdGF0ZSh0aGlzLCB0aGlzLl9tZW51QnV0dG9uLCBcIm1lbnVcIik7XG5cdFx0dGhpcy5fdG9vbEJhci5hcHBlbmRDaGlsZCh0aGlzLl9tZW51QnV0dG9uKTtcblxuXHRcdGFkZEV2ZW50KHRoaXMuX21lbnVCdXR0b24sIFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKF90aGlzLl9kcm9wZG93bk1lbnUuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcblxuXHRcdFx0XHRpZiAoX3RoaXMuX2Ryb3BEb3duQ2xvc2VUaW1lICYmICgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gX3RoaXMuX2Ryb3BEb3duQ2xvc2VUaW1lLmdldFRpbWUoKSA8PSA1MDApKVxuXHRcdFx0XHRcdHJldHVybjtcblxuXHRcdFx0XHRfdGhpcy5fZHJvcGRvd25NZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cdFx0XHRcdF90aGlzLl9tZW51QnV0dG9uLmJsdXIoKTtcblx0XHRcdFx0X3RoaXMuX2Ryb3Bkb3duTWVudS5mb2N1cygpO1xuXHRcdFx0fVxuXG5cdFx0fSwgdHJ1ZSk7XG5cdH1cblxuXG5cdGlmICghdGhpcy5fZHJvcGRvd25NZW51ICYmIHRoaXMuZXhwb3J0RW5hYmxlZCAmJiBpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdHRoaXMuX2Ryb3Bkb3duTWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0dGhpcy5fZHJvcGRvd25NZW51LnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIC0xKTtcblx0XHR0aGlzLl9kcm9wZG93bk1lbnUuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGFic29sdXRlOyAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOyAtbW96LXVzZXItc2VsZWN0OiBub25lOyAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7IHVzZXItc2VsZWN0OiBub25lOyBjdXJzb3I6IHBvaW50ZXI7cmlnaHQ6IDFweDt0b3A6IDI1cHg7bWluLXdpZHRoOiAxMjBweDtvdXRsaW5lOiAwO2JvcmRlcjogMXB4IHNvbGlkIHNpbHZlcjtmb250LXNpemU6IDE0cHg7Zm9udC1mYW1pbHk6IENhbGlicmksIFZlcmRhbmEsIHNhbnMtc2VyaWY7cGFkZGluZzogNXB4IDBweCA1cHggMHB4O3RleHQtYWxpZ246IGxlZnQ7YmFja2dyb3VuZC1jb2xvcjogI2ZmZjtsaW5lLWhlaWdodDogMjBweDtib3gtc2hhZG93OiAycHggMnB4IDEwcHggIzg4ODg4ODtcIjtcblx0XHRfdGhpcy5fZHJvcGRvd25NZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHR0aGlzLl90b29sQmFyLmFwcGVuZENoaWxkKHRoaXMuX2Ryb3Bkb3duTWVudSk7XG5cblx0XHRhZGRFdmVudCh0aGlzLl9kcm9wZG93bk1lbnUsIFwiYmx1clwiLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRoaWRlKF90aGlzLl9kcm9wZG93bk1lbnUpO1xuXG5cdFx0XHRfdGhpcy5fZHJvcERvd25DbG9zZVRpbWUgPSBuZXcgRGF0ZSgpO1xuXHRcdH0sIHRydWUpO1xuXG5cdFx0dmFyIGV4cG9ydE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0ZXhwb3J0T3B0aW9uLnN0eWxlLmNzc1RleHQgPSBcInBhZGRpbmc6IDJweCAxNXB4IDJweCAxMHB4XCJcblx0XHRleHBvcnRPcHRpb24uaW5uZXJIVE1MID0gdGhpcy5fY3VsdHVyZUluZm8uc2F2ZUpQR1RleHQ7XG5cdFx0dGhpcy5fZHJvcGRvd25NZW51LmFwcGVuZENoaWxkKGV4cG9ydE9wdGlvbik7XG5cblx0XHRhZGRFdmVudChleHBvcnRPcHRpb24sIFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjRUVFRUVFXCI7XG5cdFx0fSwgdHJ1ZSk7XG5cblx0XHRhZGRFdmVudChleHBvcnRPcHRpb24sIFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG5cdFx0fSwgdHJ1ZSk7XG5cblx0XHRhZGRFdmVudChleHBvcnRPcHRpb24sIFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0ZXhwb3J0Q2FudmFzKF90aGlzLmNhbnZhcywgXCJqcGdcIiwgX3RoaXMuZXhwb3J0RmlsZU5hbWUpO1xuXHRcdFx0aGlkZShfdGhpcy5fZHJvcGRvd25NZW51KTtcblx0XHR9LCB0cnVlKTtcblxuXHRcdHZhciBleHBvcnRPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGV4cG9ydE9wdGlvbi5zdHlsZS5jc3NUZXh0ID0gXCJwYWRkaW5nOiAycHggMTVweCAycHggMTBweFwiXG5cdFx0ZXhwb3J0T3B0aW9uLmlubmVySFRNTCA9IHRoaXMuX2N1bHR1cmVJbmZvLnNhdmVQTkdUZXh0O1xuXHRcdHRoaXMuX2Ryb3Bkb3duTWVudS5hcHBlbmRDaGlsZChleHBvcnRPcHRpb24pO1xuXG5cdFx0YWRkRXZlbnQoZXhwb3J0T3B0aW9uLCBcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI0VFRUVFRVwiO1xuXHRcdH0sIHRydWUpO1xuXG5cdFx0YWRkRXZlbnQoZXhwb3J0T3B0aW9uLCBcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuXHRcdH0sIHRydWUpO1xuXG5cdFx0YWRkRXZlbnQoZXhwb3J0T3B0aW9uLCBcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcdGV4cG9ydENhbnZhcyhfdGhpcy5jYW52YXMsIFwicG5nXCIsIF90aGlzLmV4cG9ydEZpbGVOYW1lKTtcblx0XHRcdGhpZGUoX3RoaXMuX2Ryb3Bkb3duTWVudSk7XG5cdFx0fSwgdHJ1ZSk7XG5cdH1cblxuXG5cdGlmICh0aGlzLl90b29sQmFyLnN0eWxlLmRpc3BsYXkgIT09IFwibm9uZVwiICYmIHRoaXMuX3pvb21CdXR0b24pIHtcblxuXHRcdHRoaXMucGFuRW5hYmxlZCA/IHNldEJ1dHRvblN0YXRlKF90aGlzLCBfdGhpcy5fem9vbUJ1dHRvbiwgXCJ6b29tXCIpIDogc2V0QnV0dG9uU3RhdGUoX3RoaXMsIF90aGlzLl96b29tQnV0dG9uLCBcInBhblwiKTtcblxuXG5cdFx0aWYgKF90aGlzLl9yZXNldEJ1dHRvbi5nZXRBdHRyaWJ1dGUoXCJzdGF0ZVwiKSAhPT0gX3RoaXMuX2N1bHR1cmVJbmZvLnJlc2V0VGV4dClcblx0XHRcdHNldEJ1dHRvblN0YXRlKF90aGlzLCBfdGhpcy5fcmVzZXRCdXR0b24sIFwicmVzZXRcIik7XG5cdH1cblxuXHRpZiAodHlwZW9mIChkZWZhdWx0T3B0aW9ucy5DaGFydC5jcmVkaXRIcmVmKSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdHRoaXMuY3JlZGl0SHJlZiA9IFwiaHR0cDovL2NhbnZhc2pzLmNvbS9cIjtcblx0XHR0aGlzLmNyZWRpdFRleHQgPSBcIkNhbnZhc0pTLmNvbVwiO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjcmVkaXRUZXh0Q2hhbmdlZCA9IHRoaXMudXBkYXRlT3B0aW9uKFwiY3JlZGl0VGV4dFwiKTtcblx0XHR2YXIgY3JlZGl0SHJlZkNoYW5nZWQgPSB0aGlzLnVwZGF0ZU9wdGlvbihcImNyZWRpdEhyZWZcIik7XG5cdH1cblxuXHRpZiAodGhpcy5yZW5kZXJDb3VudCA9PT0gMCB8fCAoY3JlZGl0VGV4dENoYW5nZWQgfHwgY3JlZGl0SHJlZkNoYW5nZWQpKSB7XG5cdFx0dGhpcy5fY3JlZGl0TGluay5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIHRoaXMuY3JlZGl0SHJlZik7XG5cdFx0dGhpcy5fY3JlZGl0TGluay5pbm5lckhUTUwgPSB0aGlzLmNyZWRpdFRleHQ7XG5cdH1cblxuXHRpZiAodGhpcy5jcmVkaXRIcmVmICYmIHRoaXMuY3JlZGl0VGV4dCkge1xuXHRcdGlmICghdGhpcy5fY3JlZGl0TGluay5wYXJlbnRFbGVtZW50KVxuXHRcdFx0dGhpcy5fY2FudmFzSlNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY3JlZGl0TGluayk7XG5cdH1cblx0ZWxzZSBpZiAodGhpcy5fY3JlZGl0TGluay5wYXJlbnRFbGVtZW50KVxuXHRcdHRoaXMuX2NhbnZhc0pTQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX2NyZWRpdExpbmspO1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLnRvb2xUaXAgJiYgdGhpcy5fdG9vbFRpcC5fb3B0aW9ucyAhPT0gdGhpcy5fb3B0aW9ucy50b29sVGlwKVxuXHRcdHRoaXMuX3Rvb2xUaXAuX29wdGlvbnMgPSB0aGlzLl9vcHRpb25zLnRvb2xUaXBcblxuXHRmb3IgKHZhciBwcm9wIGluIHRoaXMuX3Rvb2xUaXAuX29wdGlvbnMpIHtcblxuXHRcdGlmICh0aGlzLl90b29sVGlwLl9vcHRpb25zLmhhc093blByb3BlcnR5KHByb3ApKSB7XG5cdFx0XHR0aGlzLl90b29sVGlwLnVwZGF0ZU9wdGlvbihwcm9wKTtcblx0XHR9XG5cdH1cblxufVxuXG5DaGFydC5wcm90b3R5cGUuX3VwZGF0ZVNpemUgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciB3aWR0aCA9IDA7XG5cdHZhciBoZWlnaHQgPSAwO1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLndpZHRoKVxuXHRcdHdpZHRoID0gdGhpcy53aWR0aDtcblx0ZWxzZVxuXHRcdHRoaXMud2lkdGggPSB3aWR0aCA9IHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCA+IDAgPyB0aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGggOiB0aGlzLndpZHRoO1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLmhlaWdodClcblx0XHRoZWlnaHQgPSB0aGlzLmhlaWdodDtcblx0ZWxzZVxuXHRcdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0ID0gdGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodCA+IDAgPyB0aGlzLl9jb250YWluZXIuY2xpZW50SGVpZ2h0IDogdGhpcy5oZWlnaHQ7XG5cblx0aWYgKHRoaXMuY2FudmFzLndpZHRoICE9PSB3aWR0aCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8gfHwgdGhpcy5jYW52YXMuaGVpZ2h0ICE9PSBoZWlnaHQgKiBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvKSB7XG5cdFx0c2V0Q2FudmFzU2l6ZSh0aGlzLmNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG5cblx0XHRzZXRDYW52YXNTaXplKHRoaXMub3ZlcmxhaWRDYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xuXHRcdHNldENhbnZhc1NpemUodGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q2FudmFzLCB3aWR0aCwgaGVpZ2h0KTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyBpbml0aWFsaXplIGNoYXJ0IG9iamVjdHNcbkNoYXJ0LnByb3RvdHlwZS5faW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0Ly8vPHNpZ25hdHVyZT5cblx0Ly8vPHN1bW1hcnk+SW5pdGlhbGl6ZXMgQ2hhcnQgb2JqZWN0cy9zdGF0ZS4gQ3JlYXRlcyBEYXRhU2VyaWVzIGNsYXNzIGluc3RhbmNlIGZvciBlYWNoIERhdGFTZXJpZXMgcHJvdmlkZWQgYnkgdGhlciB1c2VyLiBTZXRzIHRoZSBBeGlzIFR5cGUgYmFzZWQgb24gdGhlIHVzZXIgZGF0YTwvc3VtbWFyeT5cblx0Ly8vPC9zaWduYXR1cmU+XG5cdC8vdGhpcy53aWR0aCA9IHRoaXMud2lkdGg7XG5cblx0aWYgKCF0aGlzLl9hbmltYXRvcilcblx0XHR0aGlzLl9hbmltYXRvciA9IG5ldyBBbmltYXRvcih0aGlzKTtcblx0ZWxzZSB7XG5cdFx0dGhpcy5fYW5pbWF0b3IuY2FuY2VsQWxsQW5pbWF0aW9ucygpO1xuXHR9XG5cblx0dGhpcy5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpO1xuXG5cdHRoaXMuZGlzYWJsZVRvb2xUaXAgPSBmYWxzZTtcblxuXHR0aGlzLl9heGVzID0gW107XG5cblx0dGhpcy5waWVEb3VnaG51dENsaWNrSGFuZGxlciA9IG51bGw7XG5cdC8vdGhpcy5fdG91Y2hDdXJyZW50Q29vcmRpbmF0ZXMgPSBudWxsO1xuXG5cdGlmICh0aGlzLmFuaW1hdGlvblJlcXVlc3RJZClcblx0XHR0aGlzLmNhbmNlbFJlcXVlc3RBbmltRnJhbWUuY2FsbCh3aW5kb3csIHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkKTtcblxuXHR0aGlzLl91cGRhdGVPcHRpb25zKCk7XG5cblx0dGhpcy5hbmltYXRlZFJlbmRlciA9IGlzQ2FudmFzU3VwcG9ydGVkICYmIHRoaXMuYW5pbWF0aW9uRW5hYmxlZCAmJiAodGhpcy5yZW5kZXJDb3VudCA9PT0gMCk7XG5cblx0dGhpcy5fdXBkYXRlU2l6ZSgpO1xuXG5cdC8vdGhpcy5fc2VsZWN0ZWRDb2xvclNldCA9IGNvbG9yU2V0c1tcImNvbG9yU2V0MlwiXTtcblxuXHQvL3RoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG5cdHRoaXMuY2xlYXJDYW52YXMoKTtcblx0dGhpcy5jdHguYmVnaW5QYXRoKCk7XG5cblx0dGhpcy5heGlzWCA9IG51bGw7XG5cdHRoaXMuYXhpc1kgPSBudWxsO1xuXHR0aGlzLmF4aXNZMiA9IG51bGw7XG5cdHRoaXMuX2luZGV4TGFiZWxzID0gW107XG5cdHRoaXMuX2RhdGFJblJlbmRlcmVkT3JkZXIgPSBbXTtcblxuXHR0aGlzLl9ldmVudHMgPSBbXTtcblx0aWYgKHRoaXMuX2V2ZW50TWFuYWdlcilcblx0XHR0aGlzLl9ldmVudE1hbmFnZXIucmVzZXQoKTtcblxuXHR0aGlzLnBsb3RJbmZvID0ge1xuXHRcdGF4aXNQbGFjZW1lbnQ6IG51bGwsXG5cdFx0YXhpc1hWYWx1ZVR5cGU6IG51bGwsXG5cdFx0cGxvdFR5cGVzOiBbXS8vYXJyYXkgb2YgcGxvdFR5cGU6IHt0eXBlOlwiXCIsIGF4aXNZVHlwZTogXCJwcmltYXJ5XCIsIGRhdGFTZXJpZXNJbmRleGVzOltdfVxuXHR9O1xuXG5cdHRoaXMubGF5b3V0TWFuYWdlciA9IG5ldyBMYXlvdXRNYW5hZ2VyKDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAyKTtcblxuXHRpZiAodGhpcy5wbG90QXJlYS5sYXlvdXRNYW5hZ2VyKVxuXHRcdHRoaXMucGxvdEFyZWEubGF5b3V0TWFuYWdlci5yZXNldCgpO1xuXG5cblx0dGhpcy5kYXRhID0gW107XG5cdHZhciBkYXRhU2VyaWVzSW5kZXggPSAwO1xuXG5cdGZvciAodmFyIHNlcmllcyA9IDA7IHNlcmllcyA8IHRoaXMuX29wdGlvbnMuZGF0YS5sZW5ndGg7IHNlcmllcysrKSB7XG5cdFx0Ly9mb3IgKHNlcmllcyBpbiB0aGlzLl9vcHRpb25zLmRhdGEpIHtcblxuXHRcdGRhdGFTZXJpZXNJbmRleCsrO1xuXG5cdFx0aWYgKCEoIXRoaXMuX29wdGlvbnMuZGF0YVtzZXJpZXNdLnR5cGUgfHwgQ2hhcnQuX3N1cHBvcnRlZENoYXJ0VHlwZXMuaW5kZXhPZih0aGlzLl9vcHRpb25zLmRhdGFbc2VyaWVzXS50eXBlKSA+PSAwKSlcblx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0dmFyIGRhdGFTZXJpZXMgPSBuZXcgRGF0YVNlcmllcyh0aGlzLCB0aGlzLl9vcHRpb25zLmRhdGFbc2VyaWVzXSwgdGhpcy50aGVtZSwgZGF0YVNlcmllc0luZGV4IC0gMSwgKyt0aGlzLl9ldmVudE1hbmFnZXIubGFzdE9iamVjdElkKTtcblx0XHRpZiAoZGF0YVNlcmllcy5uYW1lID09PSBudWxsKVxuXHRcdFx0ZGF0YVNlcmllcy5uYW1lID0gXCJEYXRhU2VyaWVzIFwiICsgKGRhdGFTZXJpZXNJbmRleCk7XG5cblx0XHRpZiAoZGF0YVNlcmllcy5jb2xvciA9PT0gbnVsbCkge1xuXHRcdFx0aWYgKHRoaXMuX29wdGlvbnMuZGF0YS5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdGRhdGFTZXJpZXMuX2NvbG9yU2V0ID0gW3RoaXMuX3NlbGVjdGVkQ29sb3JTZXRbZGF0YVNlcmllcy5pbmRleCAlIHRoaXMuX3NlbGVjdGVkQ29sb3JTZXQubGVuZ3RoXV07XG5cdFx0XHRcdGRhdGFTZXJpZXMuY29sb3IgPSB0aGlzLl9zZWxlY3RlZENvbG9yU2V0W2RhdGFTZXJpZXMuaW5kZXggJSB0aGlzLl9zZWxlY3RlZENvbG9yU2V0Lmxlbmd0aF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoZGF0YVNlcmllcy50eXBlID09PSBcImxpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RlcExpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3BsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcImFyZWFcIlxuXHRcdFx0XHRcdHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRBcmVhMTAwXCJcblx0XHRcdFx0XHR8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlU3BsaW5lQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJjYW5kbGVzdGlja1wiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJvaGxjXCIpIHtcblx0XHRcdFx0XHRkYXRhU2VyaWVzLl9jb2xvclNldCA9IFt0aGlzLl9zZWxlY3RlZENvbG9yU2V0WzBdXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0ZGF0YVNlcmllcy5fY29sb3JTZXQgPSB0aGlzLl9zZWxlY3RlZENvbG9yU2V0O1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhU2VyaWVzLl9jb2xvclNldCA9IFtkYXRhU2VyaWVzLmNvbG9yXTtcblx0XHR9XG5cblx0XHRpZiAoZGF0YVNlcmllcy5tYXJrZXJTaXplID09PSBudWxsKSB7XG5cdFx0XHRpZiAoKChkYXRhU2VyaWVzLnR5cGUgPT09IFwibGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwTGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVcIikgJiYgZGF0YVNlcmllcy5kYXRhUG9pbnRzICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGggPCB0aGlzLndpZHRoIC8gMTYpIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzY2F0dGVyXCIpIHtcblx0XHRcdFx0Ly9pZiAoZGF0YVNlcmllcy50eXBlID09PSBcImxpbmVcIikge1xuXHRcdFx0XHRkYXRhU2VyaWVzLm1hcmtlclNpemUgPSA4O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICgoZGF0YVNlcmllcy50eXBlID09PSBcImJ1YmJsZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzY2F0dGVyXCIpICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50cykge1xuXHRcdFx0ZGF0YVNlcmllcy5kYXRhUG9pbnRzLnNvcnQoY29tcGFyZURhdGFQb2ludFgpXG5cdFx0fVxuXG5cdFx0Ly9pZiAoZGF0YVNlcmllcy5tYXJrZXJCb3JkZXJUaGlja25lc3MgPT09IG51bGwgJiYgZGF0YVNlcmllcy50eXBlID09PSBcInNjYXR0ZXJcIikge1xuXHRcdC8vICAgIGRhdGFTZXJpZXMubWFya2VyQm9yZGVyVGhpY2tuZXNzID0gMjtcblx0XHQvL31cblxuXHRcdC8vaWYgKGRhdGFTZXJpZXMubWFya2VyVHlwZSA9PT0gbnVsbCkge1xuXHRcdC8vICAgIGlmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwibGluZVwiICYgZGF0YVNlcmllcy5kYXRhUG9pbnRzLmxlbmd0aCA8IDUwMCkge1xuXHRcdC8vICAgICAgICBkYXRhU2VyaWVzLm1hcmtlclR5cGUgPSBcImNpcmNsZVwiO1xuXHRcdC8vICAgIH1cblx0XHQvL31cblxuXHRcdHRoaXMuZGF0YS5wdXNoKGRhdGFTZXJpZXMpO1xuXG5cdFx0dmFyIHNlcmllc0F4aXNQbGFjZW1lbnQgPSBkYXRhU2VyaWVzLmF4aXNQbGFjZW1lbnQ7XG5cblx0XHQvL2lmIChpc0RlYnVnTW9kZSAmJiB3aW5kb3cuY29uc29sZSlcblx0XHQvLyAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YVNlcmllcy50eXBlKTtcblxuXHRcdHZhciBlcnJvck1lc3NhZ2U7XG5cblx0XHRpZiAoc2VyaWVzQXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIikge1xuXG5cdFx0XHRpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSA9IFwiWW91IGNhbm5vdCBjb21iaW5lIFxcXCJcIiArIGRhdGFTZXJpZXMudHlwZSArIFwiXFxcIiB3aXRoIGJhciBjaGFydFwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwibm9uZVwiKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSA9IFwiWW91IGNhbm5vdCBjb21iaW5lIFxcXCJcIiArIGRhdGFTZXJpZXMudHlwZSArIFwiXFxcIiB3aXRoIHBpZSBjaGFydFwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IG51bGwpXG5cdFx0XHRcdHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9IFwibm9ybWFsXCI7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHNlcmllc0F4aXNQbGFjZW1lbnQgPT09IFwieHlTd2FwcGVkXCIpIHtcblxuXHRcdFx0aWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIikge1xuXHRcdFx0XHRlcnJvck1lc3NhZ2UgPSBcIllvdSBjYW5ub3QgY29tYmluZSBcXFwiXCIgKyBkYXRhU2VyaWVzLnR5cGUgKyBcIlxcXCIgd2l0aCBsaW5lLCBhcmVhLCBjb2x1bW4gb3IgcGllIGNoYXJ0XCI7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJub25lXCIpIHtcblx0XHRcdFx0ZXJyb3JNZXNzYWdlID0gXCJZb3UgY2Fubm90IGNvbWJpbmUgXFxcIlwiICsgZGF0YVNlcmllcy50eXBlICsgXCJcXFwiIHdpdGggcGllIGNoYXJ0XCI7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gbnVsbClcblx0XHRcdFx0dGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID0gXCJ4eVN3YXBwZWRcIjtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoc2VyaWVzQXhpc1BsYWNlbWVudCA9PSBcIm5vbmVcIikge1xuXG5cdFx0XHRpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcIm5vcm1hbFwiKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSA9IFwiWW91IGNhbm5vdCBjb21iaW5lIFxcXCJcIiArIGRhdGFTZXJpZXMudHlwZSArIFwiXFxcIiB3aXRoIGxpbmUsIGFyZWEsIGNvbHVtbiBvciBiYXIgY2hhcnRcIjtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSA9IFwiWW91IGNhbm5vdCBjb21iaW5lIFxcXCJcIiArIGRhdGFTZXJpZXMudHlwZSArIFwiXFxcIiB3aXRoIGJhciBjaGFydFwiO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IG51bGwpXG5cdFx0XHRcdHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9IFwibm9uZVwiO1xuXHRcdH1cblxuXHRcdGlmIChlcnJvck1lc3NhZ2UgJiYgd2luZG93LmNvbnNvbGUpIHtcblx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhlcnJvck1lc3NhZ2UpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXG5cdC8vaWYgKGlzRGVidWdNb2RlICYmIHdpbmRvdy5jb25zb2xlKSB7XG5cdC8vICAgIHdpbmRvdy5jb25zb2xlLmxvZyhcInhNaW46IFwiICsgdGhpcy5wbG90SW5mby52aWV3UG9ydFhNaW4gKyBcIjsgeE1heDogXCIgKyB0aGlzLnBsb3RJbmZvLnZpZXdQb3J0WE1heCArIFwiOyB5TWluOiBcIiArIHRoaXMucGxvdEluZm8ueU1pbiArIFwiOyB5TWF4OiBcIiArIHRoaXMucGxvdEluZm8ueU1heCk7XG5cdC8vfVxuXG5cdHRoaXMuX29iamVjdHNJbml0aWFsaXplZCA9IHRydWU7XG59XG5cbi8vaW5kZXhPZiBpcyBub3Qgc3VwcG9ydGVkIGluIElFOC1cbkNoYXJ0Ll9zdXBwb3J0ZWRDaGFydFR5cGVzID0gYWRkQXJyYXlJbmRleE9mKFtcImxpbmVcIiwgXCJzdGVwTGluZVwiLCBcInNwbGluZVwiLCBcImNvbHVtblwiLCBcImFyZWFcIiwgXCJzdGVwQXJlYVwiLCBcInNwbGluZUFyZWFcIiwgXCJiYXJcIiwgXCJidWJibGVcIiwgXCJzY2F0dGVyXCIsXG5cdFwic3RhY2tlZENvbHVtblwiLCBcInN0YWNrZWRDb2x1bW4xMDBcIiwgXCJzdGFja2VkQmFyXCIsIFwic3RhY2tlZEJhcjEwMFwiLFxuXHRcInN0YWNrZWRBcmVhXCIsIFwic3RhY2tlZEFyZWExMDBcIixcblx0XCJjYW5kbGVzdGlja1wiLFxuXHRcIm9obGNcIixcblx0XCJyYW5nZUNvbHVtblwiLFxuXHRcInJhbmdlQmFyXCIsXG5cdFwicmFuZ2VBcmVhXCIsXG5cdFwicmFuZ2VTcGxpbmVBcmVhXCIsXG5cdFwicGllXCIsIFwiZG91Z2hudXRcIiwgXCJmdW5uZWxcIlxuXSk7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXG5cdGlmIChvcHRpb25zKVxuXHRcdHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXG5cdHRoaXMuX2luaXRpYWxpemUoKTtcblx0dmFyIHBsb3RBcmVhRWxlbWVudHMgPSBbXTsgLy9FbGVtZW50cyB0byBiZSByZW5kZXJlZCBpbnNpZGUgdGhlIHBsb3RBcmVhXG5cblx0Ly9DcmVhdGUgUHJpbWFyeSBhbmQgU2Vjb25kYXJ5IGF4aXMgYW5kIGFzc2lnbiB0aGVtIHRvIHRoZSBzZXJpZXNcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcblxuXHRcdGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwibm9ybWFsXCIgfHwgdGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XG5cdFx0XHRpZiAoIXRoaXMuZGF0YVtpXS5heGlzWVR5cGUgfHwgdGhpcy5kYXRhW2ldLmF4aXNZVHlwZSA9PT0gXCJwcmltYXJ5XCIpIHtcblx0XHRcdFx0aWYgKCF0aGlzLmF4aXNZKSB7XG5cblx0XHRcdFx0XHRpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcIm5vcm1hbFwiKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9heGVzLnB1c2godGhpcy5heGlzWSA9IG5ldyBBeGlzKHRoaXMsIHRoaXMuX29wdGlvbnMuYXhpc1ksIFwiYXhpc1lcIiwgXCJsZWZ0XCIpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9heGVzLnB1c2godGhpcy5heGlzWSA9IG5ldyBBeGlzKHRoaXMsIHRoaXMuX29wdGlvbnMuYXhpc1ksIFwiYXhpc1lcIiwgXCJib3R0b21cIikpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLmRhdGFbaV0uYXhpc1kgPSB0aGlzLmF4aXNZO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAodGhpcy5kYXRhW2ldLmF4aXNZVHlwZSA9PT0gXCJzZWNvbmRhcnlcIikge1xuXHRcdFx0XHRpZiAoIXRoaXMuYXhpc1kyKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIikge1xuXHRcdFx0XHRcdFx0dGhpcy5fYXhlcy5wdXNoKHRoaXMuYXhpc1kyID0gbmV3IEF4aXModGhpcywgdGhpcy5fb3B0aW9ucy5heGlzWTIsIFwiYXhpc1lcIiwgXCJyaWdodFwiKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xuXHRcdFx0XHRcdFx0dGhpcy5fYXhlcy5wdXNoKHRoaXMuYXhpc1kyID0gbmV3IEF4aXModGhpcywgdGhpcy5fb3B0aW9ucy5heGlzWTIsIFwiYXhpc1lcIiwgXCJ0b3BcIikpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLmRhdGFbaV0uYXhpc1kgPSB0aGlzLmF4aXNZMjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLmF4aXNYKSB7XG5cdFx0XHRcdGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwibm9ybWFsXCIpIHtcblx0XHRcdFx0XHR0aGlzLl9heGVzLnB1c2godGhpcy5heGlzWCA9IG5ldyBBeGlzKHRoaXMsIHRoaXMuX29wdGlvbnMuYXhpc1gsIFwiYXhpc1hcIiwgXCJib3R0b21cIikpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xuXHRcdFx0XHRcdHRoaXMuX2F4ZXMucHVzaCh0aGlzLmF4aXNYID0gbmV3IEF4aXModGhpcywgdGhpcy5fb3B0aW9ucy5heGlzWCwgXCJheGlzWFwiLCBcImxlZnRcIikpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZGF0YVtpXS5heGlzWCA9IHRoaXMuYXhpc1g7XG5cdFx0fVxuXHR9XG5cblx0Ly9JZiBCb3RoIFByaW1hcnkgYW5kIFNlY29uZGFyeSBheGlzIGFyZSBwcmVzZW50LCBkaXNhYmxlIGdyaWRsaW5lcyBmb3Igb25lIG9mIHRoZW0gdW5sZXNzIHRoZSB1c2VyIGhhcyBzZXQgdmFsdWUgZm9yIGJvdGhcblx0aWYgKHRoaXMuYXhpc1kgJiYgdGhpcy5heGlzWTIpIHtcblx0XHRpZiAodGhpcy5heGlzWS5ncmlkVGhpY2tuZXNzID4gMCAmJiB0eXBlb2YgKHRoaXMuYXhpc1kyLl9vcHRpb25zLmdyaWRUaGlja25lc3MpID09PSBcInVuZGVmaW5lZFwiKVxuXHRcdFx0dGhpcy5heGlzWTIuZ3JpZFRoaWNrbmVzcyA9IDA7XG5cdFx0ZWxzZSBpZiAodGhpcy5heGlzWTIuZ3JpZFRoaWNrbmVzcyA+IDAgJiYgdHlwZW9mICh0aGlzLmF4aXNZLl9vcHRpb25zLmdyaWRUaGlja25lc3MpID09PSBcInVuZGVmaW5lZFwiKVxuXHRcdFx0dGhpcy5heGlzWS5ncmlkVGhpY2tuZXNzID0gMDtcblx0fVxuXG5cblx0Ly9TaG93IHRvb2xCYXIgd2hlbiB2aWV3cG9ydE1pbmltdW0vdmlld3BvcnRNYXhpbXVtIGFyZSBzZXRcblx0dmFyIHNob3dUb29sQmFyID0gZmFsc2U7XG5cdGlmICh0aGlzLl9heGVzLmxlbmd0aCA+IDAgJiYgKHRoaXMuem9vbUVuYWJsZWQgfHwgdGhpcy5wYW5FbmFibGVkKSkge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYXhlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKHRoaXMuX2F4ZXNbaV0udmlld3BvcnRNaW5pbXVtICE9PSBudWxsIHx8IHRoaXMuX2F4ZXNbaV0udmlld3BvcnRNYXhpbXVtICE9PSBudWxsKSB7XG5cdFx0XHRcdHNob3dUb29sQmFyID0gdHJ1ZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKHNob3dUb29sQmFyKSB7XG5cdFx0c2hvdyh0aGlzLl96b29tQnV0dG9uLCB0aGlzLl9yZXNldEJ1dHRvbik7XG5cdH0gZWxzZSB7XG5cdFx0aGlkZSh0aGlzLl96b29tQnV0dG9uLCB0aGlzLl9yZXNldEJ1dHRvbik7XG5cdH1cblxuXG5cdHRoaXMuX3Byb2Nlc3NEYXRhKCk7Ly8gQ2F0ZWdvcmlzZXMgdGhlIGRhdGFTZXJpZXMgYW5kIGNhbGN1bGF0ZXMgbWluLCBtYXggYW5kIG90aGVyIHZhbHVlc1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLnRpdGxlKSB7XG5cdFx0dGhpcy5fdGl0bGUgPSBuZXcgVGl0bGUodGhpcywgdGhpcy5fb3B0aW9ucy50aXRsZSk7XG5cblx0XHRpZiAoIXRoaXMuX3RpdGxlLmRvY2tJbnNpZGVQbG90QXJlYSlcblx0XHRcdHRoaXMuX3RpdGxlLnJlbmRlcigpO1xuXHRcdGVsc2Vcblx0XHRcdHBsb3RBcmVhRWxlbWVudHMucHVzaCh0aGlzLl90aXRsZSk7XG5cdH1cblxuXHRpZiAodGhpcy5fb3B0aW9ucy5zdWJ0aXRsZXMpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuc3VidGl0bGVzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdHRoaXMuc3VidGl0bGVzID0gW107XG5cblx0XHRcdHZhciBzdWJ0aXRsZSA9IG5ldyBTdWJ0aXRsZSh0aGlzLCB0aGlzLl9vcHRpb25zLnN1YnRpdGxlc1tpXSk7XG5cdFx0XHR0aGlzLnN1YnRpdGxlcy5wdXNoKHN1YnRpdGxlKTtcblxuXHRcdFx0aWYgKCFzdWJ0aXRsZS5kb2NrSW5zaWRlUGxvdEFyZWEpXG5cdFx0XHRcdHN1YnRpdGxlLnJlbmRlcigpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRwbG90QXJlYUVsZW1lbnRzLnB1c2goc3VidGl0bGUpO1xuXHRcdH1cblx0fVxuXG5cdHRoaXMubGVnZW5kID0gbmV3IExlZ2VuZCh0aGlzLCB0aGlzLl9vcHRpb25zLmxlZ2VuZCwgdGhpcy50aGVtZSk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKHRoaXMuZGF0YVtpXS5zaG93SW5MZWdlbmQgfHwgdGhpcy5kYXRhW2ldLnR5cGUgPT09IFwicGllXCIgfHwgdGhpcy5kYXRhW2ldLnR5cGUgPT09IFwiZG91Z2hudXRcIikge1xuXHRcdFx0dGhpcy5sZWdlbmQuZGF0YVNlcmllcy5wdXNoKHRoaXMuZGF0YVtpXSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCF0aGlzLmxlZ2VuZC5kb2NrSW5zaWRlUGxvdEFyZWEpXG5cdFx0dGhpcy5sZWdlbmQucmVuZGVyKCk7XG5cdGVsc2Vcblx0XHRwbG90QXJlYUVsZW1lbnRzLnB1c2godGhpcy5sZWdlbmQpO1xuXG5cdC8vVEJJOiBSZXZpc2l0IGFuZCBjaGVjayBpZiB0aGUgZnVuY3Rpb25hbGl0eSBpcyBlbm91Z2guXG5cdGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwibm9ybWFsXCIgfHwgdGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XG5cblx0XHQvL3ZhciBmcmVlU3BhY2UgPSB0aGlzLmxheW91dE1hbmFnZXIuZ2V0RnJlZVNwYWNlKCk7XG5cblx0XHRBeGlzLnNldExheW91dEFuZFJlbmRlcih0aGlzLmF4aXNYLCB0aGlzLmF4aXNZLCB0aGlzLmF4aXNZMiwgdGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50LCB0aGlzLmxheW91dE1hbmFnZXIuZ2V0RnJlZVNwYWNlKCkpO1xuXHR9IGVsc2UgaWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJub25lXCIpIHtcblx0XHQvL0luIGNhc2Ugb2YgY2hhcnRzIHdpdGggYXhpcyB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgaW5zaWRlIHNldExheW91dEFuZFJlbmRlclxuXHRcdHRoaXMucHJlcGFyZVBsb3RBcmVhKCk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIGluZGV4ID0gMDtcblx0Zm9yIChpbmRleCBpbiBwbG90QXJlYUVsZW1lbnRzKSB7XG5cdFx0aWYocGxvdEFyZWFFbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShpbmRleCkpXG5cdFx0cGxvdEFyZWFFbGVtZW50c1tpbmRleF0ucmVuZGVyKCk7XG5cdH1cblxuXHR2YXIgYW5pbWF0aW9ucyA9IFtdO1xuXHRpZiAodGhpcy5hbmltYXRlZFJlbmRlcikge1xuXHRcdHZhciBpbml0aWFsU3RhdGUgPSBjcmVhdGVDYW52YXModGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXHRcdHZhciBpbml0aWFsU3RhdGVDdHggPSBpbml0aWFsU3RhdGUuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdGluaXRpYWxTdGF0ZUN0eC5kcmF3SW1hZ2UodGhpcy5jYW52YXMsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcblx0fVxuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbG90SW5mby5wbG90VHlwZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgcGxvdFR5cGUgPSB0aGlzLnBsb3RJbmZvLnBsb3RUeXBlc1tpXTtcblxuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFR5cGUucGxvdFVuaXRzLmxlbmd0aDsgaisrKSB7XG5cblx0XHRcdHZhciBwbG90VW5pdCA9IHBsb3RUeXBlLnBsb3RVbml0c1tqXTtcblx0XHRcdHZhciBhbmltYXRpb25JbmZvID0gbnVsbDtcblxuXHRcdFx0cGxvdFVuaXQudGFyZ2V0Q2FudmFzID0gbnVsbDsgLy9JbiBjYXNlIGNoYXJ0IHVwZGF0ZXMgYmVmb3JlIHRoZSBhbmltYXRpb24gaXMgY29tcGxldGUsIHByZXZpb3VzIGNhbnZhc2VzIG5lZWQgdG8gYmUgcmVtb3ZlZFxuXG5cdFx0XHRpZiAodGhpcy5hbmltYXRlZFJlbmRlcikge1xuXHRcdFx0XHRwbG90VW5pdC50YXJnZXRDYW52YXMgPSBjcmVhdGVDYW52YXModGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXHRcdFx0XHRwbG90VW5pdC50YXJnZXRDYW52YXNDdHggPSBwbG90VW5pdC50YXJnZXRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJsaW5lXCIpXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlckxpbmUocGxvdFVuaXQpO1xuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJzdGVwTGluZVwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTdGVwTGluZShwbG90VW5pdCk7XG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcInNwbGluZVwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTcGxpbmUocGxvdFVuaXQpO1xuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJjb2x1bW5cIilcblx0XHRcdFx0YW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyQ29sdW1uKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwiYmFyXCIpXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlckJhcihwbG90VW5pdCk7XG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcImFyZWFcIilcblx0XHRcdFx0YW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyQXJlYShwbG90VW5pdCk7XG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcInN0ZXBBcmVhXCIpXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlclN0ZXBBcmVhKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3BsaW5lQXJlYVwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTcGxpbmVBcmVhKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZENvbHVtblwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTdGFja2VkQ29sdW1uKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZENvbHVtbjEwMFwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTdGFja2VkQ29sdW1uMTAwKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZEJhclwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTdGFja2VkQmFyKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZEJhcjEwMFwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTdGFja2VkQmFyMTAwKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZEFyZWFcIilcblx0XHRcdFx0YW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyU3RhY2tlZEFyZWEocGxvdFVuaXQpO1xuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJzdGFja2VkQXJlYTEwMFwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTdGFja2VkQXJlYTEwMChwbG90VW5pdCk7XG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcImJ1YmJsZVwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gYW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyQnViYmxlKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic2NhdHRlclwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJTY2F0dGVyKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwicGllXCIpXG5cdFx0XHRcdHRoaXMucmVuZGVyUGllKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwiZG91Z2hudXRcIilcblx0XHRcdFx0dGhpcy5yZW5kZXJQaWUocGxvdFVuaXQpO1xuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJjYW5kbGVzdGlja1wiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJDYW5kbGVzdGljayhwbG90VW5pdCk7XG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcIm9obGNcIilcblx0XHRcdFx0YW5pbWF0aW9uSW5mbyA9IHRoaXMucmVuZGVyQ2FuZGxlc3RpY2socGxvdFVuaXQpO1xuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJyYW5nZUNvbHVtblwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJSYW5nZUNvbHVtbihwbG90VW5pdCk7XG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcInJhbmdlQmFyXCIpXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlclJhbmdlQmFyKHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwicmFuZ2VBcmVhXCIpXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSB0aGlzLnJlbmRlclJhbmdlQXJlYShwbG90VW5pdCk7XG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcInJhbmdlU3BsaW5lQXJlYVwiKVxuXHRcdFx0XHRhbmltYXRpb25JbmZvID0gdGhpcy5yZW5kZXJSYW5nZVNwbGluZUFyZWEocGxvdFVuaXQpO1xuXG5cdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdHRoaXMuX2RhdGFJblJlbmRlcmVkT3JkZXIucHVzaCh0aGlzLmRhdGFbcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNba11dKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuYW5pbWF0ZWRSZW5kZXIgJiYgYW5pbWF0aW9uSW5mbylcblx0XHRcdFx0YW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbkluZm8pO1xuXHRcdH1cblx0fVxuXG5cdGlmICh0aGlzLmFuaW1hdGVkUmVuZGVyICYmIHRoaXMuX2luZGV4TGFiZWxzLmxlbmd0aCA+IDApIHtcblx0XHR2YXIgaW5kZXhMYWJlbENhbnZhcyA9IGNyZWF0ZUNhbnZhcyh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG5cdFx0dmFyIGluZGV4TGFiZWxDYW52YXNDdHggPSBpbmRleExhYmVsQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRhbmltYXRpb25zLnB1c2godGhpcy5yZW5kZXJJbmRleExhYmVscyhpbmRleExhYmVsQ2FudmFzQ3R4KSk7XG5cdH1cblxuXHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdGlmIChhbmltYXRpb25zLmxlbmd0aCA+IDApIHtcblx0XHQvL3ZhciBhbmltYXRpb25Db3VudCA9IDA7XG5cdFx0X3RoaXMuZGlzYWJsZVRvb2xUaXAgPSB0cnVlO1xuXHRcdF90aGlzLl9hbmltYXRvci5hbmltYXRlKDIwMCwgX3RoaXMuYW5pbWF0aW9uRHVyYXRpb24sIGZ1bmN0aW9uIChmcmFjdGlvbkNvbXBsZXRlKSB7XG5cblx0XHRcdC8vY29uc29sZS5sb2coZnJhY3Rpb25Db21wbGV0ZSk7XG5cdFx0XHQvL2FuaW1hdGlvbkNvdW50Kys7XG5cblx0XHRcdF90aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgX3RoaXMud2lkdGgsIF90aGlzLmhlaWdodCk7XG5cblxuXHRcdFx0Ly8gIF90aGlzLmN0eC5kcmF3SW1hZ2UoaW5pdGlhbFN0YXRlLCAwLCAwLCBfdGhpcy53aWR0aCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8sIF90aGlzLmhlaWdodCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8sIDAsIDAsIF90aGlzLndpZHRoLCBfdGhpcy5oZWlnaHQpO1xuXHRcdFx0X3RoaXMuY3R4LmRyYXdJbWFnZShpbml0aWFsU3RhdGUsIDAsIDAsIE1hdGguZmxvb3IoX3RoaXMud2lkdGggKiBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvKSwgTWF0aC5mbG9vcihfdGhpcy5oZWlnaHQgKiBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvKSwgMCwgMCwgX3RoaXMud2lkdGgsIF90aGlzLmhlaWdodCk7XG5cblx0XHRcdGZvciAodmFyIGwgPSAwOyBsIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGwrKykge1xuXG5cdFx0XHRcdGFuaW1hdGlvbkluZm8gPSBhbmltYXRpb25zW2xdO1xuXG5cdFx0XHRcdGlmIChmcmFjdGlvbkNvbXBsZXRlIDwgMSAmJiB0eXBlb2YgKGFuaW1hdGlvbkluZm8uc3RhcnRUaW1lUGVyY2VudCkgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0XHRpZiAoZnJhY3Rpb25Db21wbGV0ZSA+PSBhbmltYXRpb25JbmZvLnN0YXJ0VGltZVBlcmNlbnQpIHtcblx0XHRcdFx0XHRcdC8vYW5pbWF0aW9uSW5mby5hbmltYXRpb25DYWxsYmFjayhBbmltYXRpb25IZWxwZXIuZWFzaW5nLmxpbmVhcihmcmFjdGlvbkNvbXBsZXRlIC0gYW5pbWF0aW9uSW5mby5zdGFydFRpbWVQZXJjZW50LCAwLCAxLCAxIC0gYW5pbWF0aW9uSW5mby5zdGFydFRpbWVQZXJjZW50KSwgYW5pbWF0aW9uSW5mbyk7XG5cblx0XHRcdFx0XHRcdGFuaW1hdGlvbkluZm8uYW5pbWF0aW9uQ2FsbGJhY2soYW5pbWF0aW9uSW5mby5lYXNpbmdGdW5jdGlvbihmcmFjdGlvbkNvbXBsZXRlIC0gYW5pbWF0aW9uSW5mby5zdGFydFRpbWVQZXJjZW50LCAwLCAxLCAxIC0gYW5pbWF0aW9uSW5mby5zdGFydFRpbWVQZXJjZW50KSwgYW5pbWF0aW9uSW5mbyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0YW5pbWF0aW9uSW5mby5hbmltYXRpb25DYWxsYmFjayhhbmltYXRpb25JbmZvLmVhc2luZ0Z1bmN0aW9uKGZyYWN0aW9uQ29tcGxldGUsIDAsIDEsIDEpLCBhbmltYXRpb25JbmZvKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRfdGhpcy5kaXNwYXRjaEV2ZW50KFwiZGF0YUFuaW1hdGlvbkl0ZXJhdGlvbkVuZFwiLFxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdGNoYXJ0OiBfdGhpc1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0fSwgZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRhbmltYXRpb25zID0gW107XG5cblx0XHRcdHZhciBjb3VudCA9IDA7XG5cblx0XHRcdC8vRGVsZXRlIGFsbCByZW5kZXIgdGFyZ2V0IGNhbnZhc2VzIHVzZWQgZm9yIGFuaW1hdGlvbi5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMucGxvdEluZm8ucGxvdFR5cGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBwbG90VHlwZSA9IF90aGlzLnBsb3RJbmZvLnBsb3RUeXBlc1tpXTtcblxuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdHZhciBwbG90VW5pdCA9IHBsb3RUeXBlLnBsb3RVbml0c1tqXTtcblx0XHRcdFx0XHRwbG90VW5pdC50YXJnZXRDYW52YXMgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGluaXRpYWxTdGF0ZSA9IG51bGw7XG5cdFx0XHRfdGhpcy5kaXNhYmxlVG9vbFRpcCA9IGZhbHNlO1xuXHRcdFx0Ly9jb25zb2xlLmxvZyhcIioqKioqKioqKioqIEFuaW1hdGlvbiBDb21wbGV0ZSAtIFwiICsgYW5pbWF0aW9uQ291bnQgKyBcIiAqKioqKioqKioqKlwiKTtcblxuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdGlmIChfdGhpcy5faW5kZXhMYWJlbHMubGVuZ3RoID4gMClcblx0XHRcdF90aGlzLnJlbmRlckluZGV4TGFiZWxzKCk7XG5cblx0XHRfdGhpcy5kaXNwYXRjaEV2ZW50KFwiZGF0YUFuaW1hdGlvbkl0ZXJhdGlvbkVuZFwiLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y2hhcnQ6IF90aGlzXG5cdFx0XHRcdH0pO1xuXHR9XG5cblx0dGhpcy5hdHRhY2hQbG90QXJlYUV2ZW50SGFuZGxlcnMoKTtcblxuXHRpZiAoIXRoaXMuem9vbUVuYWJsZWQgJiYgIXRoaXMucGFuRW5hYmxlZCAmJiB0aGlzLl96b29tQnV0dG9uICYmIHRoaXMuX3pvb21CdXR0b24uc3R5bGUuZGlzcGxheSAhPT0gXCJub25lXCIpIHtcblx0XHRoaWRlKHRoaXMuX3pvb21CdXR0b24sIHRoaXMuX3Jlc2V0QnV0dG9uKTtcblx0fVxuXG5cdHRoaXMuX3Rvb2xUaXAuX3VwZGF0ZVRvb2xUaXAoKTtcblxuXHR0aGlzLnJlbmRlckNvdW50Kys7XG5cblx0Ly9pZiAod2luZG93LmNvbnNvbGUpIHtcblx0Ly8gICAgd2luZG93LmNvbnNvbGUubG9nKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gZHQpO1xuXHQvL31cblxuXHRpZiAoaXNEZWJ1Z01vZGUpIHtcblxuXHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgZ2hvc3RDYW52YXNDb3B5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnaG9zdENhbnZhc0NvcHlcIik7XG5cblx0XHRcdGlmIChnaG9zdENhbnZhc0NvcHkpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhnaG9zdENhbnZhc0NvcHkuY2xpZW50V2lkdGgpO1xuXHRcdFx0XHRzZXRDYW52YXNTaXplKGdob3N0Q2FudmFzQ29weSwgX3RoaXMud2lkdGgsIF90aGlzLmhlaWdodCk7XG5cdFx0XHRcdHZhciBnaG9zdENhbnZhc0NvcHlDdHggPSBnaG9zdENhbnZhc0NvcHkuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG5cdFx0XHRcdC8vZ2hvc3RDYW52YXNDb3B5Q3R4LnNjYWxlKDEsIDEpO1xuXHRcdFx0XHQvL3ZhciBpbWFnZURhdGEgPSB0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCwgdGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodCk7XG5cdFx0XHRcdC8vdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4LmRyYXdJbWFnZSh0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDYW52YXMsIDAsIDApO1xuXHRcdFx0XHQvL3RoaXMuY3R4LmRyYXdJbWFnZSh0aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDYW52YXMsIDAsIDApO1xuXG5cdFx0XHRcdGdob3N0Q2FudmFzQ29weUN0eC5kcmF3SW1hZ2UoX3RoaXMuX2V2ZW50TWFuYWdlci5naG9zdENhbnZhcywgMCwgMCk7XG5cdFx0XHRcdC8vX3RoaXMuX2NhbnZhc0pTQ29udGFpbmVyLmFwcGVuZENoaWxkKF90aGlzLl9ldmVudE1hbmFnZXIuZ2hvc3RDYW52YXMpO1xuXHRcdFx0XHQvL190aGlzLm92ZXJsYWlkQ2FudmFzQ3R4LmRyYXdJbWFnZShfdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q2FudmFzLCAwLCAwKTtcblx0XHRcdH1cblx0XHR9LCAyMDAwKTtcblx0fVxufVxuXG5DaGFydC5wcm90b3R5cGUuYXR0YWNoUGxvdEFyZWFFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuXG5cdC8vdGhpcy5fdG9vbEJhci5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcblxuXHR0aGlzLmF0dGFjaEV2ZW50KHtcblx0XHRjb250ZXh0OiB0aGlzLFxuXHRcdGNoYXJ0OiB0aGlzLFxuXHRcdG1vdXNlZG93bjogdGhpcy5fcGxvdEFyZWFNb3VzZURvd24sXG5cdFx0bW91c2V1cDogdGhpcy5fcGxvdEFyZWFNb3VzZVVwLFxuXHRcdG1vdXNlbW92ZTogdGhpcy5fcGxvdEFyZWFNb3VzZU1vdmUsXG5cdFx0Y3Vyc29yOiB0aGlzLnpvb21FbmFibGVkID8gXCJjb2wtcmVzaXplXCIgOiBcIm1vdmVcIixcblx0XHRjdXJzb3I6IHRoaXMucGFuRW5hYmxlZCA/IFwibW92ZVwiIDogXCJkZWZhdWx0XCIsXG5cdFx0Y2FwdHVyZTogdHJ1ZSxcblx0XHRib3VuZHM6IHRoaXMucGxvdEFyZWFcblx0fSk7XG5cbn1cblxuQ2hhcnQucHJvdG90eXBlLmNhdGVnb3Jpc2VEYXRhU2VyaWVzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgZGF0YVNlcmllcyA9IFwiXCI7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2ldXG5cdFx0aWYgKCFkYXRhU2VyaWVzLmRhdGFQb2ludHMgfHwgZGF0YVNlcmllcy5kYXRhUG9pbnRzLmxlbmd0aCA9PT0gMCB8fCAhZGF0YVNlcmllcy52aXNpYmxlKVxuXHRcdFx0Y29udGludWU7XG5cblx0XHRpZiAoQ2hhcnQuX3N1cHBvcnRlZENoYXJ0VHlwZXMuaW5kZXhPZihkYXRhU2VyaWVzLnR5cGUpID49IDApIHtcblxuXHRcdFx0dmFyIHBsb3RUeXBlID0gbnVsbDtcblx0XHRcdHZhciBwbG90VHlwZUV4aXN0cyA9IGZhbHNlO1xuXG5cdFx0XHR2YXIgcGxvdFVuaXQgPSBudWxsO1xuXHRcdFx0dmFyIHBsb3RVbml0RXhpc3RzID0gZmFsc2U7XG5cblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5wbG90SW5mby5wbG90VHlwZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0aWYgKHRoaXMucGxvdEluZm8ucGxvdFR5cGVzW2pdLnR5cGUgPT09IGRhdGFTZXJpZXMudHlwZSkge1xuXHRcdFx0XHRcdHBsb3RUeXBlRXhpc3RzID0gdHJ1ZTtcblx0XHRcdFx0XHR2YXIgcGxvdFR5cGUgPSB0aGlzLnBsb3RJbmZvLnBsb3RUeXBlc1tqXTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXBsb3RUeXBlRXhpc3RzKSB7XG5cdFx0XHRcdHBsb3RUeXBlID0ge1xuXHRcdFx0XHRcdHR5cGU6IGRhdGFTZXJpZXMudHlwZSxcblx0XHRcdFx0XHR0b3RhbERhdGFTZXJpZXM6IDAsXG5cdFx0XHRcdFx0cGxvdFVuaXRzOiBbXVxuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLnBsb3RJbmZvLnBsb3RUeXBlcy5wdXNoKHBsb3RUeXBlKVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRpZiAocGxvdFR5cGUucGxvdFVuaXRzW2pdLmF4aXNZVHlwZSA9PT0gZGF0YVNlcmllcy5heGlzWVR5cGUpIHtcblx0XHRcdFx0XHRwbG90VW5pdEV4aXN0cyA9IHRydWU7XG5cdFx0XHRcdFx0dmFyIHBsb3RVbml0ID0gcGxvdFR5cGUucGxvdFVuaXRzW2pdO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICghcGxvdFVuaXRFeGlzdHMpIHtcblx0XHRcdFx0cGxvdFVuaXQgPSB7XG5cdFx0XHRcdFx0dHlwZTogZGF0YVNlcmllcy50eXBlLFxuXHRcdFx0XHRcdHByZXZpb3VzRGF0YVNlcmllc0NvdW50OiAwLCAvL3RvIGJlIHNldCBuZXh0XG5cdFx0XHRcdFx0aW5kZXg6IHBsb3RUeXBlLnBsb3RVbml0cy5sZW5ndGgsXG5cdFx0XHRcdFx0cGxvdFR5cGU6IHBsb3RUeXBlLFxuXHRcdFx0XHRcdGF4aXNZVHlwZTogZGF0YVNlcmllcy5heGlzWVR5cGUsXG5cdFx0XHRcdFx0YXhpc1k6IGRhdGFTZXJpZXMuYXhpc1lUeXBlID09PSBcInByaW1hcnlcIiA/IHRoaXMuYXhpc1kgOiB0aGlzLmF4aXNZMixcblx0XHRcdFx0XHRheGlzWDogdGhpcy5heGlzWCxcblx0XHRcdFx0XHRkYXRhU2VyaWVzSW5kZXhlczogW10sIC8vaW5kZXggb2YgZGF0YVNlcmllc1xuXHRcdFx0XHRcdHlUb3RhbHM6IFtdXG5cdFx0XHRcdH1cblx0XHRcdFx0cGxvdFR5cGUucGxvdFVuaXRzLnB1c2gocGxvdFVuaXQpO1xuXHRcdFx0fVxuXG5cdFx0XHRwbG90VHlwZS50b3RhbERhdGFTZXJpZXMrKztcblxuXHRcdFx0cGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMucHVzaChpKTtcblxuXHRcdFx0ZGF0YVNlcmllcy5wbG90VW5pdCA9IHBsb3RVbml0O1xuXHRcdH1cblx0fVxuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbG90SW5mby5wbG90VHlwZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgcGxvdFR5cGUgPSB0aGlzLnBsb3RJbmZvLnBsb3RUeXBlc1tpXTtcblx0XHR2YXIgcHJldmlvdXNEYXRhU2VyaWVzQ291bnQgPSAwO1xuXG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VHlwZS5wbG90VW5pdHMubGVuZ3RoOyBqKyspIHtcblxuXHRcdFx0cGxvdFR5cGUucGxvdFVuaXRzW2pdLnByZXZpb3VzRGF0YVNlcmllc0NvdW50ID0gcHJldmlvdXNEYXRhU2VyaWVzQ291bnQ7XG5cblx0XHRcdHByZXZpb3VzRGF0YVNlcmllc0NvdW50ICs9IHBsb3RUeXBlLnBsb3RVbml0c1tqXS5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XG5cdFx0fVxuXHR9XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5hc3NpZ25JZFRvRGF0YVBvaW50cyA9IGZ1bmN0aW9uICgpIHtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2ldO1xuXG5cdFx0aWYgKCFkYXRhU2VyaWVzLmRhdGFQb2ludHMpXG5cdFx0XHRjb250aW51ZTtcblxuXHRcdHZhciBsZW5ndGggPSBkYXRhU2VyaWVzLmRhdGFQb2ludHMubGVuZ3RoO1xuXG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBsZW5ndGg7IGorKykge1xuXHRcdFx0ZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbal0gPSArK3RoaXMuX2V2ZW50TWFuYWdlci5sYXN0T2JqZWN0SWQ7XG5cdFx0fVxuXHR9XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5fcHJvY2Vzc0RhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdHRoaXMuYXNzaWduSWRUb0RhdGFQb2ludHMoKTtcblx0dGhpcy5jYXRlZ29yaXNlRGF0YVNlcmllcygpO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbG90SW5mby5wbG90VHlwZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgcGxvdFR5cGUgPSB0aGlzLnBsb3RJbmZvLnBsb3RUeXBlc1tpXTtcblxuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFR5cGUucGxvdFVuaXRzLmxlbmd0aDsgaisrKSB7XG5cblx0XHRcdHZhciBwbG90VW5pdCA9IHBsb3RUeXBlLnBsb3RVbml0c1tqXTtcblxuXHRcdFx0aWYgKHBsb3RVbml0LnR5cGUgPT09IFwibGluZVwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwic3RlcExpbmVcIiB8fCBwbG90VW5pdC50eXBlID09PSBcInNwbGluZVwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwiY29sdW1uXCIgfHwgcGxvdFVuaXQudHlwZSA9PT0gXCJhcmVhXCIgfHwgcGxvdFVuaXQudHlwZSA9PT0gXCJzdGVwQXJlYVwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwic3BsaW5lQXJlYVwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwiYmFyXCIgfHwgcGxvdFVuaXQudHlwZSA9PT0gXCJidWJibGVcIiB8fCBwbG90VW5pdC50eXBlID09PSBcInNjYXR0ZXJcIilcblx0XHRcdFx0dGhpcy5fcHJvY2Vzc011bHRpc2VyaWVzUGxvdFVuaXQocGxvdFVuaXQpO1xuXHRcdFx0ZWxzZSBpZiAocGxvdFVuaXQudHlwZSA9PT0gXCJzdGFja2VkQ29sdW1uXCIgfHwgcGxvdFVuaXQudHlwZSA9PT0gXCJzdGFja2VkQmFyXCIgfHwgcGxvdFVuaXQudHlwZSA9PT0gXCJzdGFja2VkQXJlYVwiKVxuXHRcdFx0XHR0aGlzLl9wcm9jZXNzU3RhY2tlZFBsb3RVbml0KHBsb3RVbml0KTtcblx0XHRcdGVsc2UgaWYgKHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZENvbHVtbjEwMFwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZEJhcjEwMFwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwic3RhY2tlZEFyZWExMDBcIilcblx0XHRcdFx0dGhpcy5fcHJvY2Vzc1N0YWNrZWQxMDBQbG90VW5pdChwbG90VW5pdCk7XG5cdFx0XHRlbHNlIGlmIChwbG90VW5pdC50eXBlID09PSBcImNhbmRsZXN0aWNrXCIgfHwgcGxvdFVuaXQudHlwZSA9PT0gXCJvaGxjXCIgfHwgcGxvdFVuaXQudHlwZSA9PT0gXCJyYW5nZUNvbHVtblwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwicmFuZ2VCYXJcIiB8fCBwbG90VW5pdC50eXBlID09PSBcInJhbmdlQXJlYVwiIHx8IHBsb3RVbml0LnR5cGUgPT09IFwicmFuZ2VTcGxpbmVBcmVhXCIpXG5cdFx0XHRcdHRoaXMuX3Byb2Nlc3NNdWx0aVlQbG90VW5pdChwbG90VW5pdCk7XG5cdFx0fVxuXHR9XG5cbn1cblxuQ2hhcnQucHJvdG90eXBlLl9wcm9jZXNzTXVsdGlzZXJpZXNQbG90VW5pdCA9IGZ1bmN0aW9uIChwbG90VW5pdCkge1xuXHRpZiAoIXBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzIHx8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aCA8IDEpXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBheGlzWURhdGFJbmZvID0gcGxvdFVuaXQuYXhpc1kuZGF0YUluZm87XG5cdHZhciBheGlzWERhdGFJbmZvID0gcGxvdFVuaXQuYXhpc1guZGF0YUluZm87XG5cdHZhciBkYXRhUG9pbnRYLCBkYXRhUG9pbnRZO1xuXHR2YXIgaXNEYXRlVGltZSA9IGZhbHNlO1xuXG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW3Bsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdXTtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIGlzRmlyc3REUEluVmlld1BvcnQgPSBmYWxzZTtcblx0XHR2YXIgaXNMYXN0RFBJblZpZXdQb3J0ID0gZmFsc2U7XG5cblx0XHRpZiAoZGF0YVNlcmllcy5heGlzUGxhY2VtZW50ID09PSBcIm5vcm1hbFwiIHx8IGRhdGFTZXJpZXMuYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xuXG5cdFx0XHR2YXIgcGxvdEFyZWFYTWluID0gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWluaW11bSA/IHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWC5uZXdWaWV3cG9ydE1pbmltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLnZpZXdwb3J0TWluaW11bSkgP1xuXHRcdFx0XHR0aGlzLl9vcHRpb25zLmF4aXNYLnZpZXdwb3J0TWluaW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gubWluaW11bSkgPyB0aGlzLl9vcHRpb25zLmF4aXNYLm1pbmltdW0gOiAtSW5maW5pdHk7XG5cblx0XHRcdHZhciBwbG90QXJlYVhNYXggPSB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNYXhpbXVtID8gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWF4aW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNYXhpbXVtKSA/XG5cdFx0XHRcdHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNYXhpbXVtIDogKHRoaXMuX29wdGlvbnMuYXhpc1ggJiYgdGhpcy5fb3B0aW9ucy5heGlzWC5tYXhpbXVtKSA/IHRoaXMuX29wdGlvbnMuYXhpc1gubWF4aW11bSA6IEluZmluaXR5O1xuXHRcdH1cblxuXG5cdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54ICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54LmdldFRpbWUgfHwgZGF0YVNlcmllcy54VmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpIHtcblx0XHRcdGlzRGF0ZVRpbWUgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhU2VyaWVzLmRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0aWYgKHR5cGVvZiBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueCA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueCA9IGk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKSB7XG5cdFx0XHRcdGlzRGF0ZVRpbWUgPSB0cnVlO1xuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpOy8vZGF0YVBvaW50WCBpcyB1c2VkIHNvIHRoYXQgZ2V0VGltZSBpcyBjYWxsZWQgb25seSBvbmNlIGluIGNhc2Ugb2YgZGF0ZVRpbWUgdmFsdWVzXG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueDtcblxuXHRcdFx0ZGF0YVBvaW50WSA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS55O1xuXG5cblx0XHRcdGlmIChkYXRhUG9pbnRYIDwgYXhpc1hEYXRhSW5mby5taW4pXG5cdFx0XHRcdGF4aXNYRGF0YUluZm8ubWluID0gZGF0YVBvaW50WDtcblx0XHRcdGlmIChkYXRhUG9pbnRYID4gYXhpc1hEYXRhSW5mby5tYXgpXG5cdFx0XHRcdGF4aXNYRGF0YUluZm8ubWF4ID0gZGF0YVBvaW50WDtcblxuXHRcdFx0aWYgKGRhdGFQb2ludFkgPCBheGlzWURhdGFJbmZvLm1pbilcblx0XHRcdFx0YXhpc1lEYXRhSW5mby5taW4gPSBkYXRhUG9pbnRZO1xuXG5cdFx0XHRpZiAoZGF0YVBvaW50WSA+IGF4aXNZRGF0YUluZm8ubWF4KVxuXHRcdFx0XHRheGlzWURhdGFJbmZvLm1heCA9IGRhdGFQb2ludFk7XG5cblxuXHRcdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRcdHZhciB4RGlmZiA9IGRhdGFQb2ludFggLSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaSAtIDFdLng7XG5cdFx0XHRcdHhEaWZmIDwgMCAmJiAoeERpZmYgPSB4RGlmZiAqIC0xKTsgLy9JZiBDb25kaXRpb24gc2hvcnRjdXRcblxuXHRcdFx0XHRpZiAoYXhpc1hEYXRhSW5mby5taW5EaWZmID4geERpZmYgJiYgeERpZmYgIT09IDApIHtcblx0XHRcdFx0XHRheGlzWERhdGFJbmZvLm1pbkRpZmYgPSB4RGlmZjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRZICE9PSBudWxsICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueSAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdHZhciB5RGlmZiA9IGRhdGFQb2ludFkgLSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaSAtIDFdLnk7XG5cdFx0XHRcdFx0eURpZmYgPCAwICYmICh5RGlmZiA9IHlEaWZmICogLTEpOyAvL0lmIENvbmRpdGlvbiBzaG9ydGN1dFxuXG5cdFx0XHRcdFx0aWYgKGF4aXNZRGF0YUluZm8ubWluRGlmZiA+IHlEaWZmICYmIHlEaWZmICE9PSAwKSB7XG5cdFx0XHRcdFx0XHRheGlzWURhdGFJbmZvLm1pbkRpZmYgPSB5RGlmZjtcblx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGlzIHNlY3Rpb24gbWFrZXMgc3VyZSB0aGF0IHBhcnRpYWxseSB2aXNpYmxlIGRhdGFQb2ludHMgYXJlIGluY2x1ZGVkIGluIHRoZSBiZWdpbmluZ1xuXHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90QXJlYVhNaW4gJiYgIWlzRmlyc3REUEluVmlld1BvcnQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKCFpc0ZpcnN0RFBJblZpZXdQb3J0KSB7XG5cdFx0XHRcdGlzRmlyc3REUEluVmlld1BvcnQgPSB0cnVlO1xuXG5cdFx0XHRcdGlmIChpID4gMCkge1xuXHRcdFx0XHRcdGkgLT0gMjtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGlzIHNlY3Rpb24gbWFrZXMgc3VyZSB0aGF0IHBhcnRpYWxseSB2aXNpYmxlIGRhdGFQb2ludHMgYXJlIGluY2x1ZGVkIGF0IHRoZSBlbmRcblx0XHRcdGlmIChkYXRhUG9pbnRYID4gcGxvdEFyZWFYTWF4ICYmICFpc0xhc3REUEluVmlld1BvcnQpIHtcblx0XHRcdFx0aXNMYXN0RFBJblZpZXdQb3J0ID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSBpZiAoZGF0YVBvaW50WCA+IHBsb3RBcmVhWE1heCAmJiBpc0xhc3REUEluVmlld1BvcnQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ubGFiZWwpXG5cdFx0XHRcdHBsb3RVbml0LmF4aXNYLmxhYmVsc1tkYXRhUG9pbnRYXSA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS5sYWJlbDtcblxuXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA8IGF4aXNYRGF0YUluZm8udmlld1BvcnRNaW4pXG5cdFx0XHRcdGF4aXNYRGF0YUluZm8udmlld1BvcnRNaW4gPSBkYXRhUG9pbnRYO1xuXHRcdFx0aWYgKGRhdGFQb2ludFggPiBheGlzWERhdGFJbmZvLnZpZXdQb3J0TWF4KVxuXHRcdFx0XHRheGlzWERhdGFJbmZvLnZpZXdQb3J0TWF4ID0gZGF0YVBvaW50WDtcblxuXHRcdFx0aWYgKGRhdGFQb2ludFkgPT09IG51bGwpXG5cdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRpZiAoZGF0YVBvaW50WSA8IGF4aXNZRGF0YUluZm8udmlld1BvcnRNaW4pXG5cdFx0XHRcdGF4aXNZRGF0YUluZm8udmlld1BvcnRNaW4gPSBkYXRhUG9pbnRZO1xuXHRcdFx0aWYgKGRhdGFQb2ludFkgPiBheGlzWURhdGFJbmZvLnZpZXdQb3J0TWF4KVxuXHRcdFx0XHRheGlzWURhdGFJbmZvLnZpZXdQb3J0TWF4ID0gZGF0YVBvaW50WTtcblx0XHR9XG5cblx0XHR0aGlzLnBsb3RJbmZvLmF4aXNYVmFsdWVUeXBlID0gZGF0YVNlcmllcy54VmFsdWVUeXBlID0gaXNEYXRlVGltZSA/IFwiZGF0ZVRpbWVcIiA6IFwibnVtYmVyXCI7XG5cdH1cblxuXHQvL3RoaXMuZGF0YVBvaW50cy5zb3J0KGNvbXBhcmVEYXRhUG9pbnRYKTtcblx0Ly90aGlzLmRhdGFQb2ludHMuc29ydChmdW5jdGlvbiAoZGF0YVBvaW50MSwgZGF0YVBvaW50MikgeyByZXR1cm4gZGF0YVBvaW50MS54IC0gZGF0YVBvaW50Mi54OyB9KTtcbn1cblxuQ2hhcnQucHJvdG90eXBlLl9wcm9jZXNzU3RhY2tlZFBsb3RVbml0ID0gZnVuY3Rpb24gKHBsb3RVbml0KSB7XG5cblx0aWYgKCFwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcyB8fCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGggPCAxKVxuXHRcdHJldHVybjtcblxuXHR2YXIgYXhpc1lEYXRhSW5mbyA9IHBsb3RVbml0LmF4aXNZLmRhdGFJbmZvO1xuXHR2YXIgYXhpc1hEYXRhSW5mbyA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvO1xuXG5cdHZhciBkYXRhUG9pbnRYLCBkYXRhUG9pbnRZO1xuXHR2YXIgaXNEYXRlVGltZSA9IGZhbHNlO1xuXG5cdHZhciBkYXRhUG9pbnRZUG9zaXRpdmVTdW1zID0gW107XG5cdHZhciBkYXRhUG9pbnRZTmVnYXRpdmVTdW1zID0gW107XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7IGorKykge1xuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW3Bsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzW2pdXTtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIGlzRmlyc3REUEluVmlld1BvcnQgPSBmYWxzZTtcblx0XHR2YXIgaXNMYXN0RFBJblZpZXdQb3J0ID0gZmFsc2U7XG5cblx0XHRpZiAoZGF0YVNlcmllcy5heGlzUGxhY2VtZW50ID09PSBcIm5vcm1hbFwiIHx8IGRhdGFTZXJpZXMuYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xuXG5cdFx0XHR2YXIgcGxvdEFyZWFYTWluID0gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWluaW11bSA/IHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWC5uZXdWaWV3cG9ydE1pbmltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLnZpZXdwb3J0TWluaW11bSkgP1xuXHRcdFx0XHR0aGlzLl9vcHRpb25zLmF4aXNYLnZpZXdwb3J0TWluaW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gubWluaW11bSkgPyB0aGlzLl9vcHRpb25zLmF4aXNYLm1pbmltdW0gOiAtSW5maW5pdHk7XG5cblx0XHRcdHZhciBwbG90QXJlYVhNYXggPSB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNYXhpbXVtID8gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWF4aW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNYXhpbXVtKSA/XG5cdFx0XHRcdHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNYXhpbXVtIDogKHRoaXMuX29wdGlvbnMuYXhpc1ggJiYgdGhpcy5fb3B0aW9ucy5heGlzWC5tYXhpbXVtKSA/IHRoaXMuX29wdGlvbnMuYXhpc1gubWF4aW11bSA6IEluZmluaXR5O1xuXHRcdH1cblxuXG5cdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54ICYmIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54LmdldFRpbWUgfHwgZGF0YVNlcmllcy54VmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpIHtcblx0XHRcdGlzRGF0ZVRpbWUgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhU2VyaWVzLmRhdGFQb2ludHMubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0Ly8gUmVxdWlyZCB3aGVuIG5vIHggdmFsdWVzIGFyZSBwcm92aWRlZFxuXHRcdFx0aWYgKHR5cGVvZiBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueCA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueCA9IGk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKSB7XG5cdFx0XHRcdGlzRGF0ZVRpbWUgPSB0cnVlO1xuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpOy8vZGF0YVBvaW50WCBpcyB1c2VkIHNvIHRoYXQgZ2V0VGltZSBpcyBjYWxsZWQgb25seSBvbmNlIGluIGNhc2Ugb2YgZGF0ZVRpbWUgdmFsdWVzXG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueDtcblxuXHRcdFx0ZGF0YVBvaW50WSA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS55O1xuXG5cblxuXHRcdFx0aWYgKGRhdGFQb2ludFggPCBheGlzWERhdGFJbmZvLm1pbilcblx0XHRcdFx0YXhpc1hEYXRhSW5mby5taW4gPSBkYXRhUG9pbnRYO1xuXHRcdFx0aWYgKGRhdGFQb2ludFggPiBheGlzWERhdGFJbmZvLm1heClcblx0XHRcdFx0YXhpc1hEYXRhSW5mby5tYXggPSBkYXRhUG9pbnRYO1xuXG5cdFx0XHRpZiAoaSA+IDApIHtcblx0XHRcdFx0dmFyIHhEaWZmID0gZGF0YVBvaW50WCAtIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueDtcblx0XHRcdFx0eERpZmYgPCAwICYmICh4RGlmZiA9IHhEaWZmICogLTEpOyAvL0lmIENvbmRpdGlvbiBzaG9ydGN1dFxuXG5cdFx0XHRcdGlmIChheGlzWERhdGFJbmZvLm1pbkRpZmYgPiB4RGlmZiAmJiB4RGlmZiAhPT0gMCkge1xuXHRcdFx0XHRcdGF4aXNYRGF0YUluZm8ubWluRGlmZiA9IHhEaWZmO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludFkgIT09IG51bGwgJiYgZGF0YVNlcmllcy5kYXRhUG9pbnRzW2kgLSAxXS55ICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0dmFyIHlEaWZmID0gZGF0YVBvaW50WSAtIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueTtcblx0XHRcdFx0XHR5RGlmZiA8IDAgJiYgKHlEaWZmID0geURpZmYgKiAtMSk7IC8vSWYgQ29uZGl0aW9uIHNob3J0Y3V0XG5cblx0XHRcdFx0XHRpZiAoYXhpc1lEYXRhSW5mby5taW5EaWZmID4geURpZmYgJiYgeURpZmYgIT09IDApIHtcblx0XHRcdFx0XHRcdGF4aXNZRGF0YUluZm8ubWluRGlmZiA9IHlEaWZmO1xuXHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoaXMgc2VjdGlvbiBtYWtlcyBzdXJlIHRoYXQgcGFydGlhbGx5IHZpc2libGUgZGF0YVBvaW50cyBhcmUgaW5jbHVkZWQgaW4gdGhlIGJlZ2luaW5nXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RBcmVhWE1pbiAmJiAhaXNGaXJzdERQSW5WaWV3UG9ydCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoIWlzRmlyc3REUEluVmlld1BvcnQpIHtcblx0XHRcdFx0aXNGaXJzdERQSW5WaWV3UG9ydCA9IHRydWU7XG5cblx0XHRcdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRcdFx0aSAtPSAyO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoaXMgc2VjdGlvbiBtYWtlcyBzdXJlIHRoYXQgcGFydGlhbGx5IHZpc2libGUgZGF0YVBvaW50cyBhcmUgaW5jbHVkZWQgYXQgdGhlIGVuZFxuXHRcdFx0aWYgKGRhdGFQb2ludFggPiBwbG90QXJlYVhNYXggJiYgIWlzTGFzdERQSW5WaWV3UG9ydCkge1xuXHRcdFx0XHRpc0xhc3REUEluVmlld1BvcnQgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIGlmIChkYXRhUG9pbnRYID4gcGxvdEFyZWFYTWF4ICYmIGlzTGFzdERQSW5WaWV3UG9ydCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXG5cdFx0XHRpZiAoZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLmxhYmVsKVxuXHRcdFx0XHRwbG90VW5pdC5heGlzWC5sYWJlbHNbZGF0YVBvaW50WF0gPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ubGFiZWw7XG5cblx0XHRcdGlmIChkYXRhUG9pbnRYIDwgYXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbilcblx0XHRcdFx0YXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbiA9IGRhdGFQb2ludFg7XG5cdFx0XHRpZiAoZGF0YVBvaW50WCA+IGF4aXNYRGF0YUluZm8udmlld1BvcnRNYXgpXG5cdFx0XHRcdGF4aXNYRGF0YUluZm8udmlld1BvcnRNYXggPSBkYXRhUG9pbnRYO1xuXG5cdFx0XHRpZiAoZGF0YVBvaW50WSA9PT0gbnVsbClcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdHBsb3RVbml0LnlUb3RhbHNbZGF0YVBvaW50WF0gPSAoIXBsb3RVbml0LnlUb3RhbHNbZGF0YVBvaW50WF0gPyAwIDogcGxvdFVuaXQueVRvdGFsc1tkYXRhUG9pbnRYXSkgKyBNYXRoLmFicyhkYXRhUG9pbnRZKTtcblxuXHRcdFx0aWYgKGRhdGFQb2ludFkgPj0gMCkge1xuXHRcdFx0XHRpZiAoZGF0YVBvaW50WVBvc2l0aXZlU3Vtc1tkYXRhUG9pbnRYXSlcblx0XHRcdFx0XHRkYXRhUG9pbnRZUG9zaXRpdmVTdW1zW2RhdGFQb2ludFhdICs9IGRhdGFQb2ludFk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRkYXRhUG9pbnRZUG9zaXRpdmVTdW1zW2RhdGFQb2ludFhdID0gZGF0YVBvaW50WTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChkYXRhUG9pbnRZTmVnYXRpdmVTdW1zW2RhdGFQb2ludFhdKVxuXHRcdFx0XHRcdGRhdGFQb2ludFlOZWdhdGl2ZVN1bXNbZGF0YVBvaW50WF0gKz0gZGF0YVBvaW50WTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGRhdGFQb2ludFlOZWdhdGl2ZVN1bXNbZGF0YVBvaW50WF0gPSBkYXRhUG9pbnRZO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMucGxvdEluZm8uYXhpc1hWYWx1ZVR5cGUgPSBkYXRhU2VyaWVzLnhWYWx1ZVR5cGUgPSBpc0RhdGVUaW1lID8gXCJkYXRlVGltZVwiIDogXCJudW1iZXJcIjtcblx0fVxuXG5cdGZvciAoaSBpbiBkYXRhUG9pbnRZUG9zaXRpdmVTdW1zKSB7XG5cdFx0aWYgKGRhdGFQb2ludFlQb3NpdGl2ZVN1bXMuaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRpZiAoaXNOYU4oaSkpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHR2YXIgeVN1bSA9IGRhdGFQb2ludFlQb3NpdGl2ZVN1bXNbaV07XG5cblx0XHRpZiAoeVN1bSA8IGF4aXNZRGF0YUluZm8ubWluKVxuXHRcdFx0YXhpc1lEYXRhSW5mby5taW4gPSB5U3VtO1xuXG5cdFx0aWYgKHlTdW0gPiBheGlzWURhdGFJbmZvLm1heClcblx0XHRcdGF4aXNZRGF0YUluZm8ubWF4ID0geVN1bTtcblxuXHRcdGlmIChpIDwgYXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbiB8fCBpID4gYXhpc1hEYXRhSW5mby52aWV3UG9ydE1heClcblx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0aWYgKHlTdW0gPCBheGlzWURhdGFJbmZvLnZpZXdQb3J0TWluKVxuXHRcdFx0YXhpc1lEYXRhSW5mby52aWV3UG9ydE1pbiA9IHlTdW07XG5cdFx0aWYgKHlTdW0gPiBheGlzWURhdGFJbmZvLnZpZXdQb3J0TWF4KVxuXHRcdFx0YXhpc1lEYXRhSW5mby52aWV3UG9ydE1heCA9IHlTdW07XG5cdH1cblxuXHR9XG5cblx0Zm9yIChpIGluIGRhdGFQb2ludFlOZWdhdGl2ZVN1bXMpIHtcblxuXHRcdGlmIChkYXRhUG9pbnRZTmVnYXRpdmVTdW1zLmhhc093blByb3BlcnR5KGkpKSB7XG5cdFx0aWYgKGlzTmFOKGkpKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHR2YXIgeVN1bSA9IGRhdGFQb2ludFlOZWdhdGl2ZVN1bXNbaV07XG5cblx0XHRpZiAoeVN1bSA8IGF4aXNZRGF0YUluZm8ubWluKVxuXHRcdFx0YXhpc1lEYXRhSW5mby5taW4gPSB5U3VtO1xuXG5cdFx0aWYgKHlTdW0gPiBheGlzWURhdGFJbmZvLm1heClcblx0XHRcdGF4aXNZRGF0YUluZm8ubWF4ID0geVN1bTtcblxuXHRcdGlmIChpIDwgYXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbiB8fCBpID4gYXhpc1hEYXRhSW5mby52aWV3UG9ydE1heClcblx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0aWYgKHlTdW0gPCBheGlzWURhdGFJbmZvLnZpZXdQb3J0TWluKVxuXHRcdFx0YXhpc1lEYXRhSW5mby52aWV3UG9ydE1pbiA9IHlTdW07XG5cdFx0aWYgKHlTdW0gPiBheGlzWURhdGFJbmZvLnZpZXdQb3J0TWF4KVxuXHRcdFx0YXhpc1lEYXRhSW5mby52aWV3UG9ydE1heCA9IHlTdW07XG5cdH1cblxuXHR9XG5cblxuXHQvL3RoaXMuZGF0YVBvaW50cy5zb3J0KGNvbXBhcmVEYXRhUG9pbnRYKTtcblx0Ly90aGlzLmRhdGFQb2ludHMuc29ydChmdW5jdGlvbiAoZGF0YVBvaW50MSwgZGF0YVBvaW50MikgeyByZXR1cm4gZGF0YVBvaW50MS54IC0gZGF0YVBvaW50Mi54OyB9KTtcblxuXHQvL3dpbmRvdy5jb25zb2xlLmxvZyhcInZpZXdQb3J0WU1pbjogXCIgKyBwbG90SW5mby52aWV3UG9ydFlNaW4gKyBcIjsgdmlld1BvcnRZTWF4OiBcIiArIHBsb3RJbmZvLnZpZXdQb3J0WU1heCk7XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5fcHJvY2Vzc1N0YWNrZWQxMDBQbG90VW5pdCA9IGZ1bmN0aW9uIChwbG90VW5pdCkge1xuXHRpZiAoIXBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzIHx8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aCA8IDEpXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBheGlzWURhdGFJbmZvID0gcGxvdFVuaXQuYXhpc1kuZGF0YUluZm87XG5cdHZhciBheGlzWERhdGFJbmZvID0gcGxvdFVuaXQuYXhpc1guZGF0YUluZm87XG5cblx0dmFyIGRhdGFQb2ludFgsIGRhdGFQb2ludFk7XG5cdHZhciBpc0RhdGVUaW1lID0gZmFsc2U7XG5cdHZhciBjb250YWluc1Bvc2l0aXZlWSA9IGZhbHNlO1xuXHR2YXIgY29udGFpbnNOZWdhdGl2ZVkgPSBmYWxzZTtcblxuXHR2YXIgZGF0YVBvaW50WVN1bXMgPSBbXTtcblxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLmRhdGFbcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal1dO1xuXHRcdHZhciBpID0gMDtcblx0XHR2YXIgaXNGaXJzdERQSW5WaWV3UG9ydCA9IGZhbHNlO1xuXHRcdHZhciBpc0xhc3REUEluVmlld1BvcnQgPSBmYWxzZTtcblxuXHRcdGlmIChkYXRhU2VyaWVzLmF4aXNQbGFjZW1lbnQgPT09IFwibm9ybWFsXCIgfHwgZGF0YVNlcmllcy5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XG5cblx0XHRcdHZhciBwbG90QXJlYVhNaW4gPSB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNaW5pbXVtID8gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWluaW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNaW5pbXVtKSA/XG5cdFx0XHRcdHRoaXMuX29wdGlvbnMuYXhpc1gudmlld3BvcnRNaW5pbXVtIDogKHRoaXMuX29wdGlvbnMuYXhpc1ggJiYgdGhpcy5fb3B0aW9ucy5heGlzWC5taW5pbXVtKSA/IHRoaXMuX29wdGlvbnMuYXhpc1gubWluaW11bSA6IC1JbmZpbml0eTtcblxuXHRcdFx0dmFyIHBsb3RBcmVhWE1heCA9IHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWC5uZXdWaWV3cG9ydE1heGltdW0gPyB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNYXhpbXVtIDogKHRoaXMuX29wdGlvbnMuYXhpc1ggJiYgdGhpcy5fb3B0aW9ucy5heGlzWC52aWV3cG9ydE1heGltdW0pID9cblx0XHRcdFx0dGhpcy5fb3B0aW9ucy5heGlzWC52aWV3cG9ydE1heGltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLm1heGltdW0pID8gdGhpcy5fb3B0aW9ucy5heGlzWC5tYXhpbXVtIDogSW5maW5pdHk7XG5cdFx0fVxuXG5cblx0XHRpZiAoZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnggJiYgZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnguZ2V0VGltZSB8fCBkYXRhU2VyaWVzLnhWYWx1ZVR5cGUgPT09IFwiZGF0ZVRpbWVcIikge1xuXHRcdFx0aXNEYXRlVGltZSA9IHRydWU7XG5cdFx0fVxuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHQvLyBSZXF1aXJkIHdoZW4gbm8geCB2YWx1ZXMgYXJlIHByb3ZpZGVkXG5cdFx0XHRpZiAodHlwZW9mIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54ID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54ID0gaTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54LmdldFRpbWUpIHtcblx0XHRcdFx0aXNEYXRlVGltZSA9IHRydWU7XG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCk7Ly9kYXRhUG9pbnRYIGlzIHVzZWQgc28gdGhhdCBnZXRUaW1lIGlzIGNhbGxlZCBvbmx5IG9uY2UgaW4gY2FzZSBvZiBkYXRlVGltZSB2YWx1ZXNcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54O1xuXG5cdFx0XHRkYXRhUG9pbnRZID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnk7XG5cblxuXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA8IGF4aXNYRGF0YUluZm8ubWluKVxuXHRcdFx0XHRheGlzWERhdGFJbmZvLm1pbiA9IGRhdGFQb2ludFg7XG5cdFx0XHRpZiAoZGF0YVBvaW50WCA+IGF4aXNYRGF0YUluZm8ubWF4KVxuXHRcdFx0XHRheGlzWERhdGFJbmZvLm1heCA9IGRhdGFQb2ludFg7XG5cblx0XHRcdGlmIChpID4gMCkge1xuXHRcdFx0XHR2YXIgeERpZmYgPSBkYXRhUG9pbnRYIC0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2kgLSAxXS54O1xuXHRcdFx0XHR4RGlmZiA8IDAgJiYgKHhEaWZmID0geERpZmYgKiAtMSk7IC8vSWYgQ29uZGl0aW9uIHNob3J0Y3V0XG5cblx0XHRcdFx0aWYgKGF4aXNYRGF0YUluZm8ubWluRGlmZiA+IHhEaWZmICYmIHhEaWZmICE9PSAwKSB7XG5cdFx0XHRcdFx0YXhpc1hEYXRhSW5mby5taW5EaWZmID0geERpZmY7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZGF0YVBvaW50WSAhPT0gbnVsbCAmJiBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaSAtIDFdLnkgIT09IG51bGwpIHtcblx0XHRcdFx0XHR2YXIgeURpZmYgPSBkYXRhUG9pbnRZIC0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2kgLSAxXS55O1xuXHRcdFx0XHRcdHlEaWZmIDwgMCAmJiAoeURpZmYgPSB5RGlmZiAqIC0xKTsgLy9JZiBDb25kaXRpb24gc2hvcnRjdXRcblxuXHRcdFx0XHRcdGlmIChheGlzWURhdGFJbmZvLm1pbkRpZmYgPiB5RGlmZiAmJiB5RGlmZiAhPT0gMCkge1xuXHRcdFx0XHRcdFx0YXhpc1lEYXRhSW5mby5taW5EaWZmID0geURpZmY7XG5cdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhpcyBzZWN0aW9uIG1ha2VzIHN1cmUgdGhhdCBwYXJ0aWFsbHkgdmlzaWJsZSBkYXRhUG9pbnRzIGFyZSBpbmNsdWRlZCBpbiB0aGUgYmVnaW5pbmdcblx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdEFyZWFYTWluICYmICFpc0ZpcnN0RFBJblZpZXdQb3J0KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmICghaXNGaXJzdERQSW5WaWV3UG9ydCkge1xuXHRcdFx0XHRpc0ZpcnN0RFBJblZpZXdQb3J0ID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoaSA+IDApIHtcblx0XHRcdFx0XHRpIC09IDI7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhpcyBzZWN0aW9uIG1ha2VzIHN1cmUgdGhhdCBwYXJ0aWFsbHkgdmlzaWJsZSBkYXRhUG9pbnRzIGFyZSBpbmNsdWRlZCBhdCB0aGUgZW5kXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA+IHBsb3RBcmVhWE1heCAmJiAhaXNMYXN0RFBJblZpZXdQb3J0KSB7XG5cdFx0XHRcdGlzTGFzdERQSW5WaWV3UG9ydCA9IHRydWU7XG5cdFx0XHR9IGVsc2UgaWYgKGRhdGFQb2ludFggPiBwbG90QXJlYVhNYXggJiYgaXNMYXN0RFBJblZpZXdQb3J0KSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLmxhYmVsKVxuXHRcdFx0XHRwbG90VW5pdC5heGlzWC5sYWJlbHNbZGF0YVBvaW50WF0gPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ubGFiZWw7XG5cblx0XHRcdGlmIChkYXRhUG9pbnRYIDwgYXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbilcblx0XHRcdFx0YXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbiA9IGRhdGFQb2ludFg7XG5cdFx0XHRpZiAoZGF0YVBvaW50WCA+IGF4aXNYRGF0YUluZm8udmlld1BvcnRNYXgpXG5cdFx0XHRcdGF4aXNYRGF0YUluZm8udmlld1BvcnRNYXggPSBkYXRhUG9pbnRYO1xuXG5cdFx0XHRpZiAoZGF0YVBvaW50WSA9PT0gbnVsbClcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdHBsb3RVbml0LnlUb3RhbHNbZGF0YVBvaW50WF0gPSAoIXBsb3RVbml0LnlUb3RhbHNbZGF0YVBvaW50WF0gPyAwIDogcGxvdFVuaXQueVRvdGFsc1tkYXRhUG9pbnRYXSkgKyBNYXRoLmFicyhkYXRhUG9pbnRZKTtcblxuXHRcdFx0aWYgKGRhdGFQb2ludFkgPj0gMCkge1xuXHRcdFx0XHRjb250YWluc1Bvc2l0aXZlWSA9IHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb250YWluc05lZ2F0aXZlWSA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkYXRhUG9pbnRZU3Vtc1tkYXRhUG9pbnRYXSlcblx0XHRcdFx0ZGF0YVBvaW50WVN1bXNbZGF0YVBvaW50WF0gKz0gTWF0aC5hYnMoZGF0YVBvaW50WSk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGRhdGFQb2ludFlTdW1zW2RhdGFQb2ludFhdID0gTWF0aC5hYnMoZGF0YVBvaW50WSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5wbG90SW5mby5heGlzWFZhbHVlVHlwZSA9IGRhdGFTZXJpZXMueFZhbHVlVHlwZSA9IGlzRGF0ZVRpbWUgPyBcImRhdGVUaW1lXCIgOiBcIm51bWJlclwiO1xuXHR9XG5cblxuXHRpZiAoY29udGFpbnNQb3NpdGl2ZVkgJiYgIWNvbnRhaW5zTmVnYXRpdmVZKSB7XG5cdFx0YXhpc1lEYXRhSW5mby5tYXggPSA5OTtcblx0XHRheGlzWURhdGFJbmZvLm1pbiA9IDE7XG5cdH0gZWxzZSBpZiAoY29udGFpbnNQb3NpdGl2ZVkgJiYgY29udGFpbnNOZWdhdGl2ZVkpIHtcblx0XHRheGlzWURhdGFJbmZvLm1heCA9IDk5O1xuXHRcdGF4aXNZRGF0YUluZm8ubWluID0gLTk5O1xuXHR9IGVsc2UgaWYgKCFjb250YWluc1Bvc2l0aXZlWSAmJiBjb250YWluc05lZ2F0aXZlWSkge1xuXHRcdGF4aXNZRGF0YUluZm8ubWF4ID0gLTE7XG5cdFx0YXhpc1lEYXRhSW5mby5taW4gPSAtOTk7XG5cdH1cblxuXHRheGlzWURhdGFJbmZvLnZpZXdQb3J0TWluID0gYXhpc1lEYXRhSW5mby5taW47XG5cdGF4aXNZRGF0YUluZm8udmlld1BvcnRNYXggPSBheGlzWURhdGFJbmZvLm1heDtcblxuXHRwbG90VW5pdC5kYXRhUG9pbnRZU3VtcyA9IGRhdGFQb2ludFlTdW1zO1xuXG5cdC8vdGhpcy5kYXRhUG9pbnRzLnNvcnQoY29tcGFyZURhdGFQb2ludFgpO1xuXHQvL3RoaXMuZGF0YVBvaW50cy5zb3J0KGZ1bmN0aW9uIChkYXRhUG9pbnQxLCBkYXRhUG9pbnQyKSB7IHJldHVybiBkYXRhUG9pbnQxLnggLSBkYXRhUG9pbnQyLng7IH0pO1xuXG5cdC8vd2luZG93LmNvbnNvbGUubG9nKFwidmlld1BvcnRZTWluOiBcIiArIHBsb3RJbmZvLnZpZXdQb3J0WU1pbiArIFwiOyB2aWV3UG9ydFlNYXg6IFwiICsgcGxvdEluZm8udmlld1BvcnRZTWF4KTtcbn1cblxuQ2hhcnQucHJvdG90eXBlLl9wcm9jZXNzTXVsdGlZUGxvdFVuaXQgPSBmdW5jdGlvbiAocGxvdFVuaXQpIHtcblx0aWYgKCFwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcyB8fCBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGggPCAxKVxuXHRcdHJldHVybjtcblxuXHR2YXIgYXhpc1lEYXRhSW5mbyA9IHBsb3RVbml0LmF4aXNZLmRhdGFJbmZvO1xuXHR2YXIgYXhpc1hEYXRhSW5mbyA9IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvO1xuXHR2YXIgZGF0YVBvaW50WCwgZGF0YVBvaW50WSwgZGF0YVBvaW50WU1pbiwgZGF0YVBvaW50WU1heDtcblx0dmFyIGlzRGF0ZVRpbWUgPSBmYWxzZTtcblxuXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXV07XG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciBpc0ZpcnN0RFBJblZpZXdQb3J0ID0gZmFsc2U7XG5cdFx0dmFyIGlzTGFzdERQSW5WaWV3UG9ydCA9IGZhbHNlO1xuXG5cdFx0aWYgKGRhdGFTZXJpZXMuYXhpc1BsYWNlbWVudCA9PT0gXCJub3JtYWxcIiB8fCBkYXRhU2VyaWVzLmF4aXNQbGFjZW1lbnQgPT09IFwieHlTd2FwcGVkXCIpIHtcblxuXHRcdFx0dmFyIHBsb3RBcmVhWE1pbiA9IHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWC5uZXdWaWV3cG9ydE1pbmltdW0gPyB0aGlzLnNlc3Npb25WYXJpYWJsZXMuYXhpc1gubmV3Vmlld3BvcnRNaW5pbXVtIDogKHRoaXMuX29wdGlvbnMuYXhpc1ggJiYgdGhpcy5fb3B0aW9ucy5heGlzWC52aWV3cG9ydE1pbmltdW0pID9cblx0XHRcdFx0dGhpcy5fb3B0aW9ucy5heGlzWC52aWV3cG9ydE1pbmltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLm1pbmltdW0pID8gdGhpcy5fb3B0aW9ucy5heGlzWC5taW5pbXVtIDogLUluZmluaXR5O1xuXG5cdFx0XHR2YXIgcGxvdEFyZWFYTWF4ID0gdGhpcy5zZXNzaW9uVmFyaWFibGVzLmF4aXNYLm5ld1ZpZXdwb3J0TWF4aW11bSA/IHRoaXMuc2Vzc2lvblZhcmlhYmxlcy5heGlzWC5uZXdWaWV3cG9ydE1heGltdW0gOiAodGhpcy5fb3B0aW9ucy5heGlzWCAmJiB0aGlzLl9vcHRpb25zLmF4aXNYLnZpZXdwb3J0TWF4aW11bSkgP1xuXHRcdFx0XHR0aGlzLl9vcHRpb25zLmF4aXNYLnZpZXdwb3J0TWF4aW11bSA6ICh0aGlzLl9vcHRpb25zLmF4aXNYICYmIHRoaXMuX29wdGlvbnMuYXhpc1gubWF4aW11bSkgPyB0aGlzLl9vcHRpb25zLmF4aXNYLm1heGltdW0gOiBJbmZpbml0eTtcblx0XHR9XG5cblxuXHRcdGlmIChkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueCAmJiBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueC5nZXRUaW1lIHx8IGRhdGFTZXJpZXMueFZhbHVlVHlwZSA9PT0gXCJkYXRlVGltZVwiKSB7XG5cdFx0XHRpc0RhdGVUaW1lID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVNlcmllcy5kYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdGlmICh0eXBlb2YgZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnggPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0ZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnggPSBpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLnguZ2V0VGltZSkge1xuXHRcdFx0XHRpc0RhdGVUaW1lID0gdHJ1ZTtcblx0XHRcdFx0ZGF0YVBvaW50WCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS54LmdldFRpbWUoKTsvL2RhdGFQb2ludFggaXMgdXNlZCBzbyB0aGF0IGdldFRpbWUgaXMgY2FsbGVkIG9ubHkgb25jZSBpbiBjYXNlIG9mIGRhdGVUaW1lIHZhbHVlc1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRkYXRhUG9pbnRYID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLng7XG5cblx0XHRcdGRhdGFQb2ludFkgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbaV0ueTtcblxuXHRcdFx0aWYgKGRhdGFQb2ludFkgJiYgZGF0YVBvaW50WS5sZW5ndGgpIHtcblx0XHRcdFx0ZGF0YVBvaW50WU1pbiA9IE1hdGgubWluLmFwcGx5KG51bGwsIGRhdGFQb2ludFkpO1xuXHRcdFx0XHRkYXRhUG9pbnRZTWF4ID0gTWF0aC5tYXguYXBwbHkobnVsbCwgZGF0YVBvaW50WSk7XG5cdFx0XHR9XG5cblxuXHRcdFx0aWYgKGRhdGFQb2ludFggPCBheGlzWERhdGFJbmZvLm1pbilcblx0XHRcdFx0YXhpc1hEYXRhSW5mby5taW4gPSBkYXRhUG9pbnRYO1xuXHRcdFx0aWYgKGRhdGFQb2ludFggPiBheGlzWERhdGFJbmZvLm1heClcblx0XHRcdFx0YXhpc1hEYXRhSW5mby5tYXggPSBkYXRhUG9pbnRYO1xuXG5cdFx0XHRpZiAoZGF0YVBvaW50WU1pbiA8IGF4aXNZRGF0YUluZm8ubWluKVxuXHRcdFx0XHRheGlzWURhdGFJbmZvLm1pbiA9IGRhdGFQb2ludFlNaW47XG5cblx0XHRcdGlmIChkYXRhUG9pbnRZTWF4ID4gYXhpc1lEYXRhSW5mby5tYXgpXG5cdFx0XHRcdGF4aXNZRGF0YUluZm8ubWF4ID0gZGF0YVBvaW50WU1heDtcblxuXG5cdFx0XHRpZiAoaSA+IDApIHtcblx0XHRcdFx0dmFyIHhEaWZmID0gZGF0YVBvaW50WCAtIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueDtcblx0XHRcdFx0eERpZmYgPCAwICYmICh4RGlmZiA9IHhEaWZmICogLTEpOyAvL0lmIENvbmRpdGlvbiBzaG9ydGN1dFxuXG5cdFx0XHRcdGlmIChheGlzWERhdGFJbmZvLm1pbkRpZmYgPiB4RGlmZiAmJiB4RGlmZiAhPT0gMCkge1xuXHRcdFx0XHRcdGF4aXNYRGF0YUluZm8ubWluRGlmZiA9IHhEaWZmO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludFlbMF0gIT09IG51bGwgJiYgZGF0YVNlcmllcy5kYXRhUG9pbnRzW2kgLSAxXS55WzBdICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0dmFyIHlEaWZmID0gZGF0YVBvaW50WVswXSAtIGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpIC0gMV0ueVswXTtcblx0XHRcdFx0XHR5RGlmZiA8IDAgJiYgKHlEaWZmID0geURpZmYgKiAtMSk7IC8vSWYgQ29uZGl0aW9uIHNob3J0Y3V0XG5cblx0XHRcdFx0XHRpZiAoYXhpc1lEYXRhSW5mby5taW5EaWZmID4geURpZmYgJiYgeURpZmYgIT09IDApIHtcblx0XHRcdFx0XHRcdGF4aXNZRGF0YUluZm8ubWluRGlmZiA9IHlEaWZmO1xuXHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoaXMgc2VjdGlvbiBtYWtlcyBzdXJlIHRoYXQgcGFydGlhbGx5IHZpc2libGUgZGF0YVBvaW50cyBhcmUgaW5jbHVkZWQgaW4gdGhlIGJlZ2luaW5nXG5cdFx0XHRpZiAoZGF0YVBvaW50WCA8IHBsb3RBcmVhWE1pbiAmJiAhaXNGaXJzdERQSW5WaWV3UG9ydCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoIWlzRmlyc3REUEluVmlld1BvcnQpIHtcblx0XHRcdFx0aXNGaXJzdERQSW5WaWV3UG9ydCA9IHRydWU7XG5cblx0XHRcdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRcdFx0aSAtPSAyO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoaXMgc2VjdGlvbiBtYWtlcyBzdXJlIHRoYXQgcGFydGlhbGx5IHZpc2libGUgZGF0YVBvaW50cyBhcmUgaW5jbHVkZWQgYXQgdGhlIGVuZFxuXHRcdFx0aWYgKGRhdGFQb2ludFggPiBwbG90QXJlYVhNYXggJiYgIWlzTGFzdERQSW5WaWV3UG9ydCkge1xuXHRcdFx0XHRpc0xhc3REUEluVmlld1BvcnQgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIGlmIChkYXRhUG9pbnRYID4gcGxvdEFyZWFYTWF4ICYmIGlzTGFzdERQSW5WaWV3UG9ydCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRhdGFTZXJpZXMuZGF0YVBvaW50c1tpXS5sYWJlbClcblx0XHRcdFx0cGxvdFVuaXQuYXhpc1gubGFiZWxzW2RhdGFQb2ludFhdID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2ldLmxhYmVsO1xuXG5cblx0XHRcdGlmIChkYXRhUG9pbnRYIDwgYXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbilcblx0XHRcdFx0YXhpc1hEYXRhSW5mby52aWV3UG9ydE1pbiA9IGRhdGFQb2ludFg7XG5cdFx0XHRpZiAoZGF0YVBvaW50WCA+IGF4aXNYRGF0YUluZm8udmlld1BvcnRNYXgpXG5cdFx0XHRcdGF4aXNYRGF0YUluZm8udmlld1BvcnRNYXggPSBkYXRhUG9pbnRYO1xuXG5cdFx0XHRpZiAoZGF0YVBvaW50WSA9PT0gbnVsbClcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdGlmIChkYXRhUG9pbnRZTWluIDwgYXhpc1lEYXRhSW5mby52aWV3UG9ydE1pbilcblx0XHRcdFx0YXhpc1lEYXRhSW5mby52aWV3UG9ydE1pbiA9IGRhdGFQb2ludFlNaW47XG5cdFx0XHRpZiAoZGF0YVBvaW50WU1heCA+IGF4aXNZRGF0YUluZm8udmlld1BvcnRNYXgpXG5cdFx0XHRcdGF4aXNZRGF0YUluZm8udmlld1BvcnRNYXggPSBkYXRhUG9pbnRZTWF4O1xuXHRcdH1cblxuXHRcdHRoaXMucGxvdEluZm8uYXhpc1hWYWx1ZVR5cGUgPSBkYXRhU2VyaWVzLnhWYWx1ZVR5cGUgPSBpc0RhdGVUaW1lID8gXCJkYXRlVGltZVwiIDogXCJudW1iZXJcIjtcblx0fVxuXG5cdC8vdGhpcy5kYXRhUG9pbnRzLnNvcnQoY29tcGFyZURhdGFQb2ludFgpO1xuXHQvL3RoaXMuZGF0YVBvaW50cy5zb3J0KGZ1bmN0aW9uIChkYXRhUG9pbnQxLCBkYXRhUG9pbnQyKSB7IHJldHVybiBkYXRhUG9pbnQxLnggLSBkYXRhUG9pbnQyLng7IH0pO1xufVxuXG4vL2dldENsb3Nlc3QgcmV0dXJucyBvYmplY3RzIG5lYXJieSBhbmQgaGVuY2Ugc2hvdWxkbid0IGJlIHVzZWQgZm9yIGV2ZW50cyBsaWtlIGNsaWNrLCBtb3VzZW92ZXIsIG1vdXNlbW92ZSwgZXRjIHdoaWNoIHJlcXVpcmUgb2JqZWN0IHRoYXQgaXMgZXhhY3RseSB1bmRlciB0aGUgbW91c2UuXG5DaGFydC5wcm90b3R5cGUuZ2V0RGF0YVBvaW50QXRYWSA9IGZ1bmN0aW9uIChtb3VzZVgsIG1vdXNlWSwgZ2V0Q2xvc2VzdCkge1xuXG5cdGdldENsb3Nlc3QgPSBnZXRDbG9zZXN0IHx8IGZhbHNlO1xuXHR2YXIgcmVzdWx0cyA9IFtdO1xuXG5cdGZvciAodmFyIGkgPSB0aGlzLl9kYXRhSW5SZW5kZXJlZE9yZGVyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0dmFyIGRhdGFTZXJpZXMgPSB0aGlzLl9kYXRhSW5SZW5kZXJlZE9yZGVyW2ldO1xuXG5cdFx0dmFyIHJlc3VsdCA9IG51bGw7XG5cblx0XHRyZXN1bHQgPSBkYXRhU2VyaWVzLmdldERhdGFQb2ludEF0WFkobW91c2VYLCBtb3VzZVksIGdldENsb3Nlc3QpO1xuXHRcdGlmIChyZXN1bHQpXG5cdFx0XHRyZXN1bHRzLnB1c2gocmVzdWx0KTtcblx0fVxuXG5cdHZhciBjbG9zZXN0UmVzdWx0ID0gbnVsbDtcblx0dmFyIG9ubHlMaW5lQXJlYVR5cGVzID0gZmFsc2U7XG5cblx0Zm9yICh2YXIgbSA9IDA7IG0gPCByZXN1bHRzLmxlbmd0aDsgbSsrKSB7XG5cblx0XHRpZiAocmVzdWx0c1ttXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwibGluZVwiIHx8IHJlc3VsdHNbbV0uZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBMaW5lXCIgfHwgcmVzdWx0c1ttXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwiYXJlYVwiIHx8IHJlc3VsdHNbbV0uZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBBcmVhXCIpIHtcblx0XHRcdHZhciBtYXJrZXJTaXplID0gZ2V0UHJvcGVydHkoXCJtYXJrZXJTaXplXCIsIHJlc3VsdHNbbV0uZGF0YVBvaW50LCByZXN1bHRzW21dLmRhdGFTZXJpZXMpIHx8IDg7XG5cdFx0XHRpZiAocmVzdWx0c1ttXS5kaXN0YW5jZSA8PSBtYXJrZXJTaXplIC8gMikge1xuXHRcdFx0XHRvbmx5TGluZUFyZWFUeXBlcyA9IHRydWU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZvciAobSA9IDA7IG0gPCByZXN1bHRzLmxlbmd0aDsgbSsrKSB7XG5cblx0XHRpZiAob25seUxpbmVBcmVhVHlwZXMgJiYgcmVzdWx0c1ttXS5kYXRhU2VyaWVzLnR5cGUgIT09IFwibGluZVwiICYmIHJlc3VsdHNbbV0uZGF0YVNlcmllcy50eXBlICE9PSBcInN0ZXBMaW5lXCIgJiYgcmVzdWx0c1ttXS5kYXRhU2VyaWVzLnR5cGUgIT09IFwiYXJlYVwiICYmIHJlc3VsdHNbbV0uZGF0YVNlcmllcy50eXBlICE9PSBcInN0ZXBBcmVhXCIpXG5cdFx0XHRjb250aW51ZTtcblxuXHRcdGlmICghY2xvc2VzdFJlc3VsdCkge1xuXHRcdFx0Y2xvc2VzdFJlc3VsdCA9IHJlc3VsdHNbbV07XG5cdFx0fSBlbHNlIGlmIChyZXN1bHRzW21dLmRpc3RhbmNlIDw9IGNsb3Nlc3RSZXN1bHQuZGlzdGFuY2UpIHtcblx0XHRcdGNsb3Nlc3RSZXN1bHQgPSByZXN1bHRzW21dO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjbG9zZXN0UmVzdWx0O1xufVxuXG5DaGFydC5wcm90b3R5cGUuZ2V0T2JqZWN0QXRYWSA9IGZ1bmN0aW9uIChtb3VzZVgsIG1vdXNlWSwgZ2V0Q2xvc2VzdCkge1xuXHRnZXRDbG9zZXN0ID0gZ2V0Q2xvc2VzdCB8fCBmYWxzZTtcblxuXHR2YXIgaWQgPSBudWxsO1xuXG5cdHZhciBkYXRhUG9pbnRJbmZvID0gdGhpcy5nZXREYXRhUG9pbnRBdFhZKG1vdXNlWCwgbW91c2VZLCBnZXRDbG9zZXN0KTtcblxuXHRpZiAoZGF0YVBvaW50SW5mbykge1xuXHRcdGlkID0gZGF0YVBvaW50SW5mby5kYXRhU2VyaWVzLmRhdGFQb2ludElkc1tkYXRhUG9pbnRJbmZvLmRhdGFQb2ludEluZGV4XTtcblx0fSBlbHNlIGlmIChpc0NhbnZhc1N1cHBvcnRlZCkgey8vSUU5K1xuXHRcdGlkID0gZ2V0T2JqZWN0SWQobW91c2VYLCBtb3VzZVksIHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eCk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlZ2VuZC5pdGVtcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzLmxlZ2VuZC5pdGVtc1tpXTtcblxuXHRcdFx0aWYgKG1vdXNlWCA+PSBpdGVtLngxICYmIG1vdXNlWCA8PSBpdGVtLngyICYmIG1vdXNlWSA+PSBpdGVtLnkxICYmIG1vdXNlWSA8PSBpdGVtLnkyKSB7XG5cdFx0XHRcdGlkID0gaXRlbS5pZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gaWQ7XG59XG5cbi8vLyA8c3VtbWFyeT5DYWxjdWxhdGVzIEZvbnQgU2l6ZSBiYXNlZCBvbiBzdGFuZGFyZFNpemUgYW5kIENoYXJ0IFNpemU8L3N1bW1hcnk+XG4vLy8gPHBhcmFtIG5hbWU9XCJzdGFuZGFyZFNpemVcIiB0eXBlPVwiTnVtYmVyXCI+U3RhbmRhcmQgZm9udCBzaXplIGZvciBhIENoYXJ0IHdpdGggbWluKHdpZHRoLGhlaWdodCkgPSA0MDBweDwvcGFyYW0+XG4vLy8gPHJldHVybnMgdHlwZT1cIk51bWJlclwiPlRoZSBhcmVhLjwvcmV0dXJucz5cbkNoYXJ0LnByb3RvdHlwZS5nZXRBdXRvRm9udFNpemUgPSBmdW5jdGlvbiAoc3RhbmRhcmRTaXplLCB3aWR0aCwgaGVpZ2h0KSB7XG5cblx0d2lkdGggPSB3aWR0aCB8fCB0aGlzLndpZHRoO1xuXHRoZWlnaHQgPSBoZWlnaHQgfHwgdGhpcy5oZWlnaHQ7XG5cblx0dmFyIGZvbnRTaXplU2NhbGVGYWN0b3IgPSBzdGFuZGFyZFNpemUgLyA0MDA7XG5cblx0cmV0dXJuIE1hdGgucm91bmQoTWF0aC5taW4odGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpICogZm9udFNpemVTY2FsZUZhY3Rvcik7XG59XG5cbi8vI3JlZ2lvbiBFdmVudHNcblxuQ2hhcnQucHJvdG90eXBlLnJlc2V0T3ZlcmxheWVkQ2FudmFzID0gZnVuY3Rpb24gKCkge1xuXHQvL3ZhciB3aWR0aCA9IHRoaXMub3ZlcmxhaWRDYW52YXMud2lkdGg7XG5cdC8vdGhpcy5vdmVybGFpZENhbnZhcy53aWR0aCA9IDA7XG5cdC8vdGhpcy5vdmVybGFpZENhbnZhcy53aWR0aCA9IHdpZHRoO1xuXHR0aGlzLm92ZXJsYWlkQ2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5jbGVhckNhbnZhcyA9IGZ1bmN0aW9uICgpIHtcblx0dGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcblxuXHRpZiAodGhpcy5iYWNrZ3JvdW5kQ29sb3IpIHtcblx0XHR0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcblx0XHR0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG5cdH1cbn1cblxuQ2hhcnQucHJvdG90eXBlLmF0dGFjaEV2ZW50ID0gZnVuY3Rpb24gKHBhcmFtKSB7XG5cdHRoaXMuX2V2ZW50cy5wdXNoKHBhcmFtKTtcbn1cblxuQ2hhcnQucHJvdG90eXBlLl90b3VjaEV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChldikge1xuXHRpZiAoIWV2LmNoYW5nZWRUb3VjaGVzIHx8ICF0aGlzLmludGVyYWN0aXZpdHlFbmFibGVkKVxuXHRcdHJldHVybjtcblxuXHR2YXIgbW91c2VFdmVudHMgPSBbXTtcblx0dmFyIHRvdWNoZXMgPSBldi5jaGFuZ2VkVG91Y2hlcztcblx0dmFyIGZpcnN0ID0gdG91Y2hlcyA/IHRvdWNoZXNbMF0gOiBldjtcblx0dmFyIHRvdWNoQ3VycmVudENvb3JkaW5hdGVzID0gbnVsbDtcblxuXHQvL3dpbmRvdy5jb25zb2xlLmxvZyh0b3VjaGVzLmxlbmd0aCk7XG5cblx0c3dpdGNoIChldi50eXBlKSB7XG5cdFx0Y2FzZSBcInRvdWNoc3RhcnRcIjogY2FzZSBcIk1TUG9pbnRlckRvd25cIjpcblx0XHRcdG1vdXNlRXZlbnRzID0gW1wibW91c2Vtb3ZlXCIsIFwibW91c2Vkb3duXCJdO1xuXHRcdFx0dGhpcy5fbGFzdFRvdWNoRGF0YSA9IGdldE1vdXNlQ29vcmRpbmF0ZXMoZmlyc3QpO1xuXHRcdFx0dGhpcy5fbGFzdFRvdWNoRGF0YS50aW1lID0gbmV3IERhdGUoKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJ0b3VjaG1vdmVcIjogY2FzZSBcIk1TUG9pbnRlck1vdmVcIjogbW91c2VFdmVudHMgPSBbXCJtb3VzZW1vdmVcIl07IGJyZWFrO1xuXHRcdGNhc2UgXCJ0b3VjaGVuZFwiOiBjYXNlIFwiTVNQb2ludGVyVXBcIjogbW91c2VFdmVudHMgPSAodGhpcy5fbGFzdFRvdWNoRXZlbnRUeXBlID09PSBcInRvdWNoc3RhcnRcIiB8fCB0aGlzLl9sYXN0VG91Y2hFdmVudFR5cGUgPT09IFwiTVNQb2ludGVyRG93blwiKSA/IFtcIm1vdXNldXBcIiwgXCJjbGlja1wiXSA6IFtcIm1vdXNldXBcIl07XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OiByZXR1cm47XG5cdH1cblxuXHRpZiAodG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA+IDEpIHJldHVybjtcblxuXG5cdHRvdWNoQ3VycmVudENvb3JkaW5hdGVzID0gZ2V0TW91c2VDb29yZGluYXRlcyhmaXJzdCk7XG5cdHRvdWNoQ3VycmVudENvb3JkaW5hdGVzLnRpbWUgPSBuZXcgRGF0ZSgpO1xuXHR0cnkge1xuXHRcdHZhciBkeSA9IHRvdWNoQ3VycmVudENvb3JkaW5hdGVzLnkgLSB0aGlzLl9sYXN0VG91Y2hEYXRhLnk7XG5cdFx0dmFyIGR4ID0gdG91Y2hDdXJyZW50Q29vcmRpbmF0ZXMueCAtIHRoaXMuX2xhc3RUb3VjaERhdGEueDtcblx0XHR2YXIgZHQgPSB0b3VjaEN1cnJlbnRDb29yZGluYXRlcy50aW1lIC0gdGhpcy5fbGFzdFRvdWNoRGF0YS50aW1lO1xuXG5cdFx0aWYgKE1hdGguYWJzKGR5KSA+IDE1ICYmICghIXRoaXMuX2xhc3RUb3VjaERhdGEuc2Nyb2xsIHx8IGR0IDwgMjAwKSkge1xuXHRcdFx0Ly90aGlzLl9sYXN0VG91Y2hEYXRhLnkgPSB0b3VjaEN1cnJlbnRDb29yZGluYXRlcy55O1xuXHRcdFx0dGhpcy5fbGFzdFRvdWNoRGF0YS5zY3JvbGwgPSB0cnVlO1xuXG5cdFx0XHR2YXIgd2luID0gd2luZG93LnBhcmVudCB8fCB3aW5kb3c7XG5cdFx0XHRpZiAod2luICYmIHdpbi5zY3JvbGxCeSlcblx0XHRcdFx0d2luLnNjcm9sbEJ5KDAsIC1keSk7XG5cdFx0fVxuXHR9IGNhdGNoIChlKSB7IH07XG5cblx0dGhpcy5fbGFzdFRvdWNoRXZlbnRUeXBlID0gZXYudHlwZTtcblxuXHRpZiAoISF0aGlzLl9sYXN0VG91Y2hEYXRhLnNjcm9sbCAmJiB0aGlzLnpvb21FbmFibGVkKSB7XG5cdFx0aWYgKHRoaXMuaXNEcmFnKVxuXHRcdFx0dGhpcy5yZXNldE92ZXJsYXllZENhbnZhcygpO1xuXG5cdFx0dGhpcy5pc0RyYWcgPSBmYWxzZTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IG1vdXNlRXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHR2YXIgdHlwZSA9IG1vdXNlRXZlbnRzW2ldO1xuXHRcdHZhciBzaW11bGF0ZWRFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudFwiKTtcblx0XHRzaW11bGF0ZWRFdmVudC5pbml0TW91c2VFdmVudCh0eXBlLCB0cnVlLCB0cnVlLCB3aW5kb3csIDEsXG5cdFx0XHRcdFx0XHRcdFx0ICBmaXJzdC5zY3JlZW5YLCBmaXJzdC5zY3JlZW5ZLFxuXHRcdFx0XHRcdFx0XHRcdCAgZmlyc3QuY2xpZW50WCwgZmlyc3QuY2xpZW50WSwgZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0ICBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcblxuXHRcdGZpcnN0LnRhcmdldC5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlZEV2ZW50KTtcblxuXHRcdGlmIChldi5wcmV2ZW50TWFuaXB1bGF0aW9uKSB7XG5cdFx0XHQvL2FsZXJ0KFwicHJldmVudE1hbmlwdWxhdGlvblwiKTtcblx0XHRcdGV2LnByZXZlbnRNYW5pcHVsYXRpb24oKTtcblx0XHR9XG5cblx0XHRpZiAoZXYucHJldmVudERlZmF1bHQpIHtcblx0XHRcdC8vYWxlcnQoXCJwcmV2ZW50RGVmYXVsdFwiKTtcblx0XHRcdGV2LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5fZGlzcGF0Y2hSYW5nZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgdHJpZ2dlclNvdXJjZSkge1xuXHR2YXIgZXZlbnRQYXJhbWV0ZXIgPSB7fTtcblxuXHRldmVudFBhcmFtZXRlci5jaGFydCA9IHRoaXMuX3B1YmxpY0NoYXJ0UmVmZXJlbmNlO1xuXHRldmVudFBhcmFtZXRlci50eXBlID0gZXZlbnROYW1lO1xuXHRldmVudFBhcmFtZXRlci50cmlnZ2VyID0gdHJpZ2dlclNvdXJjZTtcblxuXHR2YXIgYXhlcyA9IFtdO1xuXG5cdGlmICh0aGlzLmF4aXNYKVxuXHRcdGF4ZXMucHVzaChcImF4aXNYXCIpO1xuXHRpZiAodGhpcy5heGlzWSlcblx0XHRheGVzLnB1c2goXCJheGlzWVwiKTtcblx0aWYgKHRoaXMuYXhpc1kyKVxuXHRcdGF4ZXMucHVzaChcImF4aXNZMlwiKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRldmVudFBhcmFtZXRlcltheGVzW2ldXSA9IHtcblx0XHRcdHZpZXdwb3J0TWluaW11bTogdGhpc1theGVzW2ldXS5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWluaW11bSxcblx0XHRcdHZpZXdwb3J0TWF4aW11bTogdGhpc1theGVzW2ldXS5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWF4aW11bVxuXHRcdH1cblx0fVxuXG5cdHRoaXMuZGlzcGF0Y2hFdmVudChldmVudE5hbWUsIGV2ZW50UGFyYW1ldGVyLCB0aGlzLl9wdWJsaWNDaGFydFJlZmVyZW5jZSk7XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5fbW91c2VFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoZXYpIHtcblxuXHRpZiAoIXRoaXMuaW50ZXJhY3Rpdml0eUVuYWJsZWQpXG5cdFx0cmV0dXJuO1xuXG5cdGlmICh0aGlzLl9pZ25vcmVOZXh0RXZlbnQpIHtcblx0XHR0aGlzLl9pZ25vcmVOZXh0RXZlbnQgPSBmYWxzZTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBzdG9wIHBhbm5pbmcgYW5kIHpvb21pbmcgc28gd2UgY2FuIGRyYXdcblx0aWYgKGV2LnByZXZlbnRNYW5pcHVsYXRpb24pIHtcblx0XHQvL2FsZXJ0KFwicHJldmVudE1hbmlwdWxhdGlvblwiKTtcblx0XHRldi5wcmV2ZW50TWFuaXB1bGF0aW9uKCk7XG5cdH1cblxuXHQvLyB3ZSBhcmUgaGFuZGxpbmcgdGhpcyBldmVudFxuXHRpZiAoZXYucHJldmVudERlZmF1bHQpIHtcblx0XHQvL2FsZXJ0KFwicHJldmVudERlZmF1bHRcIik7XG5cdFx0ZXYucHJldmVudERlZmF1bHQoKTtcblx0fVxuXG5cdC8vSUU4LSB1c2VzIHNyY0VsZW1lbnQgaW5zdGVhZCBvZiB0YXJnZXQuIFNvIGluc3RlYWQgb2YgY2hlY2tpbmcgdGhpcyBjb25kaXRpb24gZXZlcnl0aW1lLCBpdHMgYmV0dGVyIHRvIGNyZWF0ZSBhIHJlZmVyZW5jZSBjYWxsZWQgdGFyZ2V0LlxuXHRpZiAodHlwZW9mIChldi50YXJnZXQpID09PSBcInVuZGVmaW5lZFwiICYmIGV2LnNyY0VsZW1lbnQpXG5cdFx0ZXYudGFyZ2V0ID0gZXYuc3JjRWxlbWVudDtcblxuXHQvL2NvbnNvbGUubG9nKGV2LnR5cGUpO1xuXG5cdHZhciB4eSA9IGdldE1vdXNlQ29vcmRpbmF0ZXMoZXYpO1xuXHR2YXIgdHlwZSA9IGV2LnR5cGU7XG5cdHZhciBldmVudFBhcmFtO1xuXHR2YXIgcmlnaHRjbGljaztcblxuXHRpZiAoIWV2KSB2YXIgZSA9IHdpbmRvdy5ldmVudDtcblx0aWYgKGV2LndoaWNoKSByaWdodGNsaWNrID0gKGV2LndoaWNoID09IDMpO1xuXHRlbHNlIGlmIChldi5idXR0b24pIHJpZ2h0Y2xpY2sgPSAoZXYuYnV0dG9uID09IDIpO1xuXG5cdC8vd2luZG93LmNvbnNvbGUubG9nKHR5cGUgKyBcIiAtLT4geDogXCIgKyB4eS54ICsgXCI7IHk6XCIgKyB4eS55KTtcblxuXHQvL2lmICh0eXBlID09PSBcIm1vdXNlb3V0XCIpIHtcblx0Ly8gICAgdGhpcy5fdG9vbFRpcC5oaWRlKCk7XG5cdC8vfVxuXG5cdGlmIChpc0RlYnVnTW9kZSAmJiB3aW5kb3cuY29uc29sZSkge1xuXHRcdHdpbmRvdy5jb25zb2xlLmxvZyh0eXBlICsgXCIgLS0+IHg6IFwiICsgeHkueCArIFwiOyB5OlwiICsgeHkueSk7XG5cdFx0aWYgKHJpZ2h0Y2xpY2spXG5cdFx0XHR3aW5kb3cuY29uc29sZS5sb2coZXYud2hpY2gpO1xuXG5cdFx0aWYgKHR5cGUgPT09IFwibW91c2V1cFwiKVxuXHRcdFx0d2luZG93LmNvbnNvbGUubG9nKFwibW91c2V1cFwiKTtcblx0fVxuXG5cdGlmIChyaWdodGNsaWNrKVxuXHRcdHJldHVybjtcblxuXHQvL2lmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwieHlTd2FwcGVkXCIpIHtcblx0Ly8gICAgLy92YXIgdGVtcCA9IHh5Lng7XG5cdC8vICAgIC8veHkueCA9IHh5Lnk7XG5cdC8vICAgIC8veHkueSA9IHRlbXA7XG5cdC8vICAgIHh5ID0ge3g6IHh5LnksIHk6IHh5Lnh9O1xuXHQvL31cblxuXHRpZiAoQ2hhcnQuY2FwdHVyZWRFdmVudFBhcmFtKSB7XG5cdFx0ZXZlbnRQYXJhbSA9IENoYXJ0LmNhcHR1cmVkRXZlbnRQYXJhbTtcblxuXHRcdGlmICh0eXBlID09PSBcIm1vdXNldXBcIikge1xuXHRcdFx0Q2hhcnQuY2FwdHVyZWRFdmVudFBhcmFtID0gbnVsbDtcblxuXHRcdFx0aWYgKGV2ZW50UGFyYW0uY2hhcnQub3ZlcmxhaWRDYW52YXMucmVsZWFzZUNhcHR1cmUpXG5cdFx0XHRcdGV2ZW50UGFyYW0uY2hhcnQub3ZlcmxhaWRDYW52YXMucmVsZWFzZUNhcHR1cmUoKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBldmVudFBhcmFtLmNoYXJ0Ll9tb3VzZUV2ZW50SGFuZGxlciwgZmFsc2UpO1xuXG5cdFx0fVxuXG5cdFx0aWYgKGV2ZW50UGFyYW0uaGFzT3duUHJvcGVydHkodHlwZSkpXG5cdFx0XHRldmVudFBhcmFtW3R5cGVdLmNhbGwoZXZlbnRQYXJhbS5jb250ZXh0LCB4eS54LCB4eS55KTtcblxuXG5cblx0fVxuXHRlbHNlIGlmICh0aGlzLl9ldmVudHMpIHtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoIXRoaXMuX2V2ZW50c1tpXS5oYXNPd25Qcm9wZXJ0eSh0eXBlKSlcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdGV2ZW50UGFyYW0gPSB0aGlzLl9ldmVudHNbaV07XG5cdFx0XHR2YXIgYm91bmRzID0gZXZlbnRQYXJhbS5ib3VuZHM7XG5cblx0XHRcdGlmICh4eS54ID49IGJvdW5kcy54MSAmJiB4eS54IDw9IGJvdW5kcy54MiAmJiB4eS55ID49IGJvdW5kcy55MSAmJiB4eS55IDw9IGJvdW5kcy55Mikge1xuXHRcdFx0XHRldmVudFBhcmFtW3R5cGVdLmNhbGwoZXZlbnRQYXJhbS5jb250ZXh0LCB4eS54LCB4eS55KTtcblxuXHRcdFx0XHRpZiAodHlwZSA9PT0gXCJtb3VzZWRvd25cIiAmJiBldmVudFBhcmFtLmNhcHR1cmUgPT09IHRydWUpIHtcblx0XHRcdFx0XHRDaGFydC5jYXB0dXJlZEV2ZW50UGFyYW0gPSBldmVudFBhcmFtO1xuXG5cdFx0XHRcdFx0aWYgKHRoaXMub3ZlcmxhaWRDYW52YXMuc2V0Q2FwdHVyZSlcblx0XHRcdFx0XHRcdHRoaXMub3ZlcmxhaWRDYW52YXMuc2V0Q2FwdHVyZSgpO1xuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9tb3VzZUV2ZW50SGFuZGxlciwgZmFsc2UpO1xuXHRcdFx0XHRcdFx0Ly9hZGRFdmVudChkb2N1bWVudC5ib2R5LCBcIm1vdXNldXBcIiwgdGhpcy5fbW91c2VFdmVudEhhbmRsZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlID09PSBcIm1vdXNldXBcIikge1xuXHRcdFx0XHRcdGlmIChldmVudFBhcmFtLmNoYXJ0Lm92ZXJsYWlkQ2FudmFzLnJlbGVhc2VDYXB0dXJlKVxuXHRcdFx0XHRcdFx0ZXZlbnRQYXJhbS5jaGFydC5vdmVybGFpZENhbnZhcy5yZWxlYXNlQ2FwdHVyZSgpO1xuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5fbW91c2VFdmVudEhhbmRsZXIsIGZhbHNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRldmVudFBhcmFtID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAoZXZlbnRQYXJhbSAmJiBldmVudFBhcmFtLmN1cnNvcikge1xuXHRcdFx0ZXYudGFyZ2V0LnN0eWxlLmN1cnNvciA9IGV2ZW50UGFyYW0uY3Vyc29yO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0XHRldi50YXJnZXQuc3R5bGUuY3Vyc29yID0gdGhpcy5fZGVmYXVsdEN1cnNvcjtcblxuXHRcdC8vZXZlbnRQYXJhbSA9XG5cdH1cblxuXHRpZiAodGhpcy5fdG9vbFRpcCAmJiB0aGlzLl90b29sVGlwLmVuYWJsZWQpIHtcblxuXHRcdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG5cblx0XHRpZiAoeHkueCA8IHBsb3RBcmVhLngxIHx8IHh5LnggPiBwbG90QXJlYS54MiB8fCB4eS55IDwgcGxvdEFyZWEueTEgfHwgeHkueSA+IHBsb3RBcmVhLnkyKVxuXHRcdFx0dGhpcy5fdG9vbFRpcC5oaWRlKCk7XG5cdH1cblxuXG5cdGlmICgoIXRoaXMuaXNEcmFnIHx8ICF0aGlzLnpvb21FbmFibGVkKSAmJiB0aGlzLl9ldmVudE1hbmFnZXIpIHtcblxuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5tb3VzZUV2ZW50SGFuZGxlcihldik7XG5cdFx0Ly90aGlzLl91cGRhdGVUb29sVGlwKGV2LngsIGV2LnkpO1xuXHR9XG5cblx0Ly9pZiAodGhpcy5fdG9vbFRpcC5lbmFibGVkKVxuXHQvLyAgICB0aGlzLl90b29sVGlwLm1vdXNlTW92ZUhhbmRsZXIoZXYueCwgZXYueSk7XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5fcGxvdEFyZWFNb3VzZURvd24gPSBmdW5jdGlvbiAoeCwgeSkge1xuXHR0aGlzLmlzRHJhZyA9IHRydWU7XG5cblx0aWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCAhPT0gXCJub25lXCIpIHtcblx0XHR0aGlzLmRyYWdTdGFydFBvaW50ID0geyB4OiB4LCB5OiB5IH07XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5kcmFnU3RhcnRQb2ludCA9IHsgeDogeCwgeTogeSB9O1xuXHR9XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5fcGxvdEFyZWFNb3VzZVVwID0gZnVuY3Rpb24gKHgsIHkpIHtcblxuXHRpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcIm5vcm1hbFwiIHx8IHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xuXHRcdGlmICh0aGlzLmlzRHJhZykge1xuXHRcdFx0dmFyIGRyYWdEZWx0YSA9IDAsXG5cdFx0XHRcdGRyYWdEZWx0YVBZID0geSAtIHRoaXMuZHJhZ1N0YXJ0UG9pbnQueSxcblx0XHRcdFx0ZHJhZ0RlbHRhUFggPSB4IC0gdGhpcy5kcmFnU3RhcnRQb2ludC54LFxuXHRcdFx0XHR6b29tUFggPSB0aGlzLnpvb21UeXBlLmluZGV4T2YoXCJ4XCIpID49IDAsIC8vV2hldGhlciB0byB6b29tIGhvcml6b250YWxseVxuXHRcdFx0XHR6b29tUFkgPSB0aGlzLnpvb21UeXBlLmluZGV4T2YoXCJ5XCIpID49IDAsIC8vV2hldGhlciB0byB6b29tIHZlcnRpY2FsbHlcblx0XHRcdFx0cmVSZW5kZXIgPSBmYWxzZTtcblxuXHRcdFx0dGhpcy5yZXNldE92ZXJsYXllZENhbnZhcygpO1xuXG5cdFx0XHRpZiAodGhpcy5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XG5cdFx0XHRcdHZhciB0ZW1wID0gem9vbVBZO1xuXHRcdFx0XHR6b29tUFkgPSB6b29tUFg7XG5cdFx0XHRcdHpvb21QWCA9IHRlbXA7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLnBhbkVuYWJsZWQgfHwgdGhpcy56b29tRW5hYmxlZCkge1xuXHRcdFx0XHRpZiAodGhpcy5wYW5FbmFibGVkKSB7XG5cblx0XHRcdFx0XHR2YXIgb3ZlcmZsb3cgPSAwO1xuXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9heGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgYXhpcyA9IHRoaXMuX2F4ZXNbaV07XG5cblx0XHRcdFx0XHRcdGlmIChheGlzLnZpZXdwb3J0TWluaW11bSA8IGF4aXMubWluaW11bSkge1xuXG5cdFx0XHRcdFx0XHRcdG92ZXJmbG93ID0gYXhpcy5taW5pbXVtIC0gYXhpcy52aWV3cG9ydE1pbmltdW07XG5cblx0XHRcdFx0XHRcdFx0YXhpcy5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWluaW11bSA9IGF4aXMudmlld3BvcnRNaW5pbXVtICsgb3ZlcmZsb3c7XG5cdFx0XHRcdFx0XHRcdGF4aXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1heGltdW0gPSBheGlzLnZpZXdwb3J0TWF4aW11bSArIG92ZXJmbG93O1xuXG5cdFx0XHRcdFx0XHRyZVJlbmRlciA9IHRydWU7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGF4aXMudmlld3BvcnRNYXhpbXVtID4gYXhpcy5tYXhpbXVtKSB7XG5cblx0XHRcdFx0XHRcdFx0b3ZlcmZsb3cgPSBheGlzLnZpZXdwb3J0TWF4aW11bSAtIGF4aXMubWF4aW11bTtcblx0XHRcdFx0XHRcdFx0YXhpcy5zZXNzaW9uVmFyaWFibGVzLm5ld1ZpZXdwb3J0TWluaW11bSA9IGF4aXMudmlld3BvcnRNaW5pbXVtIC0gb3ZlcmZsb3c7XG5cdFx0XHRcdFx0XHRcdGF4aXMuc2Vzc2lvblZhcmlhYmxlcy5uZXdWaWV3cG9ydE1heGltdW0gPSBheGlzLnZpZXdwb3J0TWF4aW11bSAtIG92ZXJmbG93O1xuXG5cdFx0XHRcdFx0XHRyZVJlbmRlciA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKCgoIXpvb21QWCB8fCBNYXRoLmFicyhkcmFnRGVsdGFQWCkgPiAyKSAmJiAoIXpvb21QWSB8fCBNYXRoLmFicyhkcmFnRGVsdGFQWSkgPiAyKSkgJiYgdGhpcy56b29tRW5hYmxlZCkge1xuXG5cdFx0XHRcdFx0aWYgKCF0aGlzLmRyYWdTdGFydFBvaW50KVxuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRcdFx0dmFyIHNlbGVjdGVkUmVnaW9uID0ge1xuXHRcdFx0XHRcdFx0eDE6IHpvb21QWCA/IHRoaXMuZHJhZ1N0YXJ0UG9pbnQueCA6IHRoaXMucGxvdEFyZWEueDEsXG5cdFx0XHRcdFx0XHR5MTogem9vbVBZID8gdGhpcy5kcmFnU3RhcnRQb2ludC55IDogdGhpcy5wbG90QXJlYS55MSxcblx0XHRcdFx0XHRcdHgyOiB6b29tUFggPyB4IDogdGhpcy5wbG90QXJlYS54Mixcblx0XHRcdFx0XHRcdHkyOiB6b29tUFkgPyB5IDogdGhpcy5wbG90QXJlYS55MlxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoc2VsZWN0ZWRSZWdpb24ueDEgLSBzZWxlY3RlZFJlZ2lvbi54MikgPiAyICYmIE1hdGguYWJzKHNlbGVjdGVkUmVnaW9uLnkxIC0gc2VsZWN0ZWRSZWdpb24ueTIpID4gMikge1xuXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5fem9vbVBhblRvU2VsZWN0ZWRSZWdpb24oc2VsZWN0ZWRSZWdpb24ueDEsIHNlbGVjdGVkUmVnaW9uLnkxLCBzZWxlY3RlZFJlZ2lvbi54Miwgc2VsZWN0ZWRSZWdpb24ueTIpKSB7XG5cblx0XHRcdFx0XHRcdFx0cmVSZW5kZXIgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHJlUmVuZGVyKSB7XG5cdFx0XHRcdFx0dGhpcy5faWdub3JlTmV4dEV2ZW50ID0gdHJ1ZTsvL1JlcXVpcmVkIHNvIHRoYXQgY2xpY2sgZXZlbnQgZG9lc24ndCBmaXJlIGFmdGVyIHpvb21pbmcgaW50byBhIHNlY3Rpb24gb2YgdGhlIGNoYXJ0LlxuXG5cdFx0XHRcdFx0dGhpcy5fZGlzcGF0Y2hSYW5nZUV2ZW50KFwicmFuZ2VDaGFuZ2luZ1wiLCBcInpvb21cIik7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW5kZXIoKTtcblx0XHRcdFx0XHR0aGlzLl9kaXNwYXRjaFJhbmdlRXZlbnQoXCJyYW5nZUNoYW5nZWRcIiwgXCJ6b29tXCIpO1xuXG5cdFx0XHRcdFx0aWYgKHJlUmVuZGVyICYmIHRoaXMuem9vbUVuYWJsZWQgJiYgdGhpcy5fem9vbUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuXHRcdFx0XHRcdHNob3codGhpcy5fem9vbUJ1dHRvbiwgdGhpcy5fcmVzZXRCdXR0b24pO1xuXHRcdFx0XHRcdHNldEJ1dHRvblN0YXRlKHRoaXMsIHRoaXMuX3pvb21CdXR0b24sIFwicGFuXCIpO1xuXHRcdFx0XHRcdHNldEJ1dHRvblN0YXRlKHRoaXMsIHRoaXMuX3Jlc2V0QnV0dG9uLCBcInJlc2V0XCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdH1cblxuXHR9XG5cblx0dGhpcy5pc0RyYWcgPSBmYWxzZTtcbn1cblxuQ2hhcnQucHJvdG90eXBlLl9wbG90QXJlYU1vdXNlTW92ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cdGlmICh0aGlzLmlzRHJhZyAmJiB0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgIT09IFwibm9uZVwiKSB7XG5cblx0XHR2YXIgZHJhZ0RlbHRhUFggPSAwLFxuXHRcdFx0ZHJhZ0RlbHRhUFkgPSAwLFxuXHRcdFx0YWxwaGEgPSBudWxsLFxuXHRcdFx0c2VsZWN0ZWRSZWdpb24gPSBudWxsLFxuXHRcdFx0em9vbVBYID0gdGhpcy56b29tVHlwZS5pbmRleE9mKFwieFwiKSA+PSAwLCAvL1doZXRoZXIgdG8gem9vbSBob3Jpem9udGFsbHlcblx0XHRcdHpvb21QWSA9IHRoaXMuem9vbVR5cGUuaW5kZXhPZihcInlcIikgPj0gMCwgLy9XaGV0aGVyIHRvIHpvb20gdmVydGljYWxseVxuXHRcdFx0X3RoaXMgPSB0aGlzO1xuXG5cdFx0aWYgKHRoaXMucGxvdEluZm8uYXhpc1BsYWNlbWVudCA9PT0gXCJ4eVN3YXBwZWRcIikge1xuXHRcdFx0dmFyIHRlbXAgPSB6b29tUFk7XG5cdFx0XHR6b29tUFkgPSB6b29tUFg7XG5cdFx0XHR6b29tUFggPSB0ZW1wO1xuXHRcdH1cblxuXHRcdGRyYWdEZWx0YVBYID0gdGhpcy5kcmFnU3RhcnRQb2ludC54IC0geDtcblx0XHRkcmFnRGVsdGFQWSA9IHRoaXMuZHJhZ1N0YXJ0UG9pbnQueSAtIHk7XG5cblx0XHRpZiAoTWF0aC5hYnMoZHJhZ0RlbHRhUFgpID4gMiAmJiBNYXRoLmFicyhkcmFnRGVsdGFQWCkgPCA4ICYmICh0aGlzLnBhbkVuYWJsZWQgfHwgdGhpcy56b29tRW5hYmxlZCkpIHtcblx0XHRcdHRoaXMuX3Rvb2xUaXAuaGlkZSgpO1xuXHRcdH0gZWxzZSBpZiAoIXRoaXMucGFuRW5hYmxlZCAmJiAhdGhpcy56b29tRW5hYmxlZCkge1xuXHRcdFx0dGhpcy5fdG9vbFRpcC5tb3VzZU1vdmVIYW5kbGVyKHgsIHkpO1xuXHRcdH1cblxuXHRcdGlmICgoKCF6b29tUFggfHwgTWF0aC5hYnMoZHJhZ0RlbHRhUFgpID4gMikgfHwgKCF6b29tUFkgfHwgTWF0aC5hYnMoZHJhZ0RlbHRhUFkpID4gMikpICYmICh0aGlzLnBhbkVuYWJsZWQgfHwgdGhpcy56b29tRW5hYmxlZCkpIHtcblx0XHRcdGlmICh0aGlzLnBhbkVuYWJsZWQpIHtcblxuXHRcdFx0XHRzZWxlY3RlZFJlZ2lvbiA9XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0eDE6IHpvb21QWCA/IHRoaXMucGxvdEFyZWEueDEgKyBkcmFnRGVsdGFQWCA6IHRoaXMucGxvdEFyZWEueDEsXG5cdFx0XHRcdFx0XHR5MTogem9vbVBZID8gdGhpcy5wbG90QXJlYS55MSArIGRyYWdEZWx0YVBZIDogdGhpcy5wbG90QXJlYS55MSxcblx0XHRcdFx0XHRcdHgyOiB6b29tUFggPyB0aGlzLnBsb3RBcmVhLngyICsgZHJhZ0RlbHRhUFggOiB0aGlzLnBsb3RBcmVhLngyLFxuXHRcdFx0XHRcdFx0eTI6IHpvb21QWSA/IHRoaXMucGxvdEFyZWEueTIgKyBkcmFnRGVsdGFQWSA6IHRoaXMucGxvdEFyZWEueTJcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdGlmICh0aGlzLl96b29tUGFuVG9TZWxlY3RlZFJlZ2lvbihzZWxlY3RlZFJlZ2lvbi54MSwgc2VsZWN0ZWRSZWdpb24ueTEsIHNlbGVjdGVkUmVnaW9uLngyLCBzZWxlY3RlZFJlZ2lvbi55MiwgdHJ1ZSkpIHtcblx0XHRcdFx0XHR0aGlzLl9kaXNwYXRjaFJhbmdlRXZlbnQoXCJyYW5nZUNoYW5naW5nXCIsIFwicGFuXCIpO1xuXHRcdFx0XHRcdHRoaXMucmVuZGVyKCk7XG5cdFx0XHRcdFx0dGhpcy5fZGlzcGF0Y2hSYW5nZUV2ZW50KFwicmFuZ2VDaGFuZ2VkXCIsIFwicGFuXCIpO1xuXG5cdFx0XHRcdFx0dGhpcy5kcmFnU3RhcnRQb2ludC54ID0geDtcblx0XHRcdFx0XHR0aGlzLmRyYWdTdGFydFBvaW50LnkgPSB5O1xuXG5cdFx0XHRcdFx0Ly9jbGVhclRpbWVvdXQodGhpcy5fcGFuVGltZXJJZCk7XG5cdFx0XHRcdFx0Ly90aGlzLl9wYW5UaW1lcklkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0Ly9cdF90aGlzLl9kaXNwYXRjaFJhbmdlRXZlbnQoXCJyYW5nZUNoYW5naW5nXCIsIFwicGFuXCIpO1xuXHRcdFx0XHRcdC8vXHRfdGhpcy5yZW5kZXIoKTtcblx0XHRcdFx0XHQvL1x0X3RoaXMuX2Rpc3BhdGNoUmFuZ2VFdmVudChcInJhbmdlQ2hhbmdlZFwiLCBcInBhblwiKTtcblx0XHRcdFx0XHQvL30sIDApO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSBpZiAodGhpcy56b29tRW5hYmxlZCkge1xuXG5cdFx0XHRcdHRoaXMucmVzZXRPdmVybGF5ZWRDYW52YXMoKTtcblxuXHRcdFx0XHRhbHBoYSA9IHRoaXMub3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGE7XG5cblx0XHRcdFx0dGhpcy5vdmVybGFpZENhbnZhc0N0eC5nbG9iYWxBbHBoYSA9IC43O1xuXHRcdFx0XHR0aGlzLm92ZXJsYWlkQ2FudmFzQ3R4LmZpbGxTdHlsZSA9IFwiI0EwQUJCOFwiO1xuXG5cdFx0XHRcdHZhciByZWN0ID0ge1xuXHRcdFx0XHRcdHgxOiB6b29tUFggPyB0aGlzLmRyYWdTdGFydFBvaW50LnggOiB0aGlzLnBsb3RBcmVhLngxLFxuXHRcdFx0XHRcdHkxOiB6b29tUFkgPyB0aGlzLmRyYWdTdGFydFBvaW50LnkgOiB0aGlzLnBsb3RBcmVhLnkxLFxuXHRcdFx0XHRcdHgyOiB6b29tUFggPyB4IC0gdGhpcy5kcmFnU3RhcnRQb2ludC54IDogdGhpcy5wbG90QXJlYS54MiAtIHRoaXMucGxvdEFyZWEueDEsXG5cdFx0XHRcdFx0eTI6IHpvb21QWSA/IHkgLSB0aGlzLmRyYWdTdGFydFBvaW50LnkgOiB0aGlzLnBsb3RBcmVhLnkyIC0gdGhpcy5wbG90QXJlYS55MVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHRoaXMub3ZlcmxhaWRDYW52YXNDdHguZmlsbFJlY3QocmVjdC54MSwgcmVjdC55MSwgcmVjdC54MiwgcmVjdC55Mik7XG5cblx0XHRcdFx0dGhpcy5vdmVybGFpZENhbnZhc0N0eC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuXHRcdFx0fVxuXHRcdH1cblxuXHR9IGVsc2Vcblx0XHR0aGlzLl90b29sVGlwLm1vdXNlTW92ZUhhbmRsZXIoeCwgeSk7XG59XG5cbi8vI2VuZHJlZ2lvbiBFdmVudHNcblxuLy9TZXRzIHRoZSB2aWV3cG9ydCByYW5nZSBvZiBBeGlzIGJhc2VkIG9uIHRoZSBnaXZlbiByZWN0IGJvdW5kcyAocGl4ZWxzKS4gQWxzbyBsaW1pdHMgdGhlIHpvb21pbmcvcGFubmluZyBiYXNlZCBvbiBheGlzIGJvdW5kcy4gUmV0dXJucyBhIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciBpdCB3YXMgc3VjY2VzZnVsIG9yIG5vdCBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgcmVnaW9uLlxuQ2hhcnQucHJvdG90eXBlLl96b29tUGFuVG9TZWxlY3RlZFJlZ2lvbiA9IGZ1bmN0aW9uIChweDEsIHB5MSwgcHgyLCBweTIsIGtlZXBBeGlzSW5kZXBlbmRlbnQpIHtcblxuXHRrZWVwQXhpc0luZGVwZW5kZW50ID0ga2VlcEF4aXNJbmRlcGVuZGVudCB8fCBmYWxzZTtcblxuXHR2YXIgem9vbVBYID0gdGhpcy56b29tVHlwZS5pbmRleE9mKFwieFwiKSA+PSAwLCAvL1doZXRoZXIgdG8gem9vbSBob3Jpem9udGFsbHlcblx0XHR6b29tUFkgPSB0aGlzLnpvb21UeXBlLmluZGV4T2YoXCJ5XCIpID49IDAsIC8vV2hldGhlciB0byB6b29tIHZlcnRpY2FsbHlcblx0XHR2YWxpZFJlZ2lvbiA9IGZhbHNlO1xuXG5cdHZhciBheGVzID0gW10sIGF4ZXNXaXRoVmFsaWRSYW5nZSA9IFtdO1xuXHRpZiAodGhpcy5heGlzWCAmJiB6b29tUFgpXG5cdFx0YXhlcy5wdXNoKHRoaXMuYXhpc1gpO1xuXHRpZiAodGhpcy5heGlzWSAmJiB6b29tUFkpXG5cdFx0YXhlcy5wdXNoKHRoaXMuYXhpc1kpO1xuXHRpZiAodGhpcy5heGlzWTIgJiYgem9vbVBZKVxuXHRcdGF4ZXMucHVzaCh0aGlzLmF4aXNZMik7XG5cblx0dmFyIHBhcmFtcyA9IFtdO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBheGlzID0gYXhlc1tpXTtcblx0XHQvL3ZhciByYW5nZSA9IE1hdGguYWJzKGF4aXMudmlld3BvcnRNYXhpbXVtIC0gYXhpcy52aWV3cG9ydE1pbmltdW0pO1xuXG5cdFx0dmFyIHZhbDEgPSBheGlzLmNvbnZlcnRQaXhlbFRvVmFsdWUoeyB4OiBweDEsIHk6IHB5MSB9KTtcblx0XHR2YXIgdmFsMiA9IGF4aXMuY29udmVydFBpeGVsVG9WYWx1ZSh7IHg6IHB4MiwgeTogcHkyIH0pO1xuXG5cdFx0aWYgKHZhbDEgPiB2YWwyKSB7XG5cdFx0XHR2YXIgdGVtcCA9IHZhbDI7XG5cdFx0XHR2YWwyID0gdmFsMTtcblx0XHRcdHZhbDEgPSB0ZW1wO1xuXHRcdH1cblxuXHRcdGlmIChpc0Zpbml0ZShheGlzLmRhdGFJbmZvLm1pbkRpZmYpKSB7XG5cdFx0XHRpZiAoIShNYXRoLmFicyh2YWwyIC0gdmFsMSkgPCAzICogTWF0aC5hYnMoYXhpcy5kYXRhSW5mby5taW5EaWZmKVxuXHRcdFx0fHwgKHZhbDEgPCBheGlzLm1pbmltdW0pIHx8ICh2YWwyID4gYXhpcy5tYXhpbXVtKSkpIHtcblx0XHRcdFx0YXhlc1dpdGhWYWxpZFJhbmdlLnB1c2goYXhpcyk7XG5cdFx0XHRcdHBhcmFtcy5wdXNoKHsgdmFsMTogdmFsMSwgdmFsMjogdmFsMiB9KTtcblxuXHRcdFx0XHR2YWxpZFJlZ2lvbiA9IHRydWU7XG5cdFx0XHR9IGVsc2UgaWYgKCFrZWVwQXhpc0luZGVwZW5kZW50KSB7XG5cdFx0XHRcdHZhbGlkUmVnaW9uID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICh2YWxpZFJlZ2lvbikge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXhlc1dpdGhWYWxpZFJhbmdlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXhpcyA9IGF4ZXNXaXRoVmFsaWRSYW5nZVtpXTtcblx0XHRcdHZhciBwYXJhbSA9IHBhcmFtc1tpXTtcblxuXHRcdFx0YXhpcy5zZXRWaWV3UG9ydFJhbmdlKHBhcmFtLnZhbDEsIHBhcmFtLnZhbDIpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2YWxpZFJlZ2lvbjtcbn1cblxuQ2hhcnQucHJvdG90eXBlLnByZXBhcmVQbG90QXJlYSA9IGZ1bmN0aW9uICgpIHtcblxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuXG5cdHZhciB5QXhpcyA9IHRoaXMuYXhpc1kgPyB0aGlzLmF4aXNZIDogdGhpcy5heGlzWTI7XG5cblx0aWYgKCFpc0NhbnZhc1N1cHBvcnRlZCAmJiAocGxvdEFyZWEueDEgPiAwIHx8IHBsb3RBcmVhLnkxID4gMCkpIHtcblx0XHRwbG90QXJlYS5jdHgudHJhbnNsYXRlKHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSk7XG5cdH1cblxuXHRpZiAodGhpcy5heGlzWCAmJiB5QXhpcykge1xuXHRcdHBsb3RBcmVhLngxID0gdGhpcy5heGlzWC5saW5lQ29vcmRpbmF0ZXMueDEgPCB0aGlzLmF4aXNYLmxpbmVDb29yZGluYXRlcy54MiA/IHRoaXMuYXhpc1gubGluZUNvb3JkaW5hdGVzLngxIDogeUF4aXMubGluZUNvb3JkaW5hdGVzLngxO1xuXHRcdHBsb3RBcmVhLnkxID0gKHRoaXMuYXhpc1gubGluZUNvb3JkaW5hdGVzLnkxIDwgeUF4aXMubGluZUNvb3JkaW5hdGVzLnkxID8gdGhpcy5heGlzWC5saW5lQ29vcmRpbmF0ZXMueTEgOiB5QXhpcy5saW5lQ29vcmRpbmF0ZXMueTEpO1xuXG5cdFx0cGxvdEFyZWEueDIgPSAodGhpcy5heGlzWC5saW5lQ29vcmRpbmF0ZXMueDIgPiB5QXhpcy5saW5lQ29vcmRpbmF0ZXMueDIgPyB0aGlzLmF4aXNYLmxpbmVDb29yZGluYXRlcy54MiA6IHlBeGlzLmxpbmVDb29yZGluYXRlcy54Mik7XG5cdFx0cGxvdEFyZWEueTIgPSB0aGlzLmF4aXNYLmxpbmVDb29yZGluYXRlcy55MiA+IHRoaXMuYXhpc1gubGluZUNvb3JkaW5hdGVzLnkxID8gdGhpcy5heGlzWC5saW5lQ29vcmRpbmF0ZXMueTIgOiB5QXhpcy5saW5lQ29vcmRpbmF0ZXMueTI7XG5cblx0XHRwbG90QXJlYS53aWR0aCA9IHBsb3RBcmVhLngyIC0gcGxvdEFyZWEueDE7XG5cdFx0cGxvdEFyZWEuaGVpZ2h0ID0gcGxvdEFyZWEueTIgLSBwbG90QXJlYS55MTtcblx0XHQvL3Bsb3RBcmVhID0geyB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTIsIHdpZHRoOiB4MiAtIHgxLCBoZWlnaHQ6IHkyIC0geTEgfTtcblx0fSBlbHNlIHtcblx0XHQvL1RvRG86IEBzdW5pbFxuXHRcdHZhciBmcmVlU3BhY2UgPSB0aGlzLmxheW91dE1hbmFnZXIuZ2V0RnJlZVNwYWNlKCk7XG5cdFx0cGxvdEFyZWEueDEgPSBmcmVlU3BhY2UueDE7XG5cdFx0cGxvdEFyZWEueDIgPSBmcmVlU3BhY2UueDI7XG5cdFx0cGxvdEFyZWEueTEgPSBmcmVlU3BhY2UueTE7XG5cdFx0cGxvdEFyZWEueTIgPSBmcmVlU3BhY2UueTI7XG5cblx0XHRwbG90QXJlYS53aWR0aCA9IGZyZWVTcGFjZS53aWR0aDtcblx0XHRwbG90QXJlYS5oZWlnaHQgPSBmcmVlU3BhY2UuaGVpZ2h0O1xuXHR9XG5cblx0aWYgKCFpc0NhbnZhc1N1cHBvcnRlZCkge1xuXG5cdFx0cGxvdEFyZWEuY2FudmFzLndpZHRoID0gcGxvdEFyZWEud2lkdGg7XG5cdFx0cGxvdEFyZWEuY2FudmFzLmhlaWdodCA9IHBsb3RBcmVhLmhlaWdodDtcblxuXHRcdHBsb3RBcmVhLmNhbnZhcy5zdHlsZS5sZWZ0ID0gcGxvdEFyZWEueDEgKyBcInB4XCI7XG5cdFx0cGxvdEFyZWEuY2FudmFzLnN0eWxlLnRvcCA9IHBsb3RBcmVhLnkxICsgXCJweFwiO1xuXG5cdFx0aWYgKHBsb3RBcmVhLngxID4gMCB8fCBwbG90QXJlYS55MSA+IDApIHtcblx0XHRcdHBsb3RBcmVhLmN0eC50cmFuc2xhdGUoLXBsb3RBcmVhLngxLCAtcGxvdEFyZWEueTEpO1xuXHRcdH1cblx0fVxuXG5cdHBsb3RBcmVhLmxheW91dE1hbmFnZXIgPSBuZXcgTGF5b3V0TWFuYWdlcihwbG90QXJlYS54MSwgcGxvdEFyZWEueTEsIHBsb3RBcmVhLngyLCBwbG90QXJlYS55MiwgMik7XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5nZXRQaXhlbENvb3JkaW5hdGVzT25QbG90QXJlYSA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cdHJldHVybiB7XG5cdFx0eDogdGhpcy5heGlzWC5nZXRQaXhlbENvb3JkaW5hdGVzT25BeGlzKHgpLngsIHk6IHRoaXMuYXhpc1kuZ2V0UGl4ZWxDb29yZGluYXRlc09uQXhpcyh5KS55XG5cdH1cblx0Ly9yZXR1cm4geyB4OiA1LCB5OiAxMCB9O1xufVxuXG4vLyNyZWdpb24gUmVuZGVyIE1ldGhvZHNcblxuQ2hhcnQucHJvdG90eXBlLnJlbmRlckluZGV4TGFiZWxzID0gZnVuY3Rpb24gKHRhcmdldEN0eCkge1xuXHR2YXIgY3R4ID0gdGFyZ2V0Q3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xuXG5cdHZhciBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG5cblx0dmFyIG1pZCA9IDA7XG5cdHZhciB5TWluTGltaXQgPSAwO1xuXHR2YXIgeU1heExpbWl0ID0gMDtcblx0dmFyIHhNaW5MaW1pdCA9IDA7XG5cdHZhciB4TWF4TGltaXQgPSAwO1xuXHR2YXIgbWFyZ2luWCA9IDAsIG1hcmdpblkgPSAwOyAvLyBNYXJnaW4gYmV0d2VlbiBsYWJlbCBhbmQgZGF0YVBvaW50IC8gUGxvdEFyZWFcblx0dmFyIG9mZlNldFggPSAwLCBvZmZTZXRZID0gMDsgLy8gRGlzdGFuY2UgdG8gb2ZmU2V0IHRleHRCbG9jayAodG9wKSBmcm9tIGRhdGFQb2ludCBpbm9yZGVyIHRvIHBvc2l0aW9uIGl0XG5cdHZhciB2aXNpYmxlV2lkdGggPSAwO1xuXHR2YXIgdmlzaWJsZUhlaWdodCA9IDA7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pbmRleExhYmVscy5sZW5ndGg7IGkrKykge1xuXG5cdFx0dmFyIGluZGV4TGFiZWwgPSB0aGlzLl9pbmRleExhYmVsc1tpXTtcblx0XHR2YXIgY2hhcnRUeXBlTG93ZXIgPSBpbmRleExhYmVsLmNoYXJ0VHlwZS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0dmFyIHgsIHksIGFuZ2xlO1xuXG5cdFx0dmFyIGZvbnRDb2xvciA9IGdldFByb3BlcnR5KFwiaW5kZXhMYWJlbEZvbnRDb2xvclwiLCBpbmRleExhYmVsLmRhdGFQb2ludCwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzKTtcblx0XHR2YXIgZm9udFNpemUgPSBnZXRQcm9wZXJ0eShcImluZGV4TGFiZWxGb250U2l6ZVwiLCBpbmRleExhYmVsLmRhdGFQb2ludCwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzKTtcblx0XHR2YXIgZm9udEZhbWlseSA9IGdldFByb3BlcnR5KFwiaW5kZXhMYWJlbEZvbnRGYW1pbHlcIiwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcyk7XG5cdFx0dmFyIGZvbnRTdHlsZSA9IGdldFByb3BlcnR5KFwiaW5kZXhMYWJlbEZvbnRTdHlsZVwiLCBpbmRleExhYmVsLmRhdGFQb2ludCwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzKTtcblx0XHR2YXIgZm9udFdlaWdodCA9IGdldFByb3BlcnR5KFwiaW5kZXhMYWJlbEZvbnRXZWlnaHRcIiwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcyk7XG5cdFx0dmFyIGJhY2tncm91bmRDb2xvciA9IGdldFByb3BlcnR5KFwiaW5kZXhMYWJlbEJhY2tncm91bmRDb2xvclwiLCBpbmRleExhYmVsLmRhdGFQb2ludCwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzKTtcblx0XHR2YXIgbWF4V2lkdGggPSBnZXRQcm9wZXJ0eShcImluZGV4TGFiZWxNYXhXaWR0aFwiLCBpbmRleExhYmVsLmRhdGFQb2ludCwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzKTtcblx0XHR2YXIgaW5kZXhMYWJlbFdyYXAgPSBnZXRQcm9wZXJ0eShcImluZGV4TGFiZWxXcmFwXCIsIGluZGV4TGFiZWwuZGF0YVBvaW50LCBpbmRleExhYmVsLmRhdGFTZXJpZXMpO1xuXG5cdFx0dmFyIHBlcmNlbnRBbmRUb3RhbCA9IHtcblx0XHRcdHBlcmNlbnQ6IG51bGwsIHRvdGFsOiBudWxsXG5cdFx0fTtcblx0XHR2YXIgZm9ybWF0dGVyUGFyYW1ldGVyID0gbnVsbDtcblxuXHRcdGlmIChpbmRleExhYmVsLmRhdGFTZXJpZXMudHlwZS5pbmRleE9mKFwic3RhY2tlZFwiKSA+PSAwIHx8IGluZGV4TGFiZWwuZGF0YVNlcmllcy50eXBlID09PSBcInBpZVwiIHx8IGluZGV4TGFiZWwuZGF0YVNlcmllcy50eXBlID09PSBcImRvdWdobnV0XCIpXG5cdFx0XHRwZXJjZW50QW5kVG90YWwgPSB0aGlzLmdldFBlcmNlbnRBbmRUb3RhbChpbmRleExhYmVsLmRhdGFTZXJpZXMsIGluZGV4TGFiZWwuZGF0YVBvaW50KTtcblxuXHRcdGlmIChpbmRleExhYmVsLmRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBpbmRleExhYmVsLmRhdGFQb2ludC5pbmRleExhYmVsRm9ybWF0dGVyKVxuXHRcdFx0Zm9ybWF0dGVyUGFyYW1ldGVyID0ge1xuXHRcdFx0XHRjaGFydDogdGhpcy5fb3B0aW9ucywgZGF0YVNlcmllczogaW5kZXhMYWJlbC5kYXRhU2VyaWVzLCBkYXRhUG9pbnQ6IGluZGV4TGFiZWwuZGF0YVBvaW50LCBpbmRleDogaW5kZXhMYWJlbC5pbmRleEtleXdvcmQsIHRvdGFsOiBwZXJjZW50QW5kVG90YWwudG90YWwsIHBlcmNlbnQ6IHBlcmNlbnRBbmRUb3RhbC5wZXJjZW50XG5cdFx0XHR9O1xuXG5cblx0XHR2YXIgaW5kZXhMYWJlbFRleHQgPSBpbmRleExhYmVsLmRhdGFQb2ludC5pbmRleExhYmVsRm9ybWF0dGVyID8gaW5kZXhMYWJlbC5kYXRhUG9pbnQuaW5kZXhMYWJlbEZvcm1hdHRlcihmb3JtYXR0ZXJQYXJhbWV0ZXIpXG5cdFx0XHQ6IGluZGV4TGFiZWwuZGF0YVBvaW50LmluZGV4TGFiZWwgPyB0aGlzLnJlcGxhY2VLZXl3b3Jkc1dpdGhWYWx1ZShpbmRleExhYmVsLmRhdGFQb2ludC5pbmRleExhYmVsLCBpbmRleExhYmVsLmRhdGFQb2ludCwgaW5kZXhMYWJlbC5kYXRhU2VyaWVzLCBudWxsLCBpbmRleExhYmVsLmluZGV4S2V5d29yZClcblx0XHRcdDogaW5kZXhMYWJlbC5kYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIgPyBpbmRleExhYmVsLmRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcihmb3JtYXR0ZXJQYXJhbWV0ZXIpXG5cdFx0XHQ6IGluZGV4TGFiZWwuZGF0YVNlcmllcy5pbmRleExhYmVsID8gdGhpcy5yZXBsYWNlS2V5d29yZHNXaXRoVmFsdWUoaW5kZXhMYWJlbC5kYXRhU2VyaWVzLmluZGV4TGFiZWwsIGluZGV4TGFiZWwuZGF0YVBvaW50LCBpbmRleExhYmVsLmRhdGFTZXJpZXMsIG51bGwsIGluZGV4TGFiZWwuaW5kZXhLZXl3b3JkKSA6IG51bGw7XG5cblx0XHRpZiAoaW5kZXhMYWJlbFRleHQgPT09IG51bGwgfHwgaW5kZXhMYWJlbFRleHQgPT09IFwiXCIpXG5cdFx0XHRjb250aW51ZTtcblxuXHRcdHZhciBwbGFjZW1lbnQgPSBnZXRQcm9wZXJ0eShcImluZGV4TGFiZWxQbGFjZW1lbnRcIiwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcyk7XG5cdFx0dmFyIG9yaWVudGF0aW9uID0gZ2V0UHJvcGVydHkoXCJpbmRleExhYmVsT3JpZW50YXRpb25cIiwgaW5kZXhMYWJlbC5kYXRhUG9pbnQsIGluZGV4TGFiZWwuZGF0YVNlcmllcyk7XG5cdFx0dmFyIGFuZ2xlID0gMDtcblxuXHRcdHZhciBkaXJlY3Rpb24gPSBpbmRleExhYmVsLmRpcmVjdGlvbjsgLy8gKzEgZm9yIGFib3ZlIHRoZSBwb2ludCBhbmQgLTEgZm9yIGJlbG93IHRoZSBwb2ludFxuXG5cdFx0dmFyIGF4aXNYID0gaW5kZXhMYWJlbC5kYXRhU2VyaWVzLmF4aXNYO1xuXHRcdHZhciBheGlzWSA9IGluZGV4TGFiZWwuZGF0YVNlcmllcy5heGlzWTtcblxuXG5cdFx0dmFyIHRleHRCbG9jayA9IG5ldyBUZXh0QmxvY2soY3R4LCB7XG5cdFx0XHR4OiAwLFxuXHRcdFx0eTogMCxcblx0XHRcdG1heFdpZHRoOiBtYXhXaWR0aCA/IG1heFdpZHRoIDogdGhpcy53aWR0aCAqIC41LFxuXHRcdFx0bWF4SGVpZ2h0OiBpbmRleExhYmVsV3JhcCA/IGZvbnRTaXplICogNSA6IGZvbnRTaXplICogMS41LFxuXHRcdFx0YW5nbGU6IG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiA/IDAgOiAtOTAsXG5cdFx0XHR0ZXh0OiBpbmRleExhYmVsVGV4dCxcblx0XHRcdHBhZGRpbmc6IDAsXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcblx0XHRcdGhvcml6b250YWxBbGlnbjogXCJsZWZ0XCIsLy9sZWZ0LCBjZW50ZXIsIHJpZ2h0XG5cdFx0XHRmb250U2l6ZTogZm9udFNpemUsLy9pbiBwaXhlbHNcblx0XHRcdGZvbnRGYW1pbHk6IGZvbnRGYW1pbHksXG5cdFx0XHRmb250V2VpZ2h0OiBmb250V2VpZ2h0LCAvL25vcm1hbCwgYm9sZCwgYm9sZGVyLCBsaWdodGVyLFxuXHRcdFx0Zm9udENvbG9yOiBmb250Q29sb3IsXG5cdFx0XHRmb250U3R5bGU6IGZvbnRTdHlsZSwgLy8gbm9ybWFsLCBpdGFsaWMsIG9ibGlxdWVcblx0XHRcdHRleHRCYXNlbGluZTogXCJ0b3BcIlxuXHRcdH0pO1xuXG5cdFx0dmFyIHRleHRTaXplID0gdGV4dEJsb2NrLm1lYXN1cmVUZXh0KCk7XG5cblx0XHQvL2lmIChpbmRleExhYmVsLmRhdGFQb2ludC54IDwgYXhpc1gudmlld3BvcnRNaW5pbXVtIHx8IGluZGV4TGFiZWwuZGF0YVBvaW50LnggPiBheGlzWC52aWV3cG9ydE1heGltdW0gfHwgaW5kZXhMYWJlbC5kYXRhUG9pbnQueSA8IGF4aXNZLnZpZXdwb3J0TWluaW11bSB8fCBpbmRleExhYmVsLmRhdGFQb2ludC55ID4gYXhpc1kudmlld3BvcnRNYXhpbXVtKVxuXHRcdC8vXHRjb250aW51ZTtcblxuXHRcdGlmIChjaGFydFR5cGVMb3dlci5pbmRleE9mKFwibGluZVwiKSA+PSAwIHx8IGNoYXJ0VHlwZUxvd2VyLmluZGV4T2YoXCJhcmVhXCIpID49IDBcblx0XHRcdFx0fHwgY2hhcnRUeXBlTG93ZXIuaW5kZXhPZihcImJ1YmJsZVwiKSA+PSAwIHx8IGNoYXJ0VHlwZUxvd2VyLmluZGV4T2YoXCJzY2F0dGVyXCIpID49IDApIHtcblxuXHRcdFx0aWYgKGluZGV4TGFiZWwuZGF0YVBvaW50LnggPCBheGlzWC52aWV3cG9ydE1pbmltdW0gfHwgaW5kZXhMYWJlbC5kYXRhUG9pbnQueCA+IGF4aXNYLnZpZXdwb3J0TWF4aW11bSB8fCBpbmRleExhYmVsLmRhdGFQb2ludC55IDwgYXhpc1kudmlld3BvcnRNaW5pbXVtIHx8IGluZGV4TGFiZWwuZGF0YVBvaW50LnkgPiBheGlzWS52aWV3cG9ydE1heGltdW0pXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGlmIChpbmRleExhYmVsLmRhdGFQb2ludC54IDwgYXhpc1gudmlld3BvcnRNaW5pbXVtIHx8IGluZGV4TGFiZWwuZGF0YVBvaW50LnggPiBheGlzWC52aWV3cG9ydE1heGltdW0pXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdG1hcmdpblkgPSAyO1xuXHRcdG1hcmdpblggPSAyO1xuXG5cdFx0aWYgKG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIikge1xuXHRcdFx0dmlzaWJsZVdpZHRoID0gdGV4dEJsb2NrLndpZHRoO1xuXHRcdFx0dmlzaWJsZUhlaWdodCA9IHRleHRCbG9jay5oZWlnaHQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZpc2libGVIZWlnaHQgPSB0ZXh0QmxvY2sud2lkdGg7XG5cdFx0XHR2aXNpYmxlV2lkdGggPSB0ZXh0QmxvY2suaGVpZ2h0O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgPT09IFwibm9ybWFsXCIpIHtcblxuXHRcdFx0aWYgKGNoYXJ0VHlwZUxvd2VyLmluZGV4T2YoXCJsaW5lXCIpID49IDAgfHwgY2hhcnRUeXBlTG93ZXIuaW5kZXhPZihcImFyZWFcIikgPj0gMCkge1xuXG5cdFx0XHRcdHBsYWNlbWVudCA9IFwiYXV0b1wiO1xuXHRcdFx0XHRtYXJnaW5ZID0gNDtcblxuXHRcdFx0fSBlbHNlIGlmIChjaGFydFR5cGVMb3dlci5pbmRleE9mKFwic3RhY2tlZFwiKSA+PSAwKSB7XG5cblx0XHRcdFx0aWYgKHBsYWNlbWVudCA9PT0gXCJhdXRvXCIpXG5cdFx0XHRcdFx0cGxhY2VtZW50ID0gXCJpbnNpZGVcIjtcblxuXHRcdFx0fSBlbHNlIGlmIChjaGFydFR5cGVMb3dlciA9PT0gXCJidWJibGVcIiB8fCBjaGFydFR5cGVMb3dlciA9PT0gXCJzY2F0dGVyXCIpIHtcblxuXHRcdFx0XHRwbGFjZW1lbnQgPSBcImluc2lkZVwiO1xuXG5cdFx0XHR9XG5cblx0XHRcdHggPSBpbmRleExhYmVsLnBvaW50LnggLSB2aXNpYmxlV2lkdGggLyAyO1xuXG5cdFx0XHRpZiAocGxhY2VtZW50ICE9PSBcImluc2lkZVwiKSB7XHQvL291dHNpZGUgb3IgYXV0b1xuXG5cdFx0XHRcdHlNaW5MaW1pdCA9IHBsb3RBcmVhLnkxO1xuXHRcdFx0XHR5TWF4TGltaXQgPSBwbG90QXJlYS55MjtcblxuXHRcdFx0XHRpZiAoZGlyZWN0aW9uID4gMCkge1xuXHRcdFx0XHRcdHkgPSBpbmRleExhYmVsLnBvaW50LnkgLSB2aXNpYmxlSGVpZ2h0IC0gbWFyZ2luWTtcblxuXHRcdFx0XHRcdGlmICh5IDwgeU1pbkxpbWl0KSB7XG5cdFx0XHRcdFx0XHRpZiAocGxhY2VtZW50ID09PSBcImF1dG9cIikge1xuXHRcdFx0XHRcdFx0XHR5ID0gTWF0aC5tYXgoaW5kZXhMYWJlbC5wb2ludC55LCB5TWluTGltaXQpICsgbWFyZ2luWTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR5ID0geU1pbkxpbWl0ICsgbWFyZ2luWTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0eSA9IGluZGV4TGFiZWwucG9pbnQueSArIG1hcmdpblk7XG5cblx0XHRcdFx0XHRpZiAoeSA+IHlNYXhMaW1pdCAtIHZpc2libGVIZWlnaHQgLSBtYXJnaW5ZKSB7XG5cdFx0XHRcdFx0XHRpZiAocGxhY2VtZW50ID09PSBcImF1dG9cIikge1xuXHRcdFx0XHRcdFx0XHR5ID0gTWF0aC5taW4oaW5kZXhMYWJlbC5wb2ludC55LCB5TWF4TGltaXQpIC0gdmlzaWJsZUhlaWdodCAtIG1hcmdpblk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0eSA9IHlNYXhMaW1pdCAtIHZpc2libGVIZWlnaHQgLSBtYXJnaW5ZO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2Uge1xuXG5cblx0XHRcdFx0eU1pbkxpbWl0ID0gTWF0aC5tYXgoaW5kZXhMYWJlbC5ib3VuZHMueTEsIHBsb3RBcmVhLnkxKTtcblx0XHRcdFx0eU1heExpbWl0ID0gTWF0aC5taW4oaW5kZXhMYWJlbC5ib3VuZHMueTIsIHBsb3RBcmVhLnkyKTtcblxuXG5cdFx0XHRcdGlmIChjaGFydFR5cGVMb3dlci5pbmRleE9mKFwicmFuZ2VcIikgPj0gMCkge1xuXHRcdFx0XHRcdGlmIChkaXJlY3Rpb24gPiAwKVxuXHRcdFx0XHRcdFx0bWlkID0gTWF0aC5tYXgoaW5kZXhMYWJlbC5ib3VuZHMueTEsIHBsb3RBcmVhLnkxKSArIHZpc2libGVIZWlnaHQgLyAyICsgbWFyZ2luWTtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRtaWQgPSBNYXRoLm1pbihpbmRleExhYmVsLmJvdW5kcy55MiwgcGxvdEFyZWEueTIpIC0gdmlzaWJsZUhlaWdodCAvIDIgLSBtYXJnaW5ZO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRtaWQgPSAoTWF0aC5tYXgoaW5kZXhMYWJlbC5ib3VuZHMueTEsIHBsb3RBcmVhLnkxKSArIE1hdGgubWluKGluZGV4TGFiZWwuYm91bmRzLnkyLCBwbG90QXJlYS55MikpIC8gMlxuXG5cdFx0XHRcdGlmIChkaXJlY3Rpb24gPiAwKSB7XG5cdFx0XHRcdFx0eSA9IE1hdGgubWF4KGluZGV4TGFiZWwucG9pbnQueSwgbWlkKSAtIHZpc2libGVIZWlnaHQgLyAyO1xuXG5cdFx0XHRcdFx0aWYgKHkgPCB5TWluTGltaXQgJiYgKGNoYXJ0VHlwZUxvd2VyID09PSBcImJ1YmJsZVwiIHx8IGNoYXJ0VHlwZUxvd2VyID09PSBcInNjYXR0ZXJcIikpIHtcblx0XHRcdFx0XHRcdHkgPSBNYXRoLm1heChpbmRleExhYmVsLnBvaW50LnkgLSB2aXNpYmxlSGVpZ2h0IC0gbWFyZ2luWSwgcGxvdEFyZWEueTEgKyBtYXJnaW5ZKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0eSA9IE1hdGgubWluKGluZGV4TGFiZWwucG9pbnQueSwgbWlkKSAtIHZpc2libGVIZWlnaHQgLyAyO1xuXG5cdFx0XHRcdFx0aWYgKHkgPiB5TWF4TGltaXQgLSB2aXNpYmxlSGVpZ2h0IC0gbWFyZ2luWSAmJiAoY2hhcnRUeXBlTG93ZXIgPT09IFwiYnViYmxlXCIgfHwgY2hhcnRUeXBlTG93ZXIgPT09IFwic2NhdHRlclwiKSkge1xuXHRcdFx0XHRcdFx0eSA9IE1hdGgubWluKGluZGV4TGFiZWwucG9pbnQueSArIG1hcmdpblksIHBsb3RBcmVhLnkyIC0gdmlzaWJsZUhlaWdodCAtIG1hcmdpblkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG4gICAgICAgICAgICAgICAgICAvLyBNYWtlIFN1cmUgdGhhdCBpdCBkb2VzIG5vdCBvdmVybGFwIHRoZSBheGlzIGxpbmVcblx0XHRcdFx0eSA9IE1hdGgubWluKHksIHlNYXhMaW1pdCAtIHZpc2libGVIZWlnaHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblxuXHRcdFx0aWYgKGNoYXJ0VHlwZUxvd2VyLmluZGV4T2YoXCJsaW5lXCIpID49IDAgfHwgY2hhcnRUeXBlTG93ZXIuaW5kZXhPZihcImFyZWFcIikgPj0gMFxuXHRcdFx0XHR8fCBjaGFydFR5cGVMb3dlci5pbmRleE9mKFwic2NhdHRlclwiKSA+PSAwKSB7XG5cblx0XHRcdFx0cGxhY2VtZW50ID0gXCJhdXRvXCI7XG5cdFx0XHRcdG1hcmdpblggPSA0O1xuXG5cdFx0XHR9IGVsc2UgaWYgKGNoYXJ0VHlwZUxvd2VyLmluZGV4T2YoXCJzdGFja2VkXCIpID49IDApIHtcblxuXHRcdFx0XHRpZiAocGxhY2VtZW50ID09PSBcImF1dG9cIilcblx0XHRcdFx0XHRwbGFjZW1lbnQgPSBcImluc2lkZVwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKGNoYXJ0VHlwZUxvd2VyID09PSBcImJ1YmJsZVwiKSB7XG5cblx0XHRcdFx0cGxhY2VtZW50ID0gXCJpbnNpZGVcIjtcblxuXHRcdFx0fVxuXG5cdFx0XHR5ID0gaW5kZXhMYWJlbC5wb2ludC55IC0gdmlzaWJsZUhlaWdodCAvIDI7XG5cblx0XHRcdGlmIChwbGFjZW1lbnQgIT09IFwiaW5zaWRlXCIpIHtcdC8vb3V0c2lkZSBvciBhdXRvXG5cblx0XHRcdFx0eE1pbkxpbWl0ID0gcGxvdEFyZWEueDE7XG5cdFx0XHRcdHhNYXhMaW1pdCA9IHBsb3RBcmVhLngyO1xuXG5cdFx0XHRcdGlmIChkaXJlY3Rpb24gPCAwKSB7XG5cdFx0XHRcdFx0eCA9IGluZGV4TGFiZWwucG9pbnQueCAtIHZpc2libGVXaWR0aCAtIG1hcmdpblg7XG5cblx0XHRcdFx0XHRpZiAoeCA8IHhNaW5MaW1pdCkge1xuXHRcdFx0XHRcdFx0aWYgKHBsYWNlbWVudCA9PT0gXCJhdXRvXCIpIHtcblx0XHRcdFx0XHRcdFx0eCA9IE1hdGgubWF4KGluZGV4TGFiZWwucG9pbnQueCwgeE1pbkxpbWl0KSArIG1hcmdpblg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0eCA9IHhNaW5MaW1pdCArIG1hcmdpblg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHggPSBpbmRleExhYmVsLnBvaW50LnggKyBtYXJnaW5YO1xuXG5cdFx0XHRcdFx0aWYgKHggPiB4TWF4TGltaXQgLSB2aXNpYmxlV2lkdGggLSBtYXJnaW5YKSB7XG5cdFx0XHRcdFx0XHRpZiAocGxhY2VtZW50ID09PSBcImF1dG9cIikge1xuXHRcdFx0XHRcdFx0XHR4ID0gTWF0aC5taW4oaW5kZXhMYWJlbC5wb2ludC54LCB4TWF4TGltaXQpIC0gdmlzaWJsZVdpZHRoIC0gbWFyZ2luWDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR4ID0geE1heExpbWl0IC0gdmlzaWJsZVdpZHRoIC0gbWFyZ2luWDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHR4TWluTGltaXQgPSBNYXRoLm1heChpbmRleExhYmVsLmJvdW5kcy54MSwgcGxvdEFyZWEueDEpO1xuXHRcdFx0XHR4TWF4TGltaXQgPSBNYXRoLm1pbihpbmRleExhYmVsLmJvdW5kcy54MiwgcGxvdEFyZWEueDIpO1xuXG5cdFx0XHRcdGlmIChjaGFydFR5cGVMb3dlci5pbmRleE9mKFwicmFuZ2VcIikgPj0gMCkge1xuXHRcdFx0XHRcdGlmIChkaXJlY3Rpb24gPCAwKVxuXHRcdFx0XHRcdFx0bWlkID0gTWF0aC5tYXgoaW5kZXhMYWJlbC5ib3VuZHMueDEsIHBsb3RBcmVhLngxKSArIHZpc2libGVXaWR0aCAvIDIgKyBtYXJnaW5YO1xuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdG1pZCA9IE1hdGgubWluKGluZGV4TGFiZWwuYm91bmRzLngyLCBwbG90QXJlYS54MikgLSB2aXNpYmxlV2lkdGggLyAyIC0gbWFyZ2luWDtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dmFyIG1pZCA9IChNYXRoLm1heChpbmRleExhYmVsLmJvdW5kcy54MSwgcGxvdEFyZWEueDEpICsgTWF0aC5taW4oaW5kZXhMYWJlbC5ib3VuZHMueDIsIHBsb3RBcmVhLngyKSkgLyAyO1xuXG5cdFx0XHRcdGlmIChkaXJlY3Rpb24gPCAwKSB7XG5cdFx0XHRcdFx0eCA9IE1hdGgubWF4KGluZGV4TGFiZWwucG9pbnQueCwgbWlkKSAtIHZpc2libGVXaWR0aCAvIDI7XG5cblx0XHRcdFx0XHQvL2lmICh5IDwgeE1pbkxpbWl0KSB7XG5cdFx0XHRcdFx0Ly9cdHkgPSBNYXRoLm1heChpbmRleExhYmVsLnBvaW50LnkgLSB2aXNpYmxlSGVpZ2h0IC0gbWFyZ2luWSwgcGxvdEFyZWEueTEgKyBtYXJnaW5ZKTtcblx0XHRcdFx0XHQvL31cblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHR4ID0gTWF0aC5taW4oaW5kZXhMYWJlbC5wb2ludC54LCBtaWQpIC0gdmlzaWJsZVdpZHRoIC8gMjtcblxuXHRcdFx0XHRcdC8vaWYgKHkgPiB4TWF4TGltaXQgLSB2aXNpYmxlSGVpZ2h0IC0gbWFyZ2luWSkge1xuXHRcdFx0XHRcdC8vXHR5ID0gTWF0aC5taW4oaW5kZXhMYWJlbC5wb2ludC55ICsgbWFyZ2luWSwgcGxvdEFyZWEueTIgLSB2aXNpYmxlSGVpZ2h0IC0gbWFyZ2luWSk7XG5cdFx0XHRcdFx0Ly99XG5cdFx0XHRcdH1cblxuXHRcdFx0ICAgIC8vIE1ha2UgU3VyZSB0aGF0IGl0IGRvZXMgbm90IG92ZXJsYXAgdGhlIGF4aXMgbGluZVxuXHRcdFx0ICAgIHggPSBNYXRoLm1heCh4LCB4TWluTGltaXQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXG5cdFx0aWYgKG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIpIHtcblx0XHRcdHkgKz0gdmlzaWJsZUhlaWdodDtcblx0XHR9XG5cblx0XHR0ZXh0QmxvY2sueCA9IHg7XG5cdFx0dGV4dEJsb2NrLnkgPSB5O1xuXG5cdFx0Ly9jb25zb2xlLmxvZyh0ZXh0QmxvY2sudGV4dCArIFwiOiBcIiArIHRleHRCbG9jay54ICsgXCI7IFwiICsgdGV4dEJsb2NrLnkpO1xuXG5cdFx0dGV4dEJsb2NrLnJlbmRlcih0cnVlKTtcblx0fVxuXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLmZhZGVJbkFuaW1hdGlvbiwgZWFzaW5nRnVuY3Rpb246IEFuaW1hdGlvbkhlbHBlci5lYXNpbmcuZWFzZUluUXVhZCwgYW5pbWF0aW9uQmFzZTogMCwgc3RhcnRUaW1lUGVyY2VudDogLjdcblx0fTtcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJMaW5lID0gZnVuY3Rpb24gKHBsb3RVbml0KSB7XG5cblx0dmFyIGN0eCA9IHBsb3RVbml0LnRhcmdldENhbnZhc0N0eCB8fCB0aGlzLnBsb3RBcmVhLmN0eDtcblxuXHR2YXIgdG90YWxEYXRhU2VyaWVzID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoO1xuXHRpZiAodG90YWxEYXRhU2VyaWVzIDw9IDApXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBnaG9zdEN0eCA9IHRoaXMuX2V2ZW50TWFuYWdlci5naG9zdEN0eDtcblx0Ly92YXIgZ2hvc3RDdHggPSB0aGlzLm92ZXJsYWlkQ2FudmFzQ3R4O1xuXG5cdGN0eC5zYXZlKCk7XG5cblx0dmFyIHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cdGN0eC5yZWN0KHBsb3RBcmVhLngxLCBwbG90QXJlYS55MSwgcGxvdEFyZWEud2lkdGgsIHBsb3RBcmVhLmhlaWdodCk7XG5cdGN0eC5jbGlwKCk7XG5cblx0dmFyIG1hcmtlcnMgPSBbXTtcblxuXHRmb3IgKHZhciBqID0gMDsgaiA8IHBsb3RVbml0LmRhdGFTZXJpZXNJbmRleGVzLmxlbmd0aDsgaisrKSB7XG5cblx0XHR2YXIgZGF0YVNlcmllc0luZGV4ID0gcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXNbal07XG5cblx0XHR2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVtkYXRhU2VyaWVzSW5kZXhdO1xuXHRcdGN0eC5saW5lV2lkdGggPSBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3M7XG5cdFx0dmFyIGRhdGFQb2ludHMgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHM7XG5cblxuXHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcblx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcblx0XHR9XG5cblx0XHR2YXIgc2VyaWVzSWQgPSBkYXRhU2VyaWVzLmlkO1xuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbc2VyaWVzSWRdID0ge1xuXHRcdFx0b2JqZWN0VHlwZTogXCJkYXRhU2VyaWVzXCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4XG5cdFx0fTtcblx0XHR2YXIgaGV4Q29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKHNlcmllc0lkKTtcblx0XHRnaG9zdEN0eC5zdHJva2VTdHlsZSA9IGhleENvbG9yO1xuXHRcdC8vZ2hvc3RDdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xuXHRcdGdob3N0Q3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcyA+IDAgPyBNYXRoLm1heChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MsIDQpIDogMDtcblxuXHRcdHZhciBjb2xvclNldCA9IGRhdGFTZXJpZXMuX2NvbG9yU2V0O1xuXHRcdHZhciBjb2xvciA9IGNvbG9yU2V0WzBdO1xuXHRcdGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcblx0XHR2YXIgaSA9IDAsIHgsIHk7XG5cdFx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBiYWNrIGFuZCBmb3J0aC5cblxuXHRcdC8vaWYgKCFkYXRhU2VyaWVzLl9vcHRpb25zLm1hcmtlclNpemUgJiYgZGF0YVNlcmllcy5kYXRhUG9pbnRzLmxlbmd0aCA8IDEwMDApXG5cdFx0Ly8gICAgZGF0YVNlcmllcy5tYXJrZXJTaXplID0gODtcblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xuXHRcdFx0Ly92YXIgeHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPblBsb3RBcmVhKGRhdGFQb2ludHNbMF0ueCwgZGF0YVBvaW50c1swXS55KTtcblxuXHRcdFx0Ly9kYXRhU2VyaWVzLm5vRGF0YVBvaW50c0luUGxvdEFyZWEgPSAwXG5cdFx0XHR2YXIgcHJldkRhdGFOdWxsID0gZmFsc2U7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSA/IGRhdGFQb2ludHNbaV0ueC5nZXRUaW1lKCkgOiBkYXRhUG9pbnRzW2ldLng7XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludFggPCBwbG90VW5pdC5heGlzWC5kYXRhSW5mby52aWV3UG9ydE1pbiB8fCBkYXRhUG9pbnRYID4gcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNYXgpXG5cdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0Ly9pZiAoIWlzRmluaXRlKGRhdGFQb2ludHNbaV0ueSkpXG5cdFx0XHRcdC8vICAgIGNvbnRpbnVlO1xuXG5cdFx0XHRcdGlmICh0eXBlb2YgKGRhdGFQb2ludHNbaV0ueSkgIT09IFwibnVtYmVyXCIpIHtcblx0XHRcdFx0XHRpZiAoaSA+IDApIHsvLyBpZiBmaXJzdCBkYXRhUG9pbnQgaXMgbnVsbCB0aGVuIG5vIG5lZWQgdG8gY2FsbCBzdHJva2UgbWV0aG9kXG5cdFx0XHRcdFx0XHRjdHguc3Ryb2tlKCk7XG5cblx0XHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5zdHJva2UoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblxuXHRcdFx0XHRcdHByZXZEYXRhTnVsbCA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR4ID0gKHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAqIChkYXRhUG9pbnRYIC0gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblx0XHRcdFx0eSA9IChwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50c1tpXS55IC0gcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgKyAuNSkgPDwgMDtcblxuXHRcdFx0XHR2YXIgaWQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludElkc1tpXTtcblx0XHRcdFx0dGhpcy5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gPSB7XG5cdFx0XHRcdFx0aWQ6IGlkLCBvYmplY3RUeXBlOiBcImRhdGFQb2ludFwiLCBkYXRhU2VyaWVzSW5kZXg6IGRhdGFTZXJpZXNJbmRleCwgZGF0YVBvaW50SW5kZXg6IGksIHgxOiB4LCB5MTogeVxuXHRcdFx0XHR9O1xuXG5cblx0XHRcdFx0Ly9kYXRhU2VyaWVzLm5vRGF0YVBvaW50c0luUGxvdEFyZWErKztcblxuXHRcdFx0XHRpZiAoaXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgfHwgcHJldkRhdGFOdWxsKSB7XG5cdFx0XHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0XHRcdGN0eC5tb3ZlVG8oeCwgeSk7XG5cblxuXHRcdFx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdFx0XHRcdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aXNGaXJzdERhdGFQb2ludEluUGxvdEFyZWEgPSBmYWxzZTtcblx0XHRcdFx0XHRwcmV2RGF0YU51bGwgPSBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdGN0eC5saW5lVG8oeCwgeSk7XG5cblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5saW5lVG8oeCwgeSk7XG5cblx0XHRcdFx0XHRpZiAoaSAlIDUwMCA9PSAwKSB7XG5cdFx0XHRcdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0XHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0XHRjdHgubW92ZVRvKHgsIHkpO1xuXG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlKCk7XG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5tb3ZlVG8oeCwgeSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9SZW5kZXIgTWFya2VyXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLm1hcmtlclNpemUgPiAwIHx8IGRhdGFTZXJpZXMubWFya2VyU2l6ZSA+IDApIHtcblxuXHRcdFx0XHRcdHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpLCB4LCB5LCBjdHgpO1xuXHRcdFx0XHRcdG1hcmtlcnMucHVzaChtYXJrZXJQcm9wcyk7XG5cblx0XHRcdFx0XHQvL2lmICghZGF0YVNlcmllcy5tYXhXaWR0aEluWCB8fCBtYXJrZXJQcm9wcy5zaXplID4gZGF0YVNlcmllcy5tYXhXaWR0aEluWCkge1xuXHRcdFx0XHRcdC8vXHRkYXRhU2VyaWVzLm1heFdpZHRoSW5YID0gbWFya2VyUHJvcHMuc2l6ZSAvIChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgPiAxID8gcGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0IC0gMSA6IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCk7XG5cdFx0XHRcdFx0Ly99XG5cblx0XHRcdFx0XHR2YXIgbWFya2VyQ29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKGlkKTtcblxuXHRcdFx0XHRcdC8vd2luZG93LmNvbnNvbGUubG9nKFwiaW5kZXg6IFwiICsgaSArIFwiOyBpZDogXCIgKyBpZCArIFwiOyBoZXg6IFwiICsgbWFya2VyQ29sb3IpO1xuXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHRtYXJrZXJzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5LCBjdHg6IGdob3N0Q3R4LFxuXHRcdFx0XHRcdFx0XHR0eXBlOiBtYXJrZXJQcm9wcy50eXBlLFxuXHRcdFx0XHRcdFx0XHRzaXplOiBtYXJrZXJQcm9wcy5zaXplLFxuXHRcdFx0XHRcdFx0XHRjb2xvcjogbWFya2VyQ29sb3IsXG5cdFx0XHRcdFx0XHRcdGJvcmRlckNvbG9yOiBtYXJrZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0Ym9yZGVyVGhpY2tuZXNzOiBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3Ncblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRzW2ldLmluZGV4TGFiZWwgfHwgZGF0YVNlcmllcy5pbmRleExhYmVsIHx8IGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbEZvcm1hdHRlciB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWxGb3JtYXR0ZXIpIHtcblxuXHRcdFx0XHRcdHRoaXMuX2luZGV4TGFiZWxzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y2hhcnRUeXBlOiBcImxpbmVcIixcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IDEgOiAtMSxcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRjdHguc3Ryb2tlKCk7XG5cblx0XHRcdGlmIChpc0NhbnZhc1N1cHBvcnRlZClcblx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlKCk7XG5cdFx0fVxuXG5cdH1cblxuXG5cdFJlbmRlckhlbHBlci5kcmF3TWFya2VycyhtYXJrZXJzKTtcblx0Y3R4LnJlc3RvcmUoKTtcblxuXHRjdHguYmVnaW5QYXRoKCk7XG5cblx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdGdob3N0Q3R4LmJlZ2luUGF0aCgpO1xuXG5cdC8vc291cmNlIGFuZCBkZXN0IHdvdWxkIGJlIHNhbWUgd2hlbiBhbmltYXRpb24gaXMgbm90IGVuYWJsZWRcblx0dmFyIGFuaW1hdGlvbkluZm8gPSB7XG5cdFx0c291cmNlOiBjdHgsIGRlc3Q6IHRoaXMucGxvdEFyZWEuY3R4LCBhbmltYXRpb25DYWxsYmFjazogQW5pbWF0aW9uSGVscGVyLnhDbGlwQW5pbWF0aW9uLCBlYXNpbmdGdW5jdGlvbjogQW5pbWF0aW9uSGVscGVyLmVhc2luZy5saW5lYXIsIGFuaW1hdGlvbkJhc2U6IDBcblx0fTtcblx0cmV0dXJuIGFuaW1hdGlvbkluZm87XG59XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJTdGVwTGluZSA9IGZ1bmN0aW9uIChwbG90VW5pdCkge1xuXHR2YXIgY3R4ID0gcGxvdFVuaXQudGFyZ2V0Q2FudmFzQ3R4IHx8IHRoaXMucGxvdEFyZWEuY3R4O1xuXG5cdHZhciB0b3RhbERhdGFTZXJpZXMgPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlcy5sZW5ndGg7XG5cdGlmICh0b3RhbERhdGFTZXJpZXMgPD0gMClcblx0XHRyZXR1cm47XG5cblx0dmFyIGdob3N0Q3R4ID0gdGhpcy5fZXZlbnRNYW5hZ2VyLmdob3N0Q3R4O1xuXHQvL3ZhciBnaG9zdEN0eCA9IHRoaXMub3ZlcmxhaWRDYW52YXNDdHg7XG5cblx0Y3R4LnNhdmUoKTtcblxuXHR2YXIgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuXG5cdGN0eC5iZWdpblBhdGgoKTtcblx0Y3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS53aWR0aCwgcGxvdEFyZWEuaGVpZ2h0KTtcblx0Y3R4LmNsaXAoKTtcblxuXHR2YXIgbWFya2VycyA9IFtdO1xuXG5cdGZvciAodmFyIGogPSAwOyBqIDwgcGxvdFVuaXQuZGF0YVNlcmllc0luZGV4ZXMubGVuZ3RoOyBqKyspIHtcblxuXHRcdHZhciBkYXRhU2VyaWVzSW5kZXggPSBwbG90VW5pdC5kYXRhU2VyaWVzSW5kZXhlc1tqXTtcblxuXHRcdHZhciBkYXRhU2VyaWVzID0gdGhpcy5kYXRhW2RhdGFTZXJpZXNJbmRleF07XG5cdFx0Y3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcztcblx0XHR2YXIgZGF0YVBvaW50cyA9IGRhdGFTZXJpZXMuZGF0YVBvaW50cztcblxuXHRcdGlmIChjdHguc2V0TGluZURhc2gpIHtcblx0XHRcdGN0eC5zZXRMaW5lRGFzaChnZXRMaW5lRGFzaEFycmF5KGRhdGFTZXJpZXMubGluZURhc2hUeXBlLCBkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MpKTtcblx0XHR9XG5cblx0XHR2YXIgc2VyaWVzSWQgPSBkYXRhU2VyaWVzLmlkO1xuXHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbc2VyaWVzSWRdID0ge1xuXHRcdFx0b2JqZWN0VHlwZTogXCJkYXRhU2VyaWVzXCIsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllc0luZGV4XG5cdFx0fTtcblx0XHR2YXIgaGV4Q29sb3IgPSBpbnRUb0hleENvbG9yU3RyaW5nKHNlcmllc0lkKTtcblx0XHRnaG9zdEN0eC5zdHJva2VTdHlsZSA9IGhleENvbG9yO1xuXHRcdC8vZ2hvc3RDdHgubGluZVdpZHRoID0gZGF0YVNlcmllcy5saW5lVGhpY2tuZXNzO1xuXHRcdGdob3N0Q3R4LmxpbmVXaWR0aCA9IGRhdGFTZXJpZXMubGluZVRoaWNrbmVzcyA+IDAgPyBNYXRoLm1heChkYXRhU2VyaWVzLmxpbmVUaGlja25lc3MsIDQpIDogMDtcblxuXHRcdHZhciBjb2xvclNldCA9IGRhdGFTZXJpZXMuX2NvbG9yU2V0O1xuXHRcdHZhciBjb2xvciA9IGNvbG9yU2V0WzBdO1xuXHRcdGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuXG5cdFx0dmFyIGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhID0gdHJ1ZTtcblx0XHR2YXIgaSA9IDAsIHgsIHk7XG5cdFx0dmFyIGRhdGFQb2ludFg7IC8vVXNlZCBzbyB0aGF0IHdoZW4gZGF0YVBvaW50LnggaXMgYSBEYXRlVGltZSB2YWx1ZSwgaXQgZG9lc24ndCBnZXQgY29udmVydGVkIHRvIG51bWJlciBiYWNrIGFuZCBmb3J0aC5cblxuXHRcdC8vaWYgKCFkYXRhU2VyaWVzLl9vcHRpb25zLm1hcmtlclNpemUgJiYgZGF0YVNlcmllcy5kYXRhUG9pbnRzLmxlbmd0aCA8IDEwMDApXG5cdFx0Ly8gICAgZGF0YVNlcmllcy5tYXJrZXJTaXplID0gODtcblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0aWYgKGRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xuXHRcdFx0Ly92YXIgeHkgPSB0aGlzLmdldFBpeGVsQ29vcmRpbmF0ZXNPblBsb3RBcmVhKGRhdGFQb2ludHNbMF0ueCwgZGF0YVBvaW50c1swXS55KTtcblxuXHRcdFx0Ly9kYXRhU2VyaWVzLm5vRGF0YVBvaW50c0luUGxvdEFyZWEgPSAwXG5cdFx0XHR2YXIgcHJldkRhdGFOdWxsID0gZmFsc2U7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YVBvaW50cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGRhdGFQb2ludFggPSBkYXRhUG9pbnRzW2ldLmdldFRpbWUgPyBkYXRhUG9pbnRzW2ldLnguZ2V0VGltZSgpIDogZGF0YVBvaW50c1tpXS54O1xuXG5cdFx0XHRcdGlmIChkYXRhUG9pbnRYIDwgcGxvdFVuaXQuYXhpc1guZGF0YUluZm8udmlld1BvcnRNaW4gfHwgZGF0YVBvaW50WCA+IHBsb3RVbml0LmF4aXNYLmRhdGFJbmZvLnZpZXdQb3J0TWF4KVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdC8vaWYgKCFpc0Zpbml0ZShkYXRhUG9pbnRzW2ldLnkpKVxuXHRcdFx0XHQvLyAgICBjb250aW51ZTtcblxuXHRcdFx0XHRpZiAodHlwZW9mIChkYXRhUG9pbnRzW2ldLnkpICE9PSBcIm51bWJlclwiKSB7XG5cdFx0XHRcdFx0aWYgKGkgPiAwKSB7Ly8gaWYgZmlyc3QgZGF0YVBvaW50IGlzIG51bGwgdGhlbiBubyBuZWVkIHRvIGNhbGwgc3Ryb2tlIG1ldGhvZFxuXHRcdFx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xuXG5cdFx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0XHRcdFx0Z2hvc3RDdHguc3Ryb2tlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cHJldkRhdGFOdWxsID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBwcmV2WSA9IHk7XG5cblx0XHRcdFx0eCA9IChwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZGF0YVBvaW50WCAtIHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cdFx0XHRcdHkgPSAocGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucmVmZXJlbmNlICsgcGxvdFVuaXQuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGRhdGFQb2ludHNbaV0ueSAtIHBsb3RVbml0LmF4aXNZLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0pICsgLjUpIDw8IDA7XG5cblx0XHRcdFx0dmFyIGlkID0gZGF0YVNlcmllcy5kYXRhUG9pbnRJZHNbaV07XG5cdFx0XHRcdHRoaXMuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdID0ge1xuXHRcdFx0XHRcdGlkOiBpZCwgb2JqZWN0VHlwZTogXCJkYXRhUG9pbnRcIiwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpLCB4MTogeCwgeTE6IHlcblx0XHRcdFx0fTtcblxuXG5cdFx0XHRcdC8vZGF0YVNlcmllcy5ub0RhdGFQb2ludHNJblBsb3RBcmVhKys7XG5cblx0XHRcdFx0aWYgKGlzRmlyc3REYXRhUG9pbnRJblBsb3RBcmVhIHx8IHByZXZEYXRhTnVsbCkge1xuXHRcdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRjdHgubW92ZVRvKHgsIHkpO1xuXG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRcdGdob3N0Q3R4Lm1vdmVUbyh4LCB5KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpc0ZpcnN0RGF0YVBvaW50SW5QbG90QXJlYSA9IGZhbHNlO1xuXHRcdFx0XHRcdHByZXZEYXRhTnVsbCA9IGZhbHNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyh4LCBwcmV2WSk7XG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHgsIHByZXZZKTtcblxuXHRcdFx0XHRcdGN0eC5saW5lVG8oeCwgeSk7XG5cdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKVxuXHRcdFx0XHRcdFx0Z2hvc3RDdHgubGluZVRvKHgsIHkpO1xuXG5cdFx0XHRcdFx0aWYgKGkgJSA1MDAgPT0gMCkge1xuXHRcdFx0XHRcdFx0Y3R4LnN0cm9rZSgpO1xuXHRcdFx0XHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0XHRcdFx0Y3R4Lm1vdmVUbyh4LCB5KTtcblxuXHRcdFx0XHRcdFx0aWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cdFx0XHRcdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xuXHRcdFx0XHRcdFx0XHRnaG9zdEN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRcdFx0Z2hvc3RDdHgubW92ZVRvKHgsIHkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vUmVuZGVyIE1hcmtlclxuXHRcdFx0XHRpZiAoZGF0YVBvaW50c1tpXS5tYXJrZXJTaXplID4gMCB8fCBkYXRhU2VyaWVzLm1hcmtlclNpemUgPiAwKSB7XG5cblx0XHRcdFx0XHR2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaSwgeCwgeSwgY3R4KTtcblx0XHRcdFx0XHRtYXJrZXJzLnB1c2gobWFya2VyUHJvcHMpO1xuXG5cdFx0XHRcdFx0Ly9pZiAoIWRhdGFTZXJpZXMubWF4V2lkdGhJblggfHwgbWFya2VyUHJvcHMuc2l6ZSA+IGRhdGFTZXJpZXMubWF4V2lkdGhJblgpIHtcblx0XHRcdFx0XHQvL1x0ZGF0YVNlcmllcy5tYXhXaWR0aEluWCA9IG1hcmtlclByb3BzLnNpemUgLyAocGxvdFVuaXQuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ID4gMSA/IHBsb3RVbml0LmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnBpeGVsUGVyVW5pdCAtIDEgOiBwbG90VW5pdC5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQpO1xuXHRcdFx0XHRcdC8vfVxuXG5cdFx0XHRcdFx0dmFyIG1hcmtlckNvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpZCk7XG5cblx0XHRcdFx0XHQvL3dpbmRvdy5jb25zb2xlLmxvZyhcImluZGV4OiBcIiArIGkgKyBcIjsgaWQ6IFwiICsgaWQgKyBcIjsgaGV4OiBcIiArIG1hcmtlckNvbG9yKTtcblx0XHRcdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcblx0XHRcdFx0XHRcdG1hcmtlcnMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdHg6IHgsIHk6IHksIGN0eDogZ2hvc3RDdHgsXG5cdFx0XHRcdFx0XHRcdHR5cGU6IG1hcmtlclByb3BzLnR5cGUsXG5cdFx0XHRcdFx0XHRcdHNpemU6IG1hcmtlclByb3BzLnNpemUsXG5cdFx0XHRcdFx0XHRcdGNvbG9yOiBtYXJrZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0Ym9yZGVyQ29sb3I6IG1hcmtlckNvbG9yLFxuXHRcdFx0XHRcdFx0XHRib3JkZXJUaGlja25lc3M6IG1hcmtlclByb3BzLmJvcmRlclRoaWNrbmVzc1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGRhdGFQb2ludHNbaV0uaW5kZXhMYWJlbCB8fCBkYXRhU2VyaWVzLmluZGV4TGFiZWwgfHwgZGF0YVBvaW50c1tpXS5pbmRleExhYmVsRm9ybWF0dGVyIHx8IGRhdGFTZXJpZXMuaW5kZXhMYWJlbEZvcm1hdHRlcikge1xuXG5cdFx0XHRcdFx0dGhpcy5faW5kZXhMYWJlbHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjaGFydFR5cGU6IFwic3RlcExpbmVcIixcblx0XHRcdFx0XHRcdGRhdGFQb2ludDogZGF0YVBvaW50c1tpXSxcblx0XHRcdFx0XHRcdGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsXG5cdFx0XHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdFx0XHR4OiB4LCB5OiB5XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uOiBkYXRhUG9pbnRzW2ldLnkgPj0gMCA/IDEgOiAtMSxcblx0XHRcdFx0XHRcdGNvbG9yOiBjb2xvclxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0XHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0XHRcdGdob3N0Q3R4LnN0cm9rZSgpO1xuXHRcdH1cblx0fVxuXG5cblx0UmVuZGVySGVscGVyLmRyYXdNYXJrZXJzKG1hcmtlcnMpO1xuXHRjdHgucmVzdG9yZSgpO1xuXG5cdGN0eC5iZWdpblBhdGgoKTtcblxuXHRpZiAoaXNDYW52YXNTdXBwb3J0ZWQpXG5cdFx0Z2hvc3RDdHguYmVnaW5QYXRoKCk7XG5cblx0Ly9zb3VyY2UgYW5kIGRlc3Qgd291bGQgYmUgc2FtZSB3aGVuIGFuaW1hdGlvbiBpcyBub3QgZW5hYmxlZFxuXHR2YXIgYW5pbWF0aW9uSW5mbyA9IHtcblx0XHRzb3VyY2U6IGN0eCwgZGVzdDogdGhpcy5wbG90QXJlYS5jdHgsIGFuaW1hdGlvbkNhbGxiYWNrOiBBbmltYXRpb25IZWxwZXIueENsaXBBbmltYXRpb24sIGVhc2luZ0Z1bmN0aW9uOiBBbmltYXRpb25IZWxwZXIuZWFzaW5nLmxpbmVhciwgYW5pbWF0aW9uQmFzZTogMFxuXHR9O1xuXHRyZXR1cm4gYW5pbWF0aW9uSW5mbztcbn1cblxuQ2hhcnQucHJvdG90eXBlLmFuaW1hdGlvblJlcXVlc3RJZCA9IG51bGw7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZXF1ZXN0QW5pbUZyYW1lID0gKGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdFx0XHR3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcblx0XHRcdH07XG59KSgpO1xuXG5DaGFydC5wcm90b3R5cGUuY2FuY2VsUmVxdWVzdEFuaW1GcmFtZSA9IChmdW5jdGlvbiAoKSB7XG5cdHJldHVybiB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcblx0XHR3aW5kb3cud2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdFx0d2luZG93Lm1vekNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdHdpbmRvdy5vQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdFx0d2luZG93Lm1zQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdFx0Y2xlYXJUaW1lb3V0XG59KSgpO1xuXG5DaGFydC5wcm90b3R5cGUuZ2V0UGVyY2VudEFuZFRvdGFsID0gZnVuY3Rpb24gKGRzLCBkcCkge1xuXG5cdHZhciBkcFggPSBudWxsO1xuXHR2YXIgdG90YWwgPSBudWxsO1xuXHR2YXIgcGVyY2VudCA9IG51bGw7XG5cblx0aWYgKGRzLnR5cGUuaW5kZXhPZihcInN0YWNrZWRcIikgPj0gMCkge1xuXHRcdHRvdGFsID0gMDtcblx0XHRkcFggPSBkcC54LmdldFRpbWUgPyBkcC54LmdldFRpbWUoKSA6IGRwLng7XG5cdFx0aWYgKGRwWCBpbiBkcy5wbG90VW5pdC55VG90YWxzKSB7XG5cdFx0XHR0b3RhbCA9IGRzLnBsb3RVbml0LnlUb3RhbHNbZHBYXTtcblxuXHRcdFx0aWYgKCFpc05hTihkcC55KSkge1xuXHRcdFx0ICAgIGlmICh0b3RhbCA9PT0gMClcblx0XHRcdCAgICAgICAgcGVyY2VudCA9IDA7XG4gICAgICAgICAgICAgICAgICBlbHNlXG5cdFx0XHQgICAgICAgIHBlcmNlbnQgPSAoZHAueSAvIHRvdGFsKSAqIDEwMDtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdCAgICBwZXJjZW50ID0gMDtcblx0XHR9XG5cdH0gZWxzZSBpZiAoZHMudHlwZSA9PT0gXCJwaWVcIiB8fCBkcy50eXBlID09PSBcImRvdWdobnV0XCIpIHtcblx0XHR0b3RhbCA9IDA7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkcy5kYXRhUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdGlmICghaXNOYU4oZHMuZGF0YVBvaW50c1tpXS55KSlcblx0XHRcdFx0dG90YWwgKz0gZHMuZGF0YVBvaW50c1tpXS55O1xuXHRcdH1cblxuXHRcdGlmICghaXNOYU4oZHAueSkpXG5cdFx0XHRwZXJjZW50ID0gKGRwLnkgLyB0b3RhbCkgKiAxMDA7XG5cdFx0ZWxzZVxuXHRcdFx0cGVyY2VudCA9IDA7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHBlcmNlbnQ6IHBlcmNlbnQsIHRvdGFsOiB0b3RhbFxuXHR9O1xufVxuXG5DaGFydC5wcm90b3R5cGUucmVwbGFjZUtleXdvcmRzV2l0aFZhbHVlID0gZnVuY3Rpb24gKHN0ciwgZHAsIGRzLCBkcEluZGV4LCBpbmRleEtleXdvcmRWYWx1ZSkge1xuXHQvL3ZhciByZWdleCA9IC9cXHtcXHMqW2EtekEtWl0rXFxzKlxcfXxcIlteXCJdKlwifCdbXiddKicvZztcblx0dmFyIHJlZ2V4ID0gL1xcey4qP1xcfXxcIlteXCJdKlwifCdbXiddKicvZztcblx0dmFyIGNoYXJ0ID0gdGhpcztcblx0aW5kZXhLZXl3b3JkVmFsdWUgPSB0eXBlb2YgKGluZGV4S2V5d29yZFZhbHVlKSA9PT0gXCJ1bmRlZmluZWRcIiA/IDAgOiBpbmRleEtleXdvcmRWYWx1ZTtcblxuXHRpZiAoKGRzLnR5cGUuaW5kZXhPZihcInN0YWNrZWRcIikgPj0gMCB8fCAoZHMudHlwZSA9PT0gXCJwaWVcIiB8fCBkcy50eXBlID09PSBcImRvdWdobnV0XCIpKSAmJiAoc3RyLmluZGV4T2YoXCIjcGVyY2VudFwiKSA+PSAwIHx8IHN0ci5pbmRleE9mKFwiI3RvdGFsXCIpID49IDApKSB7XG5cdFx0dmFyIHBlcmNlbnQgPSBcIiNwZXJjZW50XCI7XG5cdFx0dmFyIHRvdGFsID0gXCIjdG90YWxcIjtcblx0XHR2YXIgZHBYID0gbnVsbDtcblxuXHRcdHZhciBwZXJjZW50QW5kVG90YWwgPSB0aGlzLmdldFBlcmNlbnRBbmRUb3RhbChkcywgZHApO1xuXG5cdFx0dG90YWwgPSBpc05hTihwZXJjZW50QW5kVG90YWwudG90YWwpID8gdG90YWwgOiBwZXJjZW50QW5kVG90YWwudG90YWw7XG5cdFx0cGVyY2VudCA9IGlzTmFOKHBlcmNlbnRBbmRUb3RhbC5wZXJjZW50KSA/IHBlcmNlbnQgOiBwZXJjZW50QW5kVG90YWwucGVyY2VudDtcblxuXHRcdGRvIHtcblx0XHRcdHZhciBwZXJjZW50Rm9ybWF0U3RyaW5nID0gXCJcIjtcblx0XHRcdGlmIChkcy5wZXJjZW50Rm9ybWF0U3RyaW5nKVxuXHRcdFx0XHRwZXJjZW50Rm9ybWF0U3RyaW5nID0gZHMucGVyY2VudEZvcm1hdFN0cmluZztcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRwZXJjZW50Rm9ybWF0U3RyaW5nID0gXCIjLCMjMC5cIjtcblx0XHRcdFx0dmFyIG51bWJlck9mRGVjaW1hbHMgPSBNYXRoLm1heChNYXRoLmNlaWwoTWF0aC5sb2coMSAvIE1hdGguYWJzKHBlcmNlbnQpKSAvIE1hdGguTE4xMCksIDIpO1xuXG5cdFx0XHRcdGlmIChpc05hTihudW1iZXJPZkRlY2ltYWxzKSB8fCAhaXNGaW5pdGUobnVtYmVyT2ZEZWNpbWFscykpXG5cdFx0XHRcdFx0bnVtYmVyT2ZEZWNpbWFscyA9IDI7XG5cblx0XHRcdFx0Zm9yICh2YXIgbiA9IDA7IG4gPCBudW1iZXJPZkRlY2ltYWxzOyBuKyspIHtcblx0XHRcdFx0XHRwZXJjZW50Rm9ybWF0U3RyaW5nICs9IFwiI1wiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHN0ciA9IHN0ci5yZXBsYWNlKFwiI3BlcmNlbnRcIiwgbnVtYmVyRm9ybWF0KHBlcmNlbnQsIHBlcmNlbnRGb3JtYXRTdHJpbmcsIGNoYXJ0Ll9jdWx0dXJlSW5mbykpO1xuXHRcdFx0c3RyID0gc3RyLnJlcGxhY2UoXCIjdG90YWxcIiwgbnVtYmVyRm9ybWF0KHRvdGFsLCBkcy55VmFsdWVGb3JtYXRTdHJpbmcgPyBkcy55VmFsdWVGb3JtYXRTdHJpbmcgOiBcIiMsIyMwLiMjIyMjIyMjXCIpKTtcblx0XHR9IHdoaWxlIChzdHIuaW5kZXhPZihcIiNwZXJjZW50XCIpID49IDAgfHwgc3RyLmluZGV4T2YoXCIjdG90YWxcIikgPj0gMCk7XG5cdH1cblxuXG5cdHZhciBmY24gPSBmdW5jdGlvbiAoJDApIHtcblx0XHRpZiAoKCQwWzBdID09PSBcIlxcXCJcIiAmJiAkMFskMC5sZW5ndGggLSAxXSA9PT0gXCJcXFwiXCIpIHx8ICgkMFswXSA9PT0gXCJcXCdcIiAmJiAkMFskMC5sZW5ndGggLSAxXSA9PT0gXCJcXCdcIikpXG5cdFx0XHRyZXR1cm4gJDAuc2xpY2UoMSwgJDAubGVuZ3RoIC0gMSk7XG5cblx0XHR2YXIga2V5ID0gdHJpbVN0cmluZygkMC5zbGljZSgxLCAkMC5sZW5ndGggLSAxKSk7XG5cdFx0a2V5ID0ga2V5LnJlcGxhY2UoXCIjaW5kZXhcIiwgaW5kZXhLZXl3b3JkVmFsdWUpO1xuXG5cdFx0dmFyIGluZGV4ID0gbnVsbDtcblxuXHRcdHRyeSB7XG5cdFx0XHR2YXIgbWF0Y2ggPSBrZXkubWF0Y2goLyguKj8pXFxzKlxcW1xccyooLio/KVxccypcXF0vKTtcblx0XHRcdGlmIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGluZGV4ID0gdHJpbVN0cmluZyhtYXRjaFsyXSk7XG5cdFx0XHRcdGtleSA9IHRyaW1TdHJpbmcobWF0Y2hbMV0pO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHR9O1xuXG5cblx0XHR2YXIgb2JqID0gbnVsbDtcblxuXHRcdGlmIChrZXkgPT09IFwiY29sb3JcIikge1xuXHRcdFx0cmV0dXJuIGRwLmNvbG9yID8gZHAuY29sb3IgOiBkcy5jb2xvciA/IGRzLmNvbG9yIDogZHMuX2NvbG9yU2V0W2RwSW5kZXggJSBkcy5fY29sb3JTZXQubGVuZ3RoXTtcblx0XHR9XG5cblx0XHRpZiAoZHAuaGFzT3duUHJvcGVydHkoa2V5KSlcblx0XHRcdG9iaiA9IGRwO1xuXHRcdGVsc2UgaWYgKGRzLmhhc093blByb3BlcnR5KGtleSkpXG5cdFx0XHRvYmogPSBkcztcblx0XHRlbHNlIHJldHVybiBcIlwiO1xuXG5cdFx0dmFyIHZhbHVlID0gb2JqW2tleV07XG5cdFx0aWYgKGluZGV4ICE9PSBudWxsKVxuXHRcdFx0dmFsdWUgPSB2YWx1ZVtpbmRleF07XG5cblx0XHRpZiAoa2V5ID09PSBcInhcIikge1xuXHRcdFx0aWYgKGNoYXJ0LmF4aXNYICYmIGNoYXJ0LnBsb3RJbmZvLmF4aXNYVmFsdWVUeXBlID09PSBcImRhdGVUaW1lXCIpXG5cdFx0XHRcdHJldHVybiBkYXRlRm9ybWF0KHZhbHVlLCBkcC54VmFsdWVGb3JtYXRTdHJpbmcgPyBkcC54VmFsdWVGb3JtYXRTdHJpbmcgOiBkcy54VmFsdWVGb3JtYXRTdHJpbmcgPyBkcy54VmFsdWVGb3JtYXRTdHJpbmcgOiBjaGFydC5heGlzWCAmJiBjaGFydC5heGlzWC52YWx1ZUZvcm1hdFN0cmluZyA/IGNoYXJ0LmF4aXNYLnZhbHVlRm9ybWF0U3RyaW5nIDogXCJERCBNTU0gWVlcIiwgY2hhcnQuX2N1bHR1cmVJbmZvKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIG51bWJlckZvcm1hdCh2YWx1ZSwgZHAueFZhbHVlRm9ybWF0U3RyaW5nID8gZHAueFZhbHVlRm9ybWF0U3RyaW5nIDogZHMueFZhbHVlRm9ybWF0U3RyaW5nID8gZHMueFZhbHVlRm9ybWF0U3RyaW5nIDogXCIjLCMjMC4jIyMjIyMjI1wiLCBjaGFydC5fY3VsdHVyZUluZm8pO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSBcInlcIilcblx0XHRcdHJldHVybiBudW1iZXJGb3JtYXQodmFsdWUsIGRwLnlWYWx1ZUZvcm1hdFN0cmluZyA/IGRwLnlWYWx1ZUZvcm1hdFN0cmluZyA6IGRzLnlWYWx1ZUZvcm1hdFN0cmluZyA/IGRzLnlWYWx1ZUZvcm1hdFN0cmluZyA6IFwiIywjIzAuIyMjIyMjIyNcIiwgY2hhcnQuX2N1bHR1cmVJbmZvKTtcblx0XHRlbHNlIGlmIChrZXkgPT09IFwielwiKVxuXHRcdFx0cmV0dXJuIG51bWJlckZvcm1hdCh2YWx1ZSwgZHAuelZhbHVlRm9ybWF0U3RyaW5nID8gZHAuelZhbHVlRm9ybWF0U3RyaW5nIDogZHMuelZhbHVlRm9ybWF0U3RyaW5nID8gZHMuelZhbHVlRm9ybWF0U3RyaW5nIDogXCIjLCMjMC4jIyMjIyMjI1wiLCBjaGFydC5fY3VsdHVyZUluZm8pO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXG5cdHJldHVybiBzdHIucmVwbGFjZShyZWdleCwgZmNuKTtcbn1cblxuXG5DaGFydC5wcm90b3R5cGUucmVuZGVyU3BsaW5lID0gU3BsaW5lQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJDb2x1bW4gPSBDb2x1bW5DaGFydFxuXG5DaGFydC5wcm90b3R5cGUucmVuZGVyU3RhY2tlZENvbHVtbiA9IFN0YWNrZWRDb2x1bW5DaGFydDtcblxuQ2hhcnQucHJvdG90eXBlLnJlbmRlclN0YWNrZWRDb2x1bW4xMDAgPSBTdGFja2VkQ29sdW1uMTAwQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJCYXIgPSBCYXJDaGFydDtcblxuQ2hhcnQucHJvdG90eXBlLnJlbmRlclN0YWNrZWRCYXIgPSBTdGFja2VkQmFyQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJTdGFja2VkQmFyMTAwID0gU3RhY2tlZEJhcjEwMENoYXJ0O1xuXG5DaGFydC5wcm90b3R5cGUucmVuZGVyQXJlYSA9IEFyZWFDaGFydDtcblxuQ2hhcnQucHJvdG90eXBlLnJlbmRlclNwbGluZUFyZWEgPSBTcGxpbmVBcmVhQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJTdGVwQXJlYSA9IFN0ZXBBcmVhQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJTdGFja2VkQXJlYSA9IFN0YWNrZWRBcmVhQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJTdGFja2VkQXJlYTEwMCA9IFN0YWNrZWRBcmVhMTAwQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJCdWJibGUgPSBCdWJibGVDaGFydDtcblxuQ2hhcnQucHJvdG90eXBlLnJlbmRlclNjYXR0ZXIgPSBTY2F0dGVyQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJDYW5kbGVzdGljayA9IENhbmRsZXN0aWNrQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJSYW5nZUNvbHVtbiA9IFJhbmdlQ29sdW1uQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJSYW5nZUJhciA9IFJhbmdlQmFyQ2hhcnQ7XG5cbkNoYXJ0LnByb3RvdHlwZS5yZW5kZXJSYW5nZUFyZWEgPSBSYW5nZUFyZWFDaGFydDtcblxuQ2hhcnQucHJvdG90eXBlLnJlbmRlclJhbmdlU3BsaW5lQXJlYSA9IFJhbmdlU3BsaW5lQXJlYUNoYXJ0O1xuXG5DaGFydC5wcm90b3R5cGUucmVuZGVyUGllID0gUGllQ2hhcnQ7XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJ0O1xuIiwiXG5pbXBvcnQgQ2FudmFzSlNPYmplY3QgZnJvbSAnLi9jYW52YXNqcyc7XG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5pbXBvcnQge2N1bHR1cmVzfSBmcm9tICcuLi9jb25zdGFudHMvY3VsdHVyZSc7XG5cbmZ1bmN0aW9uIEN1bHR1cmVJbmZvKGN1bHR1cmUpIHtcblxuICB2YXIgY3VsdHVyZUluZm87XG5cbiAgaWYgKGN1bHR1cmUgJiYgY3VsdHVyZXNbY3VsdHVyZV0pIGN1bHR1cmVJbmZvID0gY3VsdHVyZXNbY3VsdHVyZV07XG5cbiAgQ3VsdHVyZUluZm8uYmFzZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIFwiQ3VsdHVyZUluZm9cIiwgY3VsdHVyZUluZm8pO1xuXG59XG5cbmV4dGVuZChDdWx0dXJlSW5mbywgQ2FudmFzSlNPYmplY3QpO1xuXG5leHBvcnQgZGVmYXVsdCBDdWx0dXJlSW5mbztcbiIsIlxuaW1wb3J0IENhbnZhc0pTT2JqZWN0IGZyb20gJy4vY2FudmFzanMnO1xuaW1wb3J0IHtleHRlbmQsIGdldFByb3BlcnR5fSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcblxuZnVuY3Rpb24gRGF0YVNlcmllcyhjaGFydCwgb3B0aW9ucywgdGhlbWUsIGluZGV4LCBpZCkge1xuICBEYXRhU2VyaWVzLmJhc2UuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBcIkRhdGFTZXJpZXNcIiwgb3B0aW9ucywgdGhlbWUpO1xuXG4gIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgdGhpcy5jYW52YXMgPSBjaGFydC5jYW52YXM7XG4gIHRoaXMuX2N0eCA9IGNoYXJ0LmNhbnZhcy5jdHg7XG4gIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgdGhpcy5ub0RhdGFQb2ludHNJblBsb3RBcmVhID0gMDtcbiAgLy90aGlzLm1heFdpZHRoSW5YID0gMDtcbiAgdGhpcy5pZCA9IGlkO1xuICB0aGlzLmNoYXJ0Ll9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2lkXSA9IHtcbiAgICBpZDogaWQsIG9iamVjdFR5cGU6IFwiZGF0YVNlcmllc1wiLCBkYXRhU2VyaWVzSW5kZXg6IGluZGV4XG4gIH1cbiAgdGhpcy5kYXRhUG9pbnRJZHMgPSBbXTtcbiAgdGhpcy5wbG90VW5pdCA9IFtdO1xuXG4gIHRoaXMuYXhpc1ggPSBudWxsO1xuICB0aGlzLmF4aXNZID0gbnVsbDtcblxuICBpZiAodGhpcy5maWxsT3BhY2l0eSA9PT0gbnVsbCkge1xuICAgIGlmICh0aGlzLnR5cGUubWF0Y2goL2FyZWEvaSkpXG4gICAgICB0aGlzLmZpbGxPcGFjaXR5ID0gLjc7XG4gICAgZWxzZVxuICAgICAgdGhpcy5maWxsT3BhY2l0eSA9IDE7XG4gIH1cblxuXG4gIHRoaXMuYXhpc1BsYWNlbWVudCA9IHRoaXMuZ2V0RGVmYXVsdEF4aXNQbGFjZW1lbnQoKTtcblxuICBpZiAodHlwZW9mICh0aGlzLl9vcHRpb25zLmluZGV4TGFiZWxGb250U2l6ZSkgPT09IFwidW5kZWZpbmVkXCIpIHtcblxuICAgIHRoaXMuaW5kZXhMYWJlbEZvbnRTaXplID0gdGhpcy5jaGFydC5nZXRBdXRvRm9udFNpemUodGhpcy5pbmRleExhYmVsRm9udFNpemUpO1xuICB9XG59XG5cbmV4dGVuZChEYXRhU2VyaWVzLCBDYW52YXNKU09iamVjdCk7XG5cbi8vU3RhdGljIE1ldGhvZCB0aGF0IHJldHVybnMgdGhlIGF4aXNQbGFjZW1lbnQgZm9yIGEgZ2l2ZW4gQ2hhcnRUeXBlLiBSZXR1cm5zIG9uZSBvZiBcIm5vcm1hbFwiLCBcInh5U3dhcHBlZFwiLCBcIm5vbmVcIlxuRGF0YVNlcmllcy5wcm90b3R5cGUuZ2V0RGVmYXVsdEF4aXNQbGFjZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgLy9pZiAoIXRoaXMudmlzaWJsZSlcbiAgLy9cdHJldHVybiBcIm5vbmVcIjtcblxuICAvL3R5cGUgPSB0aGlzLnR5cGUudG9Mb3dlckNhc2UoKTtcbiAgdmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cbiAgaWYgKHR5cGUgPT09IFwiY29sdW1uXCIgfHwgdHlwZSA9PT0gXCJsaW5lXCIgfHwgdHlwZSA9PT0gXCJzdGVwTGluZVwiIHx8IHR5cGUgPT09IFwic3BsaW5lXCIgfHwgdHlwZSA9PT0gXCJhcmVhXCIgfHwgdHlwZSA9PT0gXCJzdGVwQXJlYVwiIHx8IHR5cGUgPT09IFwic3BsaW5lQXJlYVwiIHx8IHR5cGUgPT09IFwic3RhY2tlZENvbHVtblwiIHx8IHR5cGUgPT09IFwic3RhY2tlZExpbmVcIiB8fCB0eXBlID09PSBcImJ1YmJsZVwiIHx8IHR5cGUgPT09IFwic2NhdHRlclwiXG4gICAgfHwgdHlwZSA9PT0gXCJzdGFja2VkQXJlYVwiIHx8IHR5cGUgPT09IFwic3RhY2tlZENvbHVtbjEwMFwiIHx8IHR5cGUgPT09IFwic3RhY2tlZExpbmUxMDBcIiB8fCB0eXBlID09PSBcInN0YWNrZWRBcmVhMTAwXCJcbiAgICB8fCB0eXBlID09PSBcImNhbmRsZXN0aWNrXCIgfHwgdHlwZSA9PT0gXCJvaGxjXCIgfHwgdHlwZSA9PT0gXCJyYW5nZUNvbHVtblwiIHx8IHR5cGUgPT09IFwicmFuZ2VBcmVhXCIgfHwgdHlwZSA9PT0gXCJyYW5nZVNwbGluZUFyZWFcIikge1xuICAgIHJldHVybiBcIm5vcm1hbFwiO1xuICB9XG4gIGVsc2UgaWYgKHR5cGUgPT09IFwiYmFyXCIgfHwgdHlwZSA9PT0gXCJzdGFja2VkQmFyXCIgfHwgdHlwZSA9PT0gXCJzdGFja2VkQmFyMTAwXCIgfHwgdHlwZSA9PT0gXCJyYW5nZUJhclwiKSB7XG5cbiAgICByZXR1cm4gXCJ4eVN3YXBwZWRcIjtcbiAgfVxuICBlbHNlIGlmICh0eXBlID09PSBcInBpZVwiIHx8IHR5cGUgPT09IFwiZG91Z2hudXRcIiB8fCB0eXBlID09PSBcImZ1bm5lbFwiKSB7XG4gICAgcmV0dXJuIFwibm9uZVwiO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5jb25zb2xlLmxvZyhcIlVua25vd24gQ2hhcnQgVHlwZTogXCIgKyB0eXBlKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5EYXRhU2VyaWVzLmdldERlZmF1bHRMZWdlbmRNYXJrZXIgPSBmdW5jdGlvbiAodHlwZSkge1xuXG4gIC8vdHlwZSA9IHR5cGUudG9Mb3dlckNhc2UoKTtcblxuICBpZiAodHlwZSA9PT0gXCJjb2x1bW5cIiB8fCB0eXBlID09PSBcInN0YWNrZWRDb2x1bW5cIiB8fCB0eXBlID09PSBcInN0YWNrZWRMaW5lXCIgfHwgdHlwZSA9PT0gXCJiYXJcIiB8fCB0eXBlID09PSBcInN0YWNrZWRCYXJcIiB8fCB0eXBlID09PSBcInN0YWNrZWRCYXIxMDBcIlxuICAgIHx8IHR5cGUgPT09IFwiYnViYmxlXCIgfHwgdHlwZSA9PT0gXCJzY2F0dGVyXCJcbiAgICB8fCB0eXBlID09PSBcInN0YWNrZWRDb2x1bW4xMDBcIiB8fCB0eXBlID09PSBcInN0YWNrZWRMaW5lMTAwXCIgfHwgdHlwZSA9PT0gXCJzdGVwQXJlYVwiXG4gICAgfHwgdHlwZSA9PT0gXCJjYW5kbGVzdGlja1wiIHx8IHR5cGUgPT09IFwib2hsY1wiIHx8IHR5cGUgPT09IFwicmFuZ2VDb2x1bW5cIiB8fCB0eXBlID09PSBcInJhbmdlQmFyXCIgfHwgdHlwZSA9PT0gXCJyYW5nZUFyZWFcIiB8fCB0eXBlID09PSBcInJhbmdlU3BsaW5lQXJlYVwiKSB7XG4gICAgcmV0dXJuIFwic3F1YXJlXCI7XG4gIH1cbiAgZWxzZSBpZiAodHlwZSA9PT0gXCJsaW5lXCIgfHwgdHlwZSA9PT0gXCJzdGVwTGluZVwiIHx8IHR5cGUgPT09IFwic3BsaW5lXCIgfHwgdHlwZSA9PT0gXCJwaWVcIiB8fCB0eXBlID09PSBcImRvdWdobnV0XCIgfHwgdHlwZSA9PT0gXCJmdW5uZWxcIikge1xuICAgIHJldHVybiBcImNpcmNsZVwiO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiYXJlYVwiIHx8IHR5cGUgPT09IFwic3BsaW5lQXJlYVwiIHx8IHR5cGUgPT09IFwic3RhY2tlZEFyZWFcIiB8fCB0eXBlID09PSBcInN0YWNrZWRBcmVhMTAwXCIpIHtcbiAgICByZXR1cm4gXCJ0cmlhbmdsZVwiXG4gIH0gZWxzZSB7XG4gICAgd2luZG93LmNvbnNvbGUubG9nKFwiVW5rbm93biBDaGFydCBUeXBlOiBcIiArIHR5cGUpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vRmluZHMgZGF0YVBvaW50IHdpdGggdGhlIGdpdmVuIHggdmFsdWUuIElmIGZpbmRDbG9zZXN0IGlzIHNldCwgZmluZHMgZGF0YVBvaW50IHdpdGggY2xvc2VzdCB4IHZhbHVlLlxuLy9SZXR1cm5zIHNlYXJjaFJlc3VsdCBvYmplY3QgaWYgZm91bmQsIGVsc2UgcmV0dXJucyBudWxsXG5EYXRhU2VyaWVzLnByb3RvdHlwZS5nZXREYXRhUG9pbnRBdFggPSBmdW5jdGlvbiAoeCwgZmluZENsb3Nlc3QpIHtcblxuICBpZiAoIXRoaXMuZGF0YVBvaW50cyB8fCB0aGlzLmRhdGFQb2ludHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICB2YXIgc2VhcmNoUmVzdWx0ID0ge1xuICAgIGRhdGFQb2ludDogbnVsbCwgZGlzdGFuY2U6IEluZmluaXR5LCBpbmRleDogTmFOXG4gIH07XG4gIHZhciBkYXRhUG9pbnQgPSBudWxsO1xuXG4gIHZhciBqID0gMDtcbiAgdmFyIGkgPSAwO1xuICB2YXIgZGlyZWN0aW9uID0gMTsgLy8gKzEgZm9yIGZvd2FyZCBhbmQgLTEgZm9yIGJhY2t3YXJkLlxuXG4gIHZhciBtaW5pbXVtWERpc3RhbmNlID0gSW5maW5pdHk7XG4gIHZhciBmb3J3YXJkTWlzc0NvdW50ID0gMCwgYmFja3dhcmRNaXNzQ291bnQgPSAwO1xuICB2YXIgbWF4TWlzc0NvdW50ID0gMTAwMDtcbiAgdmFyIHNlYXJjaFN0YXJ0SW5kZXggPSAwO1xuXG4gIGlmICh0aGlzLmNoYXJ0LnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgIT09IFwibm9uZVwiKSB7XG5cbiAgICAvL3ZhciB4UmFuZ2UgPSAodGhpcy5kYXRhUG9pbnRzW3RoaXMuZGF0YVBvaW50cy5sZW5ndGggLSAxXS54IC0gdGhpcy5kYXRhUG9pbnRzWzBdLngpO1xuXG4gICAgLy9pZiAoeFJhbmdlID4gMClcbiAgICAvL1x0c2VhcmNoU3RhcnRJbmRleCA9ICgodGhpcy5kYXRhUG9pbnRzLmxlbmd0aCAtIDEpIC8geFJhbmdlICogKHggLSB0aGlzLmRhdGFQb2ludHNbMF0ueCkpID4+IDA7XG4gICAgLy9lbHNlXG4gICAgLy9cdHNlYXJjaFN0YXJ0SW5kZXggPSAwO1xuXG4gICAgdmFyIHhSYW5nZSA9ICh0aGlzLmRhdGFQb2ludHNbdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCAtIDFdLnggLSB0aGlzLmRhdGFQb2ludHNbMF0ueCk7XG5cbiAgICBpZiAoeFJhbmdlID4gMClcbiAgICAgIHNlYXJjaFN0YXJ0SW5kZXggPSBNYXRoLm1pbihNYXRoLm1heCgoKHRoaXMuZGF0YVBvaW50cy5sZW5ndGggLSAxKSAvIHhSYW5nZSAqICh4IC0gdGhpcy5kYXRhUG9pbnRzWzBdLngpKSA+PiAwLCAwKSwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCk7XG4gICAgZWxzZVxuICAgICAgc2VhcmNoU3RhcnRJbmRleCA9IDA7XG5cbiAgICAvL3NlYXJjaFN0YXJ0SW5kZXggPSAoKHRoaXMuZGF0YVBvaW50c1t0aGlzLmRhdGFQb2ludHMubGVuZ3RoIC0gMV0ueCAtIHRoaXMuZGF0YVBvaW50c1swXS54KSAvIHRoaXMuZGF0YVBvaW50cy5sZW5ndGggKiAoeCAtIHRoaXMuZGF0YVBvaW50c1swXS54KSkgPj4gMDtcbiAgfVxuXG4gIHdoaWxlICh0cnVlKSB7XG5cbiAgICBpID0gKGRpcmVjdGlvbiA+IDApID8gc2VhcmNoU3RhcnRJbmRleCArIGogOiBzZWFyY2hTdGFydEluZGV4IC0gajtcblxuICAgIGlmIChpID49IDAgJiYgaSA8IHRoaXMuZGF0YVBvaW50cy5sZW5ndGgpIHtcblxuICAgICAgZGF0YVBvaW50ID0gdGhpcy5kYXRhUG9pbnRzW2ldO1xuXG4gICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyhkYXRhUG9pbnQueCAtIHgpO1xuXG4gICAgICBpZiAoZGlzdGFuY2UgPCBzZWFyY2hSZXN1bHQuZGlzdGFuY2UpIHtcbiAgICAgICAgc2VhcmNoUmVzdWx0LmRhdGFQb2ludCA9IGRhdGFQb2ludDtcbiAgICAgICAgc2VhcmNoUmVzdWx0LmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgIHNlYXJjaFJlc3VsdC5pbmRleCA9IGk7XG4gICAgICB9XG5cbiAgICAgIHZhciB4RGlzdGFuY2UgPSBNYXRoLmFicyhkYXRhUG9pbnQueCAtIHgpO1xuICAgICAgaWYgKHhEaXN0YW5jZSA8PSBtaW5pbXVtWERpc3RhbmNlKVxuICAgICAgICBtaW5pbXVtWERpc3RhbmNlID0geERpc3RhbmNlO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKVxuICAgICAgICAgIGZvcndhcmRNaXNzQ291bnQrKztcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGJhY2t3YXJkTWlzc0NvdW50Kys7XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3J3YXJkTWlzc0NvdW50ID4gbWF4TWlzc0NvdW50ICYmIGJhY2t3YXJkTWlzc0NvdW50ID4gbWF4TWlzc0NvdW50KVxuICAgICAgICBicmVhaztcblxuXG4gICAgfSBlbHNlIGlmIChzZWFyY2hTdGFydEluZGV4IC0gaiA8IDAgJiYgc2VhcmNoU3RhcnRJbmRleCArIGogPj0gdGhpcy5kYXRhUG9pbnRzLmxlbmd0aClcbiAgICAgIGJyZWFrO1xuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gLTEpIHtcbiAgICAgIGorKztcbiAgICAgIGRpcmVjdGlvbiA9IDE7XG4gICAgfSBlbHNlXG4gICAgICBkaXJlY3Rpb24gPSAtMTtcbiAgfVxuXG5cbiAgaWYgKCFmaW5kQ2xvc2VzdCAmJiBzZWFyY2hSZXN1bHQuZGF0YVBvaW50LnggPT09IHgpXG4gICAgcmV0dXJuIHNlYXJjaFJlc3VsdDtcbiAgZWxzZSBpZiAoZmluZENsb3Nlc3QgJiYgc2VhcmNoUmVzdWx0LmRhdGFQb2ludCAhPT0gbnVsbClcbiAgICByZXR1cm4gc2VhcmNoUmVzdWx0O1xuICBlbHNlXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vIHggJiB5IHNob3VsZCBiZSBpbiBwaXhlbHMuIENhbiBiZSB1c2VkIG9ubHkgYWZ0ZXIgcmVuZGVyaW5nIHRoZSBjaGFydC5cbkRhdGFTZXJpZXMucHJvdG90eXBlLmdldERhdGFQb2ludEF0WFkgPSBmdW5jdGlvbiAoeCwgeSwgZ2V0Q2xvc2VzdCkge1xuXG4gIGlmICghdGhpcy5kYXRhUG9pbnRzIHx8IHRoaXMuZGF0YVBvaW50cy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gIGdldENsb3Nlc3QgPSBnZXRDbG9zZXN0IHx8IGZhbHNlO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgaiA9IDAsIGkgPSAwO1xuICB2YXIgZGlyZWN0aW9uID0gMTsgLy8gKzEgZm9yIGZvd2FyZCBhbmQgLTEgZm9yIGJhY2t3YXJkLlxuICB2YXIgZm91bmREYXRhUG9pbnQgPSBmYWxzZTtcbiAgdmFyIG1pbmltdW1YRGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgdmFyIGZvcndhcmRNaXNzQ291bnQgPSAwLCBiYWNrd2FyZE1pc3NDb3VudCA9IDA7XG4gIHZhciBtYXhNaXNzQ291bnQgPSAxMDAwO1xuICB2YXIgc2VhcmNoU3RhcnRJbmRleCA9IDA7XG5cbiAgaWYgKHRoaXMuY2hhcnQucGxvdEluZm8uYXhpc1BsYWNlbWVudCAhPT0gXCJub25lXCIpIHtcbiAgICB2YXIgeHZhbCA9IHRoaXMuY2hhcnQuYXhpc1guZ2V0WFZhbHVlQXQoeyB4OiB4LCB5OiB5IH0pO1xuXG4gICAgdmFyIHhSYW5nZSA9ICh0aGlzLmRhdGFQb2ludHNbdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCAtIDFdLnggLSB0aGlzLmRhdGFQb2ludHNbMF0ueCk7XG5cbiAgICBpZiAoeFJhbmdlID4gMClcbiAgICAgIHNlYXJjaFN0YXJ0SW5kZXggPSBNYXRoLm1pbihNYXRoLm1heCgoKHRoaXMuZGF0YVBvaW50cy5sZW5ndGggLSAxKSAvIHhSYW5nZSAqICh4dmFsIC0gdGhpcy5kYXRhUG9pbnRzWzBdLngpKSA+PiAwLCAwKSwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCk7XG4gICAgZWxzZVxuICAgICAgc2VhcmNoU3RhcnRJbmRleCA9IDA7XG5cbiAgICAvL3ZhciB4UmFuZ2UgPSAodGhpcy5heGlzWC5fYWJzb2x1dGVNYXhpbXVtIC0gdGhpcy5heGlzWC5fYWJzb2x1dGVNaW5pbXVtKTtcblxuICAgIC8vaWYgKHhSYW5nZSA+IDApXG4gICAgLy9cdHNlYXJjaFN0YXJ0SW5kZXggPSBNYXRoLm1pbihNYXRoLm1heCgoKHRoaXMuZGF0YVBvaW50cy5sZW5ndGggLSAxKSAvIHhSYW5nZSAqICh4dmFsIC0gdGhpcy5heGlzWC5fYWJzb2x1dGVNaW5pbXVtKSkgPj4gMCwgMCksIHRoaXMuZGF0YVBvaW50cy5sZW5ndGgpO1xuICAgIC8vZWxzZVxuICAgIC8vXHRzZWFyY2hTdGFydEluZGV4ID0gMDtcbiAgfVxuXG4gIHdoaWxlICh0cnVlKSB7XG5cbiAgICAvL2kgPSBzZWFyY2hTdGFydEluZGV4ICsgKGogKiBkaXJlY3Rpb24pO1xuICAgIGkgPSAoZGlyZWN0aW9uID4gMCkgPyBzZWFyY2hTdGFydEluZGV4ICsgaiA6IHNlYXJjaFN0YXJ0SW5kZXggLSBqO1xuXG4gICAgaWYgKGkgPj0gMCAmJiBpIDwgdGhpcy5kYXRhUG9pbnRzLmxlbmd0aCkge1xuXG4gICAgICB2YXIgaWQgPSB0aGlzLmRhdGFQb2ludElkc1tpXTtcbiAgICAgIHZhciB2aXN1YWxJbmZvID0gdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF07XG4gICAgICB2YXIgZGF0YVBvaW50ID0gdGhpcy5kYXRhUG9pbnRzW2ldO1xuICAgICAgdmFyIGRpc3RhbmNlID0gbnVsbDtcblxuICAgICAgaWYgKHZpc3VhbEluZm8pIHtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuXG4gICAgICAgICAgY2FzZSBcImNvbHVtblwiOlxuICAgICAgICAgIGNhc2UgXCJzdGFja2VkQ29sdW1uXCI6XG4gICAgICAgICAgY2FzZSBcInN0YWNrZWRDb2x1bW4xMDBcIjpcbiAgICAgICAgICBjYXNlIFwiYmFyXCI6XG4gICAgICAgICAgY2FzZSBcInN0YWNrZWRCYXJcIjpcbiAgICAgICAgICBjYXNlIFwic3RhY2tlZEJhcjEwMFwiOlxuICAgICAgICAgIGNhc2UgXCJyYW5nZUNvbHVtblwiOlxuICAgICAgICAgIGNhc2UgXCJyYW5nZUJhclwiOlxuXG4gICAgICAgICAgICBpZiAoeCA+PSB2aXN1YWxJbmZvLngxICYmIHggPD0gdmlzdWFsSW5mby54MiAmJiB5ID49IHZpc3VhbEluZm8ueTEgJiYgeSA8PSB2aXN1YWxJbmZvLnkyKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGF0YVBvaW50OiBkYXRhUG9pbnQsXG4gICAgICAgICAgICAgICAgZGF0YVBvaW50SW5kZXg6IGksXG4gICAgICAgICAgICAgICAgZGF0YVNlcmllczogdGhpcyxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogTWF0aC5taW4oTWF0aC5hYnModmlzdWFsSW5mby54MSAtIHgpLCBNYXRoLmFicyh2aXN1YWxJbmZvLngyIC0geCksIE1hdGguYWJzKHZpc3VhbEluZm8ueTEgLSB5KSwgTWF0aC5hYnModmlzdWFsSW5mby55MiAtIHkpKVxuICAgICAgICAgICAgICAgIC8vZGlzdGFuY2U6MFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBmb3VuZERhdGFQb2ludCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJsaW5lXCI6XG4gICAgICAgICAgY2FzZSBcInN0ZXBMaW5lXCI6XG4gICAgICAgICAgY2FzZSBcInNwbGluZVwiOlxuICAgICAgICAgIGNhc2UgXCJhcmVhXCI6XG4gICAgICAgICAgY2FzZSBcInN0ZXBBcmVhXCI6XG4gICAgICAgICAgY2FzZSBcInN0YWNrZWRBcmVhXCI6XG4gICAgICAgICAgY2FzZSBcInN0YWNrZWRBcmVhMTAwXCI6XG4gICAgICAgICAgY2FzZSBcInNwbGluZUFyZWFcIjpcbiAgICAgICAgICBjYXNlIFwic2NhdHRlclwiOlxuICAgICAgICAgICAgdmFyIG1hcmtlclNpemUgPSBnZXRQcm9wZXJ0eShcIm1hcmtlclNpemVcIiwgZGF0YVBvaW50LCB0aGlzKSB8fCA0O1xuICAgICAgICAgICAgdmFyIHNuYXBEaXN0YW5jZSA9IGdldENsb3Nlc3QgPyAyMCA6IG1hcmtlclNpemU7XG5cbiAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHZpc3VhbEluZm8ueDEgLSB4LCAyKSArIE1hdGgucG93KHZpc3VhbEluZm8ueTEgLSB5LCAyKSk7XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gc25hcERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGF0YVBvaW50OiBkYXRhUG9pbnQsXG4gICAgICAgICAgICAgICAgZGF0YVBvaW50SW5kZXg6IGksXG4gICAgICAgICAgICAgICAgZGF0YVNlcmllczogdGhpcyxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB4RGlzdGFuY2UgPSBNYXRoLmFicyh2aXN1YWxJbmZvLngxIC0geCk7XG4gICAgICAgICAgICBpZiAoeERpc3RhbmNlIDw9IG1pbmltdW1YRGlzdGFuY2UpXG4gICAgICAgICAgICAgIG1pbmltdW1YRGlzdGFuY2UgPSB4RGlzdGFuY2U7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA+IDApXG4gICAgICAgICAgICAgICAgZm9yd2FyZE1pc3NDb3VudCsrO1xuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYmFja3dhcmRNaXNzQ291bnQrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IG1hcmtlclNpemUgLyAyKSB7XG4gICAgICAgICAgICAgIGZvdW5kRGF0YVBvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwicmFuZ2VBcmVhXCI6XG4gICAgICAgICAgY2FzZSBcInJhbmdlU3BsaW5lQXJlYVwiOlxuXG4gICAgICAgICAgICB2YXIgbWFya2VyU2l6ZSA9IGdldFByb3BlcnR5KFwibWFya2VyU2l6ZVwiLCBkYXRhUG9pbnQsIHRoaXMpIHx8IDQ7XG4gICAgICAgICAgICB2YXIgc25hcERpc3RhbmNlID0gZ2V0Q2xvc2VzdCA/IDIwIDogbWFya2VyU2l6ZTtcblxuICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLm1pbihNYXRoLnNxcnQoTWF0aC5wb3codmlzdWFsSW5mby54MSAtIHgsIDIpICsgTWF0aC5wb3codmlzdWFsSW5mby55MSAtIHksIDIpKSwgTWF0aC5zcXJ0KE1hdGgucG93KHZpc3VhbEluZm8ueDEgLSB4LCAyKSArIE1hdGgucG93KHZpc3VhbEluZm8ueTIgLSB5LCAyKSkpO1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IHNuYXBEaXN0YW5jZSkge1xuICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgIGRhdGFQb2ludDogZGF0YVBvaW50LFxuICAgICAgICAgICAgICAgIGRhdGFQb2ludEluZGV4OiBpLFxuICAgICAgICAgICAgICAgIGRhdGFTZXJpZXM6IHRoaXMsXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGRpc3RhbmNlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgeERpc3RhbmNlID0gTWF0aC5hYnModmlzdWFsSW5mby54MSAtIHgpO1xuICAgICAgICAgICAgaWYgKHhEaXN0YW5jZSA8PSBtaW5pbXVtWERpc3RhbmNlKVxuICAgICAgICAgICAgICBtaW5pbXVtWERpc3RhbmNlID0geERpc3RhbmNlO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKVxuICAgICAgICAgICAgICAgIGZvcndhcmRNaXNzQ291bnQrKztcbiAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGJhY2t3YXJkTWlzc0NvdW50Kys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8PSBtYXJrZXJTaXplIC8gMikge1xuICAgICAgICAgICAgICBmb3VuZERhdGFQb2ludCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcImJ1YmJsZVwiOlxuICAgICAgICAgICAgdmFyIG1hcmtlclNpemUgPSB2aXN1YWxJbmZvLnNpemU7XG4gICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyh2aXN1YWxJbmZvLngxIC0geCwgMikgKyBNYXRoLnBvdyh2aXN1YWxJbmZvLnkxIC0geSwgMikpO1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IG1hcmtlclNpemUgLyAyKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGF0YVBvaW50OiBkYXRhUG9pbnQsXG4gICAgICAgICAgICAgICAgZGF0YVBvaW50SW5kZXg6IGksXG4gICAgICAgICAgICAgICAgZGF0YVNlcmllczogdGhpcyxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgZm91bmREYXRhUG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwicGllXCI6XG4gICAgICAgICAgY2FzZSBcImRvdWdobnV0XCI6XG4gICAgICAgICAgICB2YXIgY2VudGVyID0gdmlzdWFsSW5mby5jZW50ZXI7XG4gICAgICAgICAgICB2YXIgaW5uZXJSYWRpdXMgPSB0aGlzLnR5cGUgPT09IFwiZG91Z2hudXRcIiA/IHZpc3VhbEluZm8ucGVyY2VudElubmVyUmFkaXVzICogdmlzdWFsSW5mby5yYWRpdXMgOiAwO1xuXG4gICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyhjZW50ZXIueCAtIHgsIDIpICsgTWF0aC5wb3coY2VudGVyLnkgLSB5LCAyKSk7XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCB2aXN1YWxJbmZvLnJhZGl1cyAmJiBkaXN0YW5jZSA+IGlubmVyUmFkaXVzKSB7XG5cbiAgICAgICAgICAgICAgdmFyIGRlbHRhWSA9IHkgLSBjZW50ZXIueTtcbiAgICAgICAgICAgICAgdmFyIGRlbHRhWCA9IHggLSBjZW50ZXIueDtcbiAgICAgICAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMihkZWx0YVksIGRlbHRhWCk7XG5cbiAgICAgICAgICAgICAgaWYgKGFuZ2xlIDwgMClcbiAgICAgICAgICAgICAgICBhbmdsZSArPSBNYXRoLlBJICogMjtcblxuICAgICAgICAgICAgICBhbmdsZSA9IE51bWJlcigoKChhbmdsZSAvIE1hdGguUEkgKiAxODAgJSAzNjApICsgMzYwKSAlIDM2MCkudG9GaXhlZCgxMikpO1xuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFuZ2xlKTtcblxuXG4gICAgICAgICAgICAgIHZhciBzdGFydEFuZ2xlID0gTnVtYmVyKCgoKHZpc3VhbEluZm8uc3RhcnRBbmdsZSAvIE1hdGguUEkgKiAxODAgJSAzNjApICsgMzYwKSAlIDM2MCkudG9GaXhlZCgxMikpO1xuICAgICAgICAgICAgICB2YXIgZW5kQW5nbGUgPSBOdW1iZXIoKCgodmlzdWFsSW5mby5lbmRBbmdsZSAvIE1hdGguUEkgKiAxODAgJSAzNjApICsgMzYwKSAlIDM2MCkudG9GaXhlZCgxMikpO1xuXG4gICAgICAgICAgICAgIC8vU28gdGhhdCBkYXRhIHBvaW50IGlzIGRldGVjdGVkIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgZGF0YVBvaW50XG4gICAgICAgICAgICAgIGlmIChlbmRBbmdsZSA9PT0gMCAmJiB2aXN1YWxJbmZvLmVuZEFuZ2xlID4gMSkge1xuICAgICAgICAgICAgICAgIGVuZEFuZ2xlID0gMzYwO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHN0YXJ0QW5nbGUgPj0gZW5kQW5nbGUgJiYgZGF0YVBvaW50LnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBlbmRBbmdsZSArPSAzNjA7XG5cbiAgICAgICAgICAgICAgICBpZiAoYW5nbGUgPCBzdGFydEFuZ2xlKVxuICAgICAgICAgICAgICAgICAgYW5nbGUgKz0gMzYwO1xuICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICBpZiAoYW5nbGUgPiBzdGFydEFuZ2xlICYmIGFuZ2xlIDwgZW5kQW5nbGUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgZGF0YVBvaW50OiBkYXRhUG9pbnQsXG4gICAgICAgICAgICAgICAgICBkYXRhUG9pbnRJbmRleDogaSxcbiAgICAgICAgICAgICAgICAgIGRhdGFTZXJpZXM6IHRoaXMsXG4gICAgICAgICAgICAgICAgICBkaXN0YW5jZTogMFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZm91bmREYXRhUG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiY2FuZGxlc3RpY2tcIjpcbiAgICAgICAgICAgIGlmICgoKHggPj0gKHZpc3VhbEluZm8ueDEgLSB2aXN1YWxJbmZvLmJvcmRlclRoaWNrbmVzcyAvIDIpKSAmJiAoeCA8PSAodmlzdWFsSW5mby54MiArIHZpc3VhbEluZm8uYm9yZGVyVGhpY2tuZXNzIC8gMikpXG4gICAgICAgICAgICAgICYmICh5ID49IHZpc3VhbEluZm8ueTIgLSB2aXN1YWxJbmZvLmJvcmRlclRoaWNrbmVzcyAvIDIpICYmICh5IDw9IHZpc3VhbEluZm8ueTMgKyB2aXN1YWxJbmZvLmJvcmRlclRoaWNrbmVzcyAvIDIpKVxuICAgICAgICAgICAgICB8fCAoTWF0aC5hYnModmlzdWFsSW5mby54MiAtIHggKyB2aXN1YWxJbmZvLngxIC0geCkgPCB2aXN1YWxJbmZvLmJvcmRlclRoaWNrbmVzcyAmJiAoeSA+PSB2aXN1YWxJbmZvLnkxICYmIHkgPD0gdmlzdWFsSW5mby55NCkpKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGF0YVBvaW50OiBkYXRhUG9pbnQsXG4gICAgICAgICAgICAgICAgZGF0YVBvaW50SW5kZXg6IGksXG4gICAgICAgICAgICAgICAgZGF0YVNlcmllczogdGhpcyxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogTWF0aC5taW4oTWF0aC5hYnModmlzdWFsSW5mby54MSAtIHgpLCBNYXRoLmFicyh2aXN1YWxJbmZvLngyIC0geCksIE1hdGguYWJzKHZpc3VhbEluZm8ueTIgLSB5KSwgTWF0aC5hYnModmlzdWFsSW5mby55MyAtIHkpKVxuICAgICAgICAgICAgICAgIC8vZGlzdGFuY2U6MFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBmb3VuZERhdGFQb2ludCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJvaGxjXCI6XG5cbiAgICAgICAgICAgIGlmICgoTWF0aC5hYnModmlzdWFsSW5mby54MiAtIHggKyB2aXN1YWxJbmZvLngxIC0geCkgPCB2aXN1YWxJbmZvLmJvcmRlclRoaWNrbmVzcyAmJiAoeSA+PSB2aXN1YWxJbmZvLnkyICYmIHkgPD0gdmlzdWFsSW5mby55MykpXG5cbiAgICAgICAgICAgICAgfHwgKHggPj0gdmlzdWFsSW5mby54MSAmJiAoeCA8PSAodmlzdWFsSW5mby54MiArIHZpc3VhbEluZm8ueDEpIC8gMilcbiAgICAgICAgICAgICAgICAmJiAoeSA+PSB2aXN1YWxJbmZvLnkxIC0gdmlzdWFsSW5mby5ib3JkZXJUaGlja25lc3MgLyAyKSAmJiAoeSA8PSB2aXN1YWxJbmZvLnkxICsgdmlzdWFsSW5mby5ib3JkZXJUaGlja25lc3MgLyAyKSlcblxuICAgICAgICAgICAgICB8fCAoKHggPj0gKHZpc3VhbEluZm8ueDEgKyB2aXN1YWxJbmZvLngyKSAvIDIpICYmICh4IDw9IHZpc3VhbEluZm8ueDIpXG4gICAgICAgICAgICAgICAgJiYgKHkgPj0gdmlzdWFsSW5mby55NCAtIHZpc3VhbEluZm8uYm9yZGVyVGhpY2tuZXNzIC8gMikgJiYgKHkgPD0gdmlzdWFsSW5mby55NCArIHZpc3VhbEluZm8uYm9yZGVyVGhpY2tuZXNzIC8gMikpKSB7XG5cbiAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkYXRhUG9pbnQ6IGRhdGFQb2ludCxcbiAgICAgICAgICAgICAgICBkYXRhUG9pbnRJbmRleDogaSxcbiAgICAgICAgICAgICAgICBkYXRhU2VyaWVzOiB0aGlzLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBNYXRoLm1pbihNYXRoLmFicyh2aXN1YWxJbmZvLngxIC0geCksIE1hdGguYWJzKHZpc3VhbEluZm8ueDIgLSB4KSwgTWF0aC5hYnModmlzdWFsSW5mby55MiAtIHkpLCBNYXRoLmFicyh2aXN1YWxJbmZvLnkzIC0geSkpXG4gICAgICAgICAgICAgICAgLy9kaXN0YW5jZTowXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGZvdW5kRGF0YVBvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm91bmREYXRhUG9pbnQgfHwgKGZvcndhcmRNaXNzQ291bnQgPiBtYXhNaXNzQ291bnQgJiYgYmFja3dhcmRNaXNzQ291bnQgPiBtYXhNaXNzQ291bnQpKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChzZWFyY2hTdGFydEluZGV4IC0gaiA8IDAgJiYgc2VhcmNoU3RhcnRJbmRleCArIGogPj0gdGhpcy5kYXRhUG9pbnRzLmxlbmd0aClcbiAgICAgIGJyZWFrO1xuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gLTEpIHtcbiAgICAgIGorKztcbiAgICAgIGRpcmVjdGlvbiA9IDE7XG4gICAgfSBlbHNlXG4gICAgICBkaXJlY3Rpb24gPSAtMTtcblxuICB9XG5cblxuXG4gIHZhciBjbG9zZXN0UmVzdWx0ID0gbnVsbDtcblxuICBmb3IgKHZhciBtID0gMDsgbSA8IHJlc3VsdHMubGVuZ3RoOyBtKyspIHtcbiAgICBpZiAoIWNsb3Nlc3RSZXN1bHQpIHtcbiAgICAgIGNsb3Nlc3RSZXN1bHQgPSByZXN1bHRzW21dO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0c1ttXS5kaXN0YW5jZSA8PSBjbG9zZXN0UmVzdWx0LmRpc3RhbmNlKSB7XG4gICAgICBjbG9zZXN0UmVzdWx0ID0gcmVzdWx0c1ttXTtcbiAgICB9XG4gIH1cblxuICAvL2lmICh3aW5kb3cuY29uc29sZSlcbiAgLy9cdHdpbmRvdy5jb25zb2xlLmxvZyhcImZvcndhcmRNaXNzQ291bnQ6IFwiICsgZm9yd2FyZE1pc3NDb3VudCArIFwiOyBiYWNrd2FyZE1pc3NDb3VudDogXCIgKyBiYWNrd2FyZE1pc3NDb3VudCArIFwiOyBnZXRDbG9zZXN0OiBcIiArIGdldENsb3Nlc3QpO1xuXG4gIC8vaWYgKHdpbmRvdy5jb25zb2xlICYmIGNsb3Nlc3RSZXN1bHQpXG4gIC8vICAgIHdpbmRvdy5jb25zb2xlLmxvZyhqICsgXCI6IGRpc3RhbmNlID0gXCIgKyBjbG9zZXN0UmVzdWx0LmRpc3RhbmNlKTtcblxuICByZXR1cm4gY2xvc2VzdFJlc3VsdDtcbn1cblxuRGF0YVNlcmllcy5wcm90b3R5cGUuZ2V0TWFya2VyUHJvcGVydGllcyA9IGZ1bmN0aW9uIChpbmRleCwgeCwgeSwgY3R4KSB7XG4gIHZhciBkYXRhUG9pbnRzID0gdGhpcy5kYXRhUG9pbnRzO1xuICB2YXIgZGF0YVNlcmllcyA9IHRoaXM7XG5cbiAgdmFyIG1hcmtlckNvbG9yID0gZGF0YVBvaW50c1tpbmRleF0ubWFya2VyQ29sb3IgPyBkYXRhUG9pbnRzW2luZGV4XS5tYXJrZXJDb2xvciA6IGRhdGFTZXJpZXMubWFya2VyQ29sb3IgPyBkYXRhU2VyaWVzLm1hcmtlckNvbG9yIDogZGF0YVBvaW50c1tpbmRleF0uY29sb3IgPyBkYXRhUG9pbnRzW2luZGV4XS5jb2xvciA6IGRhdGFTZXJpZXMuY29sb3IgPyBkYXRhU2VyaWVzLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbaW5kZXggJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuICB2YXIgbWFya2VyQm9yZGVyQ29sb3IgPSBkYXRhUG9pbnRzW2luZGV4XS5tYXJrZXJCb3JkZXJDb2xvciA/IGRhdGFQb2ludHNbaW5kZXhdLm1hcmtlckJvcmRlckNvbG9yIDogZGF0YVNlcmllcy5tYXJrZXJCb3JkZXJDb2xvciA/IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyQ29sb3IgOiBudWxsO1xuICB2YXIgbWFya2VyQm9yZGVyVGhpY2tuZXNzID0gZGF0YVBvaW50c1tpbmRleF0ubWFya2VyQm9yZGVyVGhpY2tuZXNzID8gZGF0YVBvaW50c1tpbmRleF0ubWFya2VyQm9yZGVyVGhpY2tuZXNzIDogZGF0YVNlcmllcy5tYXJrZXJCb3JkZXJUaGlja25lc3MgPyBkYXRhU2VyaWVzLm1hcmtlckJvcmRlclRoaWNrbmVzcyA6IG51bGw7XG4gIHZhciBtYXJrZXJUeXBlID0gZGF0YVBvaW50c1tpbmRleF0ubWFya2VyVHlwZSA/IGRhdGFQb2ludHNbaW5kZXhdLm1hcmtlclR5cGUgOiBkYXRhU2VyaWVzLm1hcmtlclR5cGU7XG4gIHZhciBtYXJrZXJTaXplID0gZGF0YVBvaW50c1tpbmRleF0ubWFya2VyU2l6ZSA/IGRhdGFQb2ludHNbaW5kZXhdLm1hcmtlclNpemUgOiBkYXRhU2VyaWVzLm1hcmtlclNpemU7XG5cblxuICByZXR1cm4ge1xuICAgIHg6IHgsIHk6IHksIGN0eDogY3R4LFxuICAgIHR5cGU6IG1hcmtlclR5cGUsXG4gICAgc2l6ZTogbWFya2VyU2l6ZSxcbiAgICBjb2xvcjogbWFya2VyQ29sb3IsXG4gICAgYm9yZGVyQ29sb3I6IG1hcmtlckJvcmRlckNvbG9yLFxuICAgIGJvcmRlclRoaWNrbmVzczogbWFya2VyQm9yZGVyVGhpY2tuZXNzXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YVNlcmllcztcbiIsIlxuaW1wb3J0IHtjcmVhdGVDYW52YXMsIGdldE1vdXNlQ29vcmRpbmF0ZXMsIGlzQ2FudmFzU3VwcG9ydGVkfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcblxuZnVuY3Rpb24gRXZlbnRNYW5hZ2VyKGNoYXJ0KSB7XG4gIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgdGhpcy5sYXN0T2JqZWN0SWQgPSAwO1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLm9iamVjdE1hcCA9IFtdO1xuICB0aGlzLnJlY3Rhbmd1bGFyUmVnaW9uRXZlbnRTdWJzY3JpcHRpb25zID0gW107XG4gIHRoaXMucHJldmlvdXNEYXRhUG9pbnRFdmVudE9iamVjdCA9IG51bGw7XG4gIC8vdGhpcy5wcmV2aW91c0RhdGFTZXJpZXNFdmVudE9iamVjdCA9IG51bGw7XG5cbiAgdGhpcy5naG9zdENhbnZhcyA9IGNyZWF0ZUNhbnZhcyh0aGlzLmNoYXJ0LndpZHRoLCB0aGlzLmNoYXJ0LmhlaWdodCk7XG4gIC8vdGhpcy5naG9zdENhbnZhcy53aWR0aCA9IHRoaXMuY2hhcnQud2lkdGg7XG4gIC8vdGhpcy5naG9zdENhbnZhcy5oZWlnaHQgPSB0aGlzLmNoYXJ0LmhlaWdodDtcblxuICB0aGlzLmdob3N0Q3R4ID0gdGhpcy5naG9zdENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgdmFyIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChldikge1xuICAgIF90aGlzLm1vdXNlRXZlbnRIYW5kbGVyLmNhbGwoX3RoaXMsIGV2KTtcbiAgfTtcblxuICB0aGlzLm1vdXNlb3ZlcmVkT2JqZWN0TWFwcyA9IFtdO1xuICAvL3RoaXMuY2hhcnQuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgZXZlbnRIYW5kbGVyKTtcbiAgLy90aGlzLmNoYXJ0LmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGV2ZW50SGFuZGxlcik7XG4gIC8vdGhpcy5jaGFydC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIGV2ZW50SGFuZGxlcik7XG4gIC8vdGhpcy5jaGFydC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50SGFuZGxlcik7XG59XG5cbkV2ZW50TWFuYWdlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMubGFzdE9iamVjdElkID0gMDtcbiAgdGhpcy5vYmplY3RNYXAgPSBbXTtcbiAgdGhpcy5yZWN0YW5ndWxhclJlZ2lvbkV2ZW50U3Vic2NyaXB0aW9ucyA9IFtdO1xuICB0aGlzLnByZXZpb3VzRGF0YVBvaW50RXZlbnRPYmplY3QgPSBudWxsO1xuXG4gIHRoaXMuZXZlbnRPYmplY3RzID0gW107XG4gIC8vdGhpcy5naG9zdENhbnZhcy53aWR0aCA9IHRoaXMuY2hhcnQud2lkdGg7XG4gIC8vdGhpcy5naG9zdENhbnZhcy5oZWlnaHQgPSB0aGlzLmNoYXJ0LmhlaWdodDtcblxuICBpZiAoaXNDYW52YXNTdXBwb3J0ZWQpIHtcbiAgICB0aGlzLmdob3N0Q3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNoYXJ0LndpZHRoLCB0aGlzLmNoYXJ0LmhlaWdodCk7XG4gICAgdGhpcy5naG9zdEN0eC5iZWdpblBhdGgoKTtcbiAgfVxufVxuXG5FdmVudE1hbmFnZXIucHJvdG90eXBlLmdldE5ld09iamVjdFRyYWNraW5nSWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiArK3RoaXMubGFzdE9iamVjdElkO1xufVxuXG5FdmVudE1hbmFnZXIucHJvdG90eXBlLm1vdXNlRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2KSB7XG5cbiAgaWYgKGV2LnR5cGUgIT09IFwibW91c2Vtb3ZlXCIgJiYgZXYudHlwZSAhPT0gXCJjbGlja1wiKVxuICAgIHJldHVybjtcblxuICB2YXIgZXZlbnRPYmplY3RNYXBzID0gW107XG4gIHZhciB4eSA9IGdldE1vdXNlQ29vcmRpbmF0ZXMoZXYpO1xuICB2YXIgaWQgPSBudWxsO1xuXG4gIC8vdmFyIGRhdGFQb2ludEluZm8gPSB0aGlzLmNoYXJ0LmdldERhdGFQb2ludEF0WFkoeHkueCwgeHkueSwgZmFsc2UpO1xuXG4gIC8vaWYgKGRhdGFQb2ludEluZm8pIHtcbiAgLy9cdGlkID0gZGF0YVBvaW50SW5mby5kYXRhU2VyaWVzLmRhdGFQb2ludElkc1tkYXRhUG9pbnRJbmZvLmRhdGFQb2ludEluZGV4XTtcbiAgLy99IGVsc2UgaWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7Ly9JRTkrXG4gIC8vXHRpZCA9IGdldE9iamVjdElkKHh5LngsIHh5LnksIHRoaXMuZ2hvc3RDdHgpO1xuICAvL31cbiAgaWQgPSB0aGlzLmNoYXJ0LmdldE9iamVjdEF0WFkoeHkueCwgeHkueSwgZmFsc2UpO1xuXG4gIGlmIChpZCAmJiB0eXBlb2YgKHRoaXMub2JqZWN0TWFwW2lkXSkgIT09IFwidW5kZWZpbmVkXCIpIHtcblxuICAgIHZhciBldmVudE9iamVjdE1hcCA9IHRoaXMub2JqZWN0TWFwW2lkXTtcblxuICAgIGlmIChldmVudE9iamVjdE1hcC5vYmplY3RUeXBlID09PSBcImRhdGFQb2ludFwiKSB7XG4gICAgICB2YXIgZGF0YVNlcmllcyA9IHRoaXMuY2hhcnQuZGF0YVtldmVudE9iamVjdE1hcC5kYXRhU2VyaWVzSW5kZXhdO1xuICAgICAgdmFyIGRhdGFQb2ludCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1tldmVudE9iamVjdE1hcC5kYXRhUG9pbnRJbmRleF07XG4gICAgICB2YXIgZGF0YVBvaW50SW5kZXggPSBldmVudE9iamVjdE1hcC5kYXRhUG9pbnRJbmRleDtcblxuICAgICAgLy9FdmVudCBQYXJhbWV0ZXIgc2hvdWxkIG5vdCBjb250YWluIHJlZmVyZW5jZSB0byBkYXRhU2VyaWVzIGRpcmVjdGx5LiBCdXQgdG8gaXRzIG9wdGlvbnMuXG4gICAgICBldmVudE9iamVjdE1hcC5ldmVudFBhcmFtZXRlciA9IHtcbiAgICAgICAgeDogeHkueCwgeTogeHkueSwgZGF0YVBvaW50OiBkYXRhUG9pbnQsXG4gICAgICAgIGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMuX29wdGlvbnMsIGRhdGFQb2ludEluZGV4OiBkYXRhUG9pbnRJbmRleCwgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzLmluZGV4LFxuICAgICAgICBjaGFydDogdGhpcy5jaGFydC5fcHVibGljQ2hhcnRSZWZlcmVuY2VcbiAgICAgIH07XG4gICAgICBldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQgPSB7XG4gICAgICAgIGNvbnRleHQ6IGRhdGFQb2ludCwgdXNlckNvbnRleHQ6IGRhdGFQb2ludCwgbW91c2VvdmVyOiBcIm1vdXNlb3ZlclwiLCBtb3VzZW1vdmU6IFwibW91c2Vtb3ZlXCIsIG1vdXNlb3V0OiBcIm1vdXNlb3V0XCIsIGNsaWNrOiBcImNsaWNrXCJcbiAgICAgIH07XG4gICAgICBldmVudE9iamVjdE1hcHMucHVzaChldmVudE9iamVjdE1hcCk7XG5cbiAgICAgIC8vQWRkIERhdGFzZXJpZXMgdG9vIGJlY2F1c2UgbW91c2UgZXZlbnQgb24gZGF0YVBvaW50IGFsc28gbWVhbnMgdGhlcmUgaXMgYW4gZXZlbnQgb24gZGF0YVNlcmllcy4gRGF0YVNlcmllcyBpcyBub3QgcHJlc2VudCBvbiBnaG9zdCBjYW52YXNcbiAgICAgIGV2ZW50T2JqZWN0TWFwID0gdGhpcy5vYmplY3RNYXBbZGF0YVNlcmllcy5pZF07XG5cbiAgICAgIC8vRXZlbnQgUGFyYW1ldGVyIHNob3VsZCBub3QgY29udGFpbiByZWZlcmVuY2UgdG8gZGF0YVNlcmllcyBkaXJlY3RseS4gQnV0IHRvIGl0cyBvcHRpb25zLlxuICAgICAgZXZlbnRPYmplY3RNYXAuZXZlbnRQYXJhbWV0ZXIgPSB7XG4gICAgICAgIHg6IHh5LngsIHk6IHh5LnksXG4gICAgICAgIGRhdGFQb2ludDogZGF0YVBvaW50LCBkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLl9vcHRpb25zLCBkYXRhUG9pbnRJbmRleDogZGF0YVBvaW50SW5kZXgsIGRhdGFTZXJpZXNJbmRleDogZGF0YVNlcmllcy5pbmRleCxcbiAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQuX3B1YmxpY0NoYXJ0UmVmZXJlbmNlXG4gICAgICB9O1xuXG4gICAgICBldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQgPSB7XG4gICAgICAgIGNvbnRleHQ6IGRhdGFTZXJpZXMsIHVzZXJDb250ZXh0OiBkYXRhU2VyaWVzLl9vcHRpb25zLCBtb3VzZW92ZXI6IFwibW91c2VvdmVyXCIsIG1vdXNlbW92ZTogXCJtb3VzZW1vdmVcIiwgbW91c2VvdXQ6IFwibW91c2VvdXRcIiwgY2xpY2s6IFwiY2xpY2tcIlxuICAgICAgfTtcbiAgICAgIGV2ZW50T2JqZWN0TWFwcy5wdXNoKHRoaXMub2JqZWN0TWFwW2RhdGFTZXJpZXMuaWRdKTtcbiAgICB9XG4gICAgICAvL2Vsc2UgaWYgKGV2ZW50T2JqZWN0TWFwLm9iamVjdFR5cGUgPT09IFwic3RyaXBMaW5lXCIpIHtcblxuICAgICAgLy9cdC8vRXZlbnQgUGFyYW1ldGVyIHNob3VsZCBub3QgY29udGFpbiByZWZlcmVuY2UgdG8gc3RyaXBMaW5lIGRpcmVjdGx5LiBCdXQgdG8gaXRzIG9wdGlvbnMuXG4gICAgICAvL1x0ZXZlbnRPYmplY3RNYXAuZXZlbnRQYXJhbWV0ZXIgPSB7IHg6IHh5LngsIHk6IHh5LnksIHN0cmlwTGluZTogZXZlbnRPYmplY3RNYXAuc3RyaXBMaW5lLl9vcHRpb25zLCBheGlzOiBldmVudE9iamVjdE1hcC5heGlzLl9vcHRpb25zLCBzdHJpcExpbmVJbmRleDogZXZlbnRPYmplY3RNYXAuc3RyaXBMaW5lSW5kZXggfTtcbiAgICAgIC8vXHRldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQgPSB7IGNvbnRleHQ6IGV2ZW50T2JqZWN0TWFwLnN0cmlwTGluZSwgdXNlckNvbnRleHQ6IGV2ZW50T2JqZWN0TWFwLnN0cmlwTGluZS5fb3B0aW9ucywgbW91c2VvdmVyOiBcIm1vdXNlb3ZlclwiLCBtb3VzZW1vdmU6IFwibW91c2Vtb3ZlXCIsIG1vdXNlb3V0OiBcIm1vdXNlb3V0XCIsIGNsaWNrOiBcImNsaWNrXCIgfTtcblxuICAgICAgLy9cdGV2ZW50T2JqZWN0TWFwcy5wdXNoKGV2ZW50T2JqZWN0TWFwKTtcbiAgICAgIC8vfVxuICAgIGVsc2UgaWYgKGV2ZW50T2JqZWN0TWFwLm9iamVjdFR5cGUgPT09IFwibGVnZW5kSXRlbVwiKSB7XG5cbiAgICAgIHZhciBkYXRhU2VyaWVzID0gdGhpcy5jaGFydC5kYXRhW2V2ZW50T2JqZWN0TWFwLmRhdGFTZXJpZXNJbmRleF07XG4gICAgICB2YXIgZGF0YVBvaW50ID0gZXZlbnRPYmplY3RNYXAuZGF0YVBvaW50SW5kZXggIT09IG51bGwgPyBkYXRhU2VyaWVzLmRhdGFQb2ludHNbZXZlbnRPYmplY3RNYXAuZGF0YVBvaW50SW5kZXhdIDogbnVsbDtcblxuICAgICAgLy9FdmVudCBQYXJhbWV0ZXIgc2hvdWxkIG5vdCBjb250YWluIHJlZmVyZW5jZSB0byBEYXRhU2VyaWVzIGRpcmVjdGx5LiBCdXQgdG8gaXRzIG9wdGlvbnMuXG4gICAgICBldmVudE9iamVjdE1hcC5ldmVudFBhcmFtZXRlciA9IHtcbiAgICAgICAgeDogeHkueCwgeTogeHkueSxcbiAgICAgICAgZGF0YVNlcmllczogZGF0YVNlcmllcy5fb3B0aW9ucywgZGF0YVBvaW50OiBkYXRhUG9pbnQsIGRhdGFQb2ludEluZGV4OiBldmVudE9iamVjdE1hcC5kYXRhUG9pbnRJbmRleCwgZGF0YVNlcmllc0luZGV4OiBldmVudE9iamVjdE1hcC5kYXRhU2VyaWVzSW5kZXgsXG4gICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0Ll9wdWJsaWNDaGFydFJlZmVyZW5jZVxuICAgICAgfTtcbiAgICAgIGV2ZW50T2JqZWN0TWFwLmV2ZW50Q29udGV4dCA9IHtcbiAgICAgICAgY29udGV4dDogdGhpcy5jaGFydC5sZWdlbmQsIHVzZXJDb250ZXh0OiB0aGlzLmNoYXJ0LmxlZ2VuZC5fb3B0aW9ucywgbW91c2VvdmVyOiBcIml0ZW1tb3VzZW92ZXJcIiwgbW91c2Vtb3ZlOiBcIml0ZW1tb3VzZW1vdmVcIiwgbW91c2VvdXQ6IFwiaXRlbW1vdXNlb3V0XCIsIGNsaWNrOiBcIml0ZW1jbGlja1wiXG4gICAgICB9O1xuICAgICAgZXZlbnRPYmplY3RNYXBzLnB1c2goZXZlbnRPYmplY3RNYXApO1xuICAgIH1cbiAgfVxuXG4gIC8vRmlyZSBtb3VzZW91dCBpZiBleGlzdGluZyBtb3VzZW92ZXJlZCBvYmplY3RzIGFyZSBub3QgcHJlc2VudCBpbiB0aGUgb2JqZWN0bWFwLlxuICB2YXIgbW91c2VPdXRPYmplY3RNYXBzRXhjbHVkZWQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vdXNlb3ZlcmVkT2JqZWN0TWFwcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBtb3VzZU91dCA9IHRydWU7XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGV2ZW50T2JqZWN0TWFwcy5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKGV2ZW50T2JqZWN0TWFwc1tqXS5pZCA9PT0gdGhpcy5tb3VzZW92ZXJlZE9iamVjdE1hcHNbaV0uaWQpIHtcbiAgICAgICAgbW91c2VPdXQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1vdXNlT3V0KSB7XG4gICAgICB0aGlzLmZpcmVFdmVudCh0aGlzLm1vdXNlb3ZlcmVkT2JqZWN0TWFwc1tpXSwgXCJtb3VzZW91dFwiLCBldik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vdXNlT3V0T2JqZWN0TWFwc0V4Y2x1ZGVkLnB1c2godGhpcy5tb3VzZW92ZXJlZE9iamVjdE1hcHNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubW91c2VvdmVyZWRPYmplY3RNYXBzID0gbW91c2VPdXRPYmplY3RNYXBzRXhjbHVkZWQ7XG5cbiAgLy9Qcm9jZXNzIG5ldyBldmVudE9iZWN0TWFwc1xuICAvL0lmIHRoZXkgYWxyZWFkeSBkb24ndCBleGlzdCwgYWRkIHRoZW0gYW5kIGZpcmUgbW91c2VvdmVyXG4gIC8vSWYgZXYudHlwZSBpcyBtb3VzZW1vdmUsIHRoZW4ganVzdCBmaXJlIG1vdXNlbW92ZVxuICAvL0lmIGV2LnR5cGUgaXMgY2xpY2ssIHRoZW4gZmlyZSB0d28gZXZlbnRzIC0gY2xpY2sgZm9sbG93ZWQgYnkgbW91c2Vtb3ZlXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRPYmplY3RNYXBzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICB2YXIgZXhpc3RpbmcgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5tb3VzZW92ZXJlZE9iamVjdE1hcHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChldmVudE9iamVjdE1hcHNbaV0uaWQgPT09IHRoaXMubW91c2VvdmVyZWRPYmplY3RNYXBzW2pdLmlkKSB7XG4gICAgICAgIGV4aXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFleGlzdGluZykge1xuICAgICAgdGhpcy5maXJlRXZlbnQoZXZlbnRPYmplY3RNYXBzW2ldLCBcIm1vdXNlb3ZlclwiLCBldik7XG4gICAgICB0aGlzLm1vdXNlb3ZlcmVkT2JqZWN0TWFwcy5wdXNoKGV2ZW50T2JqZWN0TWFwc1tpXSk7XG4gICAgfVxuXG4gICAgaWYgKGV2LnR5cGUgPT09IFwiY2xpY2tcIikge1xuICAgICAgdGhpcy5maXJlRXZlbnQoZXZlbnRPYmplY3RNYXBzW2ldLCBcImNsaWNrXCIsIGV2KTtcbiAgICB9IGVsc2UgaWYgKGV2LnR5cGUgPT09IFwibW91c2Vtb3ZlXCIpIHtcbiAgICAgIHRoaXMuZmlyZUV2ZW50KGV2ZW50T2JqZWN0TWFwc1tpXSwgXCJtb3VzZW1vdmVcIiwgZXYpO1xuICAgIH1cbiAgfVxufVxuXG5FdmVudE1hbmFnZXIucHJvdG90eXBlLmZpcmVFdmVudCA9IGZ1bmN0aW9uIChldmVudE9iamVjdE1hcCwgZXZlbnRUeXBlLCBldikge1xuXG4gIGlmICghZXZlbnRPYmplY3RNYXAgfHwgIWV2ZW50VHlwZSlcbiAgICByZXR1cm47XG5cbiAgdmFyIGV2ZW50UGFyYW1ldGVyID0gZXZlbnRPYmplY3RNYXAuZXZlbnRQYXJhbWV0ZXI7XG4gIHZhciBldmVudENvbnRleHQgPSBldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQ7XG4gIC8vdmFyIGNvbnRleHQgPSBldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQuY29udGV4dDtcbiAgdmFyIHVzZXJDb250ZXh0ID0gZXZlbnRPYmplY3RNYXAuZXZlbnRDb250ZXh0LnVzZXJDb250ZXh0XG5cbiAgaWYgKHVzZXJDb250ZXh0ICYmIGV2ZW50Q29udGV4dCAmJiB1c2VyQ29udGV4dFtldmVudENvbnRleHRbZXZlbnRUeXBlXV0pXG4gICAgdXNlckNvbnRleHRbZXZlbnRDb250ZXh0W2V2ZW50VHlwZV1dLmNhbGwodXNlckNvbnRleHQsIGV2ZW50UGFyYW1ldGVyKTtcblxuICBpZiAoZXZlbnRUeXBlICE9PSBcIm1vdXNlb3V0XCIpIHtcbiAgICBpZiAodXNlckNvbnRleHQuY3Vyc29yICYmIHVzZXJDb250ZXh0LmN1cnNvciAhPT0gZXYudGFyZ2V0LnN0eWxlLmN1cnNvcikge1xuICAgICAgZXYudGFyZ2V0LnN0eWxlLmN1cnNvciA9IHVzZXJDb250ZXh0LmN1cnNvcjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZXYudGFyZ2V0LnN0eWxlLmN1cnNvciA9IHRoaXMuY2hhcnQuX2RlZmF1bHRDdXJzb3I7XG4gICAgZGVsZXRlIGV2ZW50T2JqZWN0TWFwLmV2ZW50UGFyYW1ldGVyOyAvLyByZWZlcmVuY2Ugbm8gbG9uZ2VyIHJlcXVpcmVkLlxuICAgIGRlbGV0ZSBldmVudE9iamVjdE1hcC5ldmVudENvbnRleHQ7IC8vIHJlZmVyZW5jZSBubyBsb25nZXIgcmVxdWlyZWQuXG4gIH1cblxuICAvL1RoaXMgaXMganVzdCBhIHF1aWNrIGZpeC4gTmVlZCB0byBmaW5kIGEgYmV0dGVyIHdheSBvZiBjYWxsaW5nIGludGVybmFsIGV2ZW50IGhhbmRsZXJzLlxuICBpZiAoZXZlbnRUeXBlID09PSBcImNsaWNrXCIgJiYgZXZlbnRPYmplY3RNYXAub2JqZWN0VHlwZSA9PT0gXCJkYXRhUG9pbnRcIiAmJiB0aGlzLmNoYXJ0LnBpZURvdWdobnV0Q2xpY2tIYW5kbGVyKSB7XG4gICAgdGhpcy5jaGFydC5waWVEb3VnaG51dENsaWNrSGFuZGxlci5jYWxsKHRoaXMuY2hhcnQuZGF0YVtldmVudE9iamVjdE1hcC5kYXRhU2VyaWVzSW5kZXhdLCBldmVudFBhcmFtZXRlcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRNYW5hZ2VyO1xuIiwiZnVuY3Rpb24gTGF5b3V0TWFuYWdlcih4MSwgeTEsIHgyLCB5MiwgcGFkZGluZykge1xuXG4gIGlmICh0eXBlb2YgKHBhZGRpbmcpID09PSBcInVuZGVmaW5lZFwiKVxuICAgIHBhZGRpbmcgPSAwO1xuXG4gIHRoaXMuX3BhZGRpbmcgPSBwYWRkaW5nO1xuXG4gIHRoaXMuX3gxID0geDE7XG4gIHRoaXMuX3kxID0geTE7XG4gIHRoaXMuX3gyID0geDI7XG4gIHRoaXMuX3kyID0geTI7XG5cbiAgdGhpcy5fdG9wT2NjdXBpZWQgPSB0aGlzLl9wYWRkaW5nO1xuICB0aGlzLl9ib3R0b21PY2N1cGllZCA9IHRoaXMuX3BhZGRpbmc7XG4gIHRoaXMuX2xlZnRPY2N1cGllZCA9IHRoaXMuX3BhZGRpbmc7XG4gIHRoaXMuX3JpZ2h0T2NjdXBpZWQgPSB0aGlzLl9wYWRkaW5nO1xufVxuXG5MYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlclNwYWNlID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBzaXplKSB7XG4gIGlmIChwb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xuICAgIHRoaXMuX3RvcE9jY3VwaWVkICs9IHNpemUuaGVpZ2h0O1xuICB9XG4gIGVsc2UgaWYgKHBvc2l0aW9uID09PSBcImJvdHRvbVwiKSB7XG4gICAgdGhpcy5fYm90dG9tT2NjdXBpZWQgKz0gc2l6ZS5oZWlnaHQ7XG4gIH0gZWxzZSBpZiAocG9zaXRpb24gPT09IFwibGVmdFwiKSB7XG4gICAgdGhpcy5fbGVmdE9jY3VwaWVkICs9IHNpemUud2lkdGg7IC8vIHRoaXMgaXMgd2lkdGggd2hlbiBzZWVuIHVwcmlnaHQvdmVydGljYWxseVxuICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcbiAgICB0aGlzLl9yaWdodE9jY3VwaWVkICs9IHNpemUud2lkdGg7Ly8gdGhpcyBpcyB3aWR0aCB3aGVuIHNlZW4gdXByaWdodC92ZXJ0aWNhbGx5XG4gIH1cbn1cblxuTGF5b3V0TWFuYWdlci5wcm90b3R5cGUudW5SZWdpc3RlclNwYWNlID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBzaXplKSB7XG4gIGlmIChwb3NpdGlvbiA9PT0gXCJ0b3BcIikge1xuICAgIHRoaXMuX3RvcE9jY3VwaWVkIC09IHNpemUuaGVpZ2h0O1xuICB9XG4gIGVsc2UgaWYgKHBvc2l0aW9uID09PSBcImJvdHRvbVwiKSB7XG4gICAgdGhpcy5fYm90dG9tT2NjdXBpZWQgLT0gc2l6ZS5oZWlnaHQ7XG4gIH0gZWxzZSBpZiAocG9zaXRpb24gPT09IFwibGVmdFwiKSB7XG4gICAgdGhpcy5fbGVmdE9jY3VwaWVkIC09IHNpemUud2lkdGg7Ly8gdGhpcyBpcyB3aWR0aCB3aGVuIHNlZW4gdXByaWdodC92ZXJ0aWNhbGx5XG4gIH0gZWxzZSBpZiAocG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuICAgIHRoaXMuX3JpZ2h0T2NjdXBpZWQgLT0gc2l6ZS53aWR0aDsvLyB0aGlzIGlzIHdpZHRoIHdoZW4gc2VlbiB1cHJpZ2h0L3ZlcnRpY2FsbHlcbiAgfVxufVxuXG5MYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5nZXRGcmVlU3BhY2UgPSBmdW5jdGlvbiAoKSB7XG4gIC8vLzxzaWduYXR1cmU+XG4gIC8vLzxzdW1tYXJ5PlJldHVybnMgYXZhaWxhYmxlIGZyZWUgc3BhY2Uge3gxOm51bWJlciwgeTE6bnVtYmVyLCB4MjpudW1iZXIsIHkyOm51bWJlcn08L3N1bW1hcnk+XG4gIC8vLzwvc2lnbmF0dXJlPlxuXG4gIHJldHVybiB7XG4gICAgeDE6IHRoaXMuX3gxICsgdGhpcy5fbGVmdE9jY3VwaWVkLFxuICAgIHkxOiB0aGlzLl95MSArIHRoaXMuX3RvcE9jY3VwaWVkLFxuICAgIHgyOiB0aGlzLl94MiAtIHRoaXMuX3JpZ2h0T2NjdXBpZWQsXG4gICAgeTI6IHRoaXMuX3kyIC0gdGhpcy5fYm90dG9tT2NjdXBpZWQsXG4gICAgd2lkdGg6ICh0aGlzLl94MiAtIHRoaXMuX3gxKSAtIHRoaXMuX3JpZ2h0T2NjdXBpZWQgLSB0aGlzLl9sZWZ0T2NjdXBpZWQsXG4gICAgaGVpZ2h0OiAodGhpcy5feTIgLSB0aGlzLl95MSkgLSB0aGlzLl9ib3R0b21PY2N1cGllZCAtIHRoaXMuX3RvcE9jY3VwaWVkXG4gIH07XG59XG5cbkxheW91dE1hbmFnZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAvL3NvIHRoYXQgdGhlcmUgaXMgZW5vdWdoIHBhZGRpbmcuXG4gIHRoaXMuX3RvcE9jY3VwaWVkID0gdGhpcy5fcGFkZGluZztcbiAgdGhpcy5fYm90dG9tT2NjdXBpZWQgPSB0aGlzLl9wYWRkaW5nO1xuICB0aGlzLl9sZWZ0T2NjdXBpZWQgPSB0aGlzLl9wYWRkaW5nO1xuICB0aGlzLl9yaWdodE9jY3VwaWVkID0gdGhpcy5fcGFkZGluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF5b3V0TWFuYWdlcjtcbiIsIlxuaW1wb3J0IERhdGFTZXJpZXMgZnJvbSAnLi9kYXRhX3Nlcmllcyc7XG5pbXBvcnQgQ2FudmFzSlNPYmplY3QgZnJvbSAnLi9jYW52YXNqcyc7XG5pbXBvcnQgVGV4dEJsb2NrIGZyb20gJy4vdGV4dF9ibG9jayc7XG5pbXBvcnQgUmVuZGVySGVscGVyIGZyb20gJy4uL2hlbHBlcnMvcmVuZGVyJztcbmltcG9ydCB7ZXh0ZW5kLCBnZXRGb250SGVpZ2h0SW5QaXhlbHN9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5mdW5jdGlvbiBMZWdlbmQoY2hhcnQsIG9wdGlvbnMsIHRoZW1lKSB7XG4gIExlZ2VuZC5iYXNlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgXCJMZWdlbmRcIiwgb3B0aW9ucywgdGhlbWUpO1xuXG4gIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgdGhpcy5jYW52YXMgPSBjaGFydC5jYW52YXM7XG4gIHRoaXMuY3R4ID0gdGhpcy5jaGFydC5jdHg7XG4gIHRoaXMuZ2hvc3RDdHggPSB0aGlzLmNoYXJ0Ll9ldmVudE1hbmFnZXIuZ2hvc3RDdHg7XG4gIHRoaXMuaXRlbXMgPSBbXTtcblxuICB0aGlzLndpZHRoID0gMCxcbiAgLy90aGlzLmZvbnRTaXplID0gMTIsXG4gIHRoaXMuaGVpZ2h0ID0gMCxcbiAgdGhpcy5vcmllbnRhdGlvbiA9IG51bGwsXG4gIHRoaXMuZGF0YVNlcmllcyA9IFtdO1xuICB0aGlzLmJvdW5kcyA9IHtcbiAgICB4MTogbnVsbCwgeTE6IG51bGwsIHgyOiBudWxsLCB5MjogbnVsbFxuICB9O1xuXG4gIGlmICh0eXBlb2YgKHRoaXMuX29wdGlvbnMuZm9udFNpemUpID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhpcy5mb250U2l6ZSA9IHRoaXMuY2hhcnQuZ2V0QXV0b0ZvbnRTaXplKHRoaXMuZm9udFNpemUpO1xuICAgIC8vd2luZG93LmNvbnNvbGUubG9nKFwiZm9udFNpemU6IFwiICsgdGhpcy5mb250U2l6ZSk7XG4gIH1cblxuICB0aGlzLmxpbmVIZWlnaHQgPSBnZXRGb250SGVpZ2h0SW5QaXhlbHModGhpcy5mb250RmFtaWx5LCB0aGlzLmZvbnRTaXplLCB0aGlzLmZvbnRXZWlnaHQpO1xuXG4gIHRoaXMuaG9yaXpvbnRhbFNwYWNpbmcgPSB0aGlzLmZvbnRTaXplO1xufVxuXG5leHRlbmQoTGVnZW5kLCBDYW52YXNKU09iamVjdCk7XG5cbkxlZ2VuZC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXG4gIHZhciBjb250YWluZXIgPSAoIXRoaXMuZG9ja0luc2lkZVBsb3RBcmVhID8gdGhpcy5jaGFydCA6IHRoaXMuY2hhcnQucGxvdEFyZWEpO1xuICB2YXIgZnJlZVNwYWNlID0gY29udGFpbmVyLmxheW91dE1hbmFnZXIuZ2V0RnJlZVNwYWNlKCk7XG4gIHZhciBwb3NpdGlvbiA9IG51bGw7XG4gIHZhciB0b3AgPSAwO1xuICB2YXIgbGVmdCA9IDA7XG4gIHZhciBtYXhXaWR0aCA9IDA7XG4gIHZhciBtYXhIZWlnaHQgPSAwO1xuICB2YXIgaXRlbU1hcmdpbiA9IDU7XG5cbiAgdmFyIGl0ZW1zID0gW107XG4gIHZhciByb3dzID0gW107XG5cbiAgLy90aGlzLmN0eC5mb250ID0gZ2V0Rm9udFN0cmluZyhcIlwiLCB0aGlzLCBudWxsKTtcbiAgLy90aGlzLmN0eC5mb250Q29sb3IgPSB0aGlzLmZvbnRDb2xvcjtcblxuICBpZiAodGhpcy52ZXJ0aWNhbEFsaWduID09PSBcInRvcFwiIHx8IHRoaXMudmVydGljYWxBbGlnbiA9PT0gXCJib3R0b21cIikge1xuICAgIHRoaXMub3JpZW50YXRpb24gPSBcImhvcml6b250YWxcIjtcbiAgICBwb3NpdGlvbiA9IHRoaXMudmVydGljYWxBbGlnbjtcblxuICAgIG1heFdpZHRoID0gdGhpcy5tYXhXaWR0aCAhPT0gbnVsbCA/IHRoaXMubWF4V2lkdGggOiBmcmVlU3BhY2Uud2lkdGggKiAuNztcbiAgICBtYXhIZWlnaHQgPSB0aGlzLm1heEhlaWdodCAhPT0gbnVsbCA/IHRoaXMubWF4SGVpZ2h0IDogZnJlZVNwYWNlLmhlaWdodCAqIC41O1xuICB9XG4gIGVsc2UgaWYgKHRoaXMudmVydGljYWxBbGlnbiA9PT0gXCJjZW50ZXJcIikge1xuICAgIHRoaXMub3JpZW50YXRpb24gPSBcInZlcnRpY2FsXCI7XG4gICAgcG9zaXRpb24gPSB0aGlzLmhvcml6b250YWxBbGlnbjtcblxuICAgIG1heFdpZHRoID0gdGhpcy5tYXhXaWR0aCAhPT0gbnVsbCA/IHRoaXMubWF4V2lkdGggOiBmcmVlU3BhY2Uud2lkdGggKiAuNTtcbiAgICBtYXhIZWlnaHQgPSB0aGlzLm1heEhlaWdodCAhPT0gbnVsbCA/IHRoaXMubWF4SGVpZ2h0IDogZnJlZVNwYWNlLmhlaWdodCAqIC43O1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGFTZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGF0YVNlcmllcyA9IHRoaXMuZGF0YVNlcmllc1tpXTtcblxuXG4gICAgaWYgKGRhdGFTZXJpZXMudHlwZSAhPT0gXCJwaWVcIiAmJiBkYXRhU2VyaWVzLnR5cGUgIT09IFwiZG91Z2hudXRcIiAmJiBkYXRhU2VyaWVzLnR5cGUgIT09IFwiZnVubmVsXCIpIHtcblxuICAgICAgdmFyIG1hcmtlclR5cGUgPSBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlclR5cGUgPyBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlclR5cGUgOiAoZGF0YVNlcmllcy50eXBlID09PSBcImxpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RlcExpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3BsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNjYXR0ZXJcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwiYnViYmxlXCIpICYmIGRhdGFTZXJpZXMubWFya2VyVHlwZSA/IGRhdGFTZXJpZXMubWFya2VyVHlwZSA6IERhdGFTZXJpZXMuZ2V0RGVmYXVsdExlZ2VuZE1hcmtlcihkYXRhU2VyaWVzLnR5cGUpO1xuICAgICAgdmFyIGxlZ2VuZFRleHQgPSBkYXRhU2VyaWVzLmxlZ2VuZFRleHQgPyBkYXRhU2VyaWVzLmxlZ2VuZFRleHQgOiB0aGlzLml0ZW1UZXh0Rm9ybWF0dGVyID8gdGhpcy5pdGVtVGV4dEZvcm1hdHRlcih7IGNoYXJ0OiB0aGlzLmNoYXJ0LCBsZWdlbmQ6IHRoaXMuX29wdGlvbnMsIGRhdGFTZXJpZXM6IGRhdGFTZXJpZXMsIGRhdGFQb2ludDogbnVsbCB9KVxuICAgICAgICA6IGRhdGFTZXJpZXMubmFtZTtcbiAgICAgIHZhciBtYXJrZXJDb2xvciA9IGRhdGFTZXJpZXMubGVnZW5kTWFya2VyQ29sb3IgPyBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlckNvbG9yIDogZGF0YVNlcmllcy5tYXJrZXJDb2xvciA/IGRhdGFTZXJpZXMubWFya2VyQ29sb3IgOiBkYXRhU2VyaWVzLl9jb2xvclNldFswXTtcbiAgICAgIHZhciBtYXJrZXJTaXplID0gKCFkYXRhU2VyaWVzLm1hcmtlclNpemUgJiYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBMaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZVwiKSkgPyAwIDogdGhpcy5saW5lSGVpZ2h0ICogLjY7XG4gICAgICB2YXIgbWFya2VyQm9yZGVyQ29sb3IgPSBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlckJvcmRlckNvbG9yID8gZGF0YVNlcmllcy5sZWdlbmRNYXJrZXJCb3JkZXJDb2xvciA6IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyQ29sb3I7XG4gICAgICB2YXIgbWFya2VyQm9yZGVyVGhpY2tuZXNzID0gZGF0YVNlcmllcy5sZWdlbmRNYXJrZXJCb3JkZXJUaGlja25lc3MgPyBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlckJvcmRlclRoaWNrbmVzcyA6IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyVGhpY2tuZXNzID8gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChtYXJrZXJTaXplICogLjIpKSA6IDA7XG4gICAgICB2YXIgbGluZUNvbG9yID0gZGF0YVNlcmllcy5fY29sb3JTZXRbMF07XG5cbiAgICAgIGxlZ2VuZFRleHQgPSB0aGlzLmNoYXJ0LnJlcGxhY2VLZXl3b3Jkc1dpdGhWYWx1ZShsZWdlbmRUZXh0LCBkYXRhU2VyaWVzLmRhdGFQb2ludHNbMF0sIGRhdGFTZXJpZXMsIGkpO1xuICAgICAgdmFyIGl0ZW0gPSB7XG4gICAgICAgIG1hcmtlclR5cGU6IG1hcmtlclR5cGUsIG1hcmtlckNvbG9yOiBtYXJrZXJDb2xvciwgdGV4dDogbGVnZW5kVGV4dCwgdGV4dEJsb2NrOiBudWxsLCBjaGFydFR5cGU6IGRhdGFTZXJpZXMudHlwZSwgbWFya2VyU2l6ZTogbWFya2VyU2l6ZSwgbGluZUNvbG9yOiBkYXRhU2VyaWVzLl9jb2xvclNldFswXSxcbiAgICAgICAgZGF0YVNlcmllc0luZGV4OiBkYXRhU2VyaWVzLmluZGV4LCBkYXRhUG9pbnRJbmRleDogbnVsbCwgbWFya2VyQm9yZGVyQ29sb3I6IG1hcmtlckJvcmRlckNvbG9yLCBtYXJrZXJCb3JkZXJUaGlja25lc3M6IG1hcmtlckJvcmRlclRoaWNrbmVzc1xuICAgICAgfTtcblxuICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgZGF0YVBvaW50SW5kZXggPSAwOyBkYXRhUG9pbnRJbmRleCA8IGRhdGFTZXJpZXMuZGF0YVBvaW50cy5sZW5ndGg7IGRhdGFQb2ludEluZGV4KyspIHtcblxuICAgICAgICB2YXIgZGF0YVBvaW50ID0gZGF0YVNlcmllcy5kYXRhUG9pbnRzW2RhdGFQb2ludEluZGV4XTtcblxuICAgICAgICB2YXIgbWFya2VyVHlwZSA9IGRhdGFQb2ludC5sZWdlbmRNYXJrZXJUeXBlID8gZGF0YVBvaW50LmxlZ2VuZE1hcmtlclR5cGUgOiBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlclR5cGUgPyBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlclR5cGUgOiBEYXRhU2VyaWVzLmdldERlZmF1bHRMZWdlbmRNYXJrZXIoZGF0YVNlcmllcy50eXBlKTtcbiAgICAgICAgdmFyIGxlZ2VuZFRleHQgPSBkYXRhUG9pbnQubGVnZW5kVGV4dCA/IGRhdGFQb2ludC5sZWdlbmRUZXh0IDogZGF0YVNlcmllcy5sZWdlbmRUZXh0ID8gZGF0YVNlcmllcy5sZWdlbmRUZXh0IDogdGhpcy5pdGVtVGV4dEZvcm1hdHRlciA/IHRoaXMuaXRlbVRleHRGb3JtYXR0ZXIoeyBjaGFydDogdGhpcy5jaGFydCwgbGVnZW5kOiB0aGlzLl9vcHRpb25zLCBkYXRhU2VyaWVzOiBkYXRhU2VyaWVzLCBkYXRhUG9pbnQ6IGRhdGFQb2ludCB9KVxuICAgICAgICAgIDogZGF0YVBvaW50Lm5hbWUgPyBkYXRhUG9pbnQubmFtZSA6IFwiRGF0YVBvaW50OiBcIiArIChkYXRhUG9pbnRJbmRleCArIDEpO1xuICAgICAgICB2YXIgbWFya2VyQ29sb3IgPSBkYXRhUG9pbnQubGVnZW5kTWFya2VyQ29sb3IgPyBkYXRhUG9pbnQubGVnZW5kTWFya2VyQ29sb3IgOiBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlckNvbG9yID8gZGF0YVNlcmllcy5sZWdlbmRNYXJrZXJDb2xvciA6IGRhdGFQb2ludC5jb2xvciA/IGRhdGFQb2ludC5jb2xvciA6IGRhdGFTZXJpZXMuY29sb3IgPyBkYXRhU2VyaWVzLmNvbG9yIDogZGF0YVNlcmllcy5fY29sb3JTZXRbZGF0YVBvaW50SW5kZXggJSBkYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuICAgICAgICB2YXIgbWFya2VyU2l6ZSA9IHRoaXMubGluZUhlaWdodCAqIC42O1xuICAgICAgICB2YXIgbWFya2VyQm9yZGVyQ29sb3IgPSBkYXRhUG9pbnQubGVnZW5kTWFya2VyQm9yZGVyQ29sb3IgPyBkYXRhUG9pbnQubGVnZW5kTWFya2VyQm9yZGVyQ29sb3IgOiBkYXRhU2VyaWVzLmxlZ2VuZE1hcmtlckJvcmRlckNvbG9yID8gZGF0YVNlcmllcy5sZWdlbmRNYXJrZXJCb3JkZXJDb2xvciA6IGRhdGFQb2ludC5tYXJrZXJCb3JkZXJDb2xvciA/IGRhdGFQb2ludC5tYXJrZXJCb3JkZXJDb2xvciA6IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyQ29sb3I7XG4gICAgICAgIHZhciBtYXJrZXJCb3JkZXJUaGlja25lc3MgPSBkYXRhUG9pbnQubGVnZW5kTWFya2VyQm9yZGVyVGhpY2tuZXNzID8gZGF0YVBvaW50LmxlZ2VuZE1hcmtlckJvcmRlclRoaWNrbmVzcyA6IGRhdGFTZXJpZXMubGVnZW5kTWFya2VyQm9yZGVyVGhpY2tuZXNzID8gZGF0YVNlcmllcy5sZWdlbmRNYXJrZXJCb3JkZXJUaGlja25lc3MgOiBkYXRhUG9pbnQubWFya2VyQm9yZGVyVGhpY2tuZXNzIHx8IGRhdGFTZXJpZXMubWFya2VyQm9yZGVyVGhpY2tuZXNzID8gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChtYXJrZXJTaXplICogLjIpKSA6IDA7XG5cbiAgICAgICAgbGVnZW5kVGV4dCA9IHRoaXMuY2hhcnQucmVwbGFjZUtleXdvcmRzV2l0aFZhbHVlKGxlZ2VuZFRleHQsIGRhdGFQb2ludCwgZGF0YVNlcmllcywgZGF0YVBvaW50SW5kZXgpO1xuXG4gICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgIG1hcmtlclR5cGU6IG1hcmtlclR5cGUsIG1hcmtlckNvbG9yOiBtYXJrZXJDb2xvciwgdGV4dDogbGVnZW5kVGV4dCwgdGV4dEJsb2NrOiBudWxsLCBjaGFydFR5cGU6IGRhdGFTZXJpZXMudHlwZSwgbWFya2VyU2l6ZTogbWFya2VyU2l6ZSxcbiAgICAgICAgICBkYXRhU2VyaWVzSW5kZXg6IGksIGRhdGFQb2ludEluZGV4OiBkYXRhUG9pbnRJbmRleCwgbWFya2VyQm9yZGVyQ29sb3I6IG1hcmtlckJvcmRlckNvbG9yLCBtYXJrZXJCb3JkZXJUaGlja25lc3M6IG1hcmtlckJvcmRlclRoaWNrbmVzc1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChkYXRhUG9pbnQuc2hvd0luTGVnZW5kIHx8IChkYXRhU2VyaWVzLnNob3dJbkxlZ2VuZCAmJiBkYXRhUG9pbnQuc2hvd0luTGVnZW5kICE9PSBmYWxzZSkpIHtcbiAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGl0ZW0gPSBudWxsO1xuICB9XG4gIGlmICh0aGlzLnJldmVyc2VkID09PSB0cnVlKSB7XG4gICAgaXRlbXMucmV2ZXJzZSgpO1xuICB9XG5cbiAgLy8gRmluZCBvdXQgdGhlIHJlcXVpcmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgTGVnZW5kIGFuZCBwb3NpdGlvbiB0aGUgaXRlbXMgcmVsYXRpdmUgdG8gdGhlIGNvbnRhaW5lclxuICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgIHZhciByb3cgPSBudWxsO1xuICAgIHZhciByb3dJbmRleCA9IDA7IC8vIHJlcXVpcmVkIGZvciB2ZXJ0aWNhbCBvcmllbnRhdGlvblxuICAgIHZhciB0ZXh0TWF4V2lkdGggPSAwO1xuICAgIHZhciBjb2x1bW5IZWlnaHQgPSAwO1xuXG4gICAgaWYgKHRoaXMuaXRlbVdpZHRoICE9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5pdGVtTWF4V2lkdGggIT09IG51bGwpIHtcbiAgICAgICAgdGV4dE1heFdpZHRoID0gTWF0aC5taW4odGhpcy5pdGVtV2lkdGgsIHRoaXMuaXRlbU1heFdpZHRoLCBtYXhXaWR0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0TWF4V2lkdGggPSBNYXRoLm1pbih0aGlzLml0ZW1XaWR0aCwgbWF4V2lkdGgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5pdGVtTWF4V2lkdGggIT09IG51bGwpIHtcbiAgICAgICAgdGV4dE1heFdpZHRoID0gTWF0aC5taW4odGhpcy5pdGVtTWF4V2lkdGgsIG1heFdpZHRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRleHRNYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1hcmtlclNpemUgPSAobWFya2VyU2l6ZSA9PT0gMCA/IHRoaXMubGluZUhlaWdodCAqIC42IDogbWFya2VyU2l6ZSk7XG4gICAgdGV4dE1heFdpZHRoID0gdGV4dE1heFdpZHRoIC0gKG1hcmtlclNpemUgKyB0aGlzLmhvcml6b250YWxTcGFjaW5nICogLjEpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTtcblxuICAgICAgaWYgKGl0ZW0uY2hhcnRUeXBlID09PSBcImxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzcGxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzdGVwTGluZVwiKSB7XG4gICAgICAgIHRleHRNYXhXaWR0aCA9IHRleHRNYXhXaWR0aCAtIDIgKiAodGhpcy5saW5lSGVpZ2h0ICogLjEpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWF4SGVpZ2h0IDw9IDAgfHwgdHlwZW9mIChtYXhIZWlnaHQpID09PSBcInVuZGVmaW5lZFwiIHx8IHRleHRNYXhXaWR0aCA8PSAwIHx8IHR5cGVvZiAodGV4dE1heFdpZHRoKSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XG5cbiAgICAgICAgaXRlbS50ZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwLC8vVEJJXG4gICAgICAgICAgbWF4V2lkdGg6IHRleHRNYXhXaWR0aCxcbiAgICAgICAgICBtYXhIZWlnaHQ6IHRoaXMuaXRlbVdyYXAgPyBtYXhIZWlnaHQgOiB0aGlzLmxpbmVIZWlnaHQsIC8vVEJJOiBGb250U2l6ZVxuICAgICAgICAgIGFuZ2xlOiAwLFxuICAgICAgICAgIHRleHQ6IGl0ZW0udGV4dCxcbiAgICAgICAgICBob3Jpem9udGFsQWxpZ246IFwibGVmdFwiLC8vbGVmdCwgY2VudGVyLCByaWdodFxuICAgICAgICAgIGZvbnRTaXplOiB0aGlzLmZvbnRTaXplLC8vaW4gcGl4ZWxzXG4gICAgICAgICAgZm9udEZhbWlseTogdGhpcy5mb250RmFtaWx5LFxuICAgICAgICAgIGZvbnRXZWlnaHQ6IHRoaXMuZm9udFdlaWdodCwgLy9ub3JtYWwsIGJvbGQsIGJvbGRlciwgbGlnaHRlcixcbiAgICAgICAgICBmb250Q29sb3I6IHRoaXMuZm9udENvbG9yLFxuICAgICAgICAgIGZvbnRTdHlsZTogdGhpcy5mb250U3R5bGUsIC8vIG5vcm1hbCwgaXRhbGljLCBvYmxpcXVlXG4gICAgICAgICAgdGV4dEJhc2VsaW5lOiBcInRvcFwiXG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtLnRleHRCbG9jay5tZWFzdXJlVGV4dCgpO1xuXG4gICAgICAgIGlmICh0aGlzLml0ZW1XaWR0aCAhPT0gbnVsbCkge1xuICAgICAgICAgIGl0ZW0udGV4dEJsb2NrLndpZHRoID0gdGhpcy5pdGVtV2lkdGggLSAobWFya2VyU2l6ZSArIHRoaXMuaG9yaXpvbnRhbFNwYWNpbmcgKiAuMSArICgoaXRlbS5jaGFydFR5cGUgPT09IFwibGluZVwiIHx8IGl0ZW0uY2hhcnRUeXBlID09PSBcInNwbGluZVwiIHx8IGl0ZW0uY2hhcnRUeXBlID09PSBcInN0ZXBMaW5lXCIpID8gMiAqICh0aGlzLmxpbmVIZWlnaHQgKiAuMSkgOiAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJvdyB8fCByb3cud2lkdGggKyBNYXRoLnJvdW5kKGl0ZW0udGV4dEJsb2NrLndpZHRoICsgdGhpcy5ob3Jpem9udGFsU3BhY2luZyAqIC4xICsgbWFya2VyU2l6ZSArIChyb3cud2lkdGggPT09IDAgPyAwIDogKHRoaXMuaG9yaXpvbnRhbFNwYWNpbmcpKSArICgoaXRlbS5jaGFydFR5cGUgPT09IFwibGluZVwiIHx8IGl0ZW0uY2hhcnRUeXBlID09PSBcInNwbGluZVwiIHx8IGl0ZW0uY2hhcnRUeXBlID09PSBcInN0ZXBMaW5lXCIpID8gMiAqICh0aGlzLmxpbmVIZWlnaHQgKiAuMSkgOiAwKSkgPiBtYXhXaWR0aCkge1xuICAgICAgICAgIHJvdyA9IHtcbiAgICAgICAgICAgIGl0ZW1zOiBbXSwgd2lkdGg6IDBcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJvd3MucHVzaChyb3cpO1xuICAgICAgICAgIHRoaXMuaGVpZ2h0ICs9IGNvbHVtbkhlaWdodDtcbiAgICAgICAgICBjb2x1bW5IZWlnaHQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29sdW1uSGVpZ2h0ID0gTWF0aC5tYXgoY29sdW1uSGVpZ2h0LCBpdGVtLnRleHRCbG9jay5oZWlnaHQpO1xuXG4gICAgICAgIGl0ZW0udGV4dEJsb2NrLnggPSByb3cud2lkdGg7XG4gICAgICAgIGl0ZW0udGV4dEJsb2NrLnkgPSAwO1xuXG4gICAgICAgIHJvdy53aWR0aCArPSBNYXRoLnJvdW5kKGl0ZW0udGV4dEJsb2NrLndpZHRoICsgdGhpcy5ob3Jpem9udGFsU3BhY2luZyAqIC4xICsgbWFya2VyU2l6ZSArIChyb3cud2lkdGggPT09IDAgPyAwIDogdGhpcy5ob3Jpem9udGFsU3BhY2luZykgKyAoKGl0ZW0uY2hhcnRUeXBlID09PSBcImxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzcGxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzdGVwTGluZVwiKSA/IDIgKiAodGhpcy5saW5lSGVpZ2h0ICogLjEpIDogMCkpO1xuICAgICAgICByb3cuaXRlbXMucHVzaChpdGVtKTtcblxuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5tYXgocm93LndpZHRoLCB0aGlzLndpZHRoKTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgaXRlbS50ZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwLC8vVEJJXG4gICAgICAgICAgbWF4V2lkdGg6IHRleHRNYXhXaWR0aCxcbiAgICAgICAgICBtYXhIZWlnaHQ6IHRoaXMuaXRlbVdyYXAgPT09IHRydWUgPyBtYXhIZWlnaHQgOiB0aGlzLmZvbnRTaXplICogMS41LCAvL1RCSTogRm9udFNpemVcbiAgICAgICAgICBhbmdsZTogMCxcbiAgICAgICAgICB0ZXh0OiBpdGVtLnRleHQsXG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWduOiBcImxlZnRcIiwvL2xlZnQsIGNlbnRlciwgcmlnaHRcbiAgICAgICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZSwvL2luIHBpeGVsc1xuICAgICAgICAgIGZvbnRGYW1pbHk6IHRoaXMuZm9udEZhbWlseSxcbiAgICAgICAgICBmb250V2VpZ2h0OiB0aGlzLmZvbnRXZWlnaHQsIC8vbm9ybWFsLCBib2xkLCBib2xkZXIsIGxpZ2h0ZXIsXG4gICAgICAgICAgZm9udENvbG9yOiB0aGlzLmZvbnRDb2xvcixcbiAgICAgICAgICBmb250U3R5bGU6IHRoaXMuZm9udFN0eWxlLCAvLyBub3JtYWwsIGl0YWxpYywgb2JsaXF1ZVxuICAgICAgICAgIHRleHRCYXNlbGluZTogXCJ0b3BcIlxuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLnRleHRCbG9jay5tZWFzdXJlVGV4dCgpO1xuXG4gICAgICAgIGlmICh0aGlzLml0ZW1XaWR0aCAhPT0gbnVsbCkge1xuICAgICAgICAgIGl0ZW0udGV4dEJsb2NrLndpZHRoID0gdGhpcy5pdGVtV2lkdGggLSAobWFya2VyU2l6ZSArIHRoaXMuaG9yaXpvbnRhbFNwYWNpbmcgKiAuMSArICgoaXRlbS5jaGFydFR5cGUgPT09IFwibGluZVwiIHx8IGl0ZW0uY2hhcnRUeXBlID09PSBcInNwbGluZVwiIHx8IGl0ZW0uY2hhcnRUeXBlID09PSBcInN0ZXBMaW5lXCIpID8gMiAqICh0aGlzLmxpbmVIZWlnaHQgKiAuMSkgOiAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oZWlnaHQgPD0gbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgcm93ID0ge1xuICAgICAgICAgICAgaXRlbXM6IFtdLCB3aWR0aDogMFxuICAgICAgICAgIH07XG4gICAgICAgICAgcm93cy5wdXNoKHJvdyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93ID0gcm93c1tyb3dJbmRleF07XG4gICAgICAgICAgcm93SW5kZXggPSAocm93SW5kZXggKyAxKSAlIHJvd3MubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oZWlnaHQgKz0gaXRlbS50ZXh0QmxvY2suaGVpZ2h0O1xuXG4gICAgICAgIGl0ZW0udGV4dEJsb2NrLnggPSByb3cud2lkdGg7IC8vIHJlbGF0aXZlIHRvIHRoZSByb3dcbiAgICAgICAgaXRlbS50ZXh0QmxvY2sueSA9IDA7IC8vIHJlbGF0aXZlIHRvIHRoZSByb3dcblxuICAgICAgICByb3cud2lkdGggKz0gTWF0aC5yb3VuZChpdGVtLnRleHRCbG9jay53aWR0aCArIHRoaXMuaG9yaXpvbnRhbFNwYWNpbmcgKiAuMSArIG1hcmtlclNpemUgKyAocm93LndpZHRoID09PSAwID8gMCA6IHRoaXMuaG9yaXpvbnRhbFNwYWNpbmcpICsgKChpdGVtLmNoYXJ0VHlwZSA9PT0gXCJsaW5lXCIgfHwgaXRlbS5jaGFydFR5cGUgPT09IFwic3BsaW5lXCIgfHwgaXRlbS5jaGFydFR5cGUgPT09IFwic3RlcExpbmVcIikgPyAyICogKHRoaXMubGluZUhlaWdodCAqIC4xKSA6IDApKTtcbiAgICAgICAgcm93Lml0ZW1zLnB1c2goaXRlbSk7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHJvdy53aWR0aCwgdGhpcy53aWR0aCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXRlbVdyYXAgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmhlaWdodCA9IHJvd3MubGVuZ3RoICogKHRoaXMubGluZUhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGVpZ2h0ICs9IGNvbHVtbkhlaWdodDtcbiAgICB9XG5cbiAgICB0aGlzLmhlaWdodCA9IE1hdGgubWluKG1heEhlaWdodCwgdGhpcy5oZWlnaHQpO1xuICAgIHRoaXMud2lkdGggPSBNYXRoLm1pbihtYXhXaWR0aCwgdGhpcy53aWR0aCk7XG4gIH1cblxuICBpZiAodGhpcy52ZXJ0aWNhbEFsaWduID09PSBcInRvcFwiKSB7XG4gICAgaWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcImxlZnRcIilcbiAgICAgIGxlZnQgPSBmcmVlU3BhY2UueDE7XG4gICAgZWxzZSBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwicmlnaHRcIilcbiAgICAgIGxlZnQgPSBmcmVlU3BhY2UueDIgLSB0aGlzLndpZHRoO1xuICAgIGVsc2VcbiAgICAgIGxlZnQgPSBmcmVlU3BhY2UueDEgKyBmcmVlU3BhY2Uud2lkdGggLyAyIC0gdGhpcy53aWR0aCAvIDI7XG5cbiAgICB0b3AgPSBmcmVlU3BhY2UueTE7XG4gIH0gZWxzZSBpZiAodGhpcy52ZXJ0aWNhbEFsaWduID09PSBcImNlbnRlclwiKSB7XG4gICAgaWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcImxlZnRcIilcbiAgICAgIGxlZnQgPSBmcmVlU3BhY2UueDE7XG4gICAgZWxzZSBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwicmlnaHRcIilcbiAgICAgIGxlZnQgPSBmcmVlU3BhY2UueDIgLSB0aGlzLndpZHRoO1xuICAgIGVsc2VcbiAgICAgIGxlZnQgPSBmcmVlU3BhY2UueDEgKyBmcmVlU3BhY2Uud2lkdGggLyAyIC0gdGhpcy53aWR0aCAvIDI7XG5cbiAgICB0b3AgPSBmcmVlU3BhY2UueTEgKyBmcmVlU3BhY2UuaGVpZ2h0IC8gMiAtIHRoaXMuaGVpZ2h0IC8gMjtcbiAgfSBlbHNlIGlmICh0aGlzLnZlcnRpY2FsQWxpZ24gPT09IFwiYm90dG9tXCIpIHtcbiAgICBpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwibGVmdFwiKVxuICAgICAgbGVmdCA9IGZyZWVTcGFjZS54MTtcbiAgICBlbHNlIGlmICh0aGlzLmhvcml6b250YWxBbGlnbiA9PT0gXCJyaWdodFwiKVxuICAgICAgbGVmdCA9IGZyZWVTcGFjZS54MiAtIHRoaXMud2lkdGg7XG4gICAgZWxzZVxuICAgICAgbGVmdCA9IGZyZWVTcGFjZS54MSArIGZyZWVTcGFjZS53aWR0aCAvIDIgLSB0aGlzLndpZHRoIC8gMjtcblxuICAgIHRvcCA9IGZyZWVTcGFjZS55MiAtIHRoaXMuaGVpZ2h0O1xuICB9XG5cbiAgdGhpcy5pdGVtcyA9IGl0ZW1zO1xuXG4gIC8vQXNzaWduIGlkcyB0byBhbGwgbGVnZW5kSXRlbXNcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG5cbiAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuXG4gICAgaXRlbS5pZCA9ICsrdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLmxhc3RPYmplY3RJZDtcbiAgICB0aGlzLmNoYXJ0Ll9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2l0ZW0uaWRdID0ge1xuICAgICAgaWQ6IGl0ZW0uaWQsIG9iamVjdFR5cGU6IFwibGVnZW5kSXRlbVwiLCBsZWdlbmRJdGVtSW5kZXg6IGksIGRhdGFTZXJpZXNJbmRleDogaXRlbS5kYXRhU2VyaWVzSW5kZXgsIGRhdGFQb2ludEluZGV4OiBpdGVtLmRhdGFQb2ludEluZGV4XG4gICAgfTtcbiAgICAvL2RlbGV0ZSBpdGVtLnRleHRCbG9jazsvLyBOb3QgUmVxdWlyZWQgYW55bW9yZVxuICB9XG5cbiAgdmFyIHJvd0hlaWdodCA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciByb3cgPSByb3dzW2ldO1xuICAgIHZhciBjb2x1bW5IZWlnaHQgPSAwO1xuICAgIGZvciAodmFyIGl0ZW1JbmRleCA9IDA7IGl0ZW1JbmRleCA8IHJvdy5pdGVtcy5sZW5ndGg7IGl0ZW1JbmRleCsrKSB7XG4gICAgICB2YXIgaXRlbSA9IHJvdy5pdGVtc1tpdGVtSW5kZXhdO1xuXG4gICAgICB2YXIgaXRlbVggPSBpdGVtLnRleHRCbG9jay54ICsgbGVmdCArIChpdGVtSW5kZXggPT09IDAgPyBtYXJrZXJTaXplICogLjIgOiB0aGlzLmhvcml6b250YWxTcGFjaW5nKTtcbiAgICAgIHZhciBpdGVtWSA9IHRvcCArIHJvd0hlaWdodDtcblxuICAgICAgdmFyIGdob3N0WCA9IGl0ZW1YO1xuXG4gICAgICBpZiAoIXRoaXMuY2hhcnQuZGF0YVtpdGVtLmRhdGFTZXJpZXNJbmRleF0udmlzaWJsZSlcbiAgICAgICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSAuNTtcblxuICAgICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgICAgdGhpcy5jdHgucmVjdChsZWZ0LCB0b3AsIG1heFdpZHRoLCBtYXhIZWlnaHQpO1xuICAgICAgdGhpcy5jdHguY2xpcCgpO1xuXG4gICAgICBpZiAoaXRlbS5jaGFydFR5cGUgPT09IFwibGluZVwiIHx8IGl0ZW0uY2hhcnRUeXBlID09PSBcInN0ZXBMaW5lXCIgfHwgaXRlbS5jaGFydFR5cGUgPT09IFwic3BsaW5lXCIpIHtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBpdGVtLmxpbmVDb2xvcjtcbiAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gTWF0aC5jZWlsKHRoaXMubGluZUhlaWdodCAvIDgpO1xuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKGl0ZW1YIC0gdGhpcy5saW5lSGVpZ2h0ICogLjEsIGl0ZW1ZICsgdGhpcy5saW5lSGVpZ2h0IC8gMik7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhpdGVtWCArIHRoaXMubGluZUhlaWdodCAqIC43LCBpdGVtWSArIHRoaXMubGluZUhlaWdodCAvIDIpO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcblxuICAgICAgICBnaG9zdFggLT0gdGhpcy5saW5lSGVpZ2h0ICogLjE7XG4gICAgICB9XG5cbiAgICAgIFJlbmRlckhlbHBlci5kcmF3TWFya2VyKGl0ZW1YICsgbWFya2VyU2l6ZSAvIDIsIGl0ZW1ZICsgKHRoaXMubGluZUhlaWdodCAvIDIpLCB0aGlzLmN0eCwgaXRlbS5tYXJrZXJUeXBlLCBpdGVtLm1hcmtlclNpemUsIGl0ZW0ubWFya2VyQ29sb3IsIGl0ZW0ubWFya2VyQm9yZGVyQ29sb3IsIGl0ZW0ubWFya2VyQm9yZGVyVGhpY2tuZXNzKTtcblxuICAgICAgaXRlbS50ZXh0QmxvY2sueCA9IGl0ZW1YICsgdGhpcy5ob3Jpem9udGFsU3BhY2luZyAqIC4xICsgbWFya2VyU2l6ZTtcblxuICAgICAgaWYgKGl0ZW0uY2hhcnRUeXBlID09PSBcImxpbmVcIiB8fCBpdGVtLmNoYXJ0VHlwZSA9PT0gXCJzdGVwTGluZVwiIHx8IGl0ZW0uY2hhcnRUeXBlID09PSBcInNwbGluZVwiKSB7XG4gICAgICAgIGl0ZW0udGV4dEJsb2NrLnggPSBpdGVtLnRleHRCbG9jay54ICsgdGhpcy5saW5lSGVpZ2h0ICogLjE7XG4gICAgICB9XG5cbiAgICAgIGl0ZW0udGV4dEJsb2NrLnkgPSBpdGVtWTtcblxuICAgICAgaXRlbS50ZXh0QmxvY2sucmVuZGVyKHRydWUpO1xuXG4gICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG5cbiAgICAgIGlmIChpdGVtSW5kZXggPiAwKSB7XG4gICAgICAgIGNvbHVtbkhlaWdodCA9IE1hdGgubWF4KGNvbHVtbkhlaWdodCwgaXRlbS50ZXh0QmxvY2suaGVpZ2h0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbHVtbkhlaWdodCA9IGl0ZW0udGV4dEJsb2NrLmhlaWdodDtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmNoYXJ0LmRhdGFbaXRlbS5kYXRhU2VyaWVzSW5kZXhdLnZpc2libGUpXG4gICAgICAgIHRoaXMuY3R4Lmdsb2JhbEFscGhhID0gMTtcblxuICAgICAgdmFyIGhleENvbG9yID0gaW50VG9IZXhDb2xvclN0cmluZyhpdGVtLmlkKTtcbiAgICAgIHRoaXMuZ2hvc3RDdHguZmlsbFN0eWxlID0gaGV4Q29sb3I7XG4gICAgICB0aGlzLmdob3N0Q3R4LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5naG9zdEN0eC5maWxsUmVjdChnaG9zdFgsIGl0ZW0udGV4dEJsb2NrLnksIGl0ZW0udGV4dEJsb2NrLnggKyBpdGVtLnRleHRCbG9jay53aWR0aCAtIGdob3N0WCwgaXRlbS50ZXh0QmxvY2suaGVpZ2h0KTtcblxuICAgICAgaXRlbS54MSA9IHRoaXMuY2hhcnQuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaXRlbS5pZF0ueDEgPSBnaG9zdFg7XG4gICAgICBpdGVtLnkxID0gdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpdGVtLmlkXS55MSA9IGl0ZW0udGV4dEJsb2NrLnk7XG4gICAgICBpdGVtLngyID0gdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpdGVtLmlkXS54MiA9IGl0ZW0udGV4dEJsb2NrLnggKyBpdGVtLnRleHRCbG9jay53aWR0aDtcbiAgICAgIGl0ZW0ueTIgPSB0aGlzLmNoYXJ0Ll9ldmVudE1hbmFnZXIub2JqZWN0TWFwW2l0ZW0uaWRdLnkyID0gaXRlbS50ZXh0QmxvY2sueSArIGl0ZW0udGV4dEJsb2NrLmhlaWdodDtcbiAgICB9XG4gICAgcm93SGVpZ2h0ID0gcm93SGVpZ2h0ICsgY29sdW1uSGVpZ2h0O1xuICB9XG5cbiAgLy90aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgLy90aGlzLmN0eC5saW5lV2lkdGggPSAyO1xuICAvL3RoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcbiAgLy90aGlzLmN0eC5yZWN0KGxlZnQsIHRvcCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAvL3RoaXMuY3R4LnN0cm9rZSgpO1xuXG4gIGNvbnRhaW5lci5sYXlvdXRNYW5hZ2VyLnJlZ2lzdGVyU3BhY2UocG9zaXRpb24sIHsgd2lkdGg6IHRoaXMud2lkdGggKyAyICsgMiwgaGVpZ2h0OiB0aGlzLmhlaWdodCArIDUgKyA1IH0pO1xuXG4gIHRoaXMuYm91bmRzID0ge1xuICAgIHgxOiBsZWZ0LCB5MTogdG9wLCB4MjogbGVmdCArIHRoaXMud2lkdGgsIHkyOiB0b3AgKyB0aGlzLmhlaWdodFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBMZWdlbmQ7XG4iLCJcbmltcG9ydCBSIGZyb20gJ3JhbWRhJztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICdkZWJvdW5jZSc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc30gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmNvbnN0IENFTExfSEVJR0hUID0gMzA7XG5sZXQgQ0VMTF9XSURUSCA9IDE1MDtcblxuZnVuY3Rpb24gY3JlYXRlRE9NRWxlbWVudHMoY29udGFpbmVySWQpe1xuXG5cdHRoaXMuY29udGFpbmVyRWxlbWVudCA9IHR5cGVvZiBjb250YWluZXJJZCA9PT0gXCJzdHJpbmdcIiA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklkKSA6IGNvbnRhaW5lcklkO1xuXG5cdHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhbnZhc2pzLWNoYXJ0LWNvbnRhaW5lclwiKTtcblx0dGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXHR0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gXCJsZWZ0XCI7XG5cdHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBcImF1dG9cIjtcblxuXHR0aGlzLmNvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50KTtcblxuXHRpZiAodGhpcy5vcHRpb25zLndpZHRoKSB0aGlzLndpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoO1xuXHRlbHNlIHRoaXMud2lkdGggPSB0aGlzLmNvbnRhaW5lckVsZW1lbnQuY2xpZW50V2lkdGggPyB0aGlzLmNvbnRhaW5lckVsZW1lbnQuY2xpZW50V2lkdGggOiB0aGlzLndpZHRoO1xuXG5cdGlmICh0aGlzLm9wdGlvbnMuaGVpZ2h0KSB0aGlzLmhlaWdodCA9IHRoaXMub3B0aW9ucy5oZWlnaHQ7XG5cdGVsc2UgdGhpcy5oZWlnaHQgPSB0aGlzLmNvbnRhaW5lckVsZW1lbnQuY2xpZW50SGVpZ2h0ID8gdGhpcy5jb250YWluZXJFbGVtZW50LmNsaWVudEhlaWdodCA6IHRoaXMuaGVpZ2h0O1xuXG5cdHRoaXMuY2FudmFzRWxlbWVudCA9IGNyZWF0ZUNhbnZhcyh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG5cdHRoaXMuY2FudmFzRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblxuXHRjb25zdCBib3JkZXIgPSBcIjFweCBzb2xpZCByZ2JhKDAgLDAsIDAsIDAuMilcIlxuXHR0aGlzLmNhbnZhc0VsZW1lbnQuc3R5bGUuYm9yZGVyID0gYm9yZGVyO1xuXG5cdGlmICh0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCkge1xuXG5cdFx0dGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzRWxlbWVudCk7XG5cdFx0dGhpcy5jYW52YXNDdHggPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG5cdH1cblxuXHR0aGlzLmNhbnZhc0N0eC5maWxsU3R5bGUgPSBcInRyYW5zcGFyZW50XCI7XG5cdHRoaXMuY2FudmFzQ3R4LnN0cm9rZVN0eWxlID0gXCIjMDAwMDAwXCI7XG5cdHRoaXMuY2FudmFzQ3R4LmxpbmVXaWR0aCA9IC4yO1xuXHR0aGlzLmNhbnZhc0N0eC5mb250ID0gXCJub3JtYWwgbm9ybWFsIDEycHggVmVyZGFuYVwiO1xuXHR0aGlzLmNhbnZhc0N0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgdGhpcy5jYW52YXNDdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3RhdGUoKXtcblxuXHR0aGlzLmhlYWRlcnMgPSBSLmtleXModGhpcy5vcHRpb25zLmhlYWRlcnMpO1xuXHR0aGlzLnRvdGFsQ29sdW1ucyA9IFIubGVuZ3RoKHRoaXMuaGVhZGVycyk7XG5cdHRoaXMuZGF0YSA9IFtdO1xuXHR0aGlzLnJvd0N1cnNvciA9IDA7XG5cdHRoaXMudmlzaWJsZVJvd3MgPSBNYXRoLmNlaWwoTWF0aC5hYnModGhpcy5oZWlnaHQvQ0VMTF9IRUlHSFQpKTtcblx0dGhpcy5zY3JvbGxCYXJTaXplID0gMDtcblx0dGhpcy5zY3JvbGxCYXJPZmZzZXQgPSAwO1xuXHR0aGlzLmxhc3RTY3JvbGxCYXJPZmZzZXQgPSAwO1xuXHR0aGlzLnNjcm9sbEFjdGl2ZWQgPSBmYWxzZTtcblxuXHRDRUxMX1dJRFRIID0gTWF0aC5jZWlsKE1hdGguYWJzKHRoaXMud2lkdGgvdGhpcy50b3RhbENvbHVtbnMpKTtcblxufVxuXG5mdW5jdGlvbiBjbGVhbkNhbnZhcyhjYW52YXNDdHgsIHdpZHRoLCBoZWlnaHQpe1xuXG5cdGNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbn1cblxuZnVuY3Rpb24gcGFpbnRMaW5lKGNhbnZhc0N0eCwgeCwgeSwgeDIsIHkyKXtcblxuXHRjYW52YXNDdHguYmVnaW5QYXRoKCk7XG5cdGNhbnZhc0N0eC5tb3ZlVG8oeCwgeSk7XG5cdGNhbnZhc0N0eC5saW5lVG8oeDIsIHkyKTtcblx0Y2FudmFzQ3R4LnN0cm9rZSgpO1xuXG59XG5cbmZ1bmN0aW9uIHBhaW50Q2VsbChjYW52YXNDdHgsIHgsIHkpe1xuXG5cdC8vIGNhbnZhc0N0eC5maWxsUmVjdCh4LHksIENFTExfV0lEVEgsIENFTExfSEVJR0hUKTtcblx0Ly8gY2FudmFzQ3R4LnN0cm9rZVJlY3QoeCx5LCBDRUxMX1dJRFRILCBDRUxMX0hFSUdIVCk7XG5cbn1cblxuZnVuY3Rpb24gcGFpbnRUZXh0KGNhbnZhc0N0eCwgdGV4dCwgeCwgeSl7XG5cblx0Y2FudmFzQ3R4LmZpbGxTdHlsZSA9IFwiIzAwMFwiO1xuXHRjYW52YXNDdHguZmlsbFRleHQodGV4dCwgeCArIENFTExfV0lEVEgvMiwgeSArIENFTExfSEVJR0hULzIpO1xuXHRjYW52YXNDdHguZmlsbFN0eWxlID0gXCJ0cmFuc3BhcmVudFwiO1xuXG59XG5cbmZ1bmN0aW9uIHBhaW50VGFibGVCb3JkZXJzKGNhbnZhc0N0eCwgdG90YWxDb2x1bW5zLCB0b3RhbFJvd3Mpe1xuXG5cdC8vIERyYXcgdmVydGljYWwgbGluZXNcblx0Zm9yKGxldCB4IG9mIFIucmFuZ2UoMSwgdG90YWxDb2x1bW5zKSl7XG5cblx0XHRwYWludExpbmUoY2FudmFzQ3R4LCB4KkNFTExfV0lEVEgsIDAsIHgqQ0VMTF9XSURUSCwgdG90YWxSb3dzKkNFTExfSEVJR0hUKTtcblxuXHR9XG5cblx0Ly8gRHJhdyBob3Jpem9udGFsIGxpbmVzXG5cdGZvcihsZXQgeSBvZiBSLnJhbmdlKDEsIHRvdGFsUm93cykpe1xuXG5cdFx0cGFpbnRMaW5lKGNhbnZhc0N0eCwgMCwgeSpDRUxMX0hFSUdIVCwgIHRvdGFsQ29sdW1ucypDRUxMX1dJRFRILCB5KkNFTExfSEVJR0hUKTtcblxuXHR9XG5cbn1cblxuZnVuY3Rpb24gcGFpbnRIZWFkZXJzKGNhbnZhc0N0eCwgaGVhZGVycywgaGVhZGVyc051bWJlcil7XG5cblx0Zm9yKGxldCBwb3NpdGlvbiBvZiBSLnJhbmdlKDAsIGhlYWRlcnNOdW1iZXIpKXtcblxuXHRcdGNvbnN0IHggPSBwb3NpdGlvbiAqIENFTExfV0lEVEg7XG5cblx0XHRwYWludENlbGwoY2FudmFzQ3R4LCB4ICwgMCk7XG5cdFx0cGFpbnRUZXh0KGNhbnZhc0N0eCwgaGVhZGVyc1twb3NpdGlvbl0sIHgsIDApO1xuXG5cdH1cbn1cblxuZnVuY3Rpb24gcGFpbnRCb2R5KGNhbnZhc0N0eCwgZGF0YSwgaGVhZGVycywgdG90YWxDb2x1bW5zLCByb3dDdXJzb3IsIHZpc2libGVSb3dzKXtcblxuXHQvLyBjb25zb2xlLmxvZyhSLnJhbmdlKHJvd0N1cnNvciwgKHJvd0N1cnNvciArIHZpc2libGVSb3dzIC0gMSkqdG90YWxDb2x1bW5zKSk7XG5cblx0bGV0IGkgPSAwO1xuXG5cdGZvcihsZXQgcm93IG9mIFIucmFuZ2UoMCwgdmlzaWJsZVJvd3MgLSAxKSl7XG5cblx0XHRpZihyb3cgPj0gUi5sZW5ndGgoZGF0YSkpIGJyZWFrO1xuXG5cdFx0Zm9yKGxldCBoZWFkZXIgb2YgaGVhZGVycyl7XG5cblx0XHRcdGNvbnN0IHggPSBnZXRYKGksIHRvdGFsQ29sdW1ucyk7XG5cdFx0XHRjb25zdCB5ID0gZ2V0WShpLCB0b3RhbENvbHVtbnMpXG5cblx0XHRcdC8vIHBhaW50Q2VsbChjYW52YXNDdHgsIHgsIHkpO1xuXHRcdFx0cGFpbnRUZXh0KGNhbnZhc0N0eCwgZGF0YVtyb3crcm93Q3Vyc29yXVtoZWFkZXJdLCB4LCB5KTtcblxuXHRcdFx0aSsrO1xuXG5cdFx0fVxuXG5cdH1cbn1cblxuXG5mdW5jdGlvbiBkcmF3RWxsaXBzZShjdHgsIHgsIHksIHcsIGgpIHtcbiAgdmFyIGthcHBhID0gLjU1MjI4NDgsXG4gICAgICBveCA9ICh3IC8gMikgKiBrYXBwYSwgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgaG9yaXpvbnRhbFxuICAgICAgb3kgPSAoaCAvIDIpICoga2FwcGEsIC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IHZlcnRpY2FsXG4gICAgICB4ZSA9IHggKyB3LCAgICAgICAgICAgLy8geC1lbmRcbiAgICAgIHllID0geSArIGgsICAgICAgICAgICAvLyB5LWVuZFxuICAgICAgeG0gPSB4ICsgdyAvIDIsICAgICAgIC8vIHgtbWlkZGxlXG4gICAgICB5bSA9IHkgKyBoIC8gMjsgICAgICAgLy8geS1taWRkbGVcblxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oeCwgeW0pO1xuICBjdHguYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7XG4gIGN0eC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICBjdHguYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gIGN0eC5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7XG4gIC8vY3R4LmNsb3NlUGF0aCgpOyAvLyBub3QgdXNlZCBjb3JyZWN0bHksIHNlZSBjb21tZW50cyAodXNlIHRvIGNsb3NlIG9mZiBvcGVuIHBhdGgpXG4gIGN0eC5zdHJva2UoKTtcbn1cblxuZnVuY3Rpb24gcGFpbnRTY3JvbGwodGFibGUsIGNhbnZhc0N0eCwgd2lkdGgsIHZpc2libGVSb3dzLCB0b3RhbEVsZW1lbnRzLCB0b3RhbENvbHVtbnMpe1xuXG5cdGNvbnN0IHRvdGFsU2l6ZSA9ICh2aXNpYmxlUm93cyAqIENFTExfSEVJR0hUKSAtIDEwO1xuXHRjb25zdCBzY3JvbGxCYXJTaXplID0gdG90YWxTaXplIC0gKHRvdGFsRWxlbWVudHMgLSAodmlzaWJsZVJvd3MgKiB0b3RhbENvbHVtbnMpKTtcblxuXHR0YWJsZS5zY3JvbGxCYXJTaXplID0gc2Nyb2xsQmFyU2l6ZSA8IDMwID8gMzAgOiBzY3JvbGxCYXJTaXplO1xuXG5cdC8vIGRyYXdFbGxpcHNlKGNhbnZhc0N0eCwgd2lkdGggLSAxNSAsIENFTExfSEVJR0hUICsgNSwgMTAsIHNjcm9sbEJhclNpemUpO1xuXG5cdGNhbnZhc0N0eC5maWxsU3R5bGUgPSBcIiNiYmJcIjtcblx0Y2FudmFzQ3R4LmZpbGxSZWN0KHdpZHRoIC0gMTUgLCBDRUxMX0hFSUdIVCArIDUgKyB0YWJsZS5zY3JvbGxCYXJPZmZzZXQsIDEwLCB0YWJsZS5zY3JvbGxCYXJTaXplKTtcblx0Y2FudmFzQ3R4LmZpbGxTdHlsZSA9IFwidHJhbnNwYXJlbnRcIjtcblx0Y2FudmFzQ3R4LnN0cm9rZVJlY3Qod2lkdGggLSAxNSAsIENFTExfSEVJR0hUICsgNSArIHRhYmxlLnNjcm9sbEJhck9mZnNldCwgMTAsIHRhYmxlLnNjcm9sbEJhclNpemUpO1xuXG59XG5cbmZ1bmN0aW9uIGdldFgocG9zaXRpb24sIHRvdGFsQ29sdW1ucyl7XG5cblx0cmV0dXJuIChwb3NpdGlvbiAlIHRvdGFsQ29sdW1ucykgKiBDRUxMX1dJRFRIO1xuXG59XG5cbmZ1bmN0aW9uIGdldFkocG9zaXRpb24sIHRvdGFsQ29sdW1ucyl7XG5cblx0cmV0dXJuIChNYXRoLmZsb29yKHBvc2l0aW9uIC8gdG90YWxDb2x1bW5zKSArIDEpICogQ0VMTF9IRUlHSFQ7XG5cbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoKXtcblxuXHQvLyB0aGlzLmNhbnZhc0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBkZWJvdW5jZShzY3JvbGxpbmdIYW5kbGVyLCA1MCksIGZhbHNlKTtcblx0Ly8gdGhpcy5jYW52YXNFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCBkZWJvdW5jZShzY3JvbGxpbmdIYW5kbGVyLCA1MCksIGZhbHNlKTtcblx0Ly9cblx0Ly8gLy8gdGhpcy5jYW52YXNFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgc2Nyb2xsaW5nSGFuZGxlciwgZmFsc2UpO1xuXHQvLyAvLyB0aGlzLmNhbnZhc0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIHNjcm9sbGluZ0hhbmRsZXIsIGZhbHNlKTtcblx0Y29uc3QgZ2V0Q29vcmRlbmF0ZXMgPSAoY2FudmFzLCBldnQpID0+IHtcblxuXHRcdHZhciByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGV2dC5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgeTogZXZ0LmNsaWVudFkgLSByZWN0LnRvcFxuICAgIH07XG5cblx0fTtcblxuXHRjb25zdCBtb3VzZWRvd25IYW5kbGVyID0gIGV2ZW50ID0+IHtcblxuXHRcdGNvbnN0IGNvb3JkcyA9IGdldENvb3JkZW5hdGVzKHRoaXMuY2FudmFzRWxlbWVudCwgZXZlbnQpO1xuXG5cdFx0aWYoY29vcmRzLnggPj0gdGhpcy53aWR0aCAtMTUgJiZcblx0XHRcdGNvb3Jkcy54IDw9IHRoaXMud2lkdGggLSA1ICYmXG5cdFx0XHRjb29yZHMueSA+PSAoQ0VMTF9IRUlHSFQgKyA1ICsgdGhpcy5zY3JvbGxCYXJPZmZzZXQpICYmXG5cdFx0XHRjb29yZHMueSA8PSAoQ0VMTF9IRUlHSFQgKyA1ICsgdGhpcy5zY3JvbGxCYXJPZmZzZXQgKyB0aGlzLnNjcm9sbEJhclNpemUpICl7XG5cblx0XHRcdFx0dGhpcy5sYXN0WXBvc2l0aW9uID0gY29vcmRzLnk7XG5cdFx0XHRcdHRoaXMuZW5hYmxlU2Nyb2xsID0gdHJ1ZTtcblxuXHRcdH1cblxuXHQgIHJldHVybiBmYWxzZTtcblxuXHR9O1xuXG5cdGNvbnN0IG1vdXNlbW92ZUhhbmRsZXIgPSBldmVudCA9PiB7XG5cblx0XHRpZighdGhpcy5lbmFibGVTY3JvbGwpIHJldHVybjtcblxuXHRcdGNvbnN0IGNvb3JkcyA9IGdldENvb3JkZW5hdGVzKHRoaXMuY2FudmFzRWxlbWVudCwgZXZlbnQpO1xuXHRcdGNvbnN0IG9mZnNldCA9IHRoaXMuc2Nyb2xsQmFyT2Zmc2V0ICsgKGNvb3Jkcy55IC0gdGhpcy5sYXN0WXBvc2l0aW9uKTtcblx0XHRjb25zdCB0b3RhbCA9IHRoaXMuaGVpZ2h0IC0gQ0VMTF9IRUlHSFQgLTEwIC0gdGhpcy5zY3JvbGxCYXJTaXplO1xuXHRcdGNvbnN0IG1heExpbWl0ID0gdGhpcy5kYXRhLmxlbmd0aDtcblxuXHRcdHRoaXMuc2Nyb2xsQmFyT2Zmc2V0ID0gb2Zmc2V0IDwgMCA/IDAgOiBvZmZzZXQ7XG5cblx0XHRpZihDRUxMX0hFSUdIVCArIDEwICsgdGhpcy5zY3JvbGxCYXJPZmZzZXQgKyB0aGlzLnNjcm9sbEJhclNpemUgPj0gdGhpcy5oZWlnaHQpe1xuXHRcdFx0dGhpcy5zY3JvbGxCYXJPZmZzZXQgPSB0b3RhbDtcblx0XHR9XG5cblx0XHR0aGlzLmxhc3RZcG9zaXRpb24gPSBjb29yZHMueTtcblxuXHRcdGNvbnN0IHJvdyA9IE1hdGguY2VpbCgodGhpcy5zY3JvbGxCYXJPZmZzZXQvdG90YWwpICogbWF4TGltaXQpO1xuXHRcdGNvbnN0IG1heCA9IHRoaXMuZGF0YS5sZW5ndGggLSAoKHRoaXMudmlzaWJsZVJvd3MgLSAxKSk7XG5cblx0XHR0aGlzLnJvd0N1cnNvciA9IHJvdyA+PSBtYXggPyBtYXggOiByb3c7XG5cblx0XHR0aGlzLnBhaW50KCk7XG5cblx0fTtcblxuXHQvLyBjb25zdCBtb3VzZXVwSGFuZGxlciA9IGV2ZW50ID0+IHtcblx0Ly9cblx0Ly8gXHR0aGlzLmVuYWJsZVNjcm9sbCA9IGZhbHNlO1xuXHQvL1xuXHQvLyB9O1xuXG5cdGNvbnN0IG1vdXNlb3V0SGFuZGxlciA9IGV2ZW50ID0+IHtcblxuXHRcdC8vIHRoaXMuZW5hYmxlU2Nyb2xsID0gZmFsc2U7XG5cblx0fVxuXHRjb25zdCBtb3VzZWVudGVySGFuZGxlciA9IGV2ZW50ID0+IHtcblxuXHRcdC8vIHRoaXMuZW5hYmxlU2Nyb2xsID0gZmFsc2U7XG5cblx0fVxuXG5cdGNvbnN0IGRvY3VtZW50TW91c2V1cEhhbmRsZXIgPSBldmVudCA9PiB7XG5cblx0XHR0aGlzLmVuYWJsZVNjcm9sbCA9IGZhbHNlO1xuXG5cdH07XG5cblx0Y29uc3QgbW91c2VXaGVlbEhhbmRsZXIgPSBldmVudCA9PiB7XG5cblx0ICBpZighdGhpcy5zY3JvbGxpbmcpIHJldHVybiBmYWxzZTtcblxuXHRcdC8vIGNvbnN0IGRlbHRhID0gZXZlbnQuZGV0YWlsIDwgMCB8fCBldmVudC53aGVlbERlbHRhID4gMCA/IDEgOiAtMTtcblx0XHRpZihldmVudC53aGVlbERlbHRhID09IDApIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChldmVudC53aGVlbERlbHRhID4gMCkgeyAvLyBzY3JvbGxpbmcgZG93blxuXG5cdFx0XHRpZih0aGlzLnJvd0N1cnNvciAtIDEgPCAwKXtcblxuXHRcdFx0XHR0aGlzLnNjcm9sbEJhck9mZnNldCA9IDA7XG5cdFx0XHRcdHRoaXMucm93Q3Vyc29yID0gMDtcblxuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cblx0XHRcdFx0Ly8gdGhpcy5zY3JvbGxCYXJPZmZzZXQgLT0gdGhpcy50b3RhbENvbHVtbnM7XG5cdFx0XHRcdHRoaXMucm93Q3Vyc29yLS07XG5cdFx0XHRcdHRoaXMuc2Nyb2xsQmFyT2Zmc2V0ID0gKHRoaXMucm93Q3Vyc29yL3RoaXMuZGF0YS5sZW5ndGgpICogKHRoaXMuaGVpZ2h0IC0gQ0VMTF9IRUlHSFQgLTEwIC0gdGhpcy5zY3JvbGxCYXJTaXplKTtcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmKGV2ZW50LndoZWVsRGVsdGEgPCAwKXsgLy8gc2Nyb2xsaW5nIHVwXG5cblx0XHRcdGNvbnN0IG1heExpbWl0ID0gdGhpcy5kYXRhLmxlbmd0aCAtICh0aGlzLnZpc2libGVSb3dzIC0gMSk7XG5cblx0XHRcdGlmKFx0dGhpcy5yb3dDdXJzb3IgPj0gbWF4TGltaXQpe1xuXG5cdFx0XHRcdHRoaXMuc2Nyb2xsQmFyT2Zmc2V0ID0gdGhpcy5oZWlnaHQgLSBDRUxMX0hFSUdIVCAtMTAgLSB0aGlzLnNjcm9sbEJhclNpemU7XG5cdFx0XHRcdHRoaXMucm93Q3Vyc29yID0gbWF4TGltaXQ7XG5cblx0XHRcdH1cblx0XHRcdGVsc2V7XG5cblx0XHRcdFx0dGhpcy5yb3dDdXJzb3IrKztcblx0XHRcdFx0dGhpcy5zY3JvbGxCYXJPZmZzZXQgPSAodGhpcy5yb3dDdXJzb3IvdGhpcy5kYXRhLmxlbmd0aCkgKiAodGhpcy5oZWlnaHQgLSBDRUxMX0hFSUdIVCAtMTAgLSB0aGlzLnNjcm9sbEJhclNpemUpO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHR0aGlzLnBhaW50KCk7XG5cblx0ICByZXR1cm4gZmFsc2U7XG5cblx0fTtcblxuXHR0aGlzLmNhbnZhc0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZGVib3VuY2UobW91c2Vkb3duSGFuZGxlciwgNTApLCBmYWxzZSk7XG5cdHRoaXMuY2FudmFzRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBtb3VzZW1vdmVIYW5kbGVyLCBmYWxzZSk7XG5cdC8vIHRoaXMuY2FudmFzRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZGVib3VuY2UobW91c2V1cEhhbmRsZXIsIDUwKSwgZmFsc2UpO1xuXHR0aGlzLmNhbnZhc0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBkZWJvdW5jZShtb3VzZW91dEhhbmRsZXIsIDEwKSwgZmFsc2UpO1xuXHR0aGlzLmNhbnZhc0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGRlYm91bmNlKG1vdXNlZW50ZXJIYW5kbGVyLCAxMCksIGZhbHNlKTtcblx0dGhpcy5jYW52YXNFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCBtb3VzZVdoZWVsSGFuZGxlciwgZmFsc2UpO1xuXHQvLyB0aGlzLmNhbnZhc0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBtb3VzZVdoZWVsSGFuZGxlciwgZmFsc2UpO1xuXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBkZWJvdW5jZShkb2N1bWVudE1vdXNldXBIYW5kbGVyLCA1MCksIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyKCl7XG5cblx0Y29uc3QgcGFpbnQgPSAoKSA9PiB0aGlzLnBhaW50KCk7XG5cblx0KGZ1bmN0aW9uIHAoZm4pe1xuXG5cdFx0cGFpbnQoKTtcblxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBwKCkpO1xuXG5cdH0pKCk7XG5cbn1cblxuZnVuY3Rpb24gVGFibGUoY29udGFpbmVySWQsIG9wdGlvbnMpIHtcblxuXHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdGNyZWF0ZURPTUVsZW1lbnRzLmJpbmQodGhpcykoY29udGFpbmVySWQpO1xuXG5cdGNyZWF0ZVN0YXRlLmJpbmQodGhpcykoKTtcblxuXHRhZGRFdmVudExpc3RlbmVycy5iaW5kKHRoaXMpKCk7XG5cblx0Ly8gcmVuZGVyLmJpbmQodGhpcykoKTtcblxufVxuXG4vL1VwZGF0ZSBDaGFydCBQcm9wZXJ0aWVzXG5UYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oZGF0YSkge1xuXG5cdC8vIGNvbnN0IGVudHJpZXMgPSBSLmlzQXJyYXlMaWtlKGRhdGEpID8gUi5mbGF0dGVuKFIubWFwKGV2ZW50ID0+IFIudmFsdWVzKGV2ZW50KSwgZGF0YSkpIDogUi52YWx1ZXMoZGF0YSk7XG5cblx0aWYoZGF0YSkgdGhpcy5kYXRhID0gZGF0YS5jb25jYXQodGhpcy5kYXRhKTtcblxuXHR0aGlzLnBhaW50KCk7XG5cbn1cblxuVGFibGUucHJvdG90eXBlLnBhaW50ID0gZnVuY3Rpb24oKSB7XG5cblx0Y2xlYW5DYW52YXModGhpcy5jYW52YXNDdHgsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcblxuXHRwYWludFRhYmxlQm9yZGVycyh0aGlzLmNhbnZhc0N0eCwgdGhpcy50b3RhbENvbHVtbnMsIHRoaXMudmlzaWJsZVJvd3MpO1xuXG5cdHBhaW50SGVhZGVycyh0aGlzLmNhbnZhc0N0eCwgdGhpcy5oZWFkZXJzLCB0aGlzLnRvdGFsQ29sdW1ucyk7XG5cblx0cGFpbnRCb2R5KHRoaXMuY2FudmFzQ3R4LCB0aGlzLmRhdGEsIHRoaXMuaGVhZGVycywgdGhpcy50b3RhbENvbHVtbnMsIHRoaXMucm93Q3Vyc29yLCB0aGlzLnZpc2libGVSb3dzKTtcblxuXHRpZih0aGlzLmRhdGEubGVuZ3RoID49IHRoaXMudmlzaWJsZVJvd3MpIHtcblxuXHRcdHRoaXMuc2Nyb2xsaW5nID0gdHJ1ZTtcblxuXHRcdHBhaW50U2Nyb2xsKHRoaXMsIHRoaXMuY2FudmFzQ3R4LCB0aGlzLndpZHRoLCB0aGlzLnZpc2libGVSb3dzLTEsIHRoaXMuZGF0YS5sZW5ndGgsIHRoaXMudG90YWxDb2x1bW5zKTtcblxuXHR9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFibGU7XG4iLCJcbmltcG9ydCBDYW52YXNKU09iamVjdCBmcm9tICcuL2NhbnZhc2pzJztcbmltcG9ydCB7ZXh0ZW5kLCBnZXRGb250SGVpZ2h0SW5QaXhlbHMsIHRyaW1TdHJpbmcsIGdldEZvbnRTdHJpbmd9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5mdW5jdGlvbiBUZXh0QmxvY2soY3R4LCBvcHRpb25zKSB7XG5cbiAgVGV4dEJsb2NrLmJhc2UuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBcIlRleHRCbG9ja1wiLCBvcHRpb25zKTtcblxuICB0aGlzLmN0eCA9IGN0eDtcbiAgdGhpcy5faXNEaXJ0eSA9IHRydWU7XG4gIHRoaXMuX3dyYXBwZWRUZXh0ID0gbnVsbDtcbiAgdGhpcy5fbGluZUhlaWdodCA9IGdldEZvbnRIZWlnaHRJblBpeGVscyh0aGlzLmZvbnRGYW1pbHksIHRoaXMuZm9udFNpemUsIHRoaXMuZm9udFdlaWdodCk7XG59XG5cbmV4dGVuZChUZXh0QmxvY2ssIENhbnZhc0pTT2JqZWN0KTtcblxuVGV4dEJsb2NrLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocHJlc2VydmVDb250ZXh0KSB7XG4gIGlmIChwcmVzZXJ2ZUNvbnRleHQpXG4gICAgdGhpcy5jdHguc2F2ZSgpO1xuXG4gIHZhciBmb250ID0gdGhpcy5jdHguZm9udDtcbiAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gdGhpcy50ZXh0QmFzZWxpbmU7XG5cbiAgdmFyIG9mZnNldFkgPSAwO1xuXG4gIGlmICh0aGlzLl9pc0RpcnR5KVxuICAgIHRoaXMubWVhc3VyZVRleHQodGhpcy5jdHgpO1xuXG4gIHRoaXMuY3R4LnRyYW5zbGF0ZSh0aGlzLngsIHRoaXMueSArIG9mZnNldFkpO1xuXG4gIGlmICh0aGlzLnRleHRCYXNlbGluZSA9PT0gXCJtaWRkbGVcIikge1xuICAgIG9mZnNldFkgPSAtdGhpcy5fbGluZUhlaWdodCAvIDI7XG4gIH1cblxuICB0aGlzLmN0eC5mb250ID0gdGhpcy5fZ2V0Rm9udFN0cmluZygpO1xuXG4gIHRoaXMuY3R4LnJvdGF0ZShNYXRoLlBJIC8gMTgwICogdGhpcy5hbmdsZSk7XG5cbiAgdmFyIHRleHRMZWZ0ID0gMDtcbiAgdmFyIHRleHRUb3AgPSB0aGlzLnBhZGRpbmc7XG4gIC8vdmFyIHRleHRUb3AgPSB0aGlzLnBhZGRpbmc7XG4gIHZhciBsaW5lID0gbnVsbDtcblxuICBpZiAoKHRoaXMuYm9yZGVyVGhpY2tuZXNzID4gMCAmJiB0aGlzLmJvcmRlckNvbG9yKSB8fCB0aGlzLmJhY2tncm91bmRDb2xvcikge1xuICAgIHRoaXMuY3R4LnJvdW5kUmVjdCgwLCBvZmZzZXRZLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5jb3JuZXJSYWRpdXMsIHRoaXMuYm9yZGVyVGhpY2tuZXNzLCB0aGlzLmJhY2tncm91bmRDb2xvciwgdGhpcy5ib3JkZXJDb2xvcik7XG5cbiAgICAvL2lmICh0aGlzLnRleHRCYXNlbGluZSA9PT0gXCJtaWRkbGVcIikge1xuICAgIC8vXHQvL3RleHRUb3AgKz0gdGhpcy5mb250U2l6ZSAvIDI7XG4gICAgLy9cdHRleHRUb3AgKz0gdGhpcy5fbGluZUhlaWdodCAvIDI7XG4gICAgLy99XG4gIH1cblxuICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmZvbnRDb2xvcjtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3dyYXBwZWRUZXh0LmxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICBsaW5lID0gdGhpcy5fd3JhcHBlZFRleHQubGluZXNbaV07XG4gICAgaWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcInJpZ2h0XCIpXG4gICAgICB0ZXh0TGVmdCA9IHRoaXMud2lkdGggLSBsaW5lLndpZHRoIC0gdGhpcy5wYWRkaW5nO1xuICAgIGVsc2UgaWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcImxlZnRcIilcbiAgICAgIHRleHRMZWZ0ID0gdGhpcy5wYWRkaW5nO1xuICAgIGVsc2UgaWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcImNlbnRlclwiKVxuICAgICAgdGV4dExlZnQgPSAodGhpcy53aWR0aCAtIHRoaXMucGFkZGluZyAqIDIpIC8gMiAtIGxpbmUud2lkdGggLyAyICsgdGhpcy5wYWRkaW5nO1xuXG4gICAgdGhpcy5jdHguZmlsbFRleHQobGluZS50ZXh0LCB0ZXh0TGVmdCwgdGV4dFRvcCk7XG5cbiAgICB0ZXh0VG9wICs9IGxpbmUuaGVpZ2h0O1xuICB9XG5cbiAgdGhpcy5jdHguZm9udCA9IGZvbnQ7XG5cbiAgaWYgKHByZXNlcnZlQ29udGV4dClcbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG59XG5cblRleHRCbG9jay5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gIHRoaXMudGV4dCA9IHRleHQ7XG4gIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xuICB0aGlzLl93cmFwcGVkVGV4dCA9IG51bGw7XG59XG5cblRleHRCbG9jay5wcm90b3R5cGUubWVhc3VyZVRleHQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLm1heFdpZHRoID09PSBudWxsKSB7XG4gICAgdGhyb3cgKFwiUGxlYXNlIHNldCBtYXhXaWR0aCBhbmQgaGVpZ2h0IGZvciBUZXh0QmxvY2tcIik7XG4gIH1cblxuICB0aGlzLl93cmFwVGV4dCh0aGlzLmN0eCk7XG4gIHRoaXMuX2lzRGlydHkgPSBmYWxzZTtcblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0XG4gIH1cbn1cblxuVGV4dEJsb2NrLnByb3RvdHlwZS5fZ2V0TGluZVdpdGhXaWR0aCA9IGZ1bmN0aW9uICh0ZXh0LCB3aWR0aCwgY2xpcFdvcmQpIHtcbiAgdGV4dCA9IFN0cmluZyh0ZXh0KTtcbiAgY2xpcFdvcmQgPSBjbGlwV29yZCB8fCBmYWxzZTtcblxuICBpZiAoIXRleHQpXG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHQ6IFwiXCIsIHdpZHRoOiAwXG4gICAgfTtcblxuICB2YXIgdGV4dFdpZHRoID0gMCxcbiAgICBtaW4gPSAwLFxuICAgIG1heCA9IHRleHQubGVuZ3RoIC0gMSxcbiAgICBtaWQgPSBJbmZpbml0eTtcblxuICB0aGlzLmN0eC5mb250ID0gdGhpcy5fZ2V0Rm9udFN0cmluZygpO1xuXG4gIHdoaWxlIChtaW4gPD0gbWF4KSB7XG4gICAgbWlkID0gTWF0aC5mbG9vcigobWluICsgbWF4KSAvIDIpO1xuICAgIHZhciB0ZW1wVGV4dCA9IHRleHQuc3Vic3RyKDAsIG1pZCArIDEpO1xuXG4gICAgdGV4dFdpZHRoID0gdGhpcy5jdHgubWVhc3VyZVRleHQodGVtcFRleHQpLndpZHRoO1xuXG4gICAgaWYgKHRleHRXaWR0aCA8IHdpZHRoKSB7XG4gICAgICBtaW4gPSBtaWQgKyAxO1xuICAgIH0gZWxzZSBpZiAodGV4dFdpZHRoID4gd2lkdGgpIHtcbiAgICAgIG1heCA9IG1pZCAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vZWRnZSBjYXNlc1xuICBpZiAodGV4dFdpZHRoID4gd2lkdGggJiYgdGVtcFRleHQubGVuZ3RoID4gMSkge1xuICAgIHRlbXBUZXh0ID0gdGVtcFRleHQuc3Vic3RyKDAsIHRlbXBUZXh0Lmxlbmd0aCAtIDEpO1xuICAgIHRleHRXaWR0aCA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KHRlbXBUZXh0KS53aWR0aDtcbiAgfVxuXG4gIHZhciBpc0NsaXBwZWQgPSB0cnVlO1xuXG4gIGlmICh0ZW1wVGV4dC5sZW5ndGggPT09IHRleHQubGVuZ3RoIHx8IHRleHRbdGVtcFRleHQubGVuZ3RoXSA9PT0gXCIgXCIpXG4gICAgaXNDbGlwcGVkID0gZmFsc2U7XG5cbiAgaWYgKGlzQ2xpcHBlZCkge1xuICAgIHZhciByZXN1bHRXb3JkcyA9IHRlbXBUZXh0LnNwbGl0KFwiIFwiKTtcbiAgICBpZiAocmVzdWx0V29yZHMubGVuZ3RoID4gMSlcbiAgICAgIHJlc3VsdFdvcmRzLnBvcCgpO1xuXG4gICAgdGVtcFRleHQgPSByZXN1bHRXb3Jkcy5qb2luKFwiIFwiKTtcbiAgICB0ZXh0V2lkdGggPSB0aGlzLmN0eC5tZWFzdXJlVGV4dCh0ZW1wVGV4dCkud2lkdGg7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRleHQ6IHRlbXBUZXh0LCB3aWR0aDogdGV4dFdpZHRoXG4gIH07XG59XG5cblRleHRCbG9jay5wcm90b3R5cGUuX3dyYXBUZXh0ID0gZnVuY3Rpb24gd3JhcFRleHQoKSB7XG4gIC8vdGhpcy5jdHguc2F2ZSgpO1xuICB2YXIgdGV4dCA9IG5ldyBTdHJpbmcodHJpbVN0cmluZyhTdHJpbmcodGhpcy50ZXh0KSkpO1xuICB2YXIgbGluZXMgPSBbXTtcbiAgdmFyIGZvbnQgPSB0aGlzLmN0eC5mb250OyAvLyBTYXZlIHRoZSBjdXJyZW50IEZvbnRcbiAgdmFyIGhlaWdodCA9IDA7XG4gIHZhciB3aWR0aCA9IDA7XG5cbiAgdGhpcy5jdHguZm9udCA9IHRoaXMuX2dldEZvbnRTdHJpbmcoKTtcblxuICB3aGlsZSAodGV4dC5sZW5ndGggPiAwKSB7XG5cbiAgICB2YXIgbWF4V2lkdGggPSB0aGlzLm1heFdpZHRoIC0gdGhpcy5wYWRkaW5nICogMjtcbiAgICB2YXIgbWF4SGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHQgLSB0aGlzLnBhZGRpbmcgKiAyO1xuXG4gICAgdmFyIGxpbmUgPSB0aGlzLl9nZXRMaW5lV2l0aFdpZHRoKHRleHQsIG1heFdpZHRoLCBmYWxzZSk7XG4gICAgbGluZS5oZWlnaHQgPSB0aGlzLl9saW5lSGVpZ2h0O1xuXG4gICAgbGluZXMucHVzaChsaW5lKTtcblxuICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGxpbmUud2lkdGgpO1xuICAgIGhlaWdodCArPSBsaW5lLmhlaWdodDtcbiAgICB0ZXh0ID0gdHJpbVN0cmluZyh0ZXh0LnNsaWNlKGxpbmUudGV4dC5sZW5ndGgsIHRleHQubGVuZ3RoKSk7XG5cbiAgICBpZiAobWF4SGVpZ2h0ICYmIGhlaWdodCA+IG1heEhlaWdodCkge1xuICAgICAgdmFyIGxpbmUgPSBsaW5lcy5wb3AoKTtcbiAgICAgIGhlaWdodCAtPSBsaW5lLmhlaWdodDtcbiAgICB9XG4gIH1cblxuICB0aGlzLl93cmFwcGVkVGV4dCA9IHtcbiAgICBsaW5lczogbGluZXMsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHRcbiAgfTtcbiAgdGhpcy53aWR0aCA9IHdpZHRoICsgdGhpcy5wYWRkaW5nICogMjtcbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgKyB0aGlzLnBhZGRpbmcgKiAyO1xuXG4gIHRoaXMuY3R4LmZvbnQgPSBmb250OyAvLyBSZXN0b3JlIHRoZSBmb250XG59XG5cblRleHRCbG9jay5wcm90b3R5cGUuX2dldEZvbnRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIC8vcmV0dXJuIHRoaXMuZm9udFN0eWxlICsgXCIgXCIgKyB0aGlzLmZvbnRXZWlnaHQgKyBcIiBcIiArIHRoaXMuZm9udFNpemUgKyBcInB4IFwiICsgdGhpcy5mb250RmFtaWx5XG4gIHJldHVybiBnZXRGb250U3RyaW5nKFwiXCIsIHRoaXMsIG51bGwpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0QmxvY2s7XG4iLCJcbmltcG9ydCBDYW52YXNKU09iamVjdCBmcm9tICcuL2NhbnZhc2pzJztcbmltcG9ydCBUZXh0QmxvY2sgZnJvbSAnLi90ZXh0X2Jsb2NrJztcbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi9oZWxwZXJzL3V0aWxzJztcblxuZnVuY3Rpb24gVGl0bGUoY2hhcnQsIG9wdGlvbnMpIHtcblx0VGl0bGUuYmFzZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIFwiVGl0bGVcIiwgb3B0aW9ucywgY2hhcnQudGhlbWUpO1xuXG5cdHRoaXMuY2hhcnQgPSBjaGFydDtcblx0dGhpcy5jYW52YXMgPSBjaGFydC5jYW52YXM7XG5cdHRoaXMuY3R4ID0gdGhpcy5jaGFydC5jdHg7XG5cblxuXHRpZiAodHlwZW9mICh0aGlzLl9vcHRpb25zLmZvbnRTaXplKSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXG5cdFx0dGhpcy5mb250U2l6ZSA9IHRoaXMuY2hhcnQuZ2V0QXV0b0ZvbnRTaXplKHRoaXMuZm9udFNpemUpO1xuXG5cdFx0Ly93aW5kb3cuY29uc29sZS5sb2coXCJDaGFydCBUaXRsZSBmb250U2l6ZTogXCIgKyB0aGlzLmZvbnRTaXplKTtcblx0fVxuXG5cdHRoaXMud2lkdGggPSBudWxsLC8vcmVhZCBvbmx5XG5cdHRoaXMuaGVpZ2h0ID0gbnVsbC8vcmVhZCBvbmx5XG5cdHRoaXMuYm91bmRzID0ge1xuXHRcdHgxOiBudWxsLCB5MTogbnVsbCwgeDI6IG51bGwsIHkyOiBudWxsXG5cdH07XG59XG5cbmV4dGVuZChUaXRsZSwgQ2FudmFzSlNPYmplY3QpO1xuXG5UaXRsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXG5cdGlmICghdGhpcy50ZXh0KSByZXR1cm47XG5cblx0dmFyIGNvbnRhaW5lciA9ICghdGhpcy5kb2NrSW5zaWRlUGxvdEFyZWEgPyB0aGlzLmNoYXJ0IDogdGhpcy5jaGFydC5wbG90QXJlYSk7XG5cdHZhciBmcmVlc3BhY2UgPSBjb250YWluZXIubGF5b3V0TWFuYWdlci5nZXRGcmVlU3BhY2UoKTtcblx0dmFyIGxlZnQgPSBmcmVlc3BhY2UueDE7XG5cdHZhciB0b3AgPSBmcmVlc3BhY2UueTE7XG5cdHZhciBhbmdsZSA9IDA7XG5cdHZhciBtYXhIZWlnaHQgPSAwO1xuXHR2YXIgY29udGFpbmVyTWFyZ2luID0gMjsgLy9NYXJnaW4gdG93YXJkcyB0aGUgY29udGFpbmVyXG5cdHZhciByaWdodE9mZnNldCA9IHRoaXMuY2hhcnQuX21lbnVCdXR0b24gJiYgdGhpcy5jaGFydC5leHBvcnRFbmFibGVkICYmIHRoaXMudmVydGljYWxBbGlnbiA9PT0gXCJ0b3BcIiA/IDIyIDogMDsgLy9TbyB0aGF0IFRpdGxlIGRvZXNuJ3Qgb3ZlcmxhcCBtZW51IGJ1dHRvbi5cblxuXHR2YXIgdGV4dEJsb2NrSG9yaXpvbnRhbEFsaWduO1xuXHR2YXIgcG9zaXRpb247XG5cblx0aWYgKHRoaXMudmVydGljYWxBbGlnbiA9PT0gXCJ0b3BcIiB8fCB0aGlzLnZlcnRpY2FsQWxpZ24gPT09IFwiYm90dG9tXCIpIHtcblx0XHRpZiAodGhpcy5tYXhXaWR0aCA9PT0gbnVsbClcblx0XHRcdHRoaXMubWF4V2lkdGggPSBmcmVlc3BhY2Uud2lkdGggLSBjb250YWluZXJNYXJnaW4gKiAyIC0gcmlnaHRPZmZzZXQgKiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwiY2VudGVyXCIgPyAyIDogMSk7XG5cblx0XHRtYXhIZWlnaHQgPSBmcmVlc3BhY2UuaGVpZ2h0ICogLjUgLSB0aGlzLm1hcmdpbiAtIGNvbnRhaW5lck1hcmdpbjtcblx0XHRhbmdsZSA9IDA7XG5cdH1cblx0ZWxzZSBpZiAodGhpcy52ZXJ0aWNhbEFsaWduID09PSBcImNlbnRlclwiKSB7XG5cblx0XHRpZiAodGhpcy5ob3Jpem9udGFsQWxpZ24gPT09IFwibGVmdFwiIHx8IHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcInJpZ2h0XCIpIHtcblx0XHRcdGlmICh0aGlzLm1heFdpZHRoID09PSBudWxsKVxuXHRcdFx0XHR0aGlzLm1heFdpZHRoID0gZnJlZXNwYWNlLmhlaWdodCAtIGNvbnRhaW5lck1hcmdpbiAqIDI7XG5cblx0XHRcdG1heEhlaWdodCA9IGZyZWVzcGFjZS53aWR0aCAqIC41IC0gdGhpcy5tYXJnaW4gLSBjb250YWluZXJNYXJnaW47XG5cdFx0fSBlbHNlIGlmICh0aGlzLmhvcml6b250YWxBbGlnbiA9PT0gXCJjZW50ZXJcIikge1xuXHRcdFx0aWYgKHRoaXMubWF4V2lkdGggPT09IG51bGwpXG5cdFx0XHRcdHRoaXMubWF4V2lkdGggPSBmcmVlc3BhY2Uud2lkdGggLSBjb250YWluZXJNYXJnaW4gKiAyO1xuXG5cdFx0XHRtYXhIZWlnaHQgPSBmcmVlc3BhY2UuaGVpZ2h0ICogLjUgLSBjb250YWluZXJNYXJnaW4gKiAyO1xuXHRcdH1cblx0fVxuXG5cdGlmICghdGhpcy53cmFwKVxuXHRcdG1heEhlaWdodCA9IE1hdGgubWluKG1heEhlaWdodCwgTWF0aC5tYXgodGhpcy5mb250U2l6ZSAqIDEuNSwgdGhpcy5mb250U2l6ZSArIHRoaXMucGFkZGluZyAqIDIuNSkpO1xuXHQvL2NvbnNvbGUubG9nKHRoaXMubWF4V2lkdGgpO1xuXG5cdHZhciB0ZXh0QmxvY2sgPSBuZXcgVGV4dEJsb2NrKHRoaXMuY3R4LCB7XG5cdFx0Zm9udFNpemU6IHRoaXMuZm9udFNpemUsIGZvbnRGYW1pbHk6IHRoaXMuZm9udEZhbWlseSwgZm9udENvbG9yOiB0aGlzLmZvbnRDb2xvcixcblx0XHRmb250U3R5bGU6IHRoaXMuZm9udFN0eWxlLCBmb250V2VpZ2h0OiB0aGlzLmZvbnRXZWlnaHQsXG5cdFx0aG9yaXpvbnRhbEFsaWduOiB0aGlzLmhvcml6b250YWxBbGlnbiwgdmVydGljYWxBbGlnbjogdGhpcy52ZXJ0aWNhbEFsaWduLFxuXHRcdGJvcmRlckNvbG9yOiB0aGlzLmJvcmRlckNvbG9yLCBib3JkZXJUaGlja25lc3M6IHRoaXMuYm9yZGVyVGhpY2tuZXNzLFxuXHRcdGJhY2tncm91bmRDb2xvcjogdGhpcy5iYWNrZ3JvdW5kQ29sb3IsXG5cdFx0bWF4V2lkdGg6IHRoaXMubWF4V2lkdGgsIG1heEhlaWdodDogbWF4SGVpZ2h0LFxuXHRcdGNvcm5lclJhZGl1czogdGhpcy5jb3JuZXJSYWRpdXMsXG5cdFx0dGV4dDogdGhpcy50ZXh0LFxuXHRcdHBhZGRpbmc6IHRoaXMucGFkZGluZyxcblx0XHR0ZXh0QmFzZWxpbmU6IFwidG9wXCJcblx0fSk7XG5cblx0dmFyIHRleHRCbG9ja1NpemUgPSB0ZXh0QmxvY2subWVhc3VyZVRleHQoKTtcblxuXHRpZiAodGhpcy52ZXJ0aWNhbEFsaWduID09PSBcInRvcFwiIHx8IHRoaXMudmVydGljYWxBbGlnbiA9PT0gXCJib3R0b21cIikge1xuXG5cdFx0aWYgKHRoaXMudmVydGljYWxBbGlnbiA9PT0gXCJ0b3BcIikge1xuXHRcdFx0dG9wID0gZnJlZXNwYWNlLnkxICsgY29udGFpbmVyTWFyZ2luO1xuXHRcdFx0cG9zaXRpb24gPSBcInRvcFwiO1xuXHRcdH1cblx0XHRlbHNlIGlmICh0aGlzLnZlcnRpY2FsQWxpZ24gPT09IFwiYm90dG9tXCIpIHtcblx0XHRcdHRvcCA9IGZyZWVzcGFjZS55MiAtIGNvbnRhaW5lck1hcmdpbiAtIHRleHRCbG9ja1NpemUuaGVpZ2h0O1xuXHRcdFx0cG9zaXRpb24gPSBcImJvdHRvbVwiO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmhvcml6b250YWxBbGlnbiA9PT0gXCJsZWZ0XCIpIHtcblx0XHRcdGxlZnQgPSBmcmVlc3BhY2UueDEgKyBjb250YWluZXJNYXJnaW47XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcImNlbnRlclwiKSB7XG5cdFx0XHRsZWZ0ID0gZnJlZXNwYWNlLngxICsgZnJlZXNwYWNlLndpZHRoIC8gMiAtIHRleHRCbG9ja1NpemUud2lkdGggLyAyO1xuXHRcdH1cblx0XHRlbHNlIGlmICh0aGlzLmhvcml6b250YWxBbGlnbiA9PT0gXCJyaWdodFwiKSB7XG5cdFx0XHRsZWZ0ID0gZnJlZXNwYWNlLngyIC0gY29udGFpbmVyTWFyZ2luIC0gdGV4dEJsb2NrU2l6ZS53aWR0aCAtIHJpZ2h0T2Zmc2V0O1xuXHRcdH1cblxuXHRcdHRleHRCbG9ja0hvcml6b250YWxBbGlnbiA9IHRoaXMuaG9yaXpvbnRhbEFsaWduO1xuXG5cdFx0dGhpcy53aWR0aCA9IHRleHRCbG9ja1NpemUud2lkdGg7XG5cdFx0dGhpcy5oZWlnaHQgPSB0ZXh0QmxvY2tTaXplLmhlaWdodDtcblx0fVxuXHRlbHNlIGlmICh0aGlzLnZlcnRpY2FsQWxpZ24gPT09IFwiY2VudGVyXCIpIHtcblxuXHRcdGlmICh0aGlzLmhvcml6b250YWxBbGlnbiA9PT0gXCJsZWZ0XCIpIHtcblxuXHRcdFx0bGVmdCA9IGZyZWVzcGFjZS54MSArIGNvbnRhaW5lck1hcmdpbjtcblx0XHRcdHRvcCA9IGZyZWVzcGFjZS55MiAtIGNvbnRhaW5lck1hcmdpbiAtICh0aGlzLm1heFdpZHRoIC8gMiAtIHRleHRCbG9ja1NpemUud2lkdGggLyAyKTtcblx0XHRcdGFuZ2xlID0gLTkwO1xuXG5cdFx0XHRwb3NpdGlvbiA9IFwibGVmdFwiO1xuXHRcdFx0dGhpcy53aWR0aCA9IHRleHRCbG9ja1NpemUuaGVpZ2h0O1xuXHRcdFx0dGhpcy5oZWlnaHQgPSB0ZXh0QmxvY2tTaXplLndpZHRoO1xuXHRcdH1cblx0XHRlbHNlIGlmICh0aGlzLmhvcml6b250YWxBbGlnbiA9PT0gXCJyaWdodFwiKSB7XG5cdFx0XHRsZWZ0ID0gZnJlZXNwYWNlLngyIC0gY29udGFpbmVyTWFyZ2luO1xuXHRcdFx0dG9wID0gZnJlZXNwYWNlLnkxICsgY29udGFpbmVyTWFyZ2luICsgKHRoaXMubWF4V2lkdGggLyAyIC0gdGV4dEJsb2NrU2l6ZS53aWR0aCAvIDIpO1xuXHRcdFx0YW5nbGUgPSA5MDtcblxuXHRcdFx0cG9zaXRpb24gPSBcInJpZ2h0XCI7XG5cdFx0XHR0aGlzLndpZHRoID0gdGV4dEJsb2NrU2l6ZS5oZWlnaHQ7XG5cdFx0XHR0aGlzLmhlaWdodCA9IHRleHRCbG9ja1NpemUud2lkdGg7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHRoaXMuaG9yaXpvbnRhbEFsaWduID09PSBcImNlbnRlclwiKSB7XG5cdFx0XHR0b3AgPSBjb250YWluZXIueTEgKyAoY29udGFpbmVyLmhlaWdodCAvIDIgLSB0ZXh0QmxvY2tTaXplLmhlaWdodCAvIDIpO1xuXHRcdFx0bGVmdCA9IGNvbnRhaW5lci54MSArIChjb250YWluZXIud2lkdGggLyAyIC0gdGV4dEJsb2NrU2l6ZS53aWR0aCAvIDIpO1xuXG5cdFx0XHRwb3NpdGlvbiA9IFwiY2VudGVyXCI7XG5cdFx0XHR0aGlzLndpZHRoID0gdGV4dEJsb2NrU2l6ZS53aWR0aDtcblx0XHRcdHRoaXMuaGVpZ2h0ID0gdGV4dEJsb2NrU2l6ZS5oZWlnaHQ7XG5cdFx0fVxuXG5cdFx0dGV4dEJsb2NrSG9yaXpvbnRhbEFsaWduID0gXCJjZW50ZXJcIjtcblx0fVxuXG5cdHRleHRCbG9jay54ID0gbGVmdDtcblx0dGV4dEJsb2NrLnkgPSB0b3A7XG5cdHRleHRCbG9jay5hbmdsZSA9IGFuZ2xlO1xuXHR0ZXh0QmxvY2suaG9yaXpvbnRhbEFsaWduID0gdGV4dEJsb2NrSG9yaXpvbnRhbEFsaWduO1xuXHR0ZXh0QmxvY2sucmVuZGVyKHRydWUpO1xuXG5cdGNvbnRhaW5lci5sYXlvdXRNYW5hZ2VyLnJlZ2lzdGVyU3BhY2UocG9zaXRpb24sIHtcblx0XHR3aWR0aDogdGhpcy53aWR0aCArIChwb3NpdGlvbiA9PT0gXCJsZWZ0XCIgfHwgcG9zaXRpb24gPT09IFwicmlnaHRcIiA/IHRoaXMubWFyZ2luICsgY29udGFpbmVyTWFyZ2luIDogMCksXG5cdFx0aGVpZ2h0OiB0aGlzLmhlaWdodCArIChwb3NpdGlvbiA9PT0gXCJ0b3BcIiB8fCBwb3NpdGlvbiA9PT0gXCJib3R0b21cIiA/IHRoaXMubWFyZ2luICsgY29udGFpbmVyTWFyZ2luIDogMClcblx0fSk7XG5cblx0dGhpcy5ib3VuZHMgPSB7XG5cdFx0eDE6IGxlZnQsIHkxOiB0b3AsIHgyOiBsZWZ0ICsgdGhpcy53aWR0aCwgeTI6IHRvcCArIHRoaXMuaGVpZ2h0XG5cdH07XG5cblx0dGhpcy5jdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGl0bGU7XG4iLCJcbmltcG9ydCBBbmltYXRpb25IZWxwZXIgZnJvbSAnLi4vaGVscGVycy9hbmltYXRvcic7XG5pbXBvcnQgUmVuZGVySGVscGVyIGZyb20gJy4uL2hlbHBlcnMvcmVuZGVyJztcbmltcG9ydCBDYW52YXNKU09iamVjdCBmcm9tICcuL2NhbnZhc2pzJztcbmltcG9ydCB7ZXh0ZW5kLCBpc0NhbnZhc1N1cHBvcnRlZCwgZ2V0T2JqZWN0SWQsIGRyYXdSZWN0LCBkcmF3U2VnbWVudH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmZ1bmN0aW9uIFRvb2xUaXAoY2hhcnQsIG9wdGlvbnMsIHRoZW1lKSB7XG5cbiAgVG9vbFRpcC5iYXNlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgXCJUb29sVGlwXCIsIG9wdGlvbnMsIHRoZW1lKTtcblxuICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XG4gIHRoaXMuY2FudmFzID0gY2hhcnQuY2FudmFzO1xuICB0aGlzLmN0eCA9IHRoaXMuY2hhcnQuY3R4O1xuICB0aGlzLmN1cnJlbnRTZXJpZXNJbmRleCA9IC0xO1xuICB0aGlzLmN1cnJlbnREYXRhUG9pbnRJbmRleCA9IC0xO1xuICB0aGlzLl90aW1lcklkID0gMDtcbiAgdGhpcy5fcHJldlggPSBOYU47XG4gIHRoaXMuX3ByZXZZID0gTmFOO1xuXG4gIHRoaXMuX2luaXRpYWxpemUoKTtcbn1cblxuZXh0ZW5kKFRvb2xUaXAsIENhbnZhc0pTT2JqZWN0KTtcblxuVG9vbFRpcC5wcm90b3R5cGUuX2luaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhbnZhc2pzLWNoYXJ0LXRvb2x0aXBcIik7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuYm94U2hhZG93ID0gXCIxcHggMXB4IDJweCAycHggcmdiYSgwLDAsMCwwLjEpXCI7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuekluZGV4ID0gXCIxMDAwXCI7XG4gICAgLy90aGlzLmNvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIC8vdGhpcy5jb250YWluZXIuc3R5bGUud2hpdGVTcGFjZSA9IFwibm8td3JhcFwiO1xuXG4gICAgdmFyIHRvb2xUaXBIdG1sID0gXCI8ZGl2IHN0eWxlPVxcXCIgd2lkdGg6IGF1dG87XCI7XG4gICAgdG9vbFRpcEh0bWwgKz0gXCJoZWlnaHQ6IGF1dG87XCI7XG4gICAgdG9vbFRpcEh0bWwgKz0gXCJtaW4td2lkdGg6IDUwcHg7XCI7XG4gICAgdG9vbFRpcEh0bWwgKz0gXCJsaW5lLWhlaWdodDogYXV0bztcIjtcbiAgICB0b29sVGlwSHRtbCArPSBcIm1hcmdpbjogMHB4IDBweCAwcHggMHB4O1wiO1xuICAgIHRvb2xUaXBIdG1sICs9IFwicGFkZGluZzogNXB4O1wiO1xuICAgIHRvb2xUaXBIdG1sICs9IFwiZm9udC1mYW1pbHk6IENhbGlicmksIEFyaWFsLCBHZW9yZ2lhLCBzZXJpZjtcIjtcbiAgICB0b29sVGlwSHRtbCArPSBcImZvbnQtd2VpZ2h0OiBub3JtYWw7XCI7XG4gICAgdG9vbFRpcEh0bWwgKz0gXCJmb250LXN0eWxlOiBcIiArIChpc0NhbnZhc1N1cHBvcnRlZCA/IFwiaXRhbGljO1wiIDogXCJub3JtYWw7XCIpO1xuICAgIHRvb2xUaXBIdG1sICs9IFwiZm9udC1zaXplOiAxNHB4O1wiO1xuICAgIHRvb2xUaXBIdG1sICs9IFwiY29sb3I6ICMwMDAwMDA7XCI7XG4gICAgdG9vbFRpcEh0bWwgKz0gXCJ0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjEpO1wiO1xuICAgIHRvb2xUaXBIdG1sICs9IFwidGV4dC1hbGlnbjogbGVmdDtcIjtcbiAgICB0b29sVGlwSHRtbCArPSBcImJvcmRlcjogMnB4IHNvbGlkIGdyYXk7XCI7XG5cbiAgICAvL09sZGVyIGJyb3dzZXJzIGxpa2UgSUU4LSBkb24ndCBzdXBwb3J0IGFscGhhIHZhbHVlc1xuICAgIHRvb2xUaXBIdG1sICs9IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC45KTtcIiA6IFwiYmFja2dyb3VuZDogcmdiKDI1NSwyNTUsMjU1KTtcIjtcblxuICAgIHRvb2xUaXBIdG1sICs9IFwidGV4dC1pbmRlbnQ6IDBweDtcIjtcbiAgICB0b29sVGlwSHRtbCArPSBcIndoaXRlLXNwYWNlOiBub3dyYXA7XCI7XG4gICAgLy90b29sVGlwSHRtbCArPSBcInBvaW50ZXItZXZlbnRzOm5vbmU7XCI7XG4gICAgdG9vbFRpcEh0bWwgKz0gXCJib3JkZXItcmFkaXVzOiA1cHg7XCI7XG5cbiAgICAvL0Rpc2FibGUgVGV4dCBTZWxlY3Rpb25cbiAgICB0b29sVGlwSHRtbCArPSBcIi1tb3otdXNlci1zZWxlY3Q6bm9uZTtcIjtcbiAgICB0b29sVGlwSHRtbCArPSBcIi1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcIjtcbiAgICB0b29sVGlwSHRtbCArPSBcIi13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XCI7XG4gICAgdG9vbFRpcEh0bWwgKz0gXCItbXMtdXNlci1zZWxlY3Q6IG5vbmU7XCI7XG4gICAgdG9vbFRpcEh0bWwgKz0gXCJ1c2VyLXNlbGVjdDogbm9uZTtcIjtcblxuICAgIC8vdG9vbFRpcEh0bWwgKz0gXCJvcGFjaXR5OiAwO1wiO1xuICAgIC8vdG9vbFRpcEh0bWwgKz0gXCJmaWx0ZXI6IHByb2dpZDogRFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoR3JhZGllbnRUeXBlID0gMCwgc3RhcnRDb2xvcnN0ciA9ICcjNGNmZmZmZmYnLCBlbmRDb2xvcnN0ciA9ICcjNGNmZmZmZmYnKTtcIjtcblxuICAgIGlmICghaXNDYW52YXNTdXBwb3J0ZWQpIHtcbiAgICAgIC8vdG9vbFRpcEh0bWwgKz0gXCItbXMtZmlsdGVyOidwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEoT3BhY2l0eT05MCknXCI7XG4gICAgICAvLy1tcy1maWx0ZXI6IFwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LlNoYWRvdyhTdHJlbmd0aD00LCBEaXJlY3Rpb249MTM1LCBDb2xvcj0nIzAwMDAwMCcpXCI7XG4gICAgICAvKiBGb3IgSUUgNS41IC0gNyAqL1xuICAgICAgdG9vbFRpcEh0bWwgKz0gXCJmaWx0ZXI6IGFscGhhKG9wYWNpdHkgPSA5MCk7XCI7XG4gICAgICB0b29sVGlwSHRtbCArPSBcImZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LlNoYWRvdyhTdHJlbmd0aD0zLCBEaXJlY3Rpb249MTM1LCBDb2xvcj0nIzY2NjY2NicpO1wiO1xuICAgIH1cblxuICAgIHRvb2xUaXBIdG1sICs9IFwifSBcXFwiPiBTYW1wbGUgVG9vbHRpcDwvZGl2PlwiO1xuXG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gdG9vbFRpcEh0bWw7XG4gICAgdGhpcy5jb250ZW50RGl2ID0gdGhpcy5jb250YWluZXIuZmlyc3RDaGlsZDtcblxuXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gdGhpcy5jb250ZW50RGl2LnN0eWxlLmJvcmRlclJhZGl1cztcbiAgICB0aGlzLmNoYXJ0Ll9jYW52YXNKU0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gIH1cbn1cblxuVG9vbFRpcC5wcm90b3R5cGUubW91c2VNb3ZlSGFuZGxlciA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cbiAgaWYgKCEodGhpcy5fbGFzdFVwZGF0ZWQgJiYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5fbGFzdFVwZGF0ZWQpIDwgNDApKSB7XG4gICAgdGhpcy5fbGFzdFVwZGF0ZWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB0aGlzLl91cGRhdGVUb29sVGlwKHgsIHkpO1xuICB9XG59XG5cblRvb2xUaXAucHJvdG90eXBlLl91cGRhdGVUb29sVGlwID0gZnVuY3Rpb24gKG1vdXNlWCwgbW91c2VZKSB7XG4gIC8vcmV0dXJuO1xuXG4gIGlmICh0aGlzLmNoYXJ0LmRpc2FibGVUb29sVGlwKSAvLyBEaXNhYmxlZCBkdXJpbmcgYW5pbWF0aW9uLCBldGNcbiAgICByZXR1cm47XG5cbiAgaWYgKHR5cGVvZiAobW91c2VYKSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgKG1vdXNlWSkgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAoaXNOYU4odGhpcy5fcHJldlgpIHx8IGlzTmFOKHRoaXMuX3ByZXZZKSlcbiAgICAgIHJldHVybjtcbiAgICBlbHNlIHtcbiAgICAgIG1vdXNlWCA9IHRoaXMuX3ByZXZYO1xuICAgICAgbW91c2VZID0gdGhpcy5fcHJldlk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX3ByZXZYID0gbW91c2VYO1xuICAgIHRoaXMuX3ByZXZZID0gbW91c2VZO1xuICB9XG5cblxuICB2YXIgZGF0YVBvaW50ID0gbnVsbDtcbiAgdmFyIGRhdGFTZXJpZXMgPSBudWxsO1xuICB2YXIgdG9vbFRpcENvbnRlbnQgPSBcIlwiO1xuICB2YXIgZW50cmllcyA9IFtdO1xuICB2YXIgdG9vbFRpcFJpZ2h0O1xuICB2YXIgdG9vbFRpcEJvdHRvbTtcbiAgdmFyIHggPSAwO1xuXG4gIGlmICh0aGlzLnNoYXJlZCAmJiB0aGlzLmVuYWJsZWQgJiYgdGhpcy5jaGFydC5wbG90SW5mby5heGlzUGxhY2VtZW50ICE9PSBcIm5vbmVcIikge1xuICAgIC8vICYmIHRoaXMuY2hhcnQucGxvdEluZm8uYXhpc1BsYWNlbWVudCAhPT0gXCJub25lXCJcbiAgICBpZiAodGhpcy5jaGFydC5wbG90SW5mby5heGlzUGxhY2VtZW50ID09PSBcInh5U3dhcHBlZFwiKSB7XG4gICAgICB4ID0gKHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNYXhpbXVtIC0gdGhpcy5jaGFydC5heGlzWC52aWV3cG9ydE1pbmltdW0pIC8gdGhpcy5jaGFydC5heGlzWC5saW5lQ29vcmRpbmF0ZXMuaGVpZ2h0ICogKCh0aGlzLmNoYXJ0LmF4aXNYLmxpbmVDb29yZGluYXRlcy55MiAtIG1vdXNlWSkpICsgdGhpcy5jaGFydC5heGlzWC52aWV3cG9ydE1pbmltdW07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgeCA9ICh0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSAvIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLndpZHRoICogKG1vdXNlWCAtIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLngxKSArIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtO1xuICAgIH1cblxuICAgIHZhciBuZWFyYnlFbnRyaWVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hhcnQuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5jaGFydC5kYXRhW2ldLmdldERhdGFQb2ludEF0WCh4LCB0cnVlKTtcblxuICAgICAgaWYgKGVudHJ5ICYmIGVudHJ5LmluZGV4ID49IDApIHtcbiAgICAgICAgZW50cnkuZGF0YVNlcmllcyA9IHRoaXMuY2hhcnQuZGF0YVtpXTtcblxuICAgICAgICBpZiAoZW50cnkuZGF0YVBvaW50LnkgIT09IG51bGwpXG4gICAgICAgICAgbmVhcmJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmVhcmJ5RW50cmllcy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm47XG5cbiAgICBuZWFyYnlFbnRyaWVzLnNvcnQoZnVuY3Rpb24gKGVudHJ5MSwgZW50cnkyKSB7XG4gICAgICByZXR1cm4gZW50cnkxLmRpc3RhbmNlIC0gZW50cnkyLmRpc3RhbmNlO1xuICAgIH0pO1xuXG4gICAgdmFyIGNsb3Nlc3QgPSBuZWFyYnlFbnRyaWVzWzBdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG5lYXJieUVudHJpZXMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgaWYgKG5lYXJieUVudHJpZXNbaV0uZGF0YVBvaW50LngudmFsdWVPZigpID09PSBjbG9zZXN0LmRhdGFQb2ludC54LnZhbHVlT2YoKSlcbiAgICAgICAgZW50cmllcy5wdXNoKG5lYXJieUVudHJpZXNbaV0pO1xuICAgIH1cblxuICAgIG5lYXJieUVudHJpZXMgPSBudWxsO1xuXG4gIH0gZWxzZSB7XG5cbiAgICB2YXIgZGF0YVBvaW50SW5mbyA9IHRoaXMuY2hhcnQuZ2V0RGF0YVBvaW50QXRYWShtb3VzZVgsIG1vdXNlWSwgdHJ1ZSk7XG4gICAgLy9kYXRhUG9pbnRJbmZvID0gbnVsbDtcblxuICAgIGlmIChkYXRhUG9pbnRJbmZvKSB7XG4gICAgICB0aGlzLmN1cnJlbnREYXRhUG9pbnRJbmRleCA9IGRhdGFQb2ludEluZm8uZGF0YVBvaW50SW5kZXg7XG4gICAgICB0aGlzLmN1cnJlbnRTZXJpZXNJbmRleCA9IGRhdGFQb2ludEluZm8uZGF0YVNlcmllcy5pbmRleDtcbiAgICB9IGVsc2UgaWYgKGlzQ2FudmFzU3VwcG9ydGVkKSB7XG5cbiAgICAgIHZhciBpZCA9IGdldE9iamVjdElkKG1vdXNlWCwgbW91c2VZLCB0aGlzLmNoYXJ0Ll9ldmVudE1hbmFnZXIuZ2hvc3RDdHgpO1xuICAgICAgaWYgKGlkID4gMCAmJiB0eXBlb2YgdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtpZF0gIT09IFwidW5kZWZpbmVkXCIpIHsvL0RhdGFQb2ludC9EYXRhU2VyaWVzIGV2ZW50XG4gICAgICAgIHZhciBldmVudE9iamVjdCA9IHRoaXMuY2hhcnQuX2V2ZW50TWFuYWdlci5vYmplY3RNYXBbaWRdO1xuXG4gICAgICAgIGlmIChldmVudE9iamVjdC5vYmplY3RUeXBlID09PSBcImxlZ2VuZEl0ZW1cIilcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy9pZiAodGhpcy5jdXJyZW50U2VyaWVzSW5kZXggPT09IGV2ZW50T2JqZWN0LmRhdGFTZXJpZXNJbmRleCAmJiB0aGlzLmN1cnJlbnREYXRhUG9pbnRJbmRleCA9PT0gZXZlbnRPYmplY3QuZGF0YVBvaW50SW5kZXgpXG4gICAgICAgIC8vICByZXR1cm47XG4gICAgICAgIC8vZWxzZSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNlcmllc0luZGV4ID0gZXZlbnRPYmplY3QuZGF0YVNlcmllc0luZGV4O1xuICAgICAgICB0aGlzLmN1cnJlbnREYXRhUG9pbnRJbmRleCA9IGV2ZW50T2JqZWN0LmRhdGFQb2ludEluZGV4ID49IDAgPyBldmVudE9iamVjdC5kYXRhUG9pbnRJbmRleCA6IC0xO1xuICAgICAgICAvL31cblxuICAgICAgICAvL3dpbmRvdy5jb25zb2xlLmxvZyhcImlkOiBcIiArIGlkICsgXCI7IGhleDogXCIgKyBpbnRUb0hleENvbG9yU3RyaW5nKGlkKSk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgdGhpcy5jdXJyZW50RGF0YVBvaW50SW5kZXggPSAtMTtcblxuICAgIH0gZWxzZVxuICAgICAgdGhpcy5jdXJyZW50RGF0YVBvaW50SW5kZXggPSAtMTtcblxuXG4gICAgaWYgKHRoaXMuY3VycmVudFNlcmllc0luZGV4ID49IDApIHtcblxuICAgICAgZGF0YVNlcmllcyA9IHRoaXMuY2hhcnQuZGF0YVt0aGlzLmN1cnJlbnRTZXJpZXNJbmRleF07XG5cbiAgICAgIHZhciBlbnRyeSA9IHtcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRhUG9pbnRJbmRleCA+PSAwKSB7XG4gICAgICAgIGRhdGFQb2ludCA9IGRhdGFTZXJpZXMuZGF0YVBvaW50c1t0aGlzLmN1cnJlbnREYXRhUG9pbnRJbmRleF07XG5cbiAgICAgICAgZW50cnkuZGF0YVNlcmllcyA9IGRhdGFTZXJpZXM7XG4gICAgICAgIGVudHJ5LmRhdGFQb2ludCA9IGRhdGFQb2ludDtcbiAgICAgICAgZW50cnkuaW5kZXggPSB0aGlzLmN1cnJlbnREYXRhUG9pbnRJbmRleDtcbiAgICAgICAgZW50cnkuZGlzdGFuY2UgPSBNYXRoLmFicyhkYXRhUG9pbnQueCAtIHgpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmVuYWJsZWQgJiYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBMaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJhcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBBcmVhXCJcbiAgICAgICAgICB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3BsaW5lQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQXJlYTEwMFwiXG4gICAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZVNwbGluZUFyZWFcIlxuICAgICAgICAgIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJjYW5kbGVzdGlja1wiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJvaGxjXCIpKSB7XG5cbiAgICAgICAgLy92YXIgeCA9ICh0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSAvIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLndpZHRoICogKG1vdXNlWCAtIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLngxKSArIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtLnZhbHVlT2YoKTtcbiAgICAgICAgdmFyIHggPSBkYXRhU2VyaWVzLmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLm1pbmltdW0gKyAobW91c2VYIC0gZGF0YVNlcmllcy5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UpIC8gZGF0YVNlcmllcy5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQ7XG5cblxuICAgICAgICBlbnRyeSA9IGRhdGFTZXJpZXMuZ2V0RGF0YVBvaW50QXRYKHgsIHRydWUpO1xuICAgICAgICBlbnRyeS5kYXRhU2VyaWVzID0gZGF0YVNlcmllcztcbiAgICAgICAgdGhpcy5jdXJyZW50RGF0YVBvaW50SW5kZXggPSBlbnRyeS5pbmRleDtcbiAgICAgICAgZGF0YVBvaW50ID0gZW50cnkuZGF0YVBvaW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy90aGlzLmhpZGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZW50cnkuZGF0YVBvaW50LnkgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGVudHJ5LmRhdGFTZXJpZXMuYXhpc1kpIHtcbiAgICAgICAgICBpZiAoZW50cnkuZGF0YVBvaW50LnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHVuYm91bmRUb1ZpZXdwb3J0ID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW50cnkuZGF0YVBvaW50LnkubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgIGlmIChlbnRyeS5kYXRhUG9pbnQueVtpXSA8IGVudHJ5LmRhdGFTZXJpZXMuYXhpc1kudmlld3BvcnRNaW5pbXVtKVxuICAgICAgICAgICAgICAgIHVuYm91bmRUb1ZpZXdwb3J0LS07XG4gICAgICAgICAgICAgIGVsc2UgaWYgKGVudHJ5LmRhdGFQb2ludC55W2ldID4gZW50cnkuZGF0YVNlcmllcy5heGlzWS52aWV3cG9ydE1heGltdW0pXG4gICAgICAgICAgICAgICAgdW5ib3VuZFRvVmlld3BvcnQrKztcbiAgICAgICAgICAgIGlmICh1bmJvdW5kVG9WaWV3cG9ydCA8IGVudHJ5LmRhdGFQb2ludC55Lmxlbmd0aCAmJiB1bmJvdW5kVG9WaWV3cG9ydCA+IC1lbnRyeS5kYXRhUG9pbnQueS5sZW5ndGgpXG4gICAgICAgICAgICAgIGVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5kYXRhUG9pbnQueSA+PSBlbnRyeS5kYXRhU2VyaWVzLmF4aXNZLnZpZXdwb3J0TWluaW11bSAmJiBlbnRyeS5kYXRhUG9pbnQueSA8PSBlbnRyeS5kYXRhU2VyaWVzLmF4aXNZLnZpZXdwb3J0TWF4aW11bSlcbiAgICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZVxuICAgICAgICBlbnRyaWVzLnB1c2goZW50cnkpO1xuICAgIH1cblxuICAgIH1cbiAgfVxuXG5cbiAgaWYgKGVudHJpZXMubGVuZ3RoID4gMCkge1xuXG4gICAgdGhpcy5oaWdobGlnaHRPYmplY3RzKGVudHJpZXMpO1xuXG4gICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuXG4gICAgICB2YXIgdG9vbFRpcElubmVySHRtbCA9IFwiXCI7XG5cbiAgICAgIHRvb2xUaXBJbm5lckh0bWwgPSB0aGlzLmdldFRvb2xUaXBJbm5lckhUTUwoeyBlbnRyaWVzOiBlbnRyaWVzIH0pO1xuXG4gICAgICBpZiAodG9vbFRpcElubmVySHRtbCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmNvbnRlbnREaXYuaW5uZXJIVE1MID0gdG9vbFRpcElubmVySHRtbDtcblxuICAgICAgICB0aGlzLmNvbnRlbnREaXYuaW5uZXJIVE1MID0gdG9vbFRpcElubmVySHRtbDtcblxuICAgICAgICB2YXIgcHJldmlvdXNseUhpZGRlbiA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICBwcmV2aW91c2x5SGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmNvbnRlbnREaXYuc3R5bGUuYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZENvbG9yID8gdGhpcy5iYWNrZ3JvdW5kQ29sb3IgOiBpc0NhbnZhc1N1cHBvcnRlZCA/IFwicmdiYSgyNTUsMjU1LDI1NSwuOSlcIiA6IFwicmdiKDI1NSwyNTUsMjU1KVwiO1xuXG4gICAgICAgICAgdGhpcy5jb250ZW50RGl2LnN0eWxlLmJvcmRlclJpZ2h0Q29sb3IgPSB0aGlzLmNvbnRlbnREaXYuc3R5bGUuYm9yZGVyTGVmdENvbG9yID0gdGhpcy5jb250ZW50RGl2LnN0eWxlLmJvcmRlckNvbG9yID0gdGhpcy5ib3JkZXJDb2xvciA/IHRoaXMuYm9yZGVyQ29sb3IgOiBlbnRyaWVzWzBdLmRhdGFQb2ludC5jb2xvciA/IGVudHJpZXNbMF0uZGF0YVBvaW50LmNvbG9yIDogZW50cmllc1swXS5kYXRhU2VyaWVzLmNvbG9yID8gZW50cmllc1swXS5kYXRhU2VyaWVzLmNvbG9yIDogZW50cmllc1swXS5kYXRhU2VyaWVzLl9jb2xvclNldFtlbnRyaWVzWzBdLmluZGV4ICUgZW50cmllc1swXS5kYXRhU2VyaWVzLl9jb2xvclNldC5sZW5ndGhdO1xuXG4gICAgICAgICAgdGhpcy5jb250ZW50RGl2LnN0eWxlLmJvcmRlcldpZHRoID0gKHRoaXMuYm9yZGVyVGhpY2tuZXNzIHx8IHRoaXMuYm9yZGVyVGhpY2tuZXNzID09PSAwKSA/IHRoaXMuYm9yZGVyVGhpY2tuZXNzICsgXCJweFwiIDogMiArIFwicHhcIjtcblxuICAgICAgICAgIHRoaXMuY29udGVudERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAodGhpcy5jb3JuZXJSYWRpdXMgfHwgdGhpcy5jb3JuZXJSYWRpdXMgPT09IDApID8gdGhpcy5jb3JuZXJSYWRpdXMgKyBcInB4XCIgOiA1ICsgXCJweFwiO1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9IHRoaXMuY29udGVudERpdi5zdHlsZS5ib3JkZXJSYWRpdXM7XG5cblxuICAgICAgICAgIHRoaXMuY29udGVudERpdi5zdHlsZS5mb250U2l6ZSA9ICh0aGlzLmZvbnRTaXplIHx8IHRoaXMuZm9udFNpemUgPT09IDApID8gdGhpcy5mb250U2l6ZSArIFwicHhcIiA6IDE0ICsgXCJweFwiO1xuICAgICAgICAgIHRoaXMuY29udGVudERpdi5zdHlsZS5jb2xvciA9IHRoaXMuZm9udENvbG9yID8gdGhpcy5mb250Q29sb3IgOiBcIiMwMDAwMDBcIjtcbiAgICAgICAgICB0aGlzLmNvbnRlbnREaXYuc3R5bGUuZm9udEZhbWlseSA9IHRoaXMuZm9udEZhbWlseSA/IHRoaXMuZm9udEZhbWlseSA6IFwiQ2FsaWJyaSwgQXJpYWwsIEdlb3JnaWEsIHNlcmlmO1wiO1xuICAgICAgICAgIHRoaXMuY29udGVudERpdi5zdHlsZS5mb250V2VpZ2h0ID0gdGhpcy5mb250V2VpZ2h0ID8gdGhpcy5mb250V2VpZ2h0IDogXCJub3JtYWxcIjtcbiAgICAgICAgICB0aGlzLmNvbnRlbnREaXYuc3R5bGUuZm9udFN0eWxlID0gdGhpcy5mb250U3R5bGUgPyB0aGlzLmZvbnRTdHlsZSA6IGlzQ2FudmFzU3VwcG9ydGVkID8gXCJpdGFsaWNcIiA6IFwibm9ybWFsXCI7XG5cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvb2xUaXBMZWZ0O1xuXG4gICAgICAgIGlmIChlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJwaWVcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJkb3VnaG51dFwiIHx8IGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcImZ1bm5lbFwiIHx8IGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcImJhclwiIHx8IGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlQmFyXCIgfHwgZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEJhclwiIHx8IGVudHJpZXNbMF0uZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRCYXIxMDBcIikge1xuICAgICAgICAgIHRvb2xUaXBMZWZ0ID0gbW91c2VYIC0gMTAgLSB0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL3Rvb2xUaXBMZWZ0ID0gKCgodGhpcy5jaGFydC5heGlzWC5saW5lQ29vcmRpbmF0ZXMud2lkdGggLyBNYXRoLmFicyh0aGlzLmNoYXJ0LmF4aXNYLnZpZXdwb3J0TWF4aW11bSAtIHRoaXMuY2hhcnQuYXhpc1gudmlld3BvcnRNaW5pbXVtKSkgKiBNYXRoLmFicyhlbnRyaWVzWzBdLmRhdGFQb2ludC54IC0gdGhpcy5jaGFydC5heGlzWC52aWV3cG9ydE1pbmltdW0pKSArIHRoaXMuY2hhcnQuYXhpc1gubGluZUNvb3JkaW5hdGVzLngxICsgLjUpIC0gdGhpcy5jb250YWluZXIuY2xpZW50V2lkdGggPDwgMDtcbiAgICAgICAgICB0b29sVGlwTGVmdCA9IGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGVudHJpZXNbMF0uZGF0YVBvaW50LnggLSBlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1guY29udmVyc2lvblBhcmFtZXRlcnMubWluaW11bSkgLSB0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aCA8PCAwO1xuICAgICAgICAgIHRvb2xUaXBMZWZ0IC09IDEwO1xuICAgICAgICB9XG5cblxuICAgICAgICBpZiAodG9vbFRpcExlZnQgPCAwKSB7XG4gICAgICAgICAgdG9vbFRpcExlZnQgKz0gdGhpcy5jb250YWluZXIuY2xpZW50V2lkdGggKyAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b29sVGlwTGVmdCArIHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoID4gdGhpcy5jaGFydC5fY29udGFpbmVyLmNsaWVudFdpZHRoKVxuICAgICAgICAgIHRvb2xUaXBMZWZ0ID0gTWF0aC5tYXgoMCwgdGhpcy5jaGFydC5fY29udGFpbmVyLmNsaWVudFdpZHRoIC0gdGhpcy5jb250YWluZXIuY2xpZW50V2lkdGgpO1xuXG4gICAgICAgIHRvb2xUaXBMZWZ0ICs9IFwicHhcIjtcblxuICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPT09IDEgJiYgIXRoaXMuc2hhcmVkICYmIChlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJsaW5lXCIgfHwgZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwic3RlcExpbmVcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJhcmVhXCIgfHwgZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwic3RlcEFyZWFcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVBcmVhXCIgfHwgZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEFyZWFcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQXJlYTEwMFwiKSkge1xuICAgICAgICAgIC8vdG9vbFRpcEJvdHRvbSA9IChlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1kubGluZUNvb3JkaW5hdGVzLnkyIC0gZW50cmllc1swXS5kYXRhU2VyaWVzLmF4aXNZLmxpbmVDb29yZGluYXRlcy5oZWlnaHQgLyBNYXRoLmFicyhlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1kubWF4aW11bSAtIGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWS52aWV3cG9ydE1pbmltdW0pICogTWF0aC5hYnMoZW50cmllc1swXS5kYXRhUG9pbnQueSAtIGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWS52aWV3cG9ydE1pbmltdW0pICsgLjUpIDw8IDA7XG4gICAgICAgICAgdG9vbFRpcEJvdHRvbSA9IGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWS5jb252ZXJzaW9uUGFyYW1ldGVycy5yZWZlcmVuY2UgKyBlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1kuY29udmVyc2lvblBhcmFtZXRlcnMucGl4ZWxQZXJVbml0ICogKGVudHJpZXNbMF0uZGF0YVBvaW50LnkgLSBlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1kudmlld3BvcnRNaW5pbXVtKSArIC41IDw8IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwiYmFyXCIgfHwgZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VCYXJcIiB8fCBlbnRyaWVzWzBdLmRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQmFyXCIgfHwgZW50cmllc1swXS5kYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEJhcjEwMFwiKSB7XG4gICAgICAgICAgLy90b29sVGlwQm90dG9tID0gKGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWC5saW5lQ29vcmRpbmF0ZXMueTIgLSBlbnRyaWVzWzBdLmRhdGFTZXJpZXMuYXhpc1gubGluZUNvb3JkaW5hdGVzLmhlaWdodCAvIE1hdGguYWJzKGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWC5tYXhpbXVtIC0gZW50cmllc1swXS5kYXRhU2VyaWVzLmF4aXNYLnZpZXdwb3J0TWluaW11bSkgKiBNYXRoLmFicyhlbnRyaWVzWzBdLmRhdGFQb2ludC54IC0gZW50cmllc1swXS5kYXRhU2VyaWVzLmF4aXNYLnZpZXdwb3J0TWluaW11bSkgKyAuNSkgPDwgMDtcbiAgICAgICAgICB0b29sVGlwQm90dG9tID0gZW50cmllc1swXS5kYXRhU2VyaWVzLmF4aXNYLmNvbnZlcnNpb25QYXJhbWV0ZXJzLnJlZmVyZW5jZSArIGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWC5jb252ZXJzaW9uUGFyYW1ldGVycy5waXhlbFBlclVuaXQgKiAoZW50cmllc1swXS5kYXRhUG9pbnQueCAtIGVudHJpZXNbMF0uZGF0YVNlcmllcy5heGlzWC52aWV3cG9ydE1pbmltdW0pICsgLjUgPDwgMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0b29sVGlwQm90dG9tID0gbW91c2VZO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9vbFRpcEJvdHRvbSA9ICgtdG9vbFRpcEJvdHRvbSArIDEwKTtcblxuICAgICAgICBpZiAodG9vbFRpcEJvdHRvbSArIHRoaXMuY29udGFpbmVyLmNsaWVudEhlaWdodCArIDUgPiAwKSB7XG4gICAgICAgICAgdG9vbFRpcEJvdHRvbSAtPSB0b29sVGlwQm90dG9tICsgdGhpcy5jb250YWluZXIuY2xpZW50SGVpZ2h0ICsgNSAtIDBcbiAgICAgICAgfVxuXG4gICAgICAgIHRvb2xUaXBCb3R0b20gKz0gXCJweFwiO1xuXG4gICAgICAgIC8vdGhpcy5jb250YWluZXIuc3R5bGUucmlnaHQgPSB0b29sVGlwUmlnaHQ7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSB0b29sVGlwTGVmdDtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuYm90dG9tID0gdG9vbFRpcEJvdHRvbTtcblxuICAgICAgICBpZiAoIXRoaXMuYW5pbWF0aW9uRW5hYmxlZCB8fCBwcmV2aW91c2x5SGlkZGVuKSB7XG4gICAgICAgICAgdGhpcy5kaXNhYmxlQW5pbWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRoaXMuZW5hYmxlQW5pbWF0aW9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhpZGUoZmFsc2UpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy9pZiAoaXNEZWJ1Z01vZGUpXG4gICAgLy8gIGNvbnNvbGUubG9nKFwic2VhcmNoWDogXCIgKyB4ICsgXCIgeDogXCIgKyBzZWFyY2hSZXN1bHQuZGF0YVBvaW50LnggKyBcIjsgeTogXCIgKyBzZWFyY2hSZXN1bHQuZGF0YVBvaW50LnkgKyBcIjsgZGlzdGFuY2U6IFwiICsgc2VhcmNoUmVzdWx0LmRpc3RhbmNlICsgXCI7IHN0ZXBzOiBcIiArIHN0ZXBzKTtcbiAgfVxufVxuXG5cblRvb2xUaXAucHJvdG90eXBlLmhpZ2hsaWdodE9iamVjdHMgPSBmdW5jdGlvbiAoZW50cmllcykge1xuICAvL2lmICghdGhpcy5lbmFibGVkKVxuICAvL1x0cmV0dXJuO1xuXG4gIC8vdGhpcy5jaGFydC5vdmVybGFpZENhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jaGFydC5vdmVybGFpZENhbnZhcy53aWR0aCwgdGhpcy5jaGFydC5vdmVybGFpZENhbnZhcy5oZWlnaHQpO1xuICB2YXIgb3ZlcmxhaWRDYW52YXNDdHggPSB0aGlzLmNoYXJ0Lm92ZXJsYWlkQ2FudmFzQ3R4O1xuICB0aGlzLmNoYXJ0LnJlc2V0T3ZlcmxheWVkQ2FudmFzKCk7XG5cbiAgb3ZlcmxhaWRDYW52YXNDdHguY2xlYXJSZWN0KDAsMCx0aGlzLmNoYXJ0LndpZHRoLCB0aGlzLmNoYXJ0LmhlaWdodCk7XG4gIG92ZXJsYWlkQ2FudmFzQ3R4LnNhdmUoKTtcblxuXG4gIHZhciBwbG90QXJlYSA9IHRoaXMuY2hhcnQucGxvdEFyZWE7XG4gIHZhciBvZmZzZXQgPSAwO1xuXG4gIG92ZXJsYWlkQ2FudmFzQ3R4LnJlY3QocGxvdEFyZWEueDEsIHBsb3RBcmVhLnkxLCBwbG90QXJlYS54MiAtIHBsb3RBcmVhLngxLCBwbG90QXJlYS55MiAtIHBsb3RBcmVhLnkxKTtcbiAgb3ZlcmxhaWRDYW52YXNDdHguY2xpcCgpO1xuXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2ldO1xuXG4gICAgdmFyIGV2ZW50T2JqZWN0ID0gdGhpcy5jaGFydC5fZXZlbnRNYW5hZ2VyLm9iamVjdE1hcFtlbnRyeS5kYXRhU2VyaWVzLmRhdGFQb2ludElkc1tlbnRyeS5pbmRleF1dO1xuXG4gICAgaWYgKCFldmVudE9iamVjdCB8fCAhZXZlbnRPYmplY3Qub2JqZWN0VHlwZSB8fCBldmVudE9iamVjdC5vYmplY3RUeXBlICE9PSBcImRhdGFQb2ludFwiKVxuICAgICAgY29udGludWU7XG5cbiAgICB2YXIgZGF0YVNlcmllcyA9IHRoaXMuY2hhcnQuZGF0YVtldmVudE9iamVjdC5kYXRhU2VyaWVzSW5kZXhdO1xuICAgIHZhciBkYXRhUG9pbnQgPSBkYXRhU2VyaWVzLmRhdGFQb2ludHNbZXZlbnRPYmplY3QuZGF0YVBvaW50SW5kZXhdO1xuICAgIHZhciBpbmRleCA9IGV2ZW50T2JqZWN0LmRhdGFQb2ludEluZGV4O1xuXG4gICAgaWYgKGRhdGFQb2ludC5oaWdobGlnaHRFbmFibGVkICE9PSBmYWxzZSAmJiAoZGF0YVNlcmllcy5oaWdobGlnaHRFbmFibGVkID09PSB0cnVlIHx8IGRhdGFQb2ludC5oaWdobGlnaHRFbmFibGVkID09PSB0cnVlKSkge1xuXG4gICAgICBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcImxpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RlcExpbmVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3BsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNjYXR0ZXJcIlxuICAgICAgICB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwiYXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGVwQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzcGxpbmVBcmVhXCJcbiAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRBcmVhMTAwXCJcbiAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlQXJlYVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZVNwbGluZUFyZWFcIikge1xuICAgICAgICB2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaW5kZXgsIGV2ZW50T2JqZWN0LngxLCBldmVudE9iamVjdC55MSwgdGhpcy5jaGFydC5vdmVybGFpZENhbnZhc0N0eCk7XG4gICAgICAgIG1hcmtlclByb3BzLnNpemUgPSBNYXRoLm1heChtYXJrZXJQcm9wcy5zaXplICogMS41IDw8IDAsIDEwKTtcblxuICAgICAgICBtYXJrZXJQcm9wcy5ib3JkZXJDb2xvciA9IG1hcmtlclByb3BzLmJvcmRlckNvbG9yIHx8IFwiI0ZGRkZGRlwiO1xuICAgICAgICBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3MgPSBtYXJrZXJQcm9wcy5ib3JkZXJUaGlja25lc3MgfHwgTWF0aC5jZWlsKG1hcmtlclByb3BzLnNpemUgKiAuMSk7XG5cbiAgICAgICAgLy9vdmVybGFpZENhbnZhc0N0eC5nbG9iYWxBbHBoYSA9IC44O1xuICAgICAgICBSZW5kZXJIZWxwZXIuZHJhd01hcmtlcnMoW21hcmtlclByb3BzXSk7XG4gICAgICAgIC8vb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAuODtcblxuICAgICAgICBpZiAodHlwZW9mIChldmVudE9iamVjdC55MikgIT09IFwidW5kZWZpbmVkXCIpIHtcblxuICAgICAgICAgIHZhciBtYXJrZXJQcm9wcyA9IGRhdGFTZXJpZXMuZ2V0TWFya2VyUHJvcGVydGllcyhpbmRleCwgZXZlbnRPYmplY3QueDEsIGV2ZW50T2JqZWN0LnkyLCB0aGlzLmNoYXJ0Lm92ZXJsYWlkQ2FudmFzQ3R4KTtcbiAgICAgICAgICBtYXJrZXJQcm9wcy5zaXplID0gTWF0aC5tYXgobWFya2VyUHJvcHMuc2l6ZSAqIDEuNSA8PCAwLCAxMCk7XG5cbiAgICAgICAgICBtYXJrZXJQcm9wcy5ib3JkZXJDb2xvciA9IG1hcmtlclByb3BzLmJvcmRlckNvbG9yIHx8IFwiI0ZGRkZGRlwiO1xuICAgICAgICAgIG1hcmtlclByb3BzLmJvcmRlclRoaWNrbmVzcyA9IG1hcmtlclByb3BzLmJvcmRlclRoaWNrbmVzcyB8fCBNYXRoLmNlaWwobWFya2VyUHJvcHMuc2l6ZSAqIC4xKTtcblxuICAgICAgICAgIC8vb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAuODtcbiAgICAgICAgICBSZW5kZXJIZWxwZXIuZHJhd01hcmtlcnMoW21hcmtlclByb3BzXSk7XG4gICAgICAgICAgLy9vdmVybGFpZENhbnZhc0N0eC5nbG9iYWxBbHBoYSA9IC44O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJidWJibGVcIikge1xuICAgICAgICB2YXIgbWFya2VyUHJvcHMgPSBkYXRhU2VyaWVzLmdldE1hcmtlclByb3BlcnRpZXMoaW5kZXgsIGV2ZW50T2JqZWN0LngxLCBldmVudE9iamVjdC55MSwgdGhpcy5jaGFydC5vdmVybGFpZENhbnZhc0N0eCk7XG4gICAgICAgIG1hcmtlclByb3BzLnNpemUgPSBldmVudE9iamVjdC5zaXplO1xuICAgICAgICBtYXJrZXJQcm9wcy5jb2xvciA9IFwid2hpdGVcIjtcbiAgICAgICAgbWFya2VyUHJvcHMuYm9yZGVyQ29sb3IgPSBcIndoaXRlXCI7XG4gICAgICAgIC8vbWFya2VyUHJvcHMuYm9yZGVyVGhpY2tuZXNzID0gMjtcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAuMztcbiAgICAgICAgUmVuZGVySGVscGVyLmRyYXdNYXJrZXJzKFttYXJrZXJQcm9wc10pO1xuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICB9IGVsc2UgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJjb2x1bW5cIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZENvbHVtblwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQ29sdW1uMTAwXCJcbiAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcImJhclwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZUJhclwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQmFyXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRCYXIxMDBcIlxuICAgICAgICB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VDb2x1bW5cIikge1xuICAgICAgICBkcmF3UmVjdChvdmVybGFpZENhbnZhc0N0eCwgZXZlbnRPYmplY3QueDEsIGV2ZW50T2JqZWN0LnkxLCBldmVudE9iamVjdC54MiwgZXZlbnRPYmplY3QueTIsIFwid2hpdGVcIiwgMCwgbnVsbCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIC4zKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJwaWVcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwiZG91Z2hudXRcIikge1xuICAgICAgICBkcmF3U2VnbWVudChvdmVybGFpZENhbnZhc0N0eCwgZXZlbnRPYmplY3QuY2VudGVyLCBldmVudE9iamVjdC5yYWRpdXMsIFwid2hpdGVcIiwgZGF0YVNlcmllcy50eXBlLCBldmVudE9iamVjdC5zdGFydEFuZ2xlLCBldmVudE9iamVjdC5lbmRBbmdsZSwgLjMsIGV2ZW50T2JqZWN0LnBlcmNlbnRJbm5lclJhZGl1cyk7XG4gICAgICB9IGVsc2UgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJjYW5kbGVzdGlja1wiKSB7XG5cbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5zdHJva2VTdHlsZSA9IGV2ZW50T2JqZWN0LmNvbG9yO1xuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5saW5lV2lkdGggPSBldmVudE9iamVjdC5ib3JkZXJUaGlja25lc3MgKiAyO1xuICAgICAgICBvZmZzZXQgPSAob3ZlcmxhaWRDYW52YXNDdHgubGluZVdpZHRoKSAlIDIgPT09IDAgPyAwIDogLjU7XG5cbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4Lm1vdmVUbyhldmVudE9iamVjdC54MyAtIG9mZnNldCwgZXZlbnRPYmplY3QueTIpO1xuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5saW5lVG8oZXZlbnRPYmplY3QueDMgLSBvZmZzZXQsIE1hdGgubWluKGV2ZW50T2JqZWN0LnkxLCBldmVudE9iamVjdC55NCkpO1xuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5zdHJva2UoKTtcblxuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHgubW92ZVRvKGV2ZW50T2JqZWN0LngzIC0gb2Zmc2V0LCBNYXRoLm1heChldmVudE9iamVjdC55MSwgZXZlbnRPYmplY3QueTQpKTtcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHgubGluZVRvKGV2ZW50T2JqZWN0LngzIC0gb2Zmc2V0LCBldmVudE9iamVjdC55Myk7XG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIGRyYXdSZWN0KG92ZXJsYWlkQ2FudmFzQ3R4LCBldmVudE9iamVjdC54MSwgTWF0aC5taW4oZXZlbnRPYmplY3QueTEsIGV2ZW50T2JqZWN0Lnk0KSwgZXZlbnRPYmplY3QueDIsIE1hdGgubWF4KGV2ZW50T2JqZWN0LnkxLCBldmVudE9iamVjdC55NCksIFwidHJhbnNwYXJlbnRcIiwgZXZlbnRPYmplY3QuYm9yZGVyVGhpY2tuZXNzICogMiwgZXZlbnRPYmplY3QuY29sb3IsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG4gICAgICB9IGVsc2UgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJvaGxjXCIpIHtcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LnN0cm9rZVN0eWxlID0gZXZlbnRPYmplY3QuY29sb3I7XG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LmxpbmVXaWR0aCA9IGV2ZW50T2JqZWN0LmJvcmRlclRoaWNrbmVzcyAqIDI7XG5cbiAgICAgICAgb2Zmc2V0ID0gKG92ZXJsYWlkQ2FudmFzQ3R4LmxpbmVXaWR0aCkgJSAyID09PSAwID8gMCA6IC41O1xuXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5tb3ZlVG8oZXZlbnRPYmplY3QueDMgLSBvZmZzZXQsIGV2ZW50T2JqZWN0LnkyKTtcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHgubGluZVRvKGV2ZW50T2JqZWN0LngzIC0gb2Zmc2V0LCBldmVudE9iamVjdC55Myk7XG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5tb3ZlVG8oZXZlbnRPYmplY3QueDMsIGV2ZW50T2JqZWN0LnkxKTtcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHgubGluZVRvKGV2ZW50T2JqZWN0LngxLCBldmVudE9iamVjdC55MSk7XG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBvdmVybGFpZENhbnZhc0N0eC5tb3ZlVG8oZXZlbnRPYmplY3QueDMsIGV2ZW50T2JqZWN0Lnk0KTtcbiAgICAgICAgb3ZlcmxhaWRDYW52YXNDdHgubGluZVRvKGV2ZW50T2JqZWN0LngyLCBldmVudE9iamVjdC55NCk7XG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIG92ZXJsYWlkQ2FudmFzQ3R4Lmdsb2JhbEFscGhhID0gMTtcblxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG92ZXJsYWlkQ2FudmFzQ3R4LnJlc3RvcmUoKTtcbiAgb3ZlcmxhaWRDYW52YXNDdHguZ2xvYmFsQWxwaGEgPSAxO1xuICBvdmVybGFpZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcblxuICByZXR1cm47XG59XG5cblRvb2xUaXAucHJvdG90eXBlLmdldFRvb2xUaXBJbm5lckhUTUwgPSBmdW5jdGlvbiAoZSkge1xuICB2YXIgZW50cmllcyA9IGUuZW50cmllcztcbiAgdmFyIHRvb2xUaXBJbm5lckh0bWwgPSBudWxsO1xuICB2YXIgZGF0YVNlcmllcyA9IG51bGw7XG4gIHZhciBkYXRhUG9pbnQgPSBudWxsO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgY29sb3IgPSBudWxsO1xuICB2YXIgdG9vbFRpcENvbnRlbnQgPSBcIlwiO1xuXG4gIHZhciBpc1Rvb2xUaXBEZWZpbmVkSW5EYXRhID0gdHJ1ZTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGVudHJpZXNbaV0uZGF0YVNlcmllcy50b29sVGlwQ29udGVudCB8fCBlbnRyaWVzW2ldLmRhdGFQb2ludC50b29sVGlwQ29udGVudCkge1xuICAgICAgaXNUb29sVGlwRGVmaW5lZEluRGF0YSA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzVG9vbFRpcERlZmluZWRJbkRhdGEgJiYgKCh0aGlzLmNvbnRlbnQgJiYgdHlwZW9mICh0aGlzLmNvbnRlbnQpID09PSBcImZ1bmN0aW9uXCIpIHx8IHRoaXMuY29udGVudEZvcm1hdHRlcikpIHtcblxuICAgIHZhciBwYXJhbSA9IHtcbiAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LCB0b29sVGlwOiB0aGlzLl9vcHRpb25zLCBlbnRyaWVzOiBlbnRyaWVzXG4gICAgfTtcbiAgICB0b29sVGlwSW5uZXJIdG1sID0gdGhpcy5jb250ZW50Rm9ybWF0dGVyID8gdGhpcy5jb250ZW50Rm9ybWF0dGVyKHBhcmFtKSA6IHRoaXMuY29udGVudChwYXJhbSk7XG5cbiAgfSBlbHNlIHtcblxuICAgIGlmICh0aGlzLnNoYXJlZCAmJiB0aGlzLmNoYXJ0LnBsb3RJbmZvLmF4aXNQbGFjZW1lbnQgIT09IFwibm9uZVwiKSB7XG5cbiAgICAgIHZhciB0b29sVGlwSW5uZXJIdG1sUHJlZml4ID0gXCJcIjtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRhdGFTZXJpZXMgPSBlbnRyaWVzW2ldLmRhdGFTZXJpZXM7XG4gICAgICAgIGRhdGFQb2ludCA9IGVudHJpZXNbaV0uZGF0YVBvaW50O1xuICAgICAgICBpbmRleCA9IGVudHJpZXNbaV0uaW5kZXg7XG5cbiAgICAgICAgdG9vbFRpcENvbnRlbnQgPSBcIlwiO1xuXG4gICAgICAgIGlmIChpID09PSAwICYmIGlzVG9vbFRpcERlZmluZWRJbkRhdGEgJiYgIXRoaXMuY29udGVudCkge1xuICAgICAgICAgIHRvb2xUaXBJbm5lckh0bWxQcmVmaXggKz0gdHlwZW9mICh0aGlzLmNoYXJ0LmF4aXNYLmxhYmVsc1tkYXRhUG9pbnQueF0pICE9PSBcInVuZGVmaW5lZFwiID8gdGhpcy5jaGFydC5heGlzWC5sYWJlbHNbZGF0YVBvaW50LnhdIDogXCJ7eH1cIjtcbiAgICAgICAgICB0b29sVGlwSW5uZXJIdG1sUHJlZml4ICs9IFwiPC9icj5cIjtcbiAgICAgICAgICB0b29sVGlwSW5uZXJIdG1sUHJlZml4ID0gdGhpcy5jaGFydC5yZXBsYWNlS2V5d29yZHNXaXRoVmFsdWUodG9vbFRpcElubmVySHRtbFByZWZpeCwgZGF0YVBvaW50LCBkYXRhU2VyaWVzLCBpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL0FsbG93cyBkaXNhYmxpbmcgb2YgdG9vbFRpcCBmb3IgaW5kaXZpZHVhbCBkYXRhUG9pbnRzL2RhdGFTZXJpZXNcbiAgICAgICAgaWYgKGRhdGFQb2ludC50b29sVGlwQ29udGVudCA9PT0gbnVsbCB8fCAodHlwZW9mIChkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQpID09PSBcInVuZGVmaW5lZFwiICYmIGRhdGFTZXJpZXMuX29wdGlvbnMudG9vbFRpcENvbnRlbnQgPT09IG51bGwpKVxuICAgICAgICAgIGNvbnRpbnVlO1xuXG5cbiAgICAgICAgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBMaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJhcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZUFyZWFcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwiY29sdW1uXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcImJhclwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzY2F0dGVyXCJcbiAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRDb2x1bW5cIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZENvbHVtbjEwMFwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQmFyXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRCYXIxMDBcIlxuICAgICAgICB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEFyZWFcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEFyZWExMDBcIikge1xuICAgICAgICAgIHRvb2xUaXBDb250ZW50ICs9IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA/IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA6IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgPyBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50IDogdGhpcy5jb250ZW50ICYmIHR5cGVvZiAodGhpcy5jb250ZW50KSAhPT0gXCJmdW5jdGlvblwiID8gdGhpcy5jb250ZW50IDogXCI8c3BhbiBzdHlsZT0nXFxcIidjb2xvcjp7Y29sb3J9OydcXFwiJz57bmFtZX06PC9zcGFuPiZuYnNwOyZuYnNwO3t5fVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJidWJibGVcIikge1xuICAgICAgICAgIHRvb2xUaXBDb250ZW50ICs9IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA/IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA6IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgPyBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50IDogdGhpcy5jb250ZW50ICYmIHR5cGVvZiAodGhpcy5jb250ZW50KSAhPT0gXCJmdW5jdGlvblwiID8gdGhpcy5jb250ZW50IDogXCI8c3BhbiBzdHlsZT0nXFxcIidjb2xvcjp7Y29sb3J9OydcXFwiJz57bmFtZX06PC9zcGFuPiZuYnNwOyZuYnNwO3t5fSwgJm5ic3A7Jm5ic3A7e3p9XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcInBpZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJkb3VnaG51dFwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJmdW5uZWxcIikge1xuICAgICAgICAgIHRvb2xUaXBDb250ZW50ICs9IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA/IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA6IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgPyBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50IDogdGhpcy5jb250ZW50ICYmIHR5cGVvZiAodGhpcy5jb250ZW50KSAhPT0gXCJmdW5jdGlvblwiID8gdGhpcy5jb250ZW50IDogXCImbmJzcDsmbmJzcDt7eX1cIjtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VDb2x1bW5cIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VCYXJcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInJhbmdlU3BsaW5lQXJlYVwiKSB7XG4gICAgICAgICAgdG9vbFRpcENvbnRlbnQgKz0gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50ID8gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50IDogZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA/IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgOiB0aGlzLmNvbnRlbnQgJiYgdHlwZW9mICh0aGlzLmNvbnRlbnQpICE9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmNvbnRlbnQgOiBcIjxzcGFuIHN0eWxlPSdcXFwiJ2NvbG9yOntjb2xvcn07J1xcXCInPntuYW1lfTo8L3NwYW4+Jm5ic3A7Jm5ic3A7e3lbMF19LCZuYnNwO3t5WzFdfVwiO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJjYW5kbGVzdGlja1wiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJvaGxjXCIpIHtcbiAgICAgICAgICB0b29sVGlwQ29udGVudCArPSBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgPyBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgOiBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50ID8gZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA6IHRoaXMuY29udGVudCAmJiB0eXBlb2YgKHRoaXMuY29udGVudCkgIT09IFwiZnVuY3Rpb25cIiA/IHRoaXMuY29udGVudCA6IFwiPHNwYW4gc3R5bGU9J1xcXCInY29sb3I6e2NvbG9yfTsnXFxcIic+e25hbWV9Ojwvc3Bhbj5cIlxuICAgICAgICAgICAgICAgICAgKyBcIjxici8+T3BlbjogJm5ic3A7Jm5ic3A7e3lbMF19XCJcbiAgICAgICAgICAgICAgICAgICsgXCI8YnIvPkhpZ2g6ICZuYnNwOyZuYnNwOyZuYnNwO3t5WzFdfVwiXG4gICAgICAgICAgICAgICAgICArIFwiPGJyLz5Mb3c6Jm5ic3A7Jm5ic3A7Jm5ic3A7e3lbMl19XCJcbiAgICAgICAgICAgICAgICAgICsgXCI8YnIvPkNsb3NlOiAmbmJzcDsmbmJzcDt7eVszXX1cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b29sVGlwSW5uZXJIdG1sID09PSBudWxsKVxuICAgICAgICAgIHRvb2xUaXBJbm5lckh0bWwgPSBcIlwiO1xuXG5cbiAgICAgICAgaWYgKHRoaXMucmV2ZXJzZWQgPT09IHRydWUpIHtcblxuICAgICAgICAgIHRvb2xUaXBJbm5lckh0bWwgPSB0aGlzLmNoYXJ0LnJlcGxhY2VLZXl3b3Jkc1dpdGhWYWx1ZSh0b29sVGlwQ29udGVudCwgZGF0YVBvaW50LCBkYXRhU2VyaWVzLCBpbmRleCkgKyB0b29sVGlwSW5uZXJIdG1sO1xuXG4gICAgICAgICAgaWYgKGkgPCBlbnRyaWVzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICB0b29sVGlwSW5uZXJIdG1sID0gXCI8L2JyPlwiICsgdG9vbFRpcElubmVySHRtbDtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgdG9vbFRpcElubmVySHRtbCArPSB0aGlzLmNoYXJ0LnJlcGxhY2VLZXl3b3Jkc1dpdGhWYWx1ZSh0b29sVGlwQ29udGVudCwgZGF0YVBvaW50LCBkYXRhU2VyaWVzLCBpbmRleCk7XG5cbiAgICAgICAgICBpZiAoaSA8IGVudHJpZXMubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIHRvb2xUaXBJbm5lckh0bWwgKz0gXCI8L2JyPlwiO1xuXG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICBpZiAodG9vbFRpcElubmVySHRtbCAhPT0gbnVsbClcbiAgICAgICAgdG9vbFRpcElubmVySHRtbCA9IHRvb2xUaXBJbm5lckh0bWxQcmVmaXggKyB0b29sVGlwSW5uZXJIdG1sO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgZGF0YVNlcmllcyA9IGVudHJpZXNbMF0uZGF0YVNlcmllcztcbiAgICAgIGRhdGFQb2ludCA9IGVudHJpZXNbMF0uZGF0YVBvaW50O1xuICAgICAgaW5kZXggPSBlbnRyaWVzWzBdLmluZGV4O1xuXG4gICAgICAvL0FsbG93cyBkaXNhYmxpbmcgb2YgdG9vbFRpcCBmb3IgaW5kaXZpZHVhbCBkYXRhUG9pbnRzL2RhdGFTZXJpZXNcbiAgICAgIGlmIChkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgPT09IG51bGwgfHwgKHR5cGVvZiAoZGF0YVBvaW50LnRvb2xUaXBDb250ZW50KSA9PT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhU2VyaWVzLl9vcHRpb25zLnRvb2xUaXBDb250ZW50ID09PSBudWxsKSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG5cblxuICAgICAgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJsaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBMaW5lXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJhcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0ZXBBcmVhXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInNwbGluZUFyZWFcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwiY29sdW1uXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcImJhclwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzY2F0dGVyXCJcbiAgICAgICAgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRDb2x1bW5cIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZENvbHVtbjEwMFwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJzdGFja2VkQmFyXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcInN0YWNrZWRCYXIxMDBcIlxuICAgICAgICB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEFyZWFcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwic3RhY2tlZEFyZWExMDBcIikge1xuICAgICAgICB0b29sVGlwQ29udGVudCA9IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA/IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA6IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgPyBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50IDogdGhpcy5jb250ZW50ICYmIHR5cGVvZiAodGhpcy5jb250ZW50KSAhPT0gXCJmdW5jdGlvblwiID8gdGhpcy5jb250ZW50IDogXCI8c3BhbiBzdHlsZT0nXFxcIidjb2xvcjp7Y29sb3J9OydcXFwiJz5cIiArIChkYXRhUG9pbnQubGFiZWwgPyBcIntsYWJlbH1cIiA6IFwie3h9XCIpICsgXCIgOjwvc3Bhbj4mbmJzcDsmbmJzcDt7eX1cIjtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcImJ1YmJsZVwiKSB7XG4gICAgICAgIHRvb2xUaXBDb250ZW50ID0gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50ID8gZGF0YVBvaW50LnRvb2xUaXBDb250ZW50IDogZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA/IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgOiB0aGlzLmNvbnRlbnQgJiYgdHlwZW9mICh0aGlzLmNvbnRlbnQpICE9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmNvbnRlbnQgOiBcIjxzcGFuIHN0eWxlPSdcXFwiJ2NvbG9yOntjb2xvcn07J1xcXCInPlwiICsgKGRhdGFQb2ludC5sYWJlbCA/IFwie2xhYmVsfVwiIDogXCJ7eH1cIikgKyBcIjo8L3NwYW4+Jm5ic3A7Jm5ic3A7e3l9LCAmbmJzcDsmbmJzcDt7en1cIjtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcInBpZVwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJkb3VnaG51dFwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJmdW5uZWxcIikge1xuICAgICAgICB0b29sVGlwQ29udGVudCA9IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA/IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA6IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgPyBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50IDogdGhpcy5jb250ZW50ICYmIHR5cGVvZiAodGhpcy5jb250ZW50KSAhPT0gXCJmdW5jdGlvblwiID8gdGhpcy5jb250ZW50IDogKGRhdGFQb2ludC5uYW1lID8gXCJ7bmFtZX06Jm5ic3A7Jm5ic3A7XCIgOiBkYXRhUG9pbnQubGFiZWwgPyBcIntsYWJlbH06Jm5ic3A7Jm5ic3A7XCIgOiBcIlwiKSArIFwie3l9XCI7XG4gICAgICB9IGVsc2UgaWYgKGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZUNvbHVtblwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZUJhclwiIHx8IGRhdGFTZXJpZXMudHlwZSA9PT0gXCJyYW5nZUFyZWFcIiB8fCBkYXRhU2VyaWVzLnR5cGUgPT09IFwicmFuZ2VTcGxpbmVBcmVhXCIpIHtcbiAgICAgICAgdG9vbFRpcENvbnRlbnQgPSBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgPyBkYXRhUG9pbnQudG9vbFRpcENvbnRlbnQgOiBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50ID8gZGF0YVNlcmllcy50b29sVGlwQ29udGVudCA6IHRoaXMuY29udGVudCAmJiB0eXBlb2YgKHRoaXMuY29udGVudCkgIT09IFwiZnVuY3Rpb25cIiA/IHRoaXMuY29udGVudCA6IFwiPHNwYW4gc3R5bGU9J1xcXCInY29sb3I6e2NvbG9yfTsnXFxcIic+XCIgKyAoZGF0YVBvaW50LmxhYmVsID8gXCJ7bGFiZWx9XCIgOiBcInt4fVwiKSArIFwiIDo8L3NwYW4+Jm5ic3A7Jm5ic3A7e3lbMF19LCAmbmJzcDt7eVsxXX1cIjtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YVNlcmllcy50eXBlID09PSBcImNhbmRsZXN0aWNrXCIgfHwgZGF0YVNlcmllcy50eXBlID09PSBcIm9obGNcIikge1xuICAgICAgICB0b29sVGlwQ29udGVudCA9IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA/IGRhdGFQb2ludC50b29sVGlwQ29udGVudCA6IGRhdGFTZXJpZXMudG9vbFRpcENvbnRlbnQgPyBkYXRhU2VyaWVzLnRvb2xUaXBDb250ZW50IDogdGhpcy5jb250ZW50ICYmIHR5cGVvZiAodGhpcy5jb250ZW50KSAhPT0gXCJmdW5jdGlvblwiID8gdGhpcy5jb250ZW50IDogXCI8c3BhbiBzdHlsZT0nXFxcIidjb2xvcjp7Y29sb3J9OydcXFwiJz5cIiArIChkYXRhUG9pbnQubGFiZWwgPyBcIntsYWJlbH1cIiA6IFwie3h9XCIpICsgXCI8L3NwYW4+XCJcbiAgICAgICAgICArIFwiPGJyLz5PcGVuOiAmbmJzcDsmbmJzcDt7eVswXX1cIlxuICAgICAgICAgICsgXCI8YnIvPkhpZ2g6ICZuYnNwOyZuYnNwOyZuYnNwO3t5WzFdfVwiXG4gICAgICAgICAgKyBcIjxici8+TG93OiAmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDt7eVsyXX1cIlxuICAgICAgICAgICsgXCI8YnIvPkNsb3NlOiAmbmJzcDsmbmJzcDt7eVszXX1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRvb2xUaXBJbm5lckh0bWwgPT09IG51bGwpXG4gICAgICAgIHRvb2xUaXBJbm5lckh0bWwgPSBcIlwiO1xuXG4gICAgICB0b29sVGlwSW5uZXJIdG1sICs9IHRoaXMuY2hhcnQucmVwbGFjZUtleXdvcmRzV2l0aFZhbHVlKHRvb2xUaXBDb250ZW50LCBkYXRhUG9pbnQsIGRhdGFTZXJpZXMsIGluZGV4KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG9vbFRpcElubmVySHRtbDtcbn1cblxuVG9vbFRpcC5wcm90b3R5cGUuZW5hYmxlQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jb250YWluZXIuc3R5bGUuV2Via2l0VHJhbnNpdGlvbilcbiAgICByZXR1cm47XG5cbiAgdGhpcy5jb250YWluZXIuc3R5bGUuV2Via2l0VHJhbnNpdGlvbiA9IFwibGVmdCAuMnMgZWFzZS1vdXQsIGJvdHRvbSAuMnMgZWFzZS1vdXRcIjtcbiAgdGhpcy5jb250YWluZXIuc3R5bGUuTW96VHJhbnNpdGlvbiA9IFwibGVmdCAuMnMgZWFzZS1vdXQsIGJvdHRvbSAuMnMgZWFzZS1vdXRcIjtcbiAgdGhpcy5jb250YWluZXIuc3R5bGUuTXNUcmFuc2l0aW9uID0gXCJsZWZ0IC4ycyBlYXNlLW91dCwgYm90dG9tIC4ycyBlYXNlLW91dFwiO1xuICB0aGlzLmNvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gXCJsZWZ0IC4ycyBlYXNlLW91dCwgYm90dG9tIC4ycyBlYXNlLW91dFwiO1xufVxuXG5Ub29sVGlwLnByb3RvdHlwZS5kaXNhYmxlQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY29udGFpbmVyLnN0eWxlLldlYmtpdFRyYW5zaXRpb24pXG4gICAgcmV0dXJuO1xuXG4gIHRoaXMuY29udGFpbmVyLnN0eWxlLldlYmtpdFRyYW5zaXRpb24gPSBcIlwiO1xuICB0aGlzLmNvbnRhaW5lci5zdHlsZS5Nb3pUcmFuc2l0aW9uID0gXCJcIjtcbiAgdGhpcy5jb250YWluZXIuc3R5bGUuTXNUcmFuc2l0aW9uID0gXCJcIjtcbiAgdGhpcy5jb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9IFwiXCI7XG59XG5cblRvb2xUaXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAocmVzZXRPdmVybGF5ZWRDYW52YXMpIHtcbiAgaWYgKCF0aGlzLmVuYWJsZWQpXG4gICAgcmV0dXJuO1xuXG4gIHJlc2V0T3ZlcmxheWVkQ2FudmFzID0gdHlwZW9mIChyZXNldE92ZXJsYXllZENhbnZhcykgPT09IFwidW5kZWZpbmVkXCIgPyB0cnVlIDogcmVzZXRPdmVybGF5ZWRDYW52YXM7XG5cbiAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB0aGlzLmN1cnJlbnRTZXJpZXNJbmRleCA9IC0xO1xuICB0aGlzLl9wcmV2WCA9IE5hTjtcbiAgdGhpcy5fcHJldlkgPSBOYU47XG4gIC8vdGhpcy5jaGFydC5vdmVybGFpZENhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jaGFydC5vdmVybGFpZENhbnZhcy53aWR0aCwgdGhpcy5jaGFydC5vdmVybGFpZENhbnZhcy5oZWlnaHQpO1xuICBpZiAocmVzZXRPdmVybGF5ZWRDYW52YXMpXG4gICAgdGhpcy5jaGFydC5yZXNldE92ZXJsYXllZENhbnZhcygpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBUb29sVGlwO1xuIiwiXG5mdW5jdGlvbiB5U2NhbGVBbmltYXRpb24oZnJhY3Rpb25Db21wbGV0ZSwgYW5pbWF0aW9uSW5mbykge1xuXG4gIGlmIChmcmFjdGlvbkNvbXBsZXRlID09PSAwKSByZXR1cm47XG5cbiAgY29uc3QgY3R4ID0gYW5pbWF0aW9uSW5mby5kZXN0O1xuICBjb25zdCBzb3VyY2VDYW52YXMgPSBhbmltYXRpb25JbmZvLnNvdXJjZS5jYW52YXM7XG4gIGNvbnN0IGJhc2UgPSBhbmltYXRpb25JbmZvLmFuaW1hdGlvbkJhc2U7XG5cbiAgY29uc3Qgb2Zmc2V0WSA9IChiYXNlIC0gYmFzZSAqIGZyYWN0aW9uQ29tcGxldGUpO1xuXG4gIGN0eC5kcmF3SW1hZ2Uoc291cmNlQ2FudmFzLCAwLCAwLCBzb3VyY2VDYW52YXMud2lkdGgsIHNvdXJjZUNhbnZhcy5oZWlnaHQsIDAsIG9mZnNldFksXG4gICAgIGN0eC5jYW52YXMud2lkdGggLyBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvLCBmcmFjdGlvbkNvbXBsZXRlICogY3R4LmNhbnZhcy5oZWlnaHQgLyBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvKTtcbn1cblxuZnVuY3Rpb24geFNjYWxlQW5pbWF0aW9uKGZyYWN0aW9uQ29tcGxldGUsIGFuaW1hdGlvbkluZm8pIHtcblxuICBpZiAoZnJhY3Rpb25Db21wbGV0ZSA9PT0gMCkgcmV0dXJuO1xuXG4gIGNvbnN0IGN0eCA9IGFuaW1hdGlvbkluZm8uZGVzdDtcbiAgY29uc3Qgc291cmNlQ2FudmFzID0gYW5pbWF0aW9uSW5mby5zb3VyY2UuY2FudmFzO1xuICBjb25zdCBiYXNlID0gYW5pbWF0aW9uSW5mby5hbmltYXRpb25CYXNlO1xuXG4gIGNvbnN0IG9mZnNldFggPSAoYmFzZSAtIGJhc2UgKiBmcmFjdGlvbkNvbXBsZXRlKTtcblxuICBjdHguZHJhd0ltYWdlKHNvdXJjZUNhbnZhcywgMCwgMCwgc291cmNlQ2FudmFzLndpZHRoLCBzb3VyY2VDYW52YXMuaGVpZ2h0LCBvZmZzZXRYLCAwLFxuICAgIGZyYWN0aW9uQ29tcGxldGUgKiBjdHguY2FudmFzLndpZHRoIC8gZGV2aWNlUGl4ZWxCYWNraW5nU3RvcmVSYXRpbywgY3R4LmNhbnZhcy5oZWlnaHQgLyBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvKTtcbn1cblxuZnVuY3Rpb24geENsaXBBbmltYXRpb24oZnJhY3Rpb25Db21wbGV0ZSwgYW5pbWF0aW9uSW5mbykge1xuXG4gIGlmIChmcmFjdGlvbkNvbXBsZXRlID09PSAwKSByZXR1cm47XG5cbiAgY29uc3QgY3R4ID0gYW5pbWF0aW9uSW5mby5kZXN0O1xuICBjb25zdCBzb3VyY2VDYW52YXMgPSBhbmltYXRpb25JbmZvLnNvdXJjZS5jYW52YXM7XG5cbiAgY3R4LnNhdmUoKTtcblxuICBpZiAoZnJhY3Rpb25Db21wbGV0ZSA+IDApXG4gICAgY3R4LmRyYXdJbWFnZShzb3VyY2VDYW52YXMsIDAsIDAsIHNvdXJjZUNhbnZhcy53aWR0aCAqIGZyYWN0aW9uQ29tcGxldGUsIHNvdXJjZUNhbnZhcy5oZWlnaHQsIDAsIDAsXG4gICAgICBzb3VyY2VDYW52YXMud2lkdGggKiBmcmFjdGlvbkNvbXBsZXRlIC8gZGV2aWNlUGl4ZWxCYWNraW5nU3RvcmVSYXRpbywgc291cmNlQ2FudmFzLmhlaWdodCAvIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8pO1xuXG4gIGN0eC5yZXN0b3JlKCk7XG59XG5cbmZ1bmN0aW9uIGZhZGVJbkFuaW1hdGlvbihmcmFjdGlvbkNvbXBsZXRlLCBhbmltYXRpb25JbmZvKSB7XG5cbiAgaWYgKGZyYWN0aW9uQ29tcGxldGUgPT09IDApIHJldHVybjtcblxuICBjb25zdCBjdHggPSBhbmltYXRpb25JbmZvLmRlc3Q7XG4gIGNvbnN0IHNvdXJjZUNhbnZhcyA9IGFuaW1hdGlvbkluZm8uc291cmNlLmNhbnZhcztcblxuICBjdHguc2F2ZSgpO1xuXG4gIGN0eC5nbG9iYWxBbHBoYSA9IGZyYWN0aW9uQ29tcGxldGU7XG5cbiAgY3R4LmRyYXdJbWFnZShzb3VyY2VDYW52YXMsIDAsIDAsIHNvdXJjZUNhbnZhcy53aWR0aCwgc291cmNlQ2FudmFzLmhlaWdodCwgMCwgMCxcbiAgICBjdHguY2FudmFzLndpZHRoIC8gZGV2aWNlUGl4ZWxCYWNraW5nU3RvcmVSYXRpbywgY3R4LmNhbnZhcy5oZWlnaHQgLyBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvKTtcblxuICBjdHgucmVzdG9yZSgpO1xuXG59XG5cbmNvbnN0IGVhc2luZyA9IHtcblxuICBsaW5lYXIodCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjICogdCAvIGQgKyBiO1xuICB9LFxuXG4gIGVhc2VPdXRRdWFkKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xuICB9LFxuXG4gIGVhc2VPdXRRdWFydCAodCwgYiwgYywgZCkge1xuICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XG4gIH0sXG5cbiAgZWFzZUluUXVhZCh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiO1xuICB9LFxuXG4gIGVhc2VJblF1YXJ0KHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgeVNjYWxlQW5pbWF0aW9uLFxuICB4U2NhbGVBbmltYXRpb24sXG4gIHhDbGlwQW5pbWF0aW9uLFxuICBmYWRlSW5BbmltYXRpb24sXG4gIGVhc2luZ1xuXG59XG4iLCJjb25zdCBSZW5kZXJIZWxwZXIgPSB7XG5cbiAgZHJhd01hcmtlcjogZnVuY3Rpb24gKHgsIHksIGN0eCwgbWFya2VyVHlwZSwgbWFya2VyU2l6ZSwgbWFya2VyQ29sb3IsIG1hcmtlckJvcmRlckNvbG9yLCBtYXJrZXJCb3JkZXJUaGlja25lc3MpIHtcblxuICAgIGlmICghY3R4KVxuICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIGFscGhhID0gMTtcblxuICAgIGN0eC5maWxsU3R5bGUgPSBtYXJrZXJDb2xvciA/IG1hcmtlckNvbG9yIDogXCIjMDAwMDAwXCI7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gbWFya2VyQm9yZGVyQ29sb3IgPyBtYXJrZXJCb3JkZXJDb2xvciA6IFwiIzAwMDAwMFwiO1xuICAgIGN0eC5saW5lV2lkdGggPSBtYXJrZXJCb3JkZXJUaGlja25lc3MgPyBtYXJrZXJCb3JkZXJUaGlja25lc3MgOiAwO1xuXG5cbiAgICBpZiAobWFya2VyVHlwZSA9PT0gXCJjaXJjbGVcIikge1xuXG4gICAgICBjdHgubW92ZVRvKHgsIHkpO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgLy9yZXR1cm47XG5cbiAgICAgIGN0eC5hcmMoeCwgeSwgbWFya2VyU2l6ZSAvIDIsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSk7XG5cbiAgICAgIGlmIChtYXJrZXJDb2xvcilcbiAgICAgICAgY3R4LmZpbGwoKTtcblxuICAgICAgaWYgKG1hcmtlckJvcmRlclRoaWNrbmVzcykge1xuXG4gICAgICAgIGlmICghbWFya2VyQm9yZGVyQ29sb3IpIHtcbiAgICAgICAgICBhbHBoYSA9IGN0eC5nbG9iYWxBbHBoYTtcbiAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAuMTU7XG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBhbHBoYTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG1hcmtlclR5cGUgPT09IFwic3F1YXJlXCIpIHtcblxuICAgICAgLy9jdHgubW92ZVRvKHggLSBtYXJrZXJTaXplIC8gMiwgeSAtIG1hcmtlclNpemUgLyAyKTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5yZWN0KHggLSBtYXJrZXJTaXplIC8gMiwgeSAtIG1hcmtlclNpemUgLyAyLCBtYXJrZXJTaXplLCBtYXJrZXJTaXplKTtcblxuICAgICAgaWYgKG1hcmtlckNvbG9yKVxuICAgICAgICBjdHguZmlsbCgpO1xuXG4gICAgICBpZiAobWFya2VyQm9yZGVyVGhpY2tuZXNzKSB7XG5cbiAgICAgICAgaWYgKCFtYXJrZXJCb3JkZXJDb2xvcikge1xuICAgICAgICAgIGFscGhhID0gY3R4Lmdsb2JhbEFscGhhO1xuICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IC4xNTtcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG1hcmtlclR5cGUgPT09IFwidHJpYW5nbGVcIikge1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKHggLSBtYXJrZXJTaXplIC8gMiwgeSArIG1hcmtlclNpemUgLyAyKTtcbiAgICAgIGN0eC5saW5lVG8oeCArIG1hcmtlclNpemUgLyAyLCB5ICsgbWFya2VyU2l6ZSAvIDIpO1xuICAgICAgY3R4LmxpbmVUbyh4LCB5IC0gbWFya2VyU2l6ZSAvIDIpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICBpZiAobWFya2VyQ29sb3IpXG4gICAgICAgIGN0eC5maWxsKCk7XG5cbiAgICAgIGlmIChtYXJrZXJCb3JkZXJUaGlja25lc3MpIHtcblxuICAgICAgICBpZiAoIW1hcmtlckJvcmRlckNvbG9yKSB7XG4gICAgICAgICAgYWxwaGEgPSBjdHguZ2xvYmFsQWxwaGE7XG4gICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gLjE1O1xuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgfVxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIH0gZWxzZSBpZiAobWFya2VyVHlwZSA9PT0gXCJjcm9zc1wiKSB7XG5cbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IG1hcmtlckNvbG9yO1xuICAgICAgbWFya2VyQm9yZGVyVGhpY2tuZXNzID0gbWFya2VyU2l6ZSAvIDQ7XG4gICAgICBjdHgubGluZVdpZHRoID0gbWFya2VyQm9yZGVyVGhpY2tuZXNzO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKHggLSBtYXJrZXJTaXplIC8gMiwgeSAtIG1hcmtlclNpemUgLyAyKTtcbiAgICAgIGN0eC5saW5lVG8oeCArIG1hcmtlclNpemUgLyAyLCB5ICsgbWFya2VyU2l6ZSAvIDIpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICBjdHgubW92ZVRvKHggKyBtYXJrZXJTaXplIC8gMiwgeSAtIG1hcmtlclNpemUgLyAyKTtcbiAgICAgIGN0eC5saW5lVG8oeCAtIG1hcmtlclNpemUgLyAyLCB5ICsgbWFya2VyU2l6ZSAvIDIpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgfVxuXG5cbiAgfSxcbiAgZHJhd01hcmtlcnM6IGZ1bmN0aW9uIChtYXJrZXJzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbWFya2VyID0gbWFya2Vyc1tpXTtcblxuICAgICAgUmVuZGVySGVscGVyLmRyYXdNYXJrZXIobWFya2VyLngsIG1hcmtlci55LCBtYXJrZXIuY3R4LCBtYXJrZXIudHlwZSwgbWFya2VyLnNpemUsIG1hcmtlci5jb2xvciwgbWFya2VyLmJvcmRlckNvbG9yLCBtYXJrZXIuYm9yZGVyVGhpY2tuZXNzKTtcbiAgICB9XG4gIH1cbiAgLy8sXG4gIC8vZHJhdzFweExpbmU6IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5MiwgY29sb3IsIGN0eCkge1xuICAvL1x0Y3R4LmJlZ2luUGF0aCgpO1xuICAvL1x0Y3R4LmRyYXdSZWN0KHgxLCB5MSwgeDIgLSB4MSwgeTIgLSB5MSk7XG4gIC8vXHRjdHguc3Ryb2tlKCk7XG4gIC8vfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJIZWxwZXI7XG4iLCJcbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoZGVyaXZlZCwgYmFzZSkge1xuXHRkZXJpdmVkLnByb3RvdHlwZSA9IGluaGVyaXQoYmFzZS5wcm90b3R5cGUpO1xuXHRkZXJpdmVkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGRlcml2ZWQ7XG5cdGRlcml2ZWQuYmFzZSA9IGJhc2UucHJvdG90eXBlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5oZXJpdChwcm90bykge1xuXHRmdW5jdGlvbiBGKCkgeyB9XG5cdEYucHJvdG90eXBlID0gcHJvdG87XG5cdHJldHVybiBuZXcgRigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9EYXRlVGltZShkYXRlVGltZSwgbnVtLCB0eXBlKSB7XG5cblx0aWYgKHR5cGUgPT09IFwibWlsbGlzZWNvbmRcIilcblx0XHRkYXRlVGltZS5zZXRNaWxsaXNlY29uZHMoZGF0ZVRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgKyAxICogbnVtKTtcblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJzZWNvbmRcIilcblx0XHRkYXRlVGltZS5zZXRTZWNvbmRzKGRhdGVUaW1lLmdldFNlY29uZHMoKSArIDEgKiBudW0pO1xuXHRlbHNlIGlmICh0eXBlID09PSBcIm1pbnV0ZVwiKVxuXHRcdGRhdGVUaW1lLnNldE1pbnV0ZXMoZGF0ZVRpbWUuZ2V0TWludXRlcygpICsgMSAqIG51bSk7XG5cdGVsc2UgaWYgKHR5cGUgPT09IFwiaG91clwiKVxuXHRcdGRhdGVUaW1lLnNldEhvdXJzKGRhdGVUaW1lLmdldEhvdXJzKCkgKyAxICogbnVtKTtcblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJkYXlcIilcblx0XHRkYXRlVGltZS5zZXREYXRlKGRhdGVUaW1lLmdldERhdGUoKSArIDEgKiBudW0pO1xuXHRlbHNlIGlmICh0eXBlID09PSBcIndlZWtcIilcblx0XHRkYXRlVGltZS5zZXREYXRlKGRhdGVUaW1lLmdldERhdGUoKSArIDcgKiBudW0pO1xuXHRlbHNlIGlmICh0eXBlID09PSBcIm1vbnRoXCIpXG5cdFx0ZGF0ZVRpbWUuc2V0TW9udGgoZGF0ZVRpbWUuZ2V0TW9udGgoKSArIDEgKiBudW0pO1xuXHRlbHNlIGlmICh0eXBlID09PSBcInllYXJcIilcblx0XHRkYXRlVGltZS5zZXRGdWxsWWVhcihkYXRlVGltZS5nZXRGdWxsWWVhcigpICsgMSAqIG51bSk7XG5cblx0cmV0dXJuIGRhdGVUaW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvTnVtYmVyKG51bSwgdHlwZSkge1xuXHRyZXR1cm4gY29uc3RhbnRzW3R5cGUgKyBcIkR1cmF0aW9uXCJdICogbnVtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFkKHZhbHVlLCBsZW5ndGgpIHtcblx0dmFyIGlzTmVnYXRpdmUgPSBmYWxzZTtcblx0aWYgKHZhbHVlIDwgMCkge1xuXHRcdGlzTmVnYXRpdmUgPSB0cnVlO1xuXHRcdHZhbHVlICo9IC0xO1xuXHR9XG5cblx0dmFsdWUgPSBcIlwiICsgdmFsdWU7XG5cdGxlbmd0aCA9ICFsZW5ndGggPyAxIDogbGVuZ3RoO1xuXG5cdHdoaWxlICh2YWx1ZS5sZW5ndGggPCBsZW5ndGgpIHZhbHVlID0gXCIwXCIgKyB2YWx1ZTtcblxuXHRyZXR1cm4gaXNOZWdhdGl2ZSA/IFwiLVwiICsgdmFsdWUgOiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyaW1TdHJpbmcoc3RyKSB7XG5cdGlmICghc3RyKVxuXHRcdHJldHVybiBzdHI7XG5cblx0c3RyID0gc3RyLnJlcGxhY2UoL15cXHNcXHMqLywgJycpO1xuXHR2YXIgd3MgPSAvXFxzLztcblx0dmFyIGkgPSBzdHIubGVuZ3RoO1xuXHR3aGlsZSAod3MudGVzdChzdHIuY2hhckF0KC0taSkpKSB7IH1cblx0cmV0dXJuIHN0ci5zbGljZSgwLCBpICsgMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRDdHgoY29udGV4dCkge1xuXHRjb250ZXh0LnJvdW5kUmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMsIGJvcmRlclRoaWNrbmVzcywgYmFja2dyb3VuZENvbG9yLCBib3JkZXJDb2xvcikge1xuXHRcdC8vLzxzaWduYXR1cmU+XG5cdFx0Ly8vPHN1bW1hcnk+Q3JlYXRlcyBhIHJvdW5kZWQgcmVjdGFuZ2xlIHdpdGggZ2l2ZW4gZmlsbC9zdHJva2UgcGFyYW1ldGVyczwvc3VtbWFyeT5cblx0XHQvLy88cGFyYW0gbmFtZT1cInhcIiB0eXBlPVwibnVtYmVyXCI+eCB2YWx1ZTwvcGFyYW0+XG5cdFx0Ly8vPHBhcmFtIG5hbWU9XCJ5XCIgdHlwZT1cIm51bWJlclwiPnkgdmFsdWU8L3BhcmFtPlxuXHRcdC8vLzxwYXJhbSBuYW1lPVwid2lkdGhcIiB0eXBlPVwibnVtYmVyXCI+Qm9yZGVyIFdpZHRoPC9wYXJhbT5cblx0XHQvLy88cGFyYW0gbmFtZT1cImhlaWdodFwiIHR5cGU9XCJudW1iZXJcIj5Cb3JkZXIgSGVpZ2h0PC9wYXJhbT5cblx0XHQvLy88cGFyYW0gbmFtZT1cInJhZGl1c1wiIHR5cGU9XCJudW1iZXJcIj5Cb3JkZXIgQ29ybmVyUmFkaXVzPC9wYXJhbT5cblx0XHQvLy88cGFyYW0gbmFtZT1cImJvcmRlclRoaWNrbmVzc1wiIHR5cGU9XCJudW1iZXJcIj5Cb3JkZXIgVGhpY2tlc3M8L3BhcmFtPlxuXHRcdC8vLzxwYXJhbSBuYW1lPVwiYmFja2dyb3VuZENvbG9yXCIgdHlwZT1cIm51bWJlclwiPkJhY2tncm91bmQgQ29sb3I8L3BhcmFtPlxuXHRcdC8vLzxwYXJhbSBuYW1lPVwiYm9yZGVyQ29sb3JcIiB0eXBlPVwibnVtYmVyXCI+Qm9yZGVyIENvbG9yPC9wYXJhbT5cblx0XHQvLy88L3NpZ25hdHVyZT5cblxuXHRcdGlmIChiYWNrZ3JvdW5kQ29sb3IpIHtcblx0XHRcdHRoaXMuZmlsbFN0eWxlID0gYmFja2dyb3VuZENvbG9yO1xuXHRcdH1cblxuXHRcdGlmIChib3JkZXJDb2xvcikge1xuXHRcdFx0dGhpcy5zdHJva2VTdHlsZSA9IGJvcmRlckNvbG9yO1xuXHRcdH1cblxuXHRcdC8vaWYgKHR5cGVvZiBzdHJva2UgPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdC8vXHRzdHJva2UgPSB0cnVlO1xuXHRcdC8vfVxuXG5cdFx0aWYgKHR5cGVvZiByYWRpdXMgPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHJhZGl1cyA9IDU7XG5cdFx0fVxuXG5cdFx0dGhpcy5saW5lV2lkdGggPSBib3JkZXJUaGlja25lc3M7XG5cblx0XHR0aGlzLmJlZ2luUGF0aCgpO1xuXHRcdHRoaXMubW92ZVRvKHggKyByYWRpdXMsIHkpO1xuXHRcdHRoaXMubGluZVRvKHggKyB3aWR0aCAtIHJhZGl1cywgeSk7XG5cdFx0dGhpcy5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgcmFkaXVzKTtcblx0XHR0aGlzLmxpbmVUbyh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMpO1xuXHRcdHRoaXMucXVhZHJhdGljQ3VydmVUbyh4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCk7XG5cdFx0dGhpcy5saW5lVG8oeCArIHJhZGl1cywgeSArIGhlaWdodCk7XG5cdFx0dGhpcy5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQgLSByYWRpdXMpO1xuXHRcdHRoaXMubGluZVRvKHgsIHkgKyByYWRpdXMpO1xuXHRcdHRoaXMucXVhZHJhdGljQ3VydmVUbyh4LCB5LCB4ICsgcmFkaXVzLCB5KTtcblx0XHR0aGlzLmNsb3NlUGF0aCgpO1xuXG5cdFx0aWYgKGJhY2tncm91bmRDb2xvcikge1xuXHRcdFx0dGhpcy5maWxsKCk7XG5cdFx0fVxuXG5cdFx0aWYgKGJvcmRlckNvbG9yICYmIGJvcmRlclRoaWNrbmVzcyA+IDApIHtcblx0XHRcdHRoaXMuc3Ryb2tlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZU51bWJlcnMoYSwgYikge1xuXHRyZXR1cm4gYSAtIGI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlRGF0YVBvaW50WChkYXRhUG9pbnQxLCBkYXRhUG9pbnQyKSB7XG5cdHJldHVybiBkYXRhUG9pbnQxLnggLSBkYXRhUG9pbnQyLng7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRUb0hleENvbG9yU3RyaW5nKG51bSkge1xuXHR2YXIgciA9ICgobnVtICYgMHhGRjAwMDApID4+IDE2KS50b1N0cmluZygxNik7XG5cdHZhciBnID0gKChudW0gJiAweDAwRkYwMCkgPj4gOCkudG9TdHJpbmcoMTYpO1xuXHR2YXIgYiA9ICgobnVtICYgMHgwMDAwRkYpID4+IDApLnRvU3RyaW5nKDE2KTtcblxuXHRyID0gci5sZW5ndGggPCAyID8gXCIwXCIgKyByIDogcjtcblx0ZyA9IGcubGVuZ3RoIDwgMiA/IFwiMFwiICsgZyA6IGc7XG5cdGIgPSBiLmxlbmd0aCA8IDIgPyBcIjBcIiArIGIgOiBiO1xuXG5cdHJldHVybiBcIiNcIiArIHIgKyBnICsgYjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJHQlRvSW50KHIsIGcsIGIpIHtcblx0dmFyIG51bSA9IChyIDw8IDE2KSB8IChnIDw8IDgpIHwgKGIpO1xuXG5cdHJldHVybiBudW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRUb1JHQihudW0pIHtcblx0dmFyIHJnYiA9IFtdO1xuXHR2YXIgciA9ICgobnVtICYgMHhGRjAwMDApID4+IDE2KTtcblx0dmFyIGcgPSAoKG51bSAmIDB4MDBGRjAwKSA+PiA4KTtcblx0dmFyIGIgPSAoKG51bSAmIDB4MDAwMEZGKSA+PiAwKTtcblxuXHQvL3IgPSByLmxlbmd0aCA8IDIgPyBcIjBcIiArIHIgOiByO1xuXHQvL2cgPSBnLmxlbmd0aCA8IDIgPyBcIjBcIiArIGcgOiBnO1xuXHQvL2IgPSBiLmxlbmd0aCA8IDIgPyBcIjBcIiArIGIgOiBiO1xuXG5cdHJnYlswXSA9IHI7XG5cdHJnYlsxXSA9IGc7XG5cdHJnYlsyXSA9IGI7XG5cblx0cmV0dXJuIHJnYjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5SW5kZXhPZihlbHQgLyosIGZyb20qLykge1xuXHR2YXIgbGVuID0gdGhpcy5sZW5ndGggPj4+IDA7XG5cblx0dmFyIGZyb20gPSBOdW1iZXIoYXJndW1lbnRzWzFdKSB8fCAwO1xuXHRmcm9tID0gKGZyb20gPCAwKVxuXHRcdCA/IE1hdGguY2VpbChmcm9tKVxuXHRcdCA6IE1hdGguZmxvb3IoZnJvbSk7XG5cdGlmIChmcm9tIDwgMClcblx0XHRmcm9tICs9IGxlbjtcblxuXHRmb3IgKDsgZnJvbSA8IGxlbjsgZnJvbSsrKSB7XG5cdFx0aWYgKGZyb20gaW4gdGhpcyAmJlxuXHRcdFx0dGhpc1tmcm9tXSA9PT0gZWx0KVxuXHRcdFx0cmV0dXJuIGZyb207XG5cdH1cblx0cmV0dXJuIC0xO1xufTtcblxuLy9JRTgtIEZpeDogaW5kZXhPZiBpcyBub3Qgc3VwcG9ydGVkIGluIElFOC0gZm9yIGFycmF5c1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEFycmF5SW5kZXhPZihvYmopIHtcbmlmICghb2JqLmluZGV4T2YpIHtcblx0b2JqLmluZGV4T2YgPSBhcnJheUluZGV4T2Y7XG59XG5cbnJldHVybiBvYmo7XG59XG5cbnZhciBmb250SGVpZ2h0SW5QaXhlbHMgPSB7fTtcbnZhciB0ZXh0TWVhc3VyZUVsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvbnRIZWlnaHRJblBpeGVscyhmb250RmFtaWx5LCBmb250U2l6ZSwgZm9udFdlaWdodCkge1xuXG5cdC8vcmV0dXJuIGZvbnRTaXplO1xuXG5cdGZvbnRXZWlnaHQgPSBmb250V2VpZ2h0IHx8IFwibm9ybWFsXCI7XG5cblx0dmFyIGVudHJ5ID0gZm9udEZhbWlseSArIFwiX1wiICsgZm9udFNpemUgKyBcIl9cIiArIGZvbnRXZWlnaHQ7XG5cdHZhciBoZWlnaHQgPSBmb250SGVpZ2h0SW5QaXhlbHNbZW50cnldO1xuXG5cdGlmIChpc05hTihoZWlnaHQpKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHZhciBzdHlsZSA9IFwicG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6MHB4OyB0b3A6LTIwMDAwcHg7IHBhZGRpbmc6MHB4O21hcmdpbjowcHg7Ym9yZGVyOm5vbmU7d2hpdGUtc3BhY2U6cHJlO2xpbmUtaGVpZ2h0Om5vcm1hbDtcIiArIFwiZm9udC1mYW1pbHk6XCIgKyBmb250RmFtaWx5ICsgXCI7IFwiICsgXCJmb250LXNpemU6XCIgKyBmb250U2l6ZSArIFwicHg7IGZvbnQtd2VpZ2h0OlwiICsgZm9udFdlaWdodCArIFwiO1wiO1xuXHRcdFx0Ly9jb25zb2xlLmxvZyhzdHlsZSk7XG5cdFx0XHRpZiAoIXRleHRNZWFzdXJlRWwpIHtcblx0XHRcdFx0dmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuXHRcdFx0XHR0ZXh0TWVhc3VyZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cdFx0XHRcdHRleHRNZWFzdXJlRWwuaW5uZXJIVE1MID0gXCJcIjtcblx0XHRcdFx0dmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJNcGd5aVwiKTtcblx0XHRcdFx0dGV4dE1lYXN1cmVFbC5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XG5cdFx0XHRcdGJvZHkuYXBwZW5kQ2hpbGQodGV4dE1lYXN1cmVFbCk7XG5cdFx0XHR9XG5cblx0XHRcdHRleHRNZWFzdXJlRWwuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHR0ZXh0TWVhc3VyZUVsLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIHN0eWxlKTtcblxuXHRcdFx0aGVpZ2h0ID0gTWF0aC5yb3VuZCh0ZXh0TWVhc3VyZUVsLm9mZnNldEhlaWdodCk7XG5cdFx0XHR0ZXh0TWVhc3VyZUVsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdC8vYm9keS5yZW1vdmVDaGlsZCh0ZW1wRGl2KTtcblxuXHRcdFx0Ly9pZiAod2luZG93LmNvbnNvbGUpXG5cdFx0XHQvL1x0d2luZG93LmNvbnNvbGUubG9nKGZvbnRTaXplICsgXCI6IFwiICsgaGVpZ2h0KTtcblx0XHR9XG5cdFx0Y2F0Y2ggKGUpIHtcblx0XHRcdGhlaWdodCA9IE1hdGguY2VpbChmb250U2l6ZSAqIDEuMSk7XG5cdFx0fVxuXG5cdFx0aGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBmb250U2l6ZSk7XG5cblx0XHRmb250SGVpZ2h0SW5QaXhlbHNbZW50cnldID0gaGVpZ2h0O1xuXHR9XG5cblx0cmV0dXJuIGhlaWdodDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpbmVEYXNoQXJyYXkobGluZURhc2hUeXBlLCBsaW5lVGhpY2tuZXNzKSB7XG5cdGxpbmVEYXNoVHlwZSA9IGxpbmVEYXNoVHlwZSB8fCBcInNvbGlkXCI7XG5cblx0dmFyIGxpbmVEYXNoQXJyYXkgPSBbXTtcblxuXHR2YXIgbGluZURhc2hUeXBlTWFwID0ge1xuXHRcdFwic29saWRcIjogW10sXG5cdFx0XCJzaG9ydERhc2hcIjogWzMsIDFdLFxuXHRcdFwic2hvcnREb3RcIjogWzEsIDFdLFxuXHRcdFwic2hvcnREYXNoRG90XCI6IFszLCAxLCAxLCAxXSxcblx0XHRcInNob3J0RGFzaERvdERvdFwiOiBbMywgMSwgMSwgMSwgMSwgMV0sXG5cdFx0XCJkb3RcIjogWzEsIDJdLFxuXHRcdFwiZGFzaFwiOiBbNCwgMl0sXG5cdFx0XCJkYXNoRG90XCI6IFs0LCAyLCAxLCAyXSxcblx0XHRcImxvbmdEYXNoXCI6IFs4LCAyXSxcblx0XHRcImxvbmdEYXNoRG90XCI6IFs4LCAyLCAxLCAyXSxcblx0XHRcImxvbmdEYXNoRG90RG90XCI6IFs4LCAyLCAxLCAyLCAxLCAyXVxuXHR9O1xuXG5cdGxpbmVEYXNoQXJyYXkgPSBsaW5lRGFzaFR5cGVNYXBbbGluZURhc2hUeXBlXTtcblxuXHRpZiAobGluZURhc2hBcnJheSkge1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lRGFzaEFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsaW5lRGFzaEFycmF5W2ldICo9IGxpbmVUaGlja25lc3M7XG5cdFx0fVxuXHR9IGVsc2Vcblx0XHRsaW5lRGFzaEFycmF5ID0gW107XG5cblx0cmV0dXJuIGxpbmVEYXNoQXJyYXk7XG59XG5cbi8vdXNlckNhcHR1cmUgaXMgb3B0aW9uYWwuIERlZmF1bHRzIHRvIGZhbHNlXG5leHBvcnQgZnVuY3Rpb24gYWRkRXZlbnQob2JqLCBldmVudFR5cGUsIGZuLCB1c2VDYXB0dXJlKSB7XG5cdGlmIChvYmouYWRkRXZlbnRMaXN0ZW5lcikge1xuXHRcdG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgZm4sIHVzZUNhcHR1cmUgfHwgZmFsc2UpO1xuXHR9XG5cdGVsc2UgaWYgKG9iai5hdHRhY2hFdmVudCkge1xuXHRcdG9iai5hdHRhY2hFdmVudChcIm9uXCIgKyBldmVudFR5cGUsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0ID0gZS5wcmV2ZW50RGVmYXVsdCB8fCBmdW5jdGlvbiAoKSB7IGUucmV0dXJuVmFsdWUgPSBmYWxzZTsgfTtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uID0gZS5zdG9wUHJvcGFnYXRpb24gfHwgZnVuY3Rpb24gKCkgeyBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7IH07XG5cdFx0XHRmbi5jYWxsKG9iaiwgZSk7XG5cdFx0fSk7XG5cdH0gZWxzZVxuXHRcdHJldHVybiBmYWxzZTtcbn1cblxuLy8jcmVnaW9uIGZvcm1hdHRpbmcgZnVuY3Rpb25zL21ldGhvZHNcbmV4cG9ydCBmdW5jdGlvbiBkYXRlRm9ybWF0KCkge1xuXG5cdHZhciByZWcgPSAvRHsxLDR9fE17MSw0fXxZezEsNH18aHsxLDJ9fEh7MSwyfXxtezEsMn18c3sxLDJ9fGZ7MSwzfXx0ezEsMn18VHsxLDJ9fEt8ensxLDN9fFwiW15cIl0qXCJ8J1teJ10qJy9nO1xuXG5cdHZhciBkZWZEYXlzID0gW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl07XG5cdHZhciBkZWZTaG9ydERheXMgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl07XG5cblx0dmFyIGRlZk1vbnRocyA9IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdO1xuXHR2YXIgZGVmU2hvcnRNb250aHMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XG5cblx0dmFyIHRpbWV6b25lID0gL1xcYig/OltQTUNFQV1bU0RQXVR8KD86UGFjaWZpY3xNb3VudGFpbnxDZW50cmFsfEVhc3Rlcm58QXRsYW50aWMpICg/OlN0YW5kYXJkfERheWxpZ2h0fFByZXZhaWxpbmcpIFRpbWV8KD86R01UfFVUQykoPzpbLStdXFxkezR9KT8pXFxiL2c7XG5cdHZhciB0aW1lem9uZUNsaXAgPSAvW14tK1xcZEEtWl0vZztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGR0LCBmb3JtYXRTdHJpbmcsIGN1bHR1cmVJbmZvKSB7XG5cblx0XHR2YXIgZGF5cyA9IGN1bHR1cmVJbmZvID8gY3VsdHVyZUluZm8uZGF5cyA6IGRlZkRheXM7XG5cdFx0dmFyIG1vbnRocyA9IGN1bHR1cmVJbmZvID8gY3VsdHVyZUluZm8ubW9udGhzIDogZGVmTW9udGhzO1xuXG5cdFx0dmFyIHNob3J0RGF5cyA9IGN1bHR1cmVJbmZvID8gY3VsdHVyZUluZm8uc2hvcnREYXlzIDogZGVmU2hvcnREYXlzO1xuXHRcdHZhciBzaG9ydE1vbnRocyA9IGN1bHR1cmVJbmZvID8gY3VsdHVyZUluZm8uc2hvcnRNb250aHMgOiBkZWZTaG9ydE1vbnRocztcblxuXHRcdHZhciByZXN1bHQgPSBcIlwiO1xuXHRcdHZhciB1dGMgPSBmYWxzZTtcblxuXHRcdGR0ID0gZHQgJiYgZHQuZ2V0VGltZSA/IGR0IDogZHQgPyBuZXcgRGF0ZShkdCkgOiBuZXcgRGF0ZTtcblx0XHRpZiAoaXNOYU4oZHQpKSB0aHJvdyBTeW50YXhFcnJvcihcImludmFsaWQgZGF0ZVwiKTtcblxuXHRcdGlmIChmb3JtYXRTdHJpbmcuc2xpY2UoMCwgNCkgPT09IFwiVVRDOlwiKSB7XG5cdFx0XHRmb3JtYXRTdHJpbmcgPSBmb3JtYXRTdHJpbmcuc2xpY2UoNCk7XG5cdFx0XHR1dGMgPSB0cnVlO1xuXHRcdH1cblxuXHRcdHZhciBwcmUgPSB1dGMgPyBcImdldFVUQ1wiIDogXCJnZXRcIjtcblx0XHR2YXIgZGF0ZSA9IGR0W3ByZSArIFwiRGF0ZVwiXSgpO1xuXHRcdHZhciBkYXkgPSBkdFtwcmUgKyBcIkRheVwiXSgpO1xuXHRcdHZhciBtb250aCA9IGR0W3ByZSArIFwiTW9udGhcIl0oKTtcblx0XHR2YXIgeWVhciA9IGR0W3ByZSArIFwiRnVsbFllYXJcIl0oKTtcblx0XHR2YXIgaG91cnMgPSBkdFtwcmUgKyBcIkhvdXJzXCJdKCk7XG5cdFx0dmFyIG1pbnV0ZXMgPSBkdFtwcmUgKyBcIk1pbnV0ZXNcIl0oKTtcblx0XHR2YXIgc2Vjb25kcyA9IGR0W3ByZSArIFwiU2Vjb25kc1wiXSgpO1xuXHRcdHZhciBtaWxsaXNlY29uZHMgPSBkdFtwcmUgKyBcIk1pbGxpc2Vjb25kc1wiXSgpO1xuXHRcdHZhciBvZmZzZXQgPSB1dGMgPyAwIDogZHQuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblxuXHRcdHJlc3VsdCA9IGZvcm1hdFN0cmluZy5yZXBsYWNlKHJlZywgZnVuY3Rpb24gKGtleSkge1xuXG5cdFx0XHRzd2l0Y2ggKGtleSkge1xuXG5cdFx0XHRcdGNhc2UgXCJEXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGU7XG5cdFx0XHRcdGNhc2UgXCJERFwiOlxuXHRcdFx0XHRcdHJldHVybiBwYWQoZGF0ZSwgMik7XG5cdFx0XHRcdGNhc2UgXCJERERcIjpcblx0XHRcdFx0XHRyZXR1cm4gc2hvcnREYXlzW2RheV07XG5cdFx0XHRcdGNhc2UgXCJEREREXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGRheXNbZGF5XTtcblxuXG5cdFx0XHRcdGNhc2UgXCJNXCI6XG5cdFx0XHRcdFx0cmV0dXJuIG1vbnRoICsgMTtcblx0XHRcdFx0Y2FzZSBcIk1NXCI6XG5cdFx0XHRcdFx0cmV0dXJuIHBhZChtb250aCArIDEsIDIpO1xuXHRcdFx0XHRjYXNlIFwiTU1NXCI6XG5cdFx0XHRcdFx0cmV0dXJuIHNob3J0TW9udGhzW21vbnRoXTtcblx0XHRcdFx0Y2FzZSBcIk1NTU1cIjpcblx0XHRcdFx0XHRyZXR1cm4gbW9udGhzW21vbnRoXTtcblxuXG5cdFx0XHRcdGNhc2UgXCJZXCI6XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KFN0cmluZyh5ZWFyKS5zbGljZSgtMikpO1xuXHRcdFx0XHRjYXNlIFwiWVlcIjpcblx0XHRcdFx0XHRyZXR1cm4gcGFkKFN0cmluZyh5ZWFyKS5zbGljZSgtMiksIDIpO1xuXHRcdFx0XHRjYXNlIFwiWVlZXCI6XG5cdFx0XHRcdFx0cmV0dXJuIHBhZChTdHJpbmcoeWVhcikuc2xpY2UoLTMpLCAzKTtcblx0XHRcdFx0Y2FzZSBcIllZWVlcIjpcblx0XHRcdFx0XHRyZXR1cm4gcGFkKHllYXIsIDQpO1xuXG5cblx0XHRcdFx0Y2FzZSBcImhcIjpcblx0XHRcdFx0XHRyZXR1cm4gaG91cnMgJSAxMiB8fCAxMjtcblx0XHRcdFx0Y2FzZSBcImhoXCI6XG5cdFx0XHRcdFx0cmV0dXJuIHBhZChob3VycyAlIDEyIHx8IDEyLCAyKTtcblxuXG5cdFx0XHRcdGNhc2UgXCJIXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGhvdXJzO1xuXHRcdFx0XHRjYXNlIFwiSEhcIjpcblx0XHRcdFx0XHRyZXR1cm4gcGFkKGhvdXJzLCAyKTtcblxuXHRcdFx0XHRjYXNlIFwibVwiOlxuXHRcdFx0XHRcdHJldHVybiBtaW51dGVzO1xuXHRcdFx0XHRjYXNlIFwibW1cIjpcblx0XHRcdFx0XHRyZXR1cm4gcGFkKG1pbnV0ZXMsIDIpO1xuXG5cblx0XHRcdFx0Y2FzZSBcInNcIjpcblx0XHRcdFx0XHRyZXR1cm4gc2Vjb25kcztcblx0XHRcdFx0Y2FzZSBcInNzXCI6XG5cdFx0XHRcdFx0cmV0dXJuIHBhZChzZWNvbmRzLCAyKTtcblxuXHRcdFx0XHRjYXNlIFwiZlwiOlxuXHRcdFx0XHRcdHJldHVybiBTdHJpbmcobWlsbGlzZWNvbmRzKS5zbGljZSgwLCAxKTtcblx0XHRcdFx0Y2FzZSBcImZmXCI6XG5cdFx0XHRcdFx0cmV0dXJuIHBhZChTdHJpbmcobWlsbGlzZWNvbmRzKS5zbGljZSgwLCAyKSwgMik7XG5cdFx0XHRcdGNhc2UgXCJmZmZcIjpcblx0XHRcdFx0XHRyZXR1cm4gcGFkKFN0cmluZyhtaWxsaXNlY29uZHMpLnNsaWNlKDAsIDMpLCAzKTtcblxuXG5cdFx0XHRcdGNhc2UgXCJ0XCI6XG5cdFx0XHRcdFx0cmV0dXJuIGhvdXJzIDwgMTIgPyBcImFcIiA6IFwicFwiO1xuXHRcdFx0XHRjYXNlIFwidHRcIjpcblx0XHRcdFx0XHRyZXR1cm4gaG91cnMgPCAxMiA/IFwiYW1cIiA6IFwicG1cIjtcblx0XHRcdFx0Y2FzZSBcIlRcIjpcblx0XHRcdFx0XHRyZXR1cm4gaG91cnMgPCAxMiA/IFwiQVwiIDogXCJQXCI7XG5cdFx0XHRcdGNhc2UgXCJUVFwiOlxuXHRcdFx0XHRcdHJldHVybiBob3VycyA8IDEyID8gXCJBTVwiIDogXCJQTVwiO1xuXG5cblx0XHRcdFx0Y2FzZSBcIktcIjpcblx0XHRcdFx0XHRyZXR1cm4gdXRjID8gXCJVVENcIiA6IChTdHJpbmcoZHQpLm1hdGNoKHRpbWV6b25lKSB8fCBbXCJcIl0pLnBvcCgpLnJlcGxhY2UodGltZXpvbmVDbGlwLCBcIlwiKTsgLy8gVGltZSBab25lO1xuXHRcdFx0XHRjYXNlIFwielwiOlxuXHRcdFx0XHRcdHJldHVybiAob2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCIpICsgTWF0aC5mbG9vcihNYXRoLmFicyhvZmZzZXQpIC8gNjApOyAvLyBIb3VyIE9mZnNldCBmcm9tIFVUQyB3aXRob3V0IHBhZGRpbmdcblx0XHRcdFx0Y2FzZSBcInp6XCI6XG5cdFx0XHRcdFx0cmV0dXJuIChvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIikgKyBwYWQoTWF0aC5mbG9vcihNYXRoLmFicyhvZmZzZXQpIC8gNjApLCAyKTsgLy8gSG91ciBPZmZzZXQgZnJvbSBVVEMgd2l0aCBwYWRkaW5nXG5cdFx0XHRcdGNhc2UgXCJ6enpcIjpcblx0XHRcdFx0XHRyZXR1cm4gKG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiKSArIHBhZChNYXRoLmZsb29yKE1hdGguYWJzKG9mZnNldCkgLyA2MCksIDIpICsgcGFkKE1hdGguYWJzKG9mZnNldCkgJSA2MCwgMik7IC8vIEhvdXIgYW5kIE1pbnV0ZSBPZmZzZXQgZnJvbSBVVEMgd2l0aCBwYWRkaW5nXG5cblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRyZXR1cm4ga2V5LnNsaWNlKDEsIGtleS5sZW5ndGggLSAxKTtcblxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJGb3JtYXQodiwgZnMsIGN1bHR1cmVJbmZvKSB7XG5cdGlmICh2ID09PSBudWxsKVxuXHRcdHJldHVybiBcIlwiO1xuXG5cdHYgPSBOdW1iZXIodik7XG5cdHZhciBpc05lZ2F0aXZlID0gdiA8IDAgPyB0cnVlIDogZmFsc2U7XG5cdGlmIChpc05lZ2F0aXZlKSB2ICo9IC0xO1xuXG5cdHZhciBkZWNpbWFsU2VwYXJhdG9yID0gY3VsdHVyZUluZm8gPyBjdWx0dXJlSW5mby5kZWNpbWFsU2VwYXJhdG9yIDogXCIuXCI7XG5cdHZhciBkaWdpdEdyb3VwU2VwYXJhdG9yID0gY3VsdHVyZUluZm8gPyBjdWx0dXJlSW5mby5kaWdpdEdyb3VwU2VwYXJhdG9yIDogXCIsXCI7XG5cblx0dmFyIHZTdHJpbmcgPSBcIlwiO1xuXHRmcyA9IFN0cmluZyhmcyk7XG5cdHZhciBtdWx0aXBsaWVyID0gMTtcblx0dmFyIHRlbXA7XG5cdHZhciByZXN1bHQgPSBcIlwiO1xuXG5cdHZhciBtYXRjaGVzID0gXCJcIjtcblx0dmFyIGRlY2ltYWxQb3NpdGlvbiA9IC0xO1xuXHR2YXIgZnNCZWZvcmVEZWNpbWFsID0gW107XG5cdHZhciBmc0FmdGVyRGVjaW1hbCA9IFtdO1xuXHR2YXIgbm9QaEJlZm9yZURlY2ltYWwgPSAwOyAvLyBOdW1iZXIgb2YgUGxhY2Vob2xkZXJzIGJlZm9yZSBEZWNpbWFsXG5cdHZhciBub1BoQWZ0ZXJEZWNpbWFsID0gMDsgLy8gTnVtYmVyIG9mIFBsYWNlaG9sZGVycyBhZnRlciBEZWNpbWFsXG5cdHZhciBub0NvbW1hID0gMDtcblx0dmFyIGlzU2NpZW50aWZpY05vdGF0aW9uID0gZmFsc2U7XG5cdHZhciBleHBvbmVudCA9IDA7XG5cblx0bWF0Y2hlcyA9IGZzLm1hdGNoKC9cIlteXCJdKlwifCdbXiddKid8W2VFXVsrLV0qWzBdK3xbLF0rWy5dfOKAsHwuL2cpO1xuXHQvL3dpbmRvdy5jb25zb2xlLmxvZyhtYXRjaGVzICsgXCIgPSBcIiArIG1hdGNoZXMubGVuZ3RoKTtcblx0dmFyIG1hdGNoID0gbnVsbDtcblxuXHRmb3IgKHZhciBpID0gMDsgbWF0Y2hlcyAmJiBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuXHRcdG1hdGNoID0gbWF0Y2hlc1tpXTtcblxuXHRcdGlmIChtYXRjaCA9PT0gXCIuXCIgJiYgZGVjaW1hbFBvc2l0aW9uIDwgMCkge1xuXHRcdFx0ZGVjaW1hbFBvc2l0aW9uID0gaTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH0gZWxzZSBpZiAobWF0Y2ggPT09IFwiJVwiKSB7XG5cdFx0XHRtdWx0aXBsaWVyICo9IDEwMDtcblx0XHR9IGVsc2UgaWYgKG1hdGNoID09PSBcIuKAsFwiKSB7XG5cdFx0XHRtdWx0aXBsaWVyICo9IDEwMDA7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9IGVsc2UgaWYgKG1hdGNoWzBdID09PSBcIixcIiAmJiBtYXRjaFttYXRjaC5sZW5ndGggLSAxXSA9PT0gXCIuXCIpIHtcblx0XHRcdG11bHRpcGxpZXIgLz0gTWF0aC5wb3coMTAwMCwgbWF0Y2gubGVuZ3RoIC0gMSk7XG5cdFx0XHRkZWNpbWFsUG9zaXRpb24gPSBpICsgbWF0Y2gubGVuZ3RoIC0gMTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH0gZWxzZSBpZiAoKG1hdGNoWzBdID09PSBcIkVcIiB8fCBtYXRjaFswXSA9PT0gXCJlXCIpICYmIG1hdGNoW21hdGNoLmxlbmd0aCAtIDFdID09PSBcIjBcIikge1xuXHRcdFx0aXNTY2llbnRpZmljTm90YXRpb24gPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChkZWNpbWFsUG9zaXRpb24gPCAwKSB7XG5cdFx0XHRmc0JlZm9yZURlY2ltYWwucHVzaChtYXRjaCk7XG5cdFx0XHRpZiAobWF0Y2ggPT09IFwiI1wiIHx8IG1hdGNoID09PSBcIjBcIilcblx0XHRcdFx0bm9QaEJlZm9yZURlY2ltYWwrKztcblx0XHRcdGVsc2UgaWYgKG1hdGNoID09PSBcIixcIilcblx0XHRcdFx0bm9Db21tYSsrO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGZzQWZ0ZXJEZWNpbWFsLnB1c2gobWF0Y2gpO1xuXHRcdFx0aWYgKG1hdGNoID09PSBcIiNcIiB8fCBtYXRjaCA9PT0gXCIwXCIpXG5cdFx0XHRcdG5vUGhBZnRlckRlY2ltYWwrKztcblx0XHR9XG5cdH1cblxuXHRpZiAoaXNTY2llbnRpZmljTm90YXRpb24pIHtcblx0XHR2YXIgaW50ZWdlciA9IE1hdGguZmxvb3Iodik7XG5cdFx0ZXhwb25lbnQgPSAoaW50ZWdlciA9PT0gMCA/IFwiXCIgOiBTdHJpbmcoaW50ZWdlcikpLmxlbmd0aCAtIG5vUGhCZWZvcmVEZWNpbWFsO1xuXHRcdG11bHRpcGxpZXIgLz0gTWF0aC5wb3coMTAsIGV4cG9uZW50KTtcblx0fVxuXG5cdHYgKj0gbXVsdGlwbGllcjtcblxuXHRpZiAoZGVjaW1hbFBvc2l0aW9uIDwgMClcblx0XHRkZWNpbWFsUG9zaXRpb24gPSBpO1xuXG5cdHZTdHJpbmcgPSB2LnRvRml4ZWQobm9QaEFmdGVyRGVjaW1hbCk7XG5cdHZhciBzcGxpdCA9IHZTdHJpbmcuc3BsaXQoXCIuXCIpO1xuXHQvL3dpbmRvdy5jb25zb2xlLmxvZyhzcGxpdCk7XG5cdHZhciB2U3RyaW5nQmVmb3JlRGVjaW1hbCA9IChzcGxpdFswXSArIFwiXCIpLnNwbGl0KFwiXCIpO1xuXHR2YXIgdlN0cmluZ0FmdGVyRGVjaW1hbCA9IChzcGxpdFsxXSArIFwiXCIpLnNwbGl0KFwiXCIpO1xuXG5cdGlmICh2U3RyaW5nQmVmb3JlRGVjaW1hbCAmJiB2U3RyaW5nQmVmb3JlRGVjaW1hbFswXSA9PT0gXCIwXCIpXG5cdFx0dlN0cmluZ0JlZm9yZURlY2ltYWwuc2hpZnQoKTtcblxuXHQvL3dpbmRvdy5jb25zb2xlLmxvZyhmc0JlZm9yZURlY2ltYWwgKyBcIjwtLS0tLS0tLS0tPlwiICsgZnNBZnRlckRlY2ltYWwgKyBcIiAmICAgICAgICBcIiArIHZTdHJpbmdCZWZvcmVEZWNpbWFsICsgXCI8LS0tLS0tLS0tLT5cIiArIHZTdHJpbmdBZnRlckRlY2ltYWwpO1xuXG5cdHZhciBub1BoUHJvY2Vzc2VkID0gMDtcblx0dmFyIG5vRGlnaXRzQWRkZWQgPSAwO1xuXHR2YXIgbm9Db21tYUFkZGVkID0gMDtcblx0dmFyIGNvbW1hRGlzdGFuY2UgPSAwO1xuXHR2YXIgZGlzdGFuY2VGcm9tTGFzdENvbW1hID0gMDtcblxuXHR3aGlsZSAoZnNCZWZvcmVEZWNpbWFsLmxlbmd0aCA+IDApIHtcblx0XHRtYXRjaCA9IGZzQmVmb3JlRGVjaW1hbC5wb3AoKTtcblxuXHRcdGlmIChtYXRjaCA9PT0gXCIjXCIgfHwgbWF0Y2ggPT09IFwiMFwiKSB7XG5cdFx0XHRub1BoUHJvY2Vzc2VkKys7XG5cblx0XHRcdGlmIChub1BoUHJvY2Vzc2VkID09PSBub1BoQmVmb3JlRGVjaW1hbCkge1xuXHRcdFx0XHR2YXIgZGlnaXRzID0gdlN0cmluZ0JlZm9yZURlY2ltYWw7XG5cdFx0XHRcdHZTdHJpbmdCZWZvcmVEZWNpbWFsID0gW107XG5cblx0XHRcdFx0aWYgKG1hdGNoID09PSBcIjBcIikge1xuXHRcdFx0XHRcdC8vdmFyIHRvdGFsRGlnaXRzID0gcmVzdWx0Lm1hdGNoKC9bMC05XS9nKS5sZW5ndGg7XG5cdFx0XHRcdFx0dmFyIHRvUGFkID0gbm9QaEJlZm9yZURlY2ltYWwgLSBub0RpZ2l0c0FkZGVkIC0gKGRpZ2l0cyA/IGRpZ2l0cy5sZW5ndGggOiAwKTtcblxuXHRcdFx0XHRcdHdoaWxlICh0b1BhZCA+IDApIHtcblx0XHRcdFx0XHRcdGRpZ2l0cy51bnNoaWZ0KFwiMFwiKTtcblx0XHRcdFx0XHRcdHRvUGFkLS07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0d2hpbGUgKGRpZ2l0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0cmVzdWx0ID0gZGlnaXRzLnBvcCgpICsgcmVzdWx0O1xuXHRcdFx0XHRcdGRpc3RhbmNlRnJvbUxhc3RDb21tYSsrO1xuXG5cdFx0XHRcdFx0aWYgKGRpc3RhbmNlRnJvbUxhc3RDb21tYSAlIGNvbW1hRGlzdGFuY2UgPT09IDAgJiYgbm9Db21tYUFkZGVkID09PSBub0NvbW1hICYmIGRpZ2l0cy5sZW5ndGggPiAwKVxuXHRcdFx0XHRcdFx0cmVzdWx0ID0gZGlnaXRHcm91cFNlcGFyYXRvciArIHJlc3VsdDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpc05lZ2F0aXZlKVxuXHRcdFx0XHRcdHJlc3VsdCA9IFwiLVwiICsgcmVzdWx0O1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAodlN0cmluZ0JlZm9yZURlY2ltYWwubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdHJlc3VsdCA9IHZTdHJpbmdCZWZvcmVEZWNpbWFsLnBvcCgpICsgcmVzdWx0O1xuXHRcdFx0XHRcdG5vRGlnaXRzQWRkZWQrKztcblx0XHRcdFx0XHRkaXN0YW5jZUZyb21MYXN0Q29tbWErKztcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChtYXRjaCA9PT0gXCIwXCIpIHtcblx0XHRcdFx0XHRyZXN1bHQgPSBcIjBcIiArIHJlc3VsdDtcblx0XHRcdFx0XHRub0RpZ2l0c0FkZGVkKys7XG5cdFx0XHRcdFx0ZGlzdGFuY2VGcm9tTGFzdENvbW1hKys7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZGlzdGFuY2VGcm9tTGFzdENvbW1hICUgY29tbWFEaXN0YW5jZSA9PT0gMCAmJiBub0NvbW1hQWRkZWQgPT09IG5vQ29tbWEgJiYgdlN0cmluZ0JlZm9yZURlY2ltYWwubGVuZ3RoID4gMClcblx0XHRcdFx0XHRyZXN1bHQgPSBkaWdpdEdyb3VwU2VwYXJhdG9yICsgcmVzdWx0O1xuXHRcdFx0fVxuXG5cblx0XHR9IGVsc2UgaWYgKChtYXRjaFswXSA9PT0gXCJFXCIgfHwgbWF0Y2hbMF0gPT09IFwiZVwiKSAmJiBtYXRjaFttYXRjaC5sZW5ndGggLSAxXSA9PT0gXCIwXCIgJiYgL1tlRV1bKy1dKlswXSsvLnRlc3QobWF0Y2gpKSB7XG5cdFx0XHRpZiAoZXhwb25lbnQgPCAwKVxuXHRcdFx0XHRtYXRjaCA9IG1hdGNoLnJlcGxhY2UoXCIrXCIsIFwiXCIpLnJlcGxhY2UoXCItXCIsIFwiXCIpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRtYXRjaCA9IG1hdGNoLnJlcGxhY2UoXCItXCIsIFwiXCIpO1xuXG5cdFx0XHRyZXN1bHQgKz0gbWF0Y2gucmVwbGFjZSgvWzBdKy8sIGZ1bmN0aW9uICgkMCkge1xuXHRcdFx0XHRyZXR1cm4gcGFkKGV4cG9uZW50LCAkMC5sZW5ndGgpO1xuXHRcdFx0fSk7XG5cblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAobWF0Y2ggPT09IFwiLFwiKSB7XG5cdFx0XHRcdG5vQ29tbWFBZGRlZCsrO1xuXHRcdFx0XHRjb21tYURpc3RhbmNlID0gZGlzdGFuY2VGcm9tTGFzdENvbW1hO1xuXHRcdFx0XHRkaXN0YW5jZUZyb21MYXN0Q29tbWEgPSAwO1xuXG5cdFx0XHRcdGlmICh2U3RyaW5nQmVmb3JlRGVjaW1hbC5sZW5ndGggPiAwKVxuXHRcdFx0XHRcdHJlc3VsdCA9IGRpZ2l0R3JvdXBTZXBhcmF0b3IgKyByZXN1bHQ7XG5cdFx0XHR9IGVsc2UgaWYgKG1hdGNoLmxlbmd0aCA+IDEgJiYgKChtYXRjaFswXSA9PT0gXCJcXFwiXCIgJiYgbWF0Y2hbbWF0Y2gubGVuZ3RoIC0gMV0gPT09IFwiXFxcIlwiKSB8fCAobWF0Y2hbMF0gPT09IFwiJ1wiICYmIG1hdGNoW21hdGNoLmxlbmd0aCAtIDFdID09PSBcIidcIikpKSB7XG5cdFx0XHRcdHJlc3VsdCA9IG1hdGNoLnNsaWNlKDEsIG1hdGNoLmxlbmd0aCAtIDEpICsgcmVzdWx0O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXN1bHQgPSBtYXRjaCArIHJlc3VsdDtcblx0XHR9XG5cdH1cblxuXHR2YXIgY2hhckNvdW50ID0gMDtcblx0dmFyIHJlc3VsdEFmdGVyRGVjaW1hbCA9IFwiXCI7XG5cdHZhciBhZGREZWNpbWFsU2VwYXJhdG9yID0gZmFsc2U7XG5cblx0d2hpbGUgKGZzQWZ0ZXJEZWNpbWFsLmxlbmd0aCA+IDApIHtcblx0XHRtYXRjaCA9IGZzQWZ0ZXJEZWNpbWFsLnNoaWZ0KCk7XG5cblx0XHRpZiAobWF0Y2ggPT09IFwiI1wiIHx8IG1hdGNoID09PSBcIjBcIikge1xuXHRcdFx0aWYgKHZTdHJpbmdBZnRlckRlY2ltYWwubGVuZ3RoID4gMCAmJiBOdW1iZXIodlN0cmluZ0FmdGVyRGVjaW1hbC5qb2luKFwiXCIpKSAhPT0gMCkge1xuXHRcdFx0XHRyZXN1bHRBZnRlckRlY2ltYWwgKz0gdlN0cmluZ0FmdGVyRGVjaW1hbC5zaGlmdCgpO1xuXHRcdFx0XHRhZGREZWNpbWFsU2VwYXJhdG9yID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKG1hdGNoID09PSBcIjBcIikge1xuXHRcdFx0XHRyZXN1bHRBZnRlckRlY2ltYWwgKz0gXCIwXCI7XG5cdFx0XHRcdGFkZERlY2ltYWxTZXBhcmF0b3IgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAobWF0Y2gubGVuZ3RoID4gMSAmJiAoKG1hdGNoWzBdID09PSBcIlxcXCJcIiAmJiBtYXRjaFttYXRjaC5sZW5ndGggLSAxXSA9PT0gXCJcXFwiXCIpIHx8IChtYXRjaFswXSA9PT0gXCInXCIgJiYgbWF0Y2hbbWF0Y2gubGVuZ3RoIC0gMV0gPT09IFwiJ1wiKSkpIHtcblx0XHRcdHJlc3VsdEFmdGVyRGVjaW1hbCArPSBtYXRjaC5zbGljZSgxLCBtYXRjaC5sZW5ndGggLSAxKTtcblx0XHRcdC8vYWRkRGVjaW1hbFNlcGFyYXRvciA9IHRydWU7XG5cdFx0fSBlbHNlIGlmICgobWF0Y2hbMF0gPT09IFwiRVwiIHx8IG1hdGNoWzBdID09PSBcImVcIikgJiYgbWF0Y2hbbWF0Y2gubGVuZ3RoIC0gMV0gPT09IFwiMFwiICYmIC9bZUVdWystXSpbMF0rLy50ZXN0KG1hdGNoKSkge1xuXHRcdFx0aWYgKGV4cG9uZW50IDwgMClcblx0XHRcdFx0bWF0Y2ggPSBtYXRjaC5yZXBsYWNlKFwiK1wiLCBcIlwiKS5yZXBsYWNlKFwiLVwiLCBcIlwiKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0bWF0Y2ggPSBtYXRjaC5yZXBsYWNlKFwiLVwiLCBcIlwiKTtcblx0XHRcdHJlc3VsdEFmdGVyRGVjaW1hbCArPSBtYXRjaC5yZXBsYWNlKC9bMF0rLywgZnVuY3Rpb24gKCQwKSB7XG5cdFx0XHRcdHJldHVybiBwYWQoZXhwb25lbnQsICQwLmxlbmd0aCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0QWZ0ZXJEZWNpbWFsICs9IG1hdGNoO1xuXHRcdFx0Ly9hZGREZWNpbWFsU2VwYXJhdG9yID0gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRyZXN1bHQgKz0gKGFkZERlY2ltYWxTZXBhcmF0b3IgPyBkZWNpbWFsU2VwYXJhdG9yIDogXCJcIikgKyByZXN1bHRBZnRlckRlY2ltYWw7XG5cdC8vd2luZG93LmNvbnNvbGUubG9nKHJlc3VsdCk7XG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyNlbmRyZWdpb24gZm9ybWF0dGluZyBmdW5jdGlvbnMvbWV0aG9kc1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T2JqZWN0SWQoeCwgeSwgY3R4KSB7XG5cdHggKj0gZGV2aWNlUGl4ZWxCYWNraW5nU3RvcmVSYXRpbztcblx0eSAqPSBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvO1xuXHR2YXIgcGl4ZWxzID0gY3R4LmdldEltYWdlRGF0YSh4LCB5LCAyLCAyKS5kYXRhO1xuXHR2YXIgaXNPYmplY3QgPSB0cnVlO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG5cblx0XHRpZiAocGl4ZWxzW2ldICE9PSBwaXhlbHNbaSArIDRdIHwgcGl4ZWxzW2ldICE9PSBwaXhlbHNbaSArIDhdIHwgcGl4ZWxzW2ldICE9PSBwaXhlbHNbaSArIDEyXSkge1xuXHRcdFx0aXNPYmplY3QgPSBmYWxzZTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdGlmIChpc09iamVjdCkge1xuXHRcdHJldHVybiBSR0JUb0ludChwaXhlbHNbMF0sIHBpeGVsc1sxXSwgcGl4ZWxzWzJdKTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXG5cdC8vd2luZG93LmNvbnNvbGUubG9nKHBpeGVscyk7XG59XG5cbi8vZXh0cmFjdHMgbW91c2UgY29vcmRpbmF0ZXMgZnJvbSB0aGUgZXZlbnQgcGFyYW1ldGVyc1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1vdXNlQ29vcmRpbmF0ZXMoZXYpIHtcblx0dmFyIHggPSAwO1xuXHR2YXIgeSA9IDA7XG5cblx0ZXYgPSBldiB8fCB3aW5kb3cuZXZlbnQ7XG5cblx0aWYgKGV2Lm9mZnNldFggfHwgZXYub2Zmc2V0WCA9PT0gMCkge1xuXHRcdHggPSBldi5vZmZzZXRYO1xuXHRcdHkgPSBldi5vZmZzZXRZO1xuXHR9IGVsc2UgaWYgKGV2LmxheWVyWCB8fCBldi5sYXllclggPT0gMCkgeyAvLyBGaXJlZm94XG5cdFx0eCA9IGV2LmxheWVyWDtcblx0XHR5ID0gZXYubGF5ZXJZO1xuXHR9XG5cdGVsc2Uge1xuXHRcdHggPSBldi5wYWdlWCAtIGV2LnRhcmdldC5vZmZzZXRMZWZ0O1xuXHRcdHkgPSBldi5wYWdlWSAtIGV2LnRhcmdldC5vZmZzZXRUb3A7XG5cdH1cblxuXHRyZXR1cm4geyB4OiB4LCB5OiB5IH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9udFN0cmluZyhwcmVmaXgsIG9iamVjdCwgZmFsbGJhY2tPYmplY3QpIHtcblx0dmFyIGZvbnRTdHJpbmcgPSBcIlwiO1xuXG5cdHZhciBmb250U3R5bGVTdHJpbmcgPSBwcmVmaXggPyBwcmVmaXggKyBcIkZvbnRTdHlsZVwiIDogXCJmb250U3R5bGVcIjtcblx0dmFyIGZvbnRXZWlnaHRTdHJpbmcgPSBwcmVmaXggPyBwcmVmaXggKyBcIkZvbnRXZWlnaHRcIiA6IFwiZm9udFdlaWdodFwiO1xuXHR2YXIgZm9udFNpemVTdHJpbmcgPSBwcmVmaXggPyBwcmVmaXggKyBcIkZvbnRTaXplXCIgOiBcImZvbnRTaXplXCI7XG5cdHZhciBmb250RmFtaWx5U3RyaW5nID0gcHJlZml4ID8gcHJlZml4ICsgXCJGb250RmFtaWx5XCIgOiBcImZvbnRGYW1pbHlcIjtcblxuXG5cblx0Zm9udFN0cmluZyArPSBvYmplY3RbZm9udFN0eWxlU3RyaW5nXSA/IG9iamVjdFtmb250U3R5bGVTdHJpbmddICsgXCIgXCIgOiAoZmFsbGJhY2tPYmplY3QgJiYgZmFsbGJhY2tPYmplY3RbZm9udFN0eWxlU3RyaW5nXSkgPyAoZmFsbGJhY2tPYmplY3RbZm9udFN0eWxlU3RyaW5nXSArIFwiIFwiKSA6IFwiXCI7XG5cdGZvbnRTdHJpbmcgKz0gb2JqZWN0W2ZvbnRXZWlnaHRTdHJpbmddID8gb2JqZWN0W2ZvbnRXZWlnaHRTdHJpbmddICsgXCIgXCIgOiAoZmFsbGJhY2tPYmplY3QgJiYgZmFsbGJhY2tPYmplY3RbZm9udFdlaWdodFN0cmluZ10pID8gKGZhbGxiYWNrT2JqZWN0W2ZvbnRXZWlnaHRTdHJpbmddICsgXCIgXCIpIDogXCJcIjtcblx0Zm9udFN0cmluZyArPSBvYmplY3RbZm9udFNpemVTdHJpbmddID8gb2JqZWN0W2ZvbnRTaXplU3RyaW5nXSArIFwicHggXCIgOiAoZmFsbGJhY2tPYmplY3QgJiYgZmFsbGJhY2tPYmplY3RbZm9udFNpemVTdHJpbmddKSA/IChmYWxsYmFja09iamVjdFtmb250U2l6ZVN0cmluZ10gKyBcInB4IFwiKSA6IFwiXCI7XG5cblxuXHR2YXIgZm9udEZhbWlseSA9IG9iamVjdFtmb250RmFtaWx5U3RyaW5nXSA/IG9iamVjdFtmb250RmFtaWx5U3RyaW5nXSArIFwiXCIgOiAoZmFsbGJhY2tPYmplY3QgJiYgZmFsbGJhY2tPYmplY3RbZm9udEZhbWlseVN0cmluZ10pID8gKGZhbGxiYWNrT2JqZWN0W2ZvbnRGYW1pbHlTdHJpbmddICsgXCJcIikgOiBcIlwiO1xuXG5cdGlmICghaXNDYW52YXNTdXBwb3J0ZWQgJiYgZm9udEZhbWlseSkge1xuXHRcdHZhciBmaXJzdEZvbnRGYW1pbHkgPSBmb250RmFtaWx5LnNwbGl0KFwiLFwiKVswXTtcblxuXHRcdGlmIChmaXJzdEZvbnRGYW1pbHlbMF0gIT09IFwiJ1wiICYmIGZpcnN0Rm9udEZhbWlseVswXSAhPT0gXCJcXFwiXCIpXG5cdFx0XHRmaXJzdEZvbnRGYW1pbHkgPSBcIidcIiArIGZpcnN0Rm9udEZhbWlseSArIFwiJ1wiO1xuXG5cdFx0Zm9udFN0cmluZyArPSBmaXJzdEZvbnRGYW1pbHk7XG5cdH0gZWxzZVxuXHRcdGZvbnRTdHJpbmcgKz0gZm9udEZhbWlseTtcblxuXHRyZXR1cm4gZm9udFN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3BlcnR5KHByb3BlcnR5TmFtZSwgb2JqZWN0LCBmYWxsYmFja09iamVjdCkge1xuXG5cdHZhciB2YWx1ZSA9IHByb3BlcnR5TmFtZSBpbiBvYmplY3QgPyBvYmplY3RbcHJvcGVydHlOYW1lXSA6IGZhbGxiYWNrT2JqZWN0W3Byb3BlcnR5TmFtZV07XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG52YXIgb3B0aW1pemVGb3JIaURQSSA9IHRydWU7XG4vL29wdGltaXplRm9ySGlEUEkgPSBmYWxzZTtcblxudmFyIGRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xudmFyIGJhY2tpbmdTdG9yZVJhdGlvID0gMTtcbnZhciBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvID0gb3B0aW1pemVGb3JIaURQSSA/IGRldmljZVBpeGVsUmF0aW8gLyBiYWNraW5nU3RvcmVSYXRpbyA6IDE7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDYW52YXNTaXplKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuXG5cdGlmIChpc0NhbnZhc1N1cHBvcnRlZCAmJiAhIW9wdGltaXplRm9ySGlEUEkpIHtcblx0XHR2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRiYWNraW5nU3RvcmVSYXRpbyA9IGN0eC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG5cdFx0XHRcdFx0XHRcdGN0eC5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG5cdFx0XHRcdFx0XHRcdGN0eC5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcblx0XHRcdFx0XHRcdFx0Y3R4Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG5cdFx0XHRcdFx0XHRcdGN0eC5iYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IDE7XG5cblxuXHRcdGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW8gPSBkZXZpY2VQaXhlbFJhdGlvIC8gYmFja2luZ1N0b3JlUmF0aW87XG5cblx0XHRjYW52YXMud2lkdGggPSB3aWR0aCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW87XG5cdFx0Y2FudmFzLmhlaWdodCA9IGhlaWdodCAqIGRldmljZVBpeGVsQmFja2luZ1N0b3JlUmF0aW87XG5cblx0XHRpZiAoZGV2aWNlUGl4ZWxSYXRpbyAhPT0gYmFja2luZ1N0b3JlUmF0aW8pIHtcblxuXHRcdFx0Y2FudmFzLnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnO1xuXHRcdFx0Y2FudmFzLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG5cblx0XHRcdGN0eC5zY2FsZShkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvLCBkZXZpY2VQaXhlbEJhY2tpbmdTdG9yZVJhdGlvKTtcblxuXHRcdH1cblxuXHRcdC8vd2luZG93LmFsZXJ0KGJhY2tpbmdTdG9yZVJhdGlvKTtcblx0XHQvL3dpbmRvdy5hbGVydChkZXZpY2VQaXhlbFJhdGlvKTtcblxuXHR9IGVsc2Uge1xuXHRcdGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuXHRcdGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cdH1cblxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCkge1xuXHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0Y2FudmFzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FudmFzanMtY2hhcnQtY2FudmFzXCIpO1xuXG5cdHNldENhbnZhc1NpemUoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KTtcblxuXHRpZiAoIWlzQ2FudmFzU3VwcG9ydGVkICYmIHR5cGVvZiAoR192bWxDYW52YXNNYW5hZ2VyKSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdEdfdm1sQ2FudmFzTWFuYWdlci5pbml0RWxlbWVudChjYW52YXMpO1xuXHR9XG5cblx0cmV0dXJuIGNhbnZhcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydENhbnZhcyhjYW52YXMsIGZvcm1hdCwgZmlsZU5hbWUpIHtcblx0aWYgKCFjYW52YXMgfHwgIWZvcm1hdCB8fCAhZmlsZU5hbWUpXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBmdWxsRmlsZU5hbWUgPSBmaWxlTmFtZSArIFwiLlwiICsgKGZvcm1hdCA9PT0gXCJqcGVnXCIgPyBcImpwZ1wiIDogZm9ybWF0KTtcblx0dmFyIG1pbWVUeXBlID0gXCJpbWFnZS9cIiArIGZvcm1hdDtcblx0dmFyIGltZyA9IGNhbnZhcy50b0RhdGFVUkwobWltZVR5cGUpO1xuXHR2YXIgc2F2ZWQgPSBmYWxzZTtcblxuXHR2YXIgZG93bmxvYWRMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG5cdGRvd25sb2FkTGluay5kb3dubG9hZCA9IGZ1bGxGaWxlTmFtZTtcblx0ZG93bmxvYWRMaW5rLmhyZWYgPSBpbWc7XG5cdGRvd25sb2FkTGluay50YXJnZXQgPSBcIl9ibGFua1wiO1xuXHR2YXIgZTtcblxuXG5cdGlmICh0eXBlb2YgKEJsb2IpICE9PSBcInVuZGVmaW5lZFwiICYmICEhbmV3IEJsb2IoKSkge1xuXG5cdFx0Ly9hbGVydChcImJsb2JcIik7XG5cdFx0dmFyIGltZ0RhdGEgPSBpbWcucmVwbGFjZSgvXmRhdGE6W2Etei9dKjtiYXNlNjQsLywgJycpO1xuXG5cdFx0dmFyIGJ5dGVTdHJpbmcgPSBhdG9iKGltZ0RhdGEpO1xuXHRcdHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZVN0cmluZy5sZW5ndGgpO1xuXHRcdHZhciBpbnRBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpbnRBcnJheVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTtcblx0XHR9XG5cblx0XHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXJdLCB7IHR5cGU6IFwiaW1hZ2UvXCIgKyBmb3JtYXQgfSk7XG5cblx0XHQvLyBTYXZlIHRoZSBibG9iXG5cdFx0dHJ5IHtcblx0XHRcdHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmdWxsRmlsZU5hbWUpO1xuXHRcdFx0c2F2ZWQgPSB0cnVlO1xuXHRcdH1cblx0XHRjYXRjaCAoZSkge1xuXHRcdFx0ZG93bmxvYWRMaW5rLmRhdGFzZXQuZG93bmxvYWR1cmwgPSBbbWltZVR5cGUsIGRvd25sb2FkTGluay5kb3dubG9hZCwgZG93bmxvYWRMaW5rLmhyZWZdLmpvaW4oJzonKTtcblx0XHRcdGRvd25sb2FkTGluay5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFzYXZlZCkge1xuXG5cdFx0dHJ5IHtcblxuXHRcdFx0ZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO1xuXG5cdFx0XHRldmVudC5pbml0TW91c2VFdmVudChcImNsaWNrXCIsIHRydWUsIGZhbHNlLCB3aW5kb3csXG5cdFx0XHRcdFx0XHRcdCAwLCAwLCAwLCAwLCAwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLFxuXHRcdFx0XHRcdFx0XHQgZmFsc2UsIDAsIG51bGwpO1xuXG5cdFx0XHRpZiAoZG93bmxvYWRMaW5rLmRpc3BhdGNoRXZlbnQpIHtcblx0XHRcdFx0Ly9hbGVydChcImRpc3BhdGNoRXZlbnRcIik7XG5cdFx0XHRcdGRvd25sb2FkTGluay5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGRvd25sb2FkTGluay5maXJlRXZlbnQpIHtcblx0XHRcdFx0Ly9hbGVydChcImZpcmVFdmVudFwiKTtcblx0XHRcdFx0ZG93bmxvYWRMaW5rLmZpcmVFdmVudChcIm9uY2xpY2tcIik7XG5cdFx0XHR9XG5cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR2YXIgd2luID0gd2luZG93Lm9wZW4oKTtcblx0XHRcdC8vYWxlcnQoXCI8SUUxMFwiKTtcblx0XHRcdC8vd2luZG93LmNvbnNvbGUubG9nKFwiSUVcIik7XG5cdFx0XHR3aW4uZG9jdW1lbnQud3JpdGUoXCI8aW1nIHNyYz0nXCIgKyBpbWcgKyBcIic+PC9pbWc+PGRpdj5QbGVhc2UgcmlnaHQgY2xpY2sgb24gdGhlIGltYWdlIGFuZCBzYXZlIGl0IHRvIHlvdXIgZGV2aWNlPC9kaXY+XCIpO1xuXHRcdFx0d2luLmRvY3VtZW50LmNsb3NlKCk7XG5cdFx0fVxuXHR9XG59XG5cbnZhciBiYXNlNjRJbWFnZXMgPSB7XG5cdHJlc2V0OiB7XG5cdFx0aW1hZ2U6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFjQ0FZQUFBQUF3cjBpQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQUFsd1NGbHpBQUFMRWdBQUN4SUIwdDErL0FBQUFCeDBSVmgwVTI5bWRIZGhjbVVBUVdSdlltVWdSbWx5WlhkdmNtdHpJRU5UTnVpOHNvd0FBQUtSU1VSQlZFaUpyZFkvaUYxRkZNZnh6d25ackdJU1VTUi9KTEdJaG9oL1FpUk5CTFd4TUxJV0Vrd2JnaUFvRmdvVzJtaGxZNmRncFkySWxSQlJ4QlNLaFNBS0lrbFdKUll1TVpLQWhpeW9wQWlhVFk3RnZSdG1aKy9lZDkvekhSamV6THc1di9POWQ4NmN1WkdacG1VUkFmZG41bzlEZmRaTkxYcGp6K0x6aVBneUlsNk1pRzBqUFRKelpCdXlEclA0QlZtMFAvQUtibGpUYjRUb1kvZ0dld1lBN0t5Q2wrMWIzRFVZQU52d2JpSHcwZ0NBR1J6Qk96alRBWEVPdTBjQzRDaCtyNXgvSHJwZHJjWm12SURGU3VjTXRuWUNZQysrNkhtTkR3OEZLRFQzNEVUcmY2MzkvYXpPcjV2d1JrL2c1ZmJldUFCdGdDMDRYV2s5VlFMY2lNUDRFSC8zQUZ6RXJSTkM3TVhsUW1zZXNTb0hzR1BFMjNobUVvQlcrNjFLNjZITVhGbUlNdk44bXlpbFhTMzZSMDF1YitLZll2dzQzWlh3WURYK0FIUDRCQWNpNHBGSm9tZm1yL2lobU5vZkVTc0JJbUpHazdtbG5jck00NW41SlBiaHowa0FXcHN2K2p1eGFYMjFZSVBtVkpTMnVOekpNUzZaTmV4QzBkK0k3ZlVXWExGeXoya1NabHBXUHZBU2xtcUFmL0ZYTlhmM0ZBRjJGLzFMdUZpZkFsaW9uQjZkUnVTSTJJd0hpNmx6bVhtcDZ4UjhYWTBmaUloN3BzQXdoKzNGdURrUkhRVmpsK2E4bGtYam8wa0xVS0g3WGFWNW9PODZQbVoxRlR6eVA0Sy9YR2w5di96d2ZiVzdCcmlpdUVUR0NQNWNoOWJjOWY5N0hGL3ZjRnpDYTVnZEVQZ1dxK3QvNHYwVjYzb0UxdUY0aDBEaUZKN0huU1dNcHBEZGgxZHh0c1B2SjJ3Y0JOQUtic0pYYTBDazVvcGRhQlBzUk51L3VzYmEwOWkxS3NhQVZ6bUx0M3NnaHJSanVLMVRmNHhrZWdJbnh3eThnS2Y3ZEtNVkgyUVJzVjV6WFIvQ2Z0eXUrYUthS2Jia1Fyc2RIK1BUekx6Y3F6a09RQVZ6TSs3RkhkaXFxZTIvWVQ0ekYvdDhTL3NQbWF3eXZDOTc0dmNBQUFBQVNVVk9SSzVDWUlJPVwiXG5cdH0sXG5cdHBhbjoge1xuXHRcdGltYWdlOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBTEVnQUFDeElCMHQxKy9BQUFBQngwUlZoMFUyOW1kSGRoY21VQVFXUnZZbVVnUm1seVpYZHZjbXR6SUVOVE51aThzb3dBQUFKVlNVUkJWRmlGdlplN2ExUkJHTVYveDJoV0k0SnBmS0NJaVNCS09vT0NrSUQvd1A0QkZxSUlGa0UwMkNoSWlDOFFES2xTaUkzWXFSQnNCVkd3VU5BVWRpSUVVZ2ppQXpRSUlzdUtKc2ZpenNYcjV0N2QrOGptd0xEZnpIejNuTE96YzcrWnhUWmxHeURnWmlXT0N1Sjl3SDJnQ1V5dXFRRmdGL0FHY0tKTnJZa0JZQmo0MENJZXQrbXVHUWkvOTZrTTRXUzdDL1RtNVZVZzd3aEpnOEJrRUdrQ1I0QkRZZm9kc0FEVWdQNndFck81aUN0c3dzdUpiMzJoZGJYeThxekw1VElkbXpKaW5IZFpvWklCWmNTRmtHbEFLczFaM1lDa2V0WmNCdG91dWFRTmtyYmxNaUJwQnJobWU3bUFnVTR3TUN2cGNGc0RrcTRDNTRERlZSVEg5aCtpNnZsRTByNVVBNUltZ0N1aDI4akIyOGlJczdCSVZDT2VTdG9aRDY0UDR1UEFqVVR5Z0tTeDJGc0syVEl3a3VnZms5UWtmZC9FK3lNV0hRQ2VTUnF4L1IzZ09wM0xhemZhUzJDNEI1Z0hEZ0Q3VTl4M0UzdUFIN0tOcEMzQUhIQXdUTDRGSGdNOUdROHZBYVBBMGRCL0FieHFrMi9nQkxBOU1YYmE5cjFrL2Q0TGZBM0p0d3VlQmVNNTh1Y1MrZWRYbkFXMjN3UDEwTjNhZHZFaTlDWGl6VG55TjRiUFM3Wm40c0gvZHEzdDE4QVk0ZTFZTFlTeTNnL2NzajJWbkZzaFpQdU9wT2VTS0hDb2RVSU51R2o3WWV0RTZqZTFQVjlRb05QSjlTdE5IS29keDduUmJpV3JHSEJHWEFpNURVaXF0UXd0cGNXSzBKdWJ0OENsdEE1TUVWMUlmd083K1ZmZlB3R2ZpYTVtMzRDVDRiWHVqSUlYMFFuYTEvY0dNTnFWL3dVSkUyY3p4RDhDUTRYNVNsN0p6N1NJTHdDRHBiaktQQlJNSEFkK0V0WDRIV1Y1U3BkYzJ3OGtEUUdQYkg4cHkvTVhNeWdNNjkvRkt6NEFBQUFBU1VWT1JLNUNZSUk9XCJcblx0fSxcblx0em9vbToge1xuXHRcdGltYWdlOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBSzZ3QUFDdXNCZ29zTldnQUFBQngwUlZoMFUyOW1kSGRoY21VQVFXUnZZbVVnUm1seVpYZHZjbXR6SUVOVE51aThzb3dBQUFNcVNVUkJWRmlGdmRmYmo5MVRGTUR4ejU3VTZHVUVNUzFhWXp5TXRDU1NEaFdqQ1pNSW5wQUkza2hFL1FIdGd6ZFJrWGdTQ1M4U0VTOWVwS0xpMG9SS05FVGpSYWhSRXEyS1Mxc3RkUnVqdERQdGJBOTduNXpkbjkrNXpKeFRLOWs1djNQT1htdDk5MXA3cjcxK0ljYW9Hd2toVE9JZWJNUnF6T0JUdklHM1k0elRYUm1xU295eDVjQUtiTUpPSE1GSm5NWjgvanlGYVh5TVI3RzZuYjFhSDIyY1A0QnZjQnh6aUczR0tmeVRJUjlENkJZZzFLVWdoUEJDRHZlRmxiLzI0QXY4aXVVWXc0MVlWc3o1Rzd1eEtjWjRhTUVwd0d0NU5ZM1YvWWJIc1E2cmNBSE93L2tZeGlnZXdyNUNadzRmWUd4QktjQ0xPRkVZZWhYck1kUmhyNXlMRVR4VlNjc09MT2tLQVBmbjFUWU1QSXZMRnJTaFVsUzJGRFptOFhSSEFDekZBV2wzUjJ4YnFQTUNZaG1lTENBT1lFTW5nQWN6YmNUdnVIWXh6Z3VJeS9GZXNSOWU2Z1N3VS9Pb1BZSEJIZ0hndmlJS1gyRmxxN2szNEtobWNWbmJpL1BDOEpYNE1nTWN4YjExOHdad2R6NWFJU3NjcXg3VlJjb3g3TXJQUTdpK2J0SUFKckFrZjkrYkk5RVBtWlkySUF4aVRTdUFsZExxNFk5K0FjU1VoNzhLUDB0YkFjd1UzNWNYTUQxSkNJRlVvR2llaGxxQXo2VE5CMWYxQzBESyswaCtuc05QclFDMmE0YnFHbWxEOWtPR2NXdCtQbzZwVmdEdlN4ZkphU2tGZDRVUUJ2b0FzQlliQ29CM2EyZmxNN3NsQTBSOGl5dDZyQUZEZURQYm04ZU9UcFZ3R0Q5cVZxN25MYklhWm5ta3NQVTFKdHNDWk1YTm1wZFJ4RmFzV0lUemg2WGozTEN6cmExT3hjRDJRakhpR1Z6ZHBmT1JuTXFaaW8yUGNGMjNBQmRKRjFOcDRCUHB0bHlQaTZXelBZQnpwSlp0SGU3QTZ4VzljbnlQOFRxQS8vU0VJWVJMOEJ4dWw3cmlodndndFZuNzhXY0dHWlhhOUhHZDVURHVqREh1T2VQWE5pSGRLaldnWlgvWWJzeEx4L2t0cWJqVnpUbGNqVVNudkk1SnJkbFVWcDZXZXNaWjZSMWhScnBxOStFVlRHUzlqVGpZQXVLSW91R3BiY3VyRWtJWXhDMDUxS05TYW1henNjK3hLOGI0UzBWbkVpL2owaHFUUCtNMjdPMjU4ZWdRd1p1enM3cEk3TWY0V1FYSUVEYzVzOXN1eCs1KzFQeTJFbVA4VU9xNkd2V2hJU2N4ZmRZalVFUmlBdDlKZDg0SjZhMTZ6ZjhKRUtUM3lDbThnMVV4UnY4Q0M0cHlSaHpSMXVVQUFBQUFTVVZPUks1Q1lJST1cIlxuXHR9LFxuXHRtZW51OiB7XG5cdFx0aW1hZ2U6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFnQ0FZQUFBQWJpZmpNQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQUFsd1NGbHpBQUFLNndBQUN1c0Jnb3NOV2dBQUFCeDBSVmgwVTI5bWRIZGhjbVVBUVdSdlltVWdSbWx5WlhkdmNtdHpJRU5UTnVpOHNvd0FBQUFXZEVWWWRFTnlaV0YwYVc5dUlGUnBiV1VBTURjdk1UVXZNVFRQc3ZVMEFBQUFQMGxFUVZSSWllMlNNUW9BSUJERFV2SC9YNjY3ZzhzSko5S09oWVlPa1cwcUdhVTFNUGRDMHZHU2JWMTlFQUNvM1lNUEFGSDVCVUJVanNxZkFQcFZYdE5nR0RmeEVEQ3RBQUFBQUVsRlRrU3VRbUNDXCJcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QnV0dG9uU3RhdGUoY2hhcnQsIGJ1dHRvbiwgc3RhdGUpIHtcblx0aWYgKGJ1dHRvbi5nZXRBdHRyaWJ1dGUoXCJzdGF0ZVwiKSAhPT0gc3RhdGUpIHtcblxuXHRcdGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJzdGF0ZVwiLCBzdGF0ZSk7XG5cdFx0YnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgJ2J1dHRvbicpO1xuXHRcdGJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHRidXR0b24uc3R5bGUubWFyZ2luID0gXCIwcHggMHB4IDBweCAwcHhcIjtcblx0ICAgIGJ1dHRvbi5zdHlsZS5wYWRkaW5nID0gXCIzcHggNHB4IDBweCA0cHhcIjtcblx0ICAgIGJ1dHRvbi5zdHlsZS5jc3NGbG9hdCA9IFwibGVmdFwiO1xuXHRcdGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCBjaGFydC5fY3VsdHVyZUluZm9bc3RhdGUgKyBcIlRleHRcIl0pO1xuXHQgICAgYnV0dG9uLmlubmVySFRNTCA9IFwiPGltZyBzdHlsZT0naGVpZ2h0OjE2cHg7JyBzcmM9J1wiICsgYmFzZTY0SW1hZ2VzW3N0YXRlXS5pbWFnZSArIFwiJyBhbHQ9J1wiICsgY2hhcnQuX2N1bHR1cmVJbmZvW3N0YXRlICsgXCJUZXh0XCJdICsgXCInIC8+XCI7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3coKSB7XG5cblx0dmFyIGVsZW1lbnQgPSBudWxsO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ZWxlbWVudCA9IGFyZ3VtZW50c1tpXTtcblx0XHRpZiAoZWxlbWVudC5zdHlsZSlcblx0XHRcdGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGUoKSB7XG5cblx0dmFyIGVsZW1lbnQgPSBudWxsO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ZWxlbWVudCA9IGFyZ3VtZW50c1tpXTtcblx0XHRpZiAoZWxlbWVudCAmJiBlbGVtZW50LnN0eWxlKVxuXHRcdFx0ZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzQ2FudmFzU3VwcG9ydGVkID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCZXppZXJQb2ludHMocG9pbnRzLCB0ZW5zaW9uKSB7XG5cblx0dmFyIGJlemllclBvaW50cyA9IFtdO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRpZiAoaSA9PSAwKSB7XG5cdFx0XHRiZXppZXJQb2ludHMucHVzaChwb2ludHNbMF0pO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0dmFyIGkxLCBpMiwgcG9pbnRJbmRleDtcblxuXHRcdHBvaW50SW5kZXggPSBpIC0gMTtcblx0XHRpMSA9IHBvaW50SW5kZXggPT09IDAgPyAwIDogcG9pbnRJbmRleCAtIDE7XG5cdFx0aTIgPSBwb2ludEluZGV4ID09PSBwb2ludHMubGVuZ3RoIC0gMSA/IHBvaW50SW5kZXggOiBwb2ludEluZGV4ICsgMTtcblxuXHRcdHZhciBkcnYxID0ge1xuXHRcdFx0eDogKHBvaW50c1tpMl0ueCAtIHBvaW50c1tpMV0ueCkgLyB0ZW5zaW9uLCB5OiAocG9pbnRzW2kyXS55IC0gcG9pbnRzW2kxXS55KSAvIHRlbnNpb25cblx0XHR9XG5cdFx0dmFyIGNwMSA9IHtcblx0XHRcdHg6IHBvaW50c1twb2ludEluZGV4XS54ICsgZHJ2MS54IC8gMywgeTogcG9pbnRzW3BvaW50SW5kZXhdLnkgKyBkcnYxLnkgLyAzXG5cdFx0fVxuXHRcdGJlemllclBvaW50c1tiZXppZXJQb2ludHMubGVuZ3RoXSA9IGNwMTtcblxuXG5cdFx0cG9pbnRJbmRleCA9IGk7XG5cdFx0aTEgPSBwb2ludEluZGV4ID09PSAwID8gMCA6IHBvaW50SW5kZXggLSAxO1xuXHRcdGkyID0gcG9pbnRJbmRleCA9PT0gcG9pbnRzLmxlbmd0aCAtIDEgPyBwb2ludEluZGV4IDogcG9pbnRJbmRleCArIDE7XG5cblx0XHR2YXIgZHJ2MiA9IHtcblx0XHRcdHg6IChwb2ludHNbaTJdLnggLSBwb2ludHNbaTFdLngpIC8gdGVuc2lvbiwgeTogKHBvaW50c1tpMl0ueSAtIHBvaW50c1tpMV0ueSkgLyB0ZW5zaW9uXG5cdFx0fVxuXHRcdHZhciBjcDIgPSB7XG5cdFx0XHR4OiBwb2ludHNbcG9pbnRJbmRleF0ueCAtIGRydjIueCAvIDMsIHk6IHBvaW50c1twb2ludEluZGV4XS55IC0gZHJ2Mi55IC8gM1xuXHRcdH1cblx0XHRiZXppZXJQb2ludHNbYmV6aWVyUG9pbnRzLmxlbmd0aF0gPSBjcDI7XG5cblx0XHRiZXppZXJQb2ludHNbYmV6aWVyUG9pbnRzLmxlbmd0aF0gPSBwb2ludHNbaV07XG5cdH1cblxuXHRyZXR1cm4gYmV6aWVyUG9pbnRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFBlcmNlbnRUb1ZhbHVlKGlucHV0LCByZWZlcmVuY2VWYWx1ZSkge1xuXHQvL2lucHV0IGNhbiBiZSBhIG51bWJlciBvciBzdHJpbmdcblx0aWYgKGlucHV0ID09PSBudWxsIHx8IHR5cGVvZiAoaW5wdXQpID09PSBcInVuZGVmaW5lZFwiKVxuXHRcdHJldHVybiByZWZlcmVuY2VWYWx1ZTtcblxuXHR2YXIgcmVzdWx0ID0gcGFyc2VGbG9hdChpbnB1dC50b1N0cmluZygpKSAqIChpbnB1dC50b1N0cmluZygpLmluZGV4T2YoXCIlXCIpID49IDAgPyByZWZlcmVuY2VWYWx1ZSAvIDEwMCA6IDEpO1xuXG5cdC8vIGxpbWl0IHRvIHBsb3QgYXJlYVxuXHRpZiAoIWlzTmFOKHJlc3VsdCkgJiYgcmVzdWx0IDw9IHJlZmVyZW5jZVZhbHVlICYmIHJlc3VsdCA+PSAwKVxuXHRcdHJldHVybiByZXN1bHQ7XG5cblx0cmV0dXJuIHJlZmVyZW5jZVZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1JlY3QoY3R4LCB4MSwgeTEsIHgyLCB5MiwgY29sb3IsIGJvcmRlclRoaWNrbmVzcywgYm9yZGVyQ29sb3IsIHRvcCwgYm90dG9tLCBsZWZ0LCByaWdodCwgZmlsbE9wYWNpdHkpIHtcblx0aWYgKHR5cGVvZiAoZmlsbE9wYWNpdHkpID09PSBcInVuZGVmaW5lZFwiKVxuXHRcdGZpbGxPcGFjaXR5ID0gMTtcblxuXHRib3JkZXJUaGlja25lc3MgPSBib3JkZXJUaGlja25lc3MgfHwgMDtcblx0Ym9yZGVyQ29sb3IgPSBib3JkZXJDb2xvciB8fCBcImJsYWNrXCI7XG5cdC8vYWxlcnQoXCJ0b3BcIisgdG9wICsgXCJib3R0b21cIiArIGJvdHRvbSArIFwiIGx0XCIgKyBsZWZ0KyBcInJ0XCIgKyByaWdodCApXG5cdHZhciBhMSA9IHgxLCBhMiA9IHgyLCBiMSA9IHkxLCBiMiA9IHkyLCBlZGdlWSwgZWRnZVg7XG5cdGlmICh4MiAtIHgxID4gMTUgJiYgeTIgLSB5MSA+IDE1KVxuXHRcdHZhciBiZXZlbERlcHRoID0gODtcblx0ZWxzZVxuXHRcdHZhciBiZXZlbERlcHRoID0gMC4zNSAqIE1hdGgubWluKCh4MiAtIHgxKSwgKHkyIC0geTEpKTtcblx0Ly9hbGVydChhMSArIFwiXCIgKyBhMik7XG5cdHZhciBjb2xvcjIgPSBcInJnYmEoMjU1LCAyNTUsIDI1NSwgLjQpXCI7XG5cdHZhciBjb2xvcjMgPSBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKVwiO1xuXHQvL2NvbG9yMSA9IFwicmdiYShcIiArIHIgKyBcIixcIiArIGcgKyBcIiwgXCIgKyBiICsgXCIsMSlcIjtcblx0dmFyIGNvbG9yMSA9IGNvbG9yO1xuXG5cdGN0eC5iZWdpblBhdGgoKTtcblx0Y3R4Lm1vdmVUbyh4MSwgeTEpO1xuXHRjdHguc2F2ZSgpO1xuXHRjdHguZmlsbFN0eWxlID0gY29sb3IxO1xuXG5cdGN0eC5nbG9iYWxBbHBoYSA9IGZpbGxPcGFjaXR5O1xuXHRjdHguZmlsbFJlY3QoeDEsIHkxLCB4MiAtIHgxLCB5MiAtIHkxKTtcblx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcblxuXHRpZiAoYm9yZGVyVGhpY2tuZXNzID4gMCkge1xuXHRcdHZhciBvZmZzZXQgPSBib3JkZXJUaGlja25lc3MgJSAyID09PSAwID8gMCA6IC41O1xuXHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRjdHgubGluZVdpZHRoID0gYm9yZGVyVGhpY2tuZXNzO1xuXHRcdGN0eC5zdHJva2VTdHlsZSA9IGJvcmRlckNvbG9yO1xuXHRcdGN0eC5tb3ZlVG8oeDEsIHkxKTtcblx0XHRjdHgucmVjdCh4MSAtIG9mZnNldCwgeTEgLSBvZmZzZXQsIHgyIC0geDEgKyAyICogb2Zmc2V0LCB5MiAtIHkxICsgMiAqIG9mZnNldCk7XG5cdFx0Y3R4LnN0cm9rZSgpO1xuXHR9XG5cblx0Y3R4LnJlc3RvcmUoKTtcblx0Ly8gICBjdHguYmVnaW5QYXRoKCk7XG5cdGlmICh0b3AgPT09IHRydWUpIHtcblx0XHQvLyBhbGVydCh4MSArIFwiXCIgKyB4MiArIFwiIFwiICsgYmV2ZWxEZXB0aCk7XG5cdFx0Y3R4LnNhdmUoKTtcblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0Y3R4Lm1vdmVUbyh4MSwgeTEpO1xuXHRcdGN0eC5saW5lVG8oeDEgKyBiZXZlbERlcHRoLCB5MSArIGJldmVsRGVwdGgpO1xuXHRcdGN0eC5saW5lVG8oeDIgLSBiZXZlbERlcHRoLCB5MSArIGJldmVsRGVwdGgpO1xuXHRcdGN0eC5saW5lVG8oeDIsIHkxKTtcblx0XHRjdHguY2xvc2VQYXRoKCk7XG5cdFx0dmFyIGdyZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgoeDIgKyB4MSkgLyAyLCBiMSArIGJldmVsRGVwdGgsICh4MiArIHgxKSAvIDIsIGIxKTtcblx0XHRncmQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSk7XG5cdFx0Z3JkLmFkZENvbG9yU3RvcCgxLCBjb2xvcjIpO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBncmQ7XG5cdFx0Y3R4LmZpbGwoKTtcblx0XHQvLyAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdH1cblxuXG5cdGlmIChib3R0b20gPT09IHRydWUpIHtcblx0XHRjdHguc2F2ZSgpO1xuXHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRjdHgubW92ZVRvKHgxLCB5Mik7XG5cdFx0Y3R4LmxpbmVUbyh4MSArIGJldmVsRGVwdGgsIHkyIC0gYmV2ZWxEZXB0aCk7XG5cdFx0Y3R4LmxpbmVUbyh4MiAtIGJldmVsRGVwdGgsIHkyIC0gYmV2ZWxEZXB0aCk7XG5cdFx0Y3R4LmxpbmVUbyh4MiwgeTIpO1xuXHRcdGN0eC5jbG9zZVBhdGgoKTtcblx0XHR2YXIgZ3JkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KCh4MiArIHgxKSAvIDIsIGIyIC0gYmV2ZWxEZXB0aCwgKHgyICsgeDEpIC8gMiwgYjIpO1xuXHRcdGdyZC5hZGRDb2xvclN0b3AoMCwgY29sb3IxKTtcblx0XHRncmQuYWRkQ29sb3JTdG9wKDEsIGNvbG9yMik7XG5cdFx0Y3R4LmZpbGxTdHlsZSA9IGdyZDtcblx0XHQvLyAgICAgICBjdHguc3Ryb2tlKCk7XG5cdFx0Y3R4LmZpbGwoKTtcblx0XHRjdHgucmVzdG9yZSgpO1xuXHR9XG5cblx0aWYgKGxlZnQgPT09IHRydWUpIHtcblx0XHQvLyAgIGFsZXJ0KHgxKVxuXHRcdGN0eC5zYXZlKCk7XG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5tb3ZlVG8oeDEsIHkxKVxuXHRcdGN0eC5saW5lVG8oeDEgKyBiZXZlbERlcHRoLCB5MSArIGJldmVsRGVwdGgpO1xuXHRcdGN0eC5saW5lVG8oeDEgKyBiZXZlbERlcHRoLCB5MiAtIGJldmVsRGVwdGgpO1xuXHRcdGN0eC5saW5lVG8oeDEsIHkyKTtcblx0XHRjdHguY2xvc2VQYXRoKCk7XG5cdFx0dmFyIGdyZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChhMSArIGJldmVsRGVwdGgsICh5MiArIHkxKSAvIDIsIGExLCAoeTIgKyB5MSkgLyAyKTtcblx0XHRncmQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSk7XG5cdFx0Z3JkLmFkZENvbG9yU3RvcCgxLCBjb2xvcjMpO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBncmQ7XG5cdFx0Y3R4LmZpbGwoKTtcblx0XHQvLyAgICAgY3R4LnN0cm9rZSgpO1xuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdH1cblxuXG5cdGlmIChyaWdodCA9PT0gdHJ1ZSkge1xuXHRcdGN0eC5zYXZlKCk7XG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5tb3ZlVG8oeDIsIHkxKVxuXHRcdGN0eC5saW5lVG8oeDIgLSBiZXZlbERlcHRoLCB5MSArIGJldmVsRGVwdGgpO1xuXHRcdGN0eC5saW5lVG8oeDIgLSBiZXZlbERlcHRoLCB5MiAtIGJldmVsRGVwdGgpO1xuXHRcdGN0eC5saW5lVG8oeDIsIHkyKTtcblx0XHR2YXIgZ3JkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KGEyIC0gYmV2ZWxEZXB0aCwgKHkyICsgeTEpIC8gMiwgYTIsICh5MiArIHkxKSAvIDIpO1xuXHRcdGdyZC5hZGRDb2xvclN0b3AoMCwgY29sb3IxKTtcblx0XHRncmQuYWRkQ29sb3JTdG9wKDEsIGNvbG9yMyk7XG5cdFx0Y3R4LmZpbGxTdHlsZSA9IGdyZDtcblx0XHRncmQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSk7XG5cdFx0Z3JkLmFkZENvbG9yU3RvcCgxLCBjb2xvcjMpO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBncmQ7XG5cdFx0Y3R4LmZpbGwoKTtcblx0XHRjdHguY2xvc2VQYXRoKCk7XG5cdFx0Ly8gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdH1cblx0Ly9cblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1NlZ21lbnQoY3R4LCBjZW50ZXIsIHJhZGl1cywgY29sb3IsIHR5cGUsIHRoZXRhMSwgdGhldGEyLCBmaWxsT3BhY2l0eSwgcGVyY2VudElubmVyUmFkaXVzKSB7XG5cblx0aWYgKHR5cGVvZiAoZmlsbE9wYWNpdHkpID09PSBcInVuZGVmaW5lZFwiKVxuXHRcdGZpbGxPcGFjaXR5ID0gMTtcblxuXHQvL0lFOC0gRklYOiBJbiBJRTgtIHNlZ21lbnQgZG9lc24ndCBnZXQgZHJhdyBpZiB0aGV0YTIgaXMgZXF1YWwgdG8gdGhldGExICsgMipQSS5cblx0aWYgKCFpc0NhbnZhc1N1cHBvcnRlZCkge1xuXHRcdHZhciB0aGV0YTJNb2QgPSBOdW1iZXIoKHRoZXRhMiAlICgyICogTWF0aC5QSSkpLnRvRml4ZWQoOCkpO1xuXHRcdHZhciB0aGV0YTFNb2QgPSBOdW1iZXIoKHRoZXRhMSAlICgyICogTWF0aC5QSSkpLnRvRml4ZWQoOCkpO1xuXHRcdGlmICh0aGV0YTFNb2QgPT09IHRoZXRhMk1vZClcblx0XHRcdHRoZXRhMiAtPSAuMDAwMTtcblx0fVxuXG5cdGN0eC5zYXZlKCk7XG5cdGN0eC5nbG9iYWxBbHBoYSA9IGZpbGxPcGFjaXR5O1xuXG5cdGlmICh0eXBlID09PSBcInBpZVwiKSB7XG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5tb3ZlVG8oY2VudGVyLngsIGNlbnRlci55KTtcblx0XHRjdHguYXJjKGNlbnRlci54LCBjZW50ZXIueSwgcmFkaXVzLCB0aGV0YTEsIHRoZXRhMiwgZmFsc2UpO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcblx0XHRjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XG5cdFx0Y3R4LmxpbmVXaWR0aCA9IDI7XG5cdFx0Ly8gICAgY3R4LnNoYWRvd09mZnNldFggPSAyO1xuXHRcdC8vICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gMTtcblx0XHQvLyAgICAgY3R4LnNoYWRvd0JsdXIgPSAyO1xuXHRcdC8vICAgIGN0eC5zaGFkb3dDb2xvciA9ICcjQkZCRkJGJztcblx0XHRjdHguY2xvc2VQYXRoKCk7XG5cdFx0Ly9jdHguc3Ryb2tlKCk7XG5cdFx0Y3R4LmZpbGwoKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlID09PSBcImRvdWdobnV0XCIpIHtcblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0Y3R4LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIHJhZGl1cywgdGhldGExLCB0aGV0YTIsIGZhbHNlKTtcblx0XHRjdHguYXJjKGNlbnRlci54LCBjZW50ZXIueSwgcGVyY2VudElubmVyUmFkaXVzICogcmFkaXVzLCB0aGV0YTIsIHRoZXRhMSwgdHJ1ZSk7XG5cdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcblx0XHRjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XG5cdFx0Y3R4LmxpbmVXaWR0aCA9IDI7XG5cdFx0Ly8gc2hhZG93IHByb3BlcnRpZXNcblx0XHQvLyAgICAgY3R4LnNoYWRvd09mZnNldFggPSAxO1xuXHRcdC8vICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gMTtcblx0XHQvLyAgICAgY3R4LnNoYWRvd0JsdXIgPSAxO1xuXHRcdC8vICAgIGN0eC5zaGFkb3dDb2xvciA9ICcjQkZCRkJGJzsgIC8vZ3JleSBzaGFkb3dcblx0XHQvL2N0eC5zdHJva2UoKTtcblx0XHRjdHguZmlsbCgpO1xuXHR9XG5cblx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcblxuXHRjdHgucmVzdG9yZSgpO1xufTtcbiIsIi8qKlxuKiBAcHJlc2VydmUgQ2FudmFzSlMgSFRNTDUgJiBKYXZhU2NyaXB0IENoYXJ0cyAtIHYxLjguMCBCZXRhIDIgLSBodHRwOi8vY2FudmFzanMuY29tL1xuKiBDYW52YXNKUyBDaGFydHMgZm9sbG93cyBEdWFsIExpY2Vuc2luZyBNb2RlbCBhcyBtZW50aW9uZWQgYmVsb3cuXG4qXG4qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLUZyZWUgZm9yIE5vbi1Db21tZXJjaWFsIFVzZS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qXG4qIEZvciBub24tY29tbWVyY2lhbCBwdXJwb3NlcyB5b3UgY2FuIHVzZSB0aGUgc29mdHdhcmUgZm9yIGZyZWUgdW5kZXIgQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbi1Ob25Db21tZXJjaWFsIDMuMCBMaWNlbnNlLiBSZWZlciB0byB0aGUgZm9sbG93aW5nIGxpbmsgZm9yIGZ1cnRoZXIgZGV0YWlscyBvbiB0aGUgc2FtZS5cbiogaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktbmMvMy4wL2RlZWQuZW5fVVNcbipcbiogLS0tLS0tLS0tLS0tLS0tLS0tLS0tQ29tbWVyY2lhbCBMaWNlbnNlLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiogQ29tbWVyY2lhbCB1c2Ugb2YgQ2FudmFzSlMgcmVxdWlyZXMgeW91IHRvIHB1cmNoYXNlIGEgbGljZW5zZS4gV2l0aG91dCBhIGNvbW1lcmNpYWwgbGljZW5zZSB5b3UgY2FuIHVzZSBpdCBmb3IgZXZhbHVhdGlvbiBwdXJwb3NlcyBvbmx5LiBQbGVhc2UgcmVmZXIgdG8gdGhlIGZvbGxvd2luZyBsaW5rIGZvciBmdXJ0aGVyIGRldGFpbHMuXG4qIGh0dHA6Ly9jYW52YXNqcy5jb20vXG4qXG4qKi9cbmltcG9ydCBDaGFydHMgZnJvbSAnLi4vY29yZS9jaGFydHMnO1xuaW1wb3J0IFRhYmxlQ2hhcnQgZnJvbSAnLi4vY29yZS90YWJsZSc7XG5pbXBvcnQgQ3VsdHVyZUluZm8gZnJvbSAnLi4vY29yZS9jdWx0dXJlX2luZm8nO1xuaW1wb3J0IHtjb2xvclNldHN9IGZyb20gJy4uL2NvbnN0YW50cy90aGVtZXMnO1xuaW1wb3J0IHtjdWx0dXJlc30gZnJvbSAnLi4vY29uc3RhbnRzL2N1bHR1cmUnO1xuaW1wb3J0IHtudW1iZXJGb3JtYXQsIGRhdGVGb3JtYXR9IGZyb20gJy4uL2hlbHBlcnMvdXRpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gQ2hhcnQoY29udGFpbmVySWQsIG9wdGlvbnMpIHtcblxuICBjb25zdCBfY2hhcnQgPSBuZXcgQ2hhcnRzKGNvbnRhaW5lcklkLCBvcHRpb25zLCB0aGlzKTtcblxuICB0aGlzLnJlbmRlciA9ICgpID0+ICBfY2hhcnQucmVuZGVyKHRoaXMub3B0aW9ucyk7XG5cbiAgdGhpcy5vcHRpb25zID0gX2NoYXJ0Ll9vcHRpb25zO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIFRhYmxlKGNvbnRhaW5lcklkLCBvcHRpb25zKSB7XG5cbiAgY29uc3QgX3RhYmxlID0gbmV3IFRhYmxlQ2hhcnQoY29udGFpbmVySWQsIG9wdGlvbnMpO1xuXG4gIHRoaXMucmVuZGVyID0gZGF0YSA9PiAgX3RhYmxlLnJlbmRlcihkYXRhKTtcblxuICB0aGlzLm9wdGlvbnMgPSBfdGFibGUub3B0aW9ucztcbn07XG5cblxuZXhwb3J0IGNvbnN0IGFkZENvbG9yU2V0ID0gKG5hbWUsIGNvbG9yU2V0KSA9PiB7XG5cbiAgICBjb2xvclNldHNbbmFtZV0gPSBjb2xvclNldDtcblxufTtcblxuZXhwb3J0IGNvbnN0IGFkZEN1bHR1cmVJbmZvID0gKG5hbWUsIGN1bHR1cmVJbmZvKSA9PiB7XG5cbiAgICBjdWx0dXJlc1tuYW1lXSA9IGN1bHR1cmVJbmZvO1xuXG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0TnVtYmVyID0gKG51bWJlciwgZm9ybWF0U3RyaW5nLCBjdWx0dXJlKSA9PiB7XG5cbiAgICBjdWx0dXJlID0gY3VsdHVyZSB8fCBcImVuXCI7XG4gICAgZm9ybWF0U3RyaW5nID0gZm9ybWF0U3RyaW5nIHx8IFwiIywjIzAuIyNcIjtcblxuICAgIGlmICghY3VsdHVyZXNbY3VsdHVyZV0pdGhyb3cgXCJVbmtub3duIEN1bHR1cmUgTmFtZVwiO1xuICAgIGVsc2UgbnVtYmVyRm9ybWF0KG51bWJlciwgZm9ybWF0U3RyaW5nLCBuZXcgQ3VsdHVyZUluZm8oY3VsdHVyZSkpO1xuXG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0RGF0ZSA9IChkYXRlLCBmb3JtYXRTdHJpbmcsIGN1bHR1cmUpID0+IHtcblxuICAgIGN1bHR1cmUgPSBjdWx0dXJlIHx8IFwiZW5cIjtcbiAgICBmb3JtYXRTdHJpbmcgPSBmb3JtYXRTdHJpbmcgfHwgXCJERCBNTU0gWVlZWVwiO1xuXG4gICAgaWYgKCFjdWx0dXJlc1tjdWx0dXJlXSl0aHJvdyBcIlVua25vd24gQ3VsdHVyZSBOYW1lXCI7XG4gICAgZWxzZSBkYXRlRm9ybWF0KGRhdGUsIGZvcm1hdFN0cmluZywgbmV3IEN1bHR1cmVJbmZvKGN1bHR1cmUpKTtcblxufTtcblxuQ2hhcnQudmVyc2lvbiA9IFwidjEuOC4yXCI7XG4iXX0=
